function Z3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zp={exports:{}},Xo={};var TS;function J3(){if(TS)return Xo;TS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var d in l)d!=="key"&&(o[d]=l[d])}else o=l;return l=o.ref,{$$typeof:e,type:r,key:u,ref:l!==void 0?l:null,props:o}}return Xo.Fragment=t,Xo.jsx=n,Xo.jsxs=n,Xo}var CS;function eN(){return CS||(CS=1,zp.exports=J3()),zp.exports}var a=eN(),Pp={exports:{}},Le={};var OS;function tN(){if(OS)return Le;OS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(R,G,J){this.props=R,this.context=G,this.refs=w,this.updater=J||A}E.prototype.isReactComponent={},E.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function D(){}D.prototype=E.prototype;function T(R,G,J){this.props=R,this.context=G,this.refs=w,this.updater=J||A}var P=T.prototype=new D;P.constructor=T,S(P,E.prototype),P.isPureReactComponent=!0;var O=Array.isArray;function M(){}var N={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function L(R,G,J){var H=J.ref;return{$$typeof:e,type:R,key:G,ref:H!==void 0?H:null,props:J}}function q(R,G){return L(R.type,G,R.props)}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function K(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return G[J]})}var W=/\/+/g;function ee(R,G){return typeof R=="object"&&R!==null&&R.key!=null?K(""+R.key):G.toString(36)}function te(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function C(R,G,J,H,F){var ne=typeof R;(ne==="undefined"||ne==="boolean")&&(R=null);var oe=!1;if(R===null)oe=!0;else switch(ne){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(R.$$typeof){case e:case t:oe=!0;break;case p:return oe=R._init,C(oe(R._payload),G,J,H,F)}}if(oe)return F=F(R),oe=H===""?"."+ee(R,0):H,O(F)?(J="",oe!=null&&(J=oe.replace(W,"$&/")+"/"),C(F,G,J,"",function(he){return he})):F!=null&&(U(F)&&(F=q(F,J+(F.key==null||R&&R.key===F.key?"":(""+F.key).replace(W,"$&/")+"/")+oe)),G.push(F)),1;oe=0;var ve=H===""?".":H+":";if(O(R))for(var Z=0;Z<R.length;Z++)H=R[Z],ne=ve+ee(H,Z),oe+=C(H,G,J,ne,F);else if(Z=y(R),typeof Z=="function")for(R=Z.call(R),Z=0;!(H=R.next()).done;)H=H.value,ne=ve+ee(H,Z++),oe+=C(H,G,J,ne,F);else if(ne==="object"){if(typeof R.then=="function")return C(te(R),G,J,H,F);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return oe}function k(R,G,J){if(R==null)return R;var H=[],F=0;return C(R,H,"","",function(ne){return G.call(J,ne,F++)}),H}function _(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var $=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},V={map:k,forEach:function(R,G,J){k(R,function(){G.apply(this,arguments)},J)},count:function(R){var G=0;return k(R,function(){G++}),G},toArray:function(R){return k(R,function(G){return G})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Le.Activity=g,Le.Children=V,Le.Component=E,Le.Fragment=n,Le.Profiler=l,Le.PureComponent=T,Le.StrictMode=r,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},Le.cache=function(R){return function(){return R.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(R,G,J){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var H=S({},R.props),F=R.key;if(G!=null)for(ne in G.key!==void 0&&(F=""+G.key),G)!B.call(G,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&G.ref===void 0||(H[ne]=G[ne]);var ne=arguments.length-2;if(ne===1)H.children=J;else if(1<ne){for(var oe=Array(ne),ve=0;ve<ne;ve++)oe[ve]=arguments[ve+2];H.children=oe}return L(R.type,F,H)},Le.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Le.createElement=function(R,G,J){var H,F={},ne=null;if(G!=null)for(H in G.key!==void 0&&(ne=""+G.key),G)B.call(G,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(F[H]=G[H]);var oe=arguments.length-2;if(oe===1)F.children=J;else if(1<oe){for(var ve=Array(oe),Z=0;Z<oe;Z++)ve[Z]=arguments[Z+2];F.children=ve}if(R&&R.defaultProps)for(H in oe=R.defaultProps,oe)F[H]===void 0&&(F[H]=oe[H]);return L(R,ne,F)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(R){return{$$typeof:d,render:R}},Le.isValidElement=U,Le.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:_}},Le.memo=function(R,G){return{$$typeof:m,type:R,compare:G===void 0?null:G}},Le.startTransition=function(R){var G=N.T,J={};N.T=J;try{var H=R(),F=N.S;F!==null&&F(J,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(M,$)}catch(ne){$(ne)}finally{G!==null&&J.types!==null&&(G.types=J.types),N.T=G}},Le.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Le.use=function(R){return N.H.use(R)},Le.useActionState=function(R,G,J){return N.H.useActionState(R,G,J)},Le.useCallback=function(R,G){return N.H.useCallback(R,G)},Le.useContext=function(R){return N.H.useContext(R)},Le.useDebugValue=function(){},Le.useDeferredValue=function(R,G){return N.H.useDeferredValue(R,G)},Le.useEffect=function(R,G){return N.H.useEffect(R,G)},Le.useEffectEvent=function(R){return N.H.useEffectEvent(R)},Le.useId=function(){return N.H.useId()},Le.useImperativeHandle=function(R,G,J){return N.H.useImperativeHandle(R,G,J)},Le.useInsertionEffect=function(R,G){return N.H.useInsertionEffect(R,G)},Le.useLayoutEffect=function(R,G){return N.H.useLayoutEffect(R,G)},Le.useMemo=function(R,G){return N.H.useMemo(R,G)},Le.useOptimistic=function(R,G){return N.H.useOptimistic(R,G)},Le.useReducer=function(R,G,J){return N.H.useReducer(R,G,J)},Le.useRef=function(R){return N.H.useRef(R)},Le.useState=function(R){return N.H.useState(R)},Le.useSyncExternalStore=function(R,G,J){return N.H.useSyncExternalStore(R,G,J)},Le.useTransition=function(){return N.H.useTransition()},Le.version="19.2.0",Le}var DS;function Ll(){return DS||(DS=1,Pp.exports=tN()),Pp.exports}var x=Ll();const bv=Xa(x),nN=Z3({__proto__:null,default:bv},[x]);var _p={exports:{}},Qo={},Rp={exports:{}},Bp={};var MS;function rN(){return MS||(MS=1,(function(e){function t(C,k){var _=C.length;C.push(k);e:for(;0<_;){var $=_-1>>>1,V=C[$];if(0<l(V,k))C[$]=k,C[_]=V,_=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var k=C[0],_=C.pop();if(_!==k){C[0]=_;e:for(var $=0,V=C.length,R=V>>>1;$<R;){var G=2*($+1)-1,J=C[G],H=G+1,F=C[H];if(0>l(J,_))H<V&&0>l(F,J)?(C[$]=F,C[H]=_,$=H):(C[$]=J,C[G]=_,$=G);else if(H<V&&0>l(F,_))C[$]=F,C[H]=_,$=H;else break e}}return k}function l(C,k){var _=C.sortIndex-k.sortIndex;return _!==0?_:C.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],p=1,g=null,b=3,y=!1,A=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(C){for(var k=n(m);k!==null;){if(k.callback===null)r(m);else if(k.startTime<=C)r(m),k.sortIndex=k.expirationTime,t(h,k);else break;k=n(m)}}function O(C){if(S=!1,P(C),!A)if(n(h)!==null)A=!0,M||(M=!0,K());else{var k=n(m);k!==null&&te(O,k.startTime-C)}}var M=!1,N=-1,B=5,L=-1;function q(){return w?!0:!(e.unstable_now()-L<B)}function U(){if(w=!1,M){var C=e.unstable_now();L=C;var k=!0;try{e:{A=!1,S&&(S=!1,D(N),N=-1),y=!0;var _=b;try{t:{for(P(C),g=n(h);g!==null&&!(g.expirationTime>C&&q());){var $=g.callback;if(typeof $=="function"){g.callback=null,b=g.priorityLevel;var V=$(g.expirationTime<=C);if(C=e.unstable_now(),typeof V=="function"){g.callback=V,P(C),k=!0;break t}g===n(h)&&r(h),P(C)}else r(h);g=n(h)}if(g!==null)k=!0;else{var R=n(m);R!==null&&te(O,R.startTime-C),k=!1}}break e}finally{g=null,b=_,y=!1}k=void 0}}finally{k?K():M=!1}}}var K;if(typeof T=="function")K=function(){T(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=U,K=function(){ee.postMessage(null)}}else K=function(){E(U,0)};function te(C,k){N=E(function(){C(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(C){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var _=b;b=k;try{return C()}finally{b=_}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var _=b;b=C;try{return k()}finally{b=_}},e.unstable_scheduleCallback=function(C,k,_){var $=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?$+_:$):_=$,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=_+V,C={id:p++,callback:k,priorityLevel:C,startTime:_,expirationTime:V,sortIndex:-1},_>$?(C.sortIndex=_,t(m,C),n(h)===null&&C===n(m)&&(S?(D(N),N=-1):S=!0,te(O,_-$))):(C.sortIndex=V,t(h,C),A||y||(A=!0,M||(M=!0,K()))),C},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(C){var k=b;return function(){var _=b;b=k;try{return C.apply(this,arguments)}finally{b=_}}}})(Bp)),Bp}var kS;function aN(){return kS||(kS=1,Rp.exports=rN()),Rp.exports}var Ip={exports:{}},kn={};var NS;function iN(){if(NS)return kn;NS=1;var e=Ll();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kn.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,p)},kn.flushSync=function(h){var m=u.T,p=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=m,r.p=p,r.d.f()}},kn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},kn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},kn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},kn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},kn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=d(p,m.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},kn.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=d(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},kn.requestFormReset=function(h){r.d.r(h)},kn.unstable_batchedUpdates=function(h,m){return h(m)},kn.useFormState=function(h,m,p){return u.H.useFormState(h,m,p)},kn.useFormStatus=function(){return u.H.useHostTransitionStatus()},kn.version="19.2.0",kn}var zS;function f5(){if(zS)return Ip.exports;zS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ip.exports=iN(),Ip.exports}var PS;function sN(){if(PS)return Qo;PS=1;var e=aN(),t=Ll(),n=f5();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,f=s;;){var v=c.return;if(v===null)break;var j=v.alternate;if(j===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===j.child){for(j=v.child;j;){if(j===c)return h(v),i;if(j===f)return h(v),s;j=j.sibling}throw Error(r(188))}if(c.return!==f.return)c=v,f=j;else{for(var z=!1,I=v.child;I;){if(I===c){z=!0,c=v,f=j;break}if(I===f){z=!0,f=v,c=j;break}I=I.sibling}if(!z){for(I=j.child;I;){if(I===c){z=!0,c=j,f=v;break}if(I===f){z=!0,f=j,c=v;break}I=I.sibling}if(!z)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var W=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===W?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case T:return i.displayName||"Context";case D:return(i._context.displayName||"Context")+".Consumer";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:ee(i.type)||"Memo";case B:s=i._payload,i=i._init;try{return ee(i(s))}catch{}}return null}var te=Array.isArray,C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},$=[],V=-1;function R(i){return{current:i}}function G(i){0>V||(i.current=$[V],$[V]=null,V--)}function J(i,s){V++,$[V]=i.current,i.current=s}var H=R(null),F=R(null),ne=R(null),oe=R(null);function ve(i,s){switch(J(ne,s),J(F,i),J(H,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Y1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Y1(s),i=X1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(H),J(H,i)}function Z(){G(H),G(F),G(ne)}function he(i){i.memoizedState!==null&&J(oe,i);var s=H.current,c=X1(s,i.type);s!==c&&(J(F,i),J(H,c))}function be(i){F.current===i&&(G(H),G(F)),oe.current===i&&(G(oe),Ho._currentValue=_)}var re,Oe;function Q(i){if(re===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",Oe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+i+Oe}var ye=!1;function Ce(i,s){if(!i||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(de){var ce=de}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(de){ce=de}i.call(pe.prototype)}}else{try{throw Error()}catch(de){ce=de}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(de){if(de&&ce&&typeof de.stack=="string")return[de.stack,ce.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=f.DetermineComponentFrameRoot(),z=j[0],I=j[1];if(z&&I){var Y=z.split(`
`),se=I.split(`
`);for(v=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(f===Y.length||v===se.length)for(f=Y.length-1,v=se.length-1;1<=f&&0<=v&&Y[f]!==se[v];)v--;for(;1<=f&&0<=v;f--,v--)if(Y[f]!==se[v]){if(f!==1||v!==1)do if(f--,v--,0>v||Y[f]!==se[v]){var fe=`
`+Y[f].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=f&&0<=v);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Q(c):""}function Me(i,s){switch(i.tag){case 26:case 27:case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return i.child!==s&&s!==null?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return Ce(i.type,!1);case 11:return Ce(i.type.render,!1);case 1:return Ce(i.type,!0);case 31:return Q("Activity");default:return""}}function Ge(i){try{var s="",c=null;do s+=Me(i,c),c=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ft=Object.prototype.hasOwnProperty,fn=e.unstable_scheduleCallback,_n=e.unstable_cancelCallback,xn=e.unstable_shouldYield,ra=e.unstable_requestPaint,it=e.unstable_now,qn=e.unstable_getCurrentPriorityLevel,Sr=e.unstable_ImmediatePriority,we=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,Wn=e.unstable_LowPriority,hn=e.unstable_IdlePriority,Ls=e.log,li=e.unstable_setDisableYieldValue,Yi=null,bn=null;function oi(i){if(typeof Ls=="function"&&li(i),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Yi,i)}catch{}}var rr=Math.clz32?Math.clz32:IM,RM=Math.log,BM=Math.LN2;function IM(i){return i>>>=0,i===0?32:31-(RM(i)/BM|0)|0}var Xc=256,Qc=262144,Zc=4194304;function Xi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Jc(i,s,c){var f=i.pendingLanes;if(f===0)return 0;var v=0,j=i.suspendedLanes,z=i.pingedLanes;i=i.warmLanes;var I=f&134217727;return I!==0?(f=I&~j,f!==0?v=Xi(f):(z&=I,z!==0?v=Xi(z):c||(c=I&~i,c!==0&&(v=Xi(c))))):(I=f&~j,I!==0?v=Xi(I):z!==0?v=Xi(z):c||(c=f&~i,c!==0&&(v=Xi(c)))),v===0?0:s!==0&&s!==v&&(s&j)===0&&(j=v&-v,c=s&-s,j>=c||j===32&&(c&4194048)!==0)?s:v}function ao(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function $M(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mx(){var i=Zc;return Zc<<=1,(Zc&62914560)===0&&(Zc=4194304),i}function jh(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function io(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function LM(i,s,c,f,v,j){var z=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var I=i.entanglements,Y=i.expirationTimes,se=i.hiddenUpdates;for(c=z&~c;0<c;){var fe=31-rr(c),pe=1<<fe;I[fe]=0,Y[fe]=-1;var ce=se[fe];if(ce!==null)for(se[fe]=null,fe=0;fe<ce.length;fe++){var de=ce[fe];de!==null&&(de.lane&=-536870913)}c&=~pe}f!==0&&kx(i,f,0),j!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=j&~(z&~s))}function kx(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-rr(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|c&261930}function Nx(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var f=31-rr(c),v=1<<f;v&s|i[f]&s&&(i[f]|=s),c&=~v}}function zx(i,s){var c=s&-s;return c=(c&42)!==0?1:Sh(c),(c&(i.suspendedLanes|s))!==0?0:c}function Sh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ah(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Px(){var i=k.p;return i!==0?i:(i=window.event,i===void 0?32:xS(i.type))}function _x(i,s){var c=k.p;try{return k.p=i,s()}finally{k.p=c}}var ci=Math.random().toString(36).slice(2),jn="__reactFiber$"+ci,Hn="__reactProps$"+ci,Us="__reactContainer$"+ci,wh="__reactEvents$"+ci,UM="__reactListeners$"+ci,GM="__reactHandles$"+ci,Rx="__reactResources$"+ci,so="__reactMarker$"+ci;function Eh(i){delete i[jn],delete i[Hn],delete i[wh],delete i[UM],delete i[GM]}function Gs(i){var s=i[jn];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Us]||c[jn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=rS(i);i!==null;){if(c=i[jn])return c;i=rS(i)}return s}i=c,c=i.parentNode}return null}function Fs(i){if(i=i[jn]||i[Us]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function lo(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function qs(i){var s=i[Rx];return s||(s=i[Rx]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function mn(i){i[so]=!0}var Bx=new Set,Ix={};function Qi(i,s){Ws(i,s),Ws(i+"Capture",s)}function Ws(i,s){for(Ix[i]=s,i=0;i<s.length;i++)Bx.add(s[i])}var FM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$x={},Lx={};function qM(i){return Ft.call(Lx,i)?!0:Ft.call($x,i)?!1:FM.test(i)?Lx[i]=!0:($x[i]=!0,!1)}function eu(i,s,c){if(qM(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function tu(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function pa(i,s,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+f)}}function Ar(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ux(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function WM(i,s,c){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,j=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(z){c=""+z,j.call(this,z)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(z){c=""+z},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Th(i){if(!i._valueTracker){var s=Ux(i)?"checked":"value";i._valueTracker=WM(i,s,""+i[s])}}function Gx(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return i&&(f=Ux(i)?i.checked?"true":"false":i.value),i=f,i!==c?(s.setValue(i),!0):!1}function nu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var HM=/[\n"\\]/g;function wr(i){return i.replace(HM,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ch(i,s,c,f,v,j,z,I){i.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.type=z:i.removeAttribute("type"),s!=null?z==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ar(s)):i.value!==""+Ar(s)&&(i.value=""+Ar(s)):z!=="submit"&&z!=="reset"||i.removeAttribute("value"),s!=null?Oh(i,z,Ar(s)):c!=null?Oh(i,z,Ar(c)):f!=null&&i.removeAttribute("value"),v==null&&j!=null&&(i.defaultChecked=!!j),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Ar(I):i.removeAttribute("name")}function Fx(i,s,c,f,v,j,z,I){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),s!=null||c!=null){if(!(j!=="submit"&&j!=="reset"||s!=null)){Th(i);return}c=c!=null?""+Ar(c):"",s=s!=null?""+Ar(s):c,I||s===i.value||(i.value=s),i.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=I?i.checked:!!f,i.defaultChecked=!!f,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(i.name=z),Th(i)}function Oh(i,s,c){s==="number"&&nu(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Hs(i,s,c,f){if(i=i.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=s.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Ar(c),s=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function qx(i,s,c){if(s!=null&&(s=""+Ar(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+Ar(c):""}function Wx(i,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(te(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=Ar(s),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f),Th(i)}function Ks(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var KM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hx(i,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,c):typeof c!="number"||c===0||KM.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Kx(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&c[v]!==f&&Hx(i,v,f)}else for(var j in s)s.hasOwnProperty(j)&&Hx(i,j,s[j])}function Dh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(i){return YM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ga(){}var Mh=null;function kh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vs=null,Ys=null;function Vx(i){var s=Fs(i);if(s&&(i=s.stateNode)){var c=i[Hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ch(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+wr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==i&&f.form===i.form){var v=f[Hn]||null;if(!v)throw Error(r(90));Ch(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===i.form&&Gx(f)}break e;case"textarea":qx(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Hs(i,!!c.multiple,s,!1)}}}var Nh=!1;function Yx(i,s,c){if(Nh)return i(s,c);Nh=!0;try{var f=i(s);return f}finally{if(Nh=!1,(Vs!==null||Ys!==null)&&(qu(),Vs&&(s=Vs,i=Ys,Ys=Vs=null,Vx(s),i)))for(s=0;s<i.length;s++)Vx(i[s])}}function oo(i,s){var c=i.stateNode;if(c===null)return null;var f=c[Hn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=!1;if(ya)try{var co={};Object.defineProperty(co,"passive",{get:function(){zh=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{zh=!1}var ui=null,Ph=null,au=null;function Xx(){if(au)return au;var i,s=Ph,c=s.length,f,v="value"in ui?ui.value:ui.textContent,j=v.length;for(i=0;i<c&&s[i]===v[i];i++);var z=c-i;for(f=1;f<=z&&s[c-f]===v[j-f];f++);return au=v.slice(i,1<f?1-f:void 0)}function iu(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function su(){return!0}function Qx(){return!1}function Kn(i){function s(c,f,v,j,z){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=j,this.target=z,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(c=i[I],this[I]=c?c(j):j[I]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?su:Qx,this.isPropagationStopped=Qx,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lu=Kn(Zi),uo=g({},Zi,{view:0,detail:0}),XM=Kn(uo),_h,Rh,fo,ou=g({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fo&&(fo&&i.type==="mousemove"?(_h=i.screenX-fo.screenX,Rh=i.screenY-fo.screenY):Rh=_h=0,fo=i),_h)},movementY:function(i){return"movementY"in i?i.movementY:Rh}}),Zx=Kn(ou),QM=g({},ou,{dataTransfer:0}),ZM=Kn(QM),JM=g({},uo,{relatedTarget:0}),Bh=Kn(JM),ek=g({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),tk=Kn(ek),nk=g({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rk=Kn(nk),ak=g({},Zi,{data:0}),Jx=Kn(ak),ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ok(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lk[i])?!!s[i]:!1}function Ih(){return ok}var ck=g({},uo,{key:function(i){if(i.key){var s=ik[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=iu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(i){return i.type==="keypress"?iu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?iu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uk=Kn(ck),dk=g({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=Kn(dk),fk=g({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),hk=Kn(fk),mk=g({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pk=Kn(mk),gk=g({},ou,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yk=Kn(gk),vk=g({},Zi,{newState:0,oldState:0}),xk=Kn(vk),bk=[9,13,27,32],$h=ya&&"CompositionEvent"in window,ho=null;ya&&"documentMode"in document&&(ho=document.documentMode);var jk=ya&&"TextEvent"in window&&!ho,tb=ya&&(!$h||ho&&8<ho&&11>=ho),nb=" ",rb=!1;function ab(i,s){switch(i){case"keyup":return bk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ib(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xs=!1;function Sk(i,s){switch(i){case"compositionend":return ib(s);case"keypress":return s.which!==32?null:(rb=!0,nb);case"textInput":return i=s.data,i===nb&&rb?null:i;default:return null}}function Ak(i,s){if(Xs)return i==="compositionend"||!$h&&ab(i,s)?(i=Xx(),au=Ph=ui=null,Xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tb&&s.locale!=="ko"?null:s.data;default:return null}}var wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!wk[i.type]:s==="textarea"}function lb(i,s,c,f){Vs?Ys?Ys.push(f):Ys=[f]:Vs=f,s=Qu(s,"onChange"),0<s.length&&(c=new lu("onChange","change",null,c,f),i.push({event:c,listeners:s}))}var mo=null,po=null;function Ek(i){F1(i,0)}function cu(i){var s=lo(i);if(Gx(s))return i}function ob(i,s){if(i==="change")return s}var cb=!1;if(ya){var Lh;if(ya){var Uh="oninput"in document;if(!Uh){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Uh=typeof ub.oninput=="function"}Lh=Uh}else Lh=!1;cb=Lh&&(!document.documentMode||9<document.documentMode)}function db(){mo&&(mo.detachEvent("onpropertychange",fb),po=mo=null)}function fb(i){if(i.propertyName==="value"&&cu(po)){var s=[];lb(s,po,i,kh(i)),Yx(Ek,s)}}function Tk(i,s,c){i==="focusin"?(db(),mo=s,po=c,mo.attachEvent("onpropertychange",fb)):i==="focusout"&&db()}function Ck(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cu(po)}function Ok(i,s){if(i==="click")return cu(s)}function Dk(i,s){if(i==="input"||i==="change")return cu(s)}function Mk(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ar=typeof Object.is=="function"?Object.is:Mk;function go(i,s){if(ar(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!Ft.call(s,v)||!ar(i[v],s[v]))return!1}return!0}function hb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mb(i,s){var c=hb(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=s&&f>=s)return{node:c,offset:s-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hb(c)}}function pb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?pb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=nu(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=nu(i.document)}return s}function Gh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var kk=ya&&"documentMode"in document&&11>=document.documentMode,Qs=null,Fh=null,yo=null,qh=!1;function yb(i,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qh||Qs==null||Qs!==nu(f)||(f=Qs,"selectionStart"in f&&Gh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),yo&&go(yo,f)||(yo=f,f=Qu(Fh,"onSelect"),0<f.length&&(s=new lu("onSelect","select",null,s,c),i.push({event:s,listeners:f}),s.target=Qs)))}function Ji(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Zs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Wh={},vb={};ya&&(vb=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function es(i){if(Wh[i])return Wh[i];if(!Zs[i])return i;var s=Zs[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in vb)return Wh[i]=s[c];return i}var xb=es("animationend"),bb=es("animationiteration"),jb=es("animationstart"),Nk=es("transitionrun"),zk=es("transitionstart"),Pk=es("transitioncancel"),Sb=es("transitionend"),Ab=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Kr(i,s){Ab.set(i,s),Qi(s,[i])}var uu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Er=[],Js=0,Kh=0;function du(){for(var i=Js,s=Kh=Js=0;s<i;){var c=Er[s];Er[s++]=null;var f=Er[s];Er[s++]=null;var v=Er[s];Er[s++]=null;var j=Er[s];if(Er[s++]=null,f!==null&&v!==null){var z=f.pending;z===null?v.next=v:(v.next=z.next,z.next=v),f.pending=v}j!==0&&wb(c,v,j)}}function fu(i,s,c,f){Er[Js++]=i,Er[Js++]=s,Er[Js++]=c,Er[Js++]=f,Kh|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Vh(i,s,c,f){return fu(i,s,c,f),hu(i)}function ts(i,s){return fu(i,null,null,s),hu(i)}function wb(i,s,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var v=!1,j=i.return;j!==null;)j.childLanes|=c,f=j.alternate,f!==null&&(f.childLanes|=c),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(v=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,v&&s!==null&&(v=31-rr(c),i=j.hiddenUpdates,f=i[v],f===null?i[v]=[s]:f.push(s),s.lane=c|536870912),j):null}function hu(i){if(50<$o)throw $o=0,rp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var el={};function _k(i,s,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(i,s,c,f){return new _k(i,s,c,f)}function Yh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,s){var c=i.alternate;return c===null?(c=ir(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Eb(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mu(i,s,c,f,v,j){var z=0;if(f=i,typeof i=="function")Yh(i)&&(z=1);else if(typeof i=="string")z=L3(i,c,H.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=ir(31,c,s,v),i.elementType=L,i.lanes=j,i;case S:return ns(c.children,v,j,s);case w:z=8,v|=24;break;case E:return i=ir(12,c,s,v|2),i.elementType=E,i.lanes=j,i;case O:return i=ir(13,c,s,v),i.elementType=O,i.lanes=j,i;case M:return i=ir(19,c,s,v),i.elementType=M,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:z=10;break e;case D:z=9;break e;case P:z=11;break e;case N:z=14;break e;case B:z=16,f=null;break e}z=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=ir(z,c,s,v),s.elementType=i,s.type=f,s.lanes=j,s}function ns(i,s,c,f){return i=ir(7,i,f,s),i.lanes=c,i}function Xh(i,s,c){return i=ir(6,i,null,s),i.lanes=c,i}function Tb(i){var s=ir(18,null,null,0);return s.stateNode=i,s}function Qh(i,s,c){return s=ir(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Cb=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var c=Cb.get(i);return c!==void 0?c:(s={value:i,source:s,stack:Ge(s)},Cb.set(i,s),s)}return{value:i,source:s,stack:Ge(s)}}var tl=[],nl=0,pu=null,vo=0,Cr=[],Or=0,di=null,aa=1,ia="";function xa(i,s){tl[nl++]=vo,tl[nl++]=pu,pu=i,vo=s}function Ob(i,s,c){Cr[Or++]=aa,Cr[Or++]=ia,Cr[Or++]=di,di=i;var f=aa;i=ia;var v=32-rr(f)-1;f&=~(1<<v),c+=1;var j=32-rr(s)+v;if(30<j){var z=v-v%5;j=(f&(1<<z)-1).toString(32),f>>=z,v-=z,aa=1<<32-rr(s)+v|c<<v|f,ia=j+i}else aa=1<<j|c<<v|f,ia=i}function Zh(i){i.return!==null&&(xa(i,1),Ob(i,1,0))}function Jh(i){for(;i===pu;)pu=tl[--nl],tl[nl]=null,vo=tl[--nl],tl[nl]=null;for(;i===di;)di=Cr[--Or],Cr[Or]=null,ia=Cr[--Or],Cr[Or]=null,aa=Cr[--Or],Cr[Or]=null}function Db(i,s){Cr[Or++]=aa,Cr[Or++]=ia,Cr[Or++]=di,aa=s.id,ia=s.overflow,di=i}var Sn=null,wt=null,Ze=!1,fi=null,Dr=!1,em=Error(r(519));function hi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Tr(s,i)),em}function Mb(i){var s=i.stateNode,c=i.type,f=i.memoizedProps;switch(s[jn]=i,s[Hn]=f,c){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(c=0;c<Uo.length;c++)Ve(Uo[c],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Fx(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Wx(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||K1(s.textContent,c)?(f.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),f.onScroll!=null&&Ve("scroll",s),f.onScrollEnd!=null&&Ve("scrollend",s),f.onClick!=null&&(s.onclick=ga),s=!0):s=!1,s||hi(i,!0)}function kb(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Sn=Sn.return}}function rl(i){if(i!==Sn)return!1;if(!Ze)return kb(i),Ze=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||vp(i.type,i.memoizedProps)),c=!c),c&&wt&&hi(i),kb(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=nS(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));wt=nS(i)}else s===27?(s=wt,Ci(i.type)?(i=Ap,Ap=null,wt=i):wt=s):wt=Sn?kr(i.stateNode.nextSibling):null;return!0}function rs(){wt=Sn=null,Ze=!1}function tm(){var i=fi;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),fi=null),i}function xo(i){fi===null?fi=[i]:fi.push(i)}var nm=R(null),as=null,ba=null;function mi(i,s,c){J(nm,s._currentValue),s._currentValue=c}function ja(i){i._currentValue=nm.current,G(nm)}function rm(i,s,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===c)break;i=i.return}}function am(i,s,c,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var j=v.dependencies;if(j!==null){var z=v.child;j=j.firstContext;e:for(;j!==null;){var I=j;j=v;for(var Y=0;Y<s.length;Y++)if(I.context===s[Y]){j.lanes|=c,I=j.alternate,I!==null&&(I.lanes|=c),rm(j.return,c,i),f||(z=null);break e}j=I.next}}else if(v.tag===18){if(z=v.return,z===null)throw Error(r(341));z.lanes|=c,j=z.alternate,j!==null&&(j.lanes|=c),rm(z,c,i),z=null}else z=v.child;if(z!==null)z.return=v;else for(z=v;z!==null;){if(z===i){z=null;break}if(v=z.sibling,v!==null){v.return=z.return,z=v;break}z=z.return}v=z}}function al(i,s,c,f){i=null;for(var v=s,j=!1;v!==null;){if(!j){if((v.flags&524288)!==0)j=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var z=v.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var I=v.type;ar(v.pendingProps.value,z.value)||(i!==null?i.push(I):i=[I])}}else if(v===oe.current){if(z=v.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Ho):i=[Ho])}v=v.return}i!==null&&am(s,i,c,f),s.flags|=262144}function gu(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function is(i){as=i,ba=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function An(i){return Nb(as,i)}function yu(i,s){return as===null&&is(i),Nb(i,s)}function Nb(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ba===null){if(i===null)throw Error(r(308));ba=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ba=ba.next=s;return c}var Rk=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},Bk=e.unstable_scheduleCallback,Ik=e.unstable_NormalPriority,Qt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new Rk,data:new Map,refCount:0}}function bo(i){i.refCount--,i.refCount===0&&Bk(Ik,function(){i.controller.abort()})}var jo=null,sm=0,il=0,sl=null;function $k(i,s){if(jo===null){var c=jo=[];sm=0,il=cp(),sl={status:"pending",value:void 0,then:function(f){c.push(f)}}}return sm++,s.then(zb,zb),s}function zb(){if(--sm===0&&jo!==null){sl!==null&&(sl.status="fulfilled");var i=jo;jo=null,il=0,sl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Lk(i,s){var c=[],f={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),f}var Pb=C.S;C.S=function(i,s){y1=it(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$k(i,s),Pb!==null&&Pb(i,s)};var ss=R(null);function lm(){var i=ss.current;return i!==null?i:yt.pooledCache}function vu(i,s){s===null?J(ss,ss.current):J(ss,s.pool)}function _b(){var i=lm();return i===null?null:{parent:Qt._currentValue,pool:i}}var ll=Error(r(460)),om=Error(r(474)),xu=Error(r(542)),bu={then:function(){}};function Rb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bb(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(ga,ga),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$b(i),i;default:if(typeof s.status=="string")s.then(ga,ga);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$b(i),i}throw os=s,ll}}function ls(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(os=c,ll):c}}var os=null;function Ib(){if(os===null)throw Error(r(459));var i=os;return os=null,i}function $b(i){if(i===ll||i===xu)throw Error(r(483))}var ol=null,So=0;function ju(i){var s=So;return So+=1,ol===null&&(ol=[]),Bb(ol,i,s)}function Ao(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Su(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Lb(i){function s(ae,X){if(i){var ie=ae.deletions;ie===null?(ae.deletions=[X],ae.flags|=16):ie.push(X)}}function c(ae,X){if(!i)return null;for(;X!==null;)s(ae,X),X=X.sibling;return null}function f(ae){for(var X=new Map;ae!==null;)ae.key!==null?X.set(ae.key,ae):X.set(ae.index,ae),ae=ae.sibling;return X}function v(ae,X){return ae=va(ae,X),ae.index=0,ae.sibling=null,ae}function j(ae,X,ie){return ae.index=ie,i?(ie=ae.alternate,ie!==null?(ie=ie.index,ie<X?(ae.flags|=67108866,X):ie):(ae.flags|=67108866,X)):(ae.flags|=1048576,X)}function z(ae){return i&&ae.alternate===null&&(ae.flags|=67108866),ae}function I(ae,X,ie,me){return X===null||X.tag!==6?(X=Xh(ie,ae.mode,me),X.return=ae,X):(X=v(X,ie),X.return=ae,X)}function Y(ae,X,ie,me){var Re=ie.type;return Re===S?fe(ae,X,ie.props.children,me,ie.key):X!==null&&(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===B&&ls(Re)===X.type)?(X=v(X,ie.props),Ao(X,ie),X.return=ae,X):(X=mu(ie.type,ie.key,ie.props,null,ae.mode,me),Ao(X,ie),X.return=ae,X)}function se(ae,X,ie,me){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=Qh(ie,ae.mode,me),X.return=ae,X):(X=v(X,ie.children||[]),X.return=ae,X)}function fe(ae,X,ie,me,Re){return X===null||X.tag!==7?(X=ns(ie,ae.mode,me,Re),X.return=ae,X):(X=v(X,ie),X.return=ae,X)}function pe(ae,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Xh(""+X,ae.mode,ie),X.return=ae,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return ie=mu(X.type,X.key,X.props,null,ae.mode,ie),Ao(ie,X),ie.return=ae,ie;case A:return X=Qh(X,ae.mode,ie),X.return=ae,X;case B:return X=ls(X),pe(ae,X,ie)}if(te(X)||K(X))return X=ns(X,ae.mode,ie,null),X.return=ae,X;if(typeof X.then=="function")return pe(ae,ju(X),ie);if(X.$$typeof===T)return pe(ae,yu(ae,X),ie);Su(ae,X)}return null}function ce(ae,X,ie,me){var Re=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Re!==null?null:I(ae,X,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return ie.key===Re?Y(ae,X,ie,me):null;case A:return ie.key===Re?se(ae,X,ie,me):null;case B:return ie=ls(ie),ce(ae,X,ie,me)}if(te(ie)||K(ie))return Re!==null?null:fe(ae,X,ie,me,null);if(typeof ie.then=="function")return ce(ae,X,ju(ie),me);if(ie.$$typeof===T)return ce(ae,X,yu(ae,ie),me);Su(ae,ie)}return null}function de(ae,X,ie,me,Re){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ae=ae.get(ie)||null,I(X,ae,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return ae=ae.get(me.key===null?ie:me.key)||null,Y(X,ae,me,Re);case A:return ae=ae.get(me.key===null?ie:me.key)||null,se(X,ae,me,Re);case B:return me=ls(me),de(ae,X,ie,me,Re)}if(te(me)||K(me))return ae=ae.get(ie)||null,fe(X,ae,me,Re,null);if(typeof me.then=="function")return de(ae,X,ie,ju(me),Re);if(me.$$typeof===T)return de(ae,X,ie,yu(X,me),Re);Su(X,me)}return null}function ke(ae,X,ie,me){for(var Re=null,et=null,Pe=X,qe=X=0,Qe=null;Pe!==null&&qe<ie.length;qe++){Pe.index>qe?(Qe=Pe,Pe=null):Qe=Pe.sibling;var tt=ce(ae,Pe,ie[qe],me);if(tt===null){Pe===null&&(Pe=Qe);break}i&&Pe&&tt.alternate===null&&s(ae,Pe),X=j(tt,X,qe),et===null?Re=tt:et.sibling=tt,et=tt,Pe=Qe}if(qe===ie.length)return c(ae,Pe),Ze&&xa(ae,qe),Re;if(Pe===null){for(;qe<ie.length;qe++)Pe=pe(ae,ie[qe],me),Pe!==null&&(X=j(Pe,X,qe),et===null?Re=Pe:et.sibling=Pe,et=Pe);return Ze&&xa(ae,qe),Re}for(Pe=f(Pe);qe<ie.length;qe++)Qe=de(Pe,ae,qe,ie[qe],me),Qe!==null&&(i&&Qe.alternate!==null&&Pe.delete(Qe.key===null?qe:Qe.key),X=j(Qe,X,qe),et===null?Re=Qe:et.sibling=Qe,et=Qe);return i&&Pe.forEach(function(Ni){return s(ae,Ni)}),Ze&&xa(ae,qe),Re}function Be(ae,X,ie,me){if(ie==null)throw Error(r(151));for(var Re=null,et=null,Pe=X,qe=X=0,Qe=null,tt=ie.next();Pe!==null&&!tt.done;qe++,tt=ie.next()){Pe.index>qe?(Qe=Pe,Pe=null):Qe=Pe.sibling;var Ni=ce(ae,Pe,tt.value,me);if(Ni===null){Pe===null&&(Pe=Qe);break}i&&Pe&&Ni.alternate===null&&s(ae,Pe),X=j(Ni,X,qe),et===null?Re=Ni:et.sibling=Ni,et=Ni,Pe=Qe}if(tt.done)return c(ae,Pe),Ze&&xa(ae,qe),Re;if(Pe===null){for(;!tt.done;qe++,tt=ie.next())tt=pe(ae,tt.value,me),tt!==null&&(X=j(tt,X,qe),et===null?Re=tt:et.sibling=tt,et=tt);return Ze&&xa(ae,qe),Re}for(Pe=f(Pe);!tt.done;qe++,tt=ie.next())tt=de(Pe,ae,qe,tt.value,me),tt!==null&&(i&&tt.alternate!==null&&Pe.delete(tt.key===null?qe:tt.key),X=j(tt,X,qe),et===null?Re=tt:et.sibling=tt,et=tt);return i&&Pe.forEach(function(Q3){return s(ae,Q3)}),Ze&&xa(ae,qe),Re}function dt(ae,X,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:e:{for(var Re=ie.key;X!==null;){if(X.key===Re){if(Re=ie.type,Re===S){if(X.tag===7){c(ae,X.sibling),me=v(X,ie.props.children),me.return=ae,ae=me;break e}}else if(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===B&&ls(Re)===X.type){c(ae,X.sibling),me=v(X,ie.props),Ao(me,ie),me.return=ae,ae=me;break e}c(ae,X);break}else s(ae,X);X=X.sibling}ie.type===S?(me=ns(ie.props.children,ae.mode,me,ie.key),me.return=ae,ae=me):(me=mu(ie.type,ie.key,ie.props,null,ae.mode,me),Ao(me,ie),me.return=ae,ae=me)}return z(ae);case A:e:{for(Re=ie.key;X!==null;){if(X.key===Re)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){c(ae,X.sibling),me=v(X,ie.children||[]),me.return=ae,ae=me;break e}else{c(ae,X);break}else s(ae,X);X=X.sibling}me=Qh(ie,ae.mode,me),me.return=ae,ae=me}return z(ae);case B:return ie=ls(ie),dt(ae,X,ie,me)}if(te(ie))return ke(ae,X,ie,me);if(K(ie)){if(Re=K(ie),typeof Re!="function")throw Error(r(150));return ie=Re.call(ie),Be(ae,X,ie,me)}if(typeof ie.then=="function")return dt(ae,X,ju(ie),me);if(ie.$$typeof===T)return dt(ae,X,yu(ae,ie),me);Su(ae,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(c(ae,X.sibling),me=v(X,ie),me.return=ae,ae=me):(c(ae,X),me=Xh(ie,ae.mode,me),me.return=ae,ae=me),z(ae)):c(ae,X)}return function(ae,X,ie,me){try{So=0;var Re=dt(ae,X,ie,me);return ol=null,Re}catch(Pe){if(Pe===ll||Pe===xu)throw Pe;var et=ir(29,Pe,null,ae.mode);return et.lanes=me,et.return=ae,et}finally{}}}var cs=Lb(!0),Ub=Lb(!1),pi=!1;function cm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yi(i,s,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=hu(i),wb(i,null,c),s}return fu(i,f,s,c),hu(i)}function wo(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Nx(i,c)}}function dm(i,s){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var z={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};j===null?v=j=z:j=j.next=z,c=c.next}while(c!==null);j===null?v=j=s:j=j.next=s}else v=j=s;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:j,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var fm=!1;function Eo(){if(fm){var i=sl;if(i!==null)throw i}}function To(i,s,c,f){fm=!1;var v=i.updateQueue;pi=!1;var j=v.firstBaseUpdate,z=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var Y=I,se=Y.next;Y.next=null,z===null?j=se:z.next=se,z=Y;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==z&&(I===null?fe.firstBaseUpdate=se:I.next=se,fe.lastBaseUpdate=Y))}if(j!==null){var pe=v.baseState;z=0,fe=se=Y=null,I=j;do{var ce=I.lane&-536870913,de=ce!==I.lane;if(de?(Xe&ce)===ce:(f&ce)===ce){ce!==0&&ce===il&&(fm=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ke=i,Be=I;ce=s;var dt=c;switch(Be.tag){case 1:if(ke=Be.payload,typeof ke=="function"){pe=ke.call(dt,pe,ce);break e}pe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Be.payload,ce=typeof ke=="function"?ke.call(dt,pe,ce):ke,ce==null)break e;pe=g({},pe,ce);break e;case 2:pi=!0}}ce=I.callback,ce!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[ce]:de.push(ce))}else de={lane:ce,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(se=fe=de,Y=pe):fe=fe.next=de,z|=ce;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;de=I,I=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);fe===null&&(Y=pe),v.baseState=Y,v.firstBaseUpdate=se,v.lastBaseUpdate=fe,j===null&&(v.shared.lanes=0),Si|=z,i.lanes=z,i.memoizedState=pe}}function Gb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Fb(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Gb(c[i],s)}var cl=R(null),Au=R(0);function qb(i,s){i=Ma,J(Au,i),J(cl,s),Ma=i|s.baseLanes}function hm(){J(Au,Ma),J(cl,cl.current)}function mm(){Ma=Au.current,G(cl),G(Au)}var sr=R(null),Mr=null;function vi(i){var s=i.alternate;J(Vt,Vt.current&1),J(sr,i),Mr===null&&(s===null||cl.current!==null||s.memoizedState!==null)&&(Mr=i)}function pm(i){J(Vt,Vt.current),J(sr,i),Mr===null&&(Mr=i)}function Wb(i){i.tag===22?(J(Vt,Vt.current),J(sr,i),Mr===null&&(Mr=i)):xi()}function xi(){J(Vt,Vt.current),J(sr,sr.current)}function lr(i){G(sr),Mr===i&&(Mr=null),G(Vt)}var Vt=R(0);function wu(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||jp(c)||Sp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sa=0,Fe=null,ct=null,Zt=null,Eu=!1,ul=!1,us=!1,Tu=0,Co=0,dl=null,Uk=0;function Wt(){throw Error(r(321))}function gm(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!ar(i[c],s[c]))return!1;return!0}function ym(i,s,c,f,v,j){return Sa=j,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?Oj:Nm,us=!1,j=c(f,v),us=!1,ul&&(j=Kb(s,c,f,v)),Hb(i),j}function Hb(i){C.H=Mo;var s=ct!==null&&ct.next!==null;if(Sa=0,Zt=ct=Fe=null,Eu=!1,Co=0,dl=null,s)throw Error(r(300));i===null||Jt||(i=i.dependencies,i!==null&&gu(i)&&(Jt=!0))}function Kb(i,s,c,f){Fe=i;var v=0;do{if(ul&&(dl=null),Co=0,ul=!1,25<=v)throw Error(r(301));if(v+=1,Zt=ct=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}C.H=Dj,j=s(c,f)}while(ul);return j}function Gk(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?Oo(s):s,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Fe.flags|=1024),s}function vm(){var i=Tu!==0;return Tu=0,i}function xm(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function bm(i){if(Eu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Eu=!1}Sa=0,Zt=ct=Fe=null,ul=!1,Co=Tu=0,dl=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Fe.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Yt(){if(ct===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var s=Zt===null?Fe.memoizedState:Zt.next;if(s!==null)Zt=s,ct=i;else{if(i===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Zt===null?Fe.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(i){var s=Co;return Co+=1,dl===null&&(dl=[]),i=Bb(dl,i,s),s=Fe,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Oj:Nm),i}function Ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Oo(i);if(i.$$typeof===T)return An(i)}throw Error(r(438,String(i)))}function jm(i){var s=null,c=Fe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Fe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Cu(),Fe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),f=0;f<i;f++)c[f]=q;return s.index++,c}function Aa(i,s){return typeof s=="function"?s(i):s}function Du(i){var s=Yt();return Sm(s,ct,i)}function Sm(i,s,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var v=i.baseQueue,j=f.pending;if(j!==null){if(v!==null){var z=v.next;v.next=j.next,j.next=z}s.baseQueue=v=j,f.pending=null}if(j=i.baseState,v===null)i.memoizedState=j;else{s=v.next;var I=z=null,Y=null,se=s,fe=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(Xe&pe)===pe:(Sa&pe)===pe){var ce=se.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===il&&(fe=!0);else if((Sa&ce)===ce){se=se.next,ce===il&&(fe=!0);continue}else pe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(I=Y=pe,z=j):Y=Y.next=pe,Fe.lanes|=ce,Si|=ce;pe=se.action,us&&c(j,pe),j=se.hasEagerState?se.eagerState:c(j,pe)}else ce={lane:pe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(I=Y=ce,z=j):Y=Y.next=ce,Fe.lanes|=pe,Si|=pe;se=se.next}while(se!==null&&se!==s);if(Y===null?z=j:Y.next=I,!ar(j,i.memoizedState)&&(Jt=!0,fe&&(c=sl,c!==null)))throw c;i.memoizedState=j,i.baseState=z,i.baseQueue=Y,f.lastRenderedState=j}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Am(i){var s=Yt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,v=c.pending,j=s.memoizedState;if(v!==null){c.pending=null;var z=v=v.next;do j=i(j,z.action),z=z.next;while(z!==v);ar(j,s.memoizedState)||(Jt=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),c.lastRenderedState=j}return[j,f]}function Vb(i,s,c){var f=Fe,v=Yt(),j=Ze;if(j){if(c===void 0)throw Error(r(407));c=c()}else c=s();var z=!ar((ct||v).memoizedState,c);if(z&&(v.memoizedState=c,Jt=!0),v=v.queue,Tm(Qb.bind(null,f,v,i),[i]),v.getSnapshot!==s||z||Zt!==null&&Zt.memoizedState.tag&1){if(f.flags|=2048,fl(9,{destroy:void 0},Xb.bind(null,f,v,c,s),null),yt===null)throw Error(r(349));j||(Sa&127)!==0||Yb(f,s,c)}return c}function Yb(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Fe.updateQueue,s===null?(s=Cu(),Fe.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function Xb(i,s,c,f){s.value=c,s.getSnapshot=f,Zb(s)&&Jb(i)}function Qb(i,s,c){return c(function(){Zb(s)&&Jb(i)})}function Zb(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!ar(i,c)}catch{return!0}}function Jb(i){var s=ts(i,2);s!==null&&Zn(s,i,2)}function wm(i){var s=Rn();if(typeof i=="function"){var c=i;if(i=c(),us){oi(!0);try{c()}finally{oi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:i},s}function ej(i,s,c,f){return i.baseState=c,Sm(i,ct,typeof f=="function"?f:Aa)}function Fk(i,s,c,f,v){if(Nu(i))throw Error(r(485));if(i=s.action,i!==null){var j={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){j.listeners.push(z)}};C.T!==null?c(!0):j.isTransition=!1,f(j),c=s.pending,c===null?(j.next=s.pending=j,tj(s,j)):(j.next=c.next,s.pending=c.next=j)}}function tj(i,s){var c=s.action,f=s.payload,v=i.state;if(s.isTransition){var j=C.T,z={};C.T=z;try{var I=c(v,f),Y=C.S;Y!==null&&Y(z,I),nj(i,s,I)}catch(se){Em(i,s,se)}finally{j!==null&&z.types!==null&&(j.types=z.types),C.T=j}}else try{j=c(v,f),nj(i,s,j)}catch(se){Em(i,s,se)}}function nj(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){rj(i,s,f)},function(f){return Em(i,s,f)}):rj(i,s,c)}function rj(i,s,c){s.status="fulfilled",s.value=c,aj(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,tj(i,c)))}function Em(i,s,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,aj(s),s=s.next;while(s!==f)}i.action=null}function aj(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ij(i,s){return s}function sj(i,s){if(Ze){var c=yt.formState;if(c!==null){e:{var f=Fe;if(Ze){if(wt){t:{for(var v=wt,j=Dr;v.nodeType!==8;){if(!j){v=null;break t}if(v=kr(v.nextSibling),v===null){v=null;break t}}j=v.data,v=j==="F!"||j==="F"?v:null}if(v){wt=kr(v.nextSibling),f=v.data==="F!";break e}}hi(f)}f=!1}f&&(s=c[0])}}return c=Rn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ij,lastRenderedState:s},c.queue=f,c=Ej.bind(null,Fe,f),f.dispatch=c,f=wm(!1),j=km.bind(null,Fe,!1,f.queue),f=Rn(),v={state:s,dispatch:null,action:i,pending:null},f.queue=v,c=Fk.bind(null,Fe,v,j,c),v.dispatch=c,f.memoizedState=i,[s,c,!1]}function lj(i){var s=Yt();return oj(s,ct,i)}function oj(i,s,c){if(s=Sm(i,s,ij)[0],i=Du(Aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Oo(s)}catch(z){throw z===ll?xu:z}else f=s;s=Yt();var v=s.queue,j=v.dispatch;return c!==s.memoizedState&&(Fe.flags|=2048,fl(9,{destroy:void 0},qk.bind(null,v,c),null)),[f,j,i]}function qk(i,s){i.action=s}function cj(i){var s=Yt(),c=ct;if(c!==null)return oj(s,c,i);Yt(),s=s.memoizedState,c=Yt();var f=c.queue.dispatch;return c.memoizedState=i,[s,f,!1]}function fl(i,s,c,f){return i={tag:i,create:c,deps:f,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Cu(),Fe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,s.lastEffect=i),i}function uj(){return Yt().memoizedState}function Mu(i,s,c,f){var v=Rn();Fe.flags|=i,v.memoizedState=fl(1|s,{destroy:void 0},c,f===void 0?null:f)}function ku(i,s,c,f){var v=Yt();f=f===void 0?null:f;var j=v.memoizedState.inst;ct!==null&&f!==null&&gm(f,ct.memoizedState.deps)?v.memoizedState=fl(s,j,c,f):(Fe.flags|=i,v.memoizedState=fl(1|s,j,c,f))}function dj(i,s){Mu(8390656,8,i,s)}function Tm(i,s){ku(2048,8,i,s)}function Wk(i){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Cu(),Fe.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function fj(i){var s=Yt().memoizedState;return Wk({ref:s,nextImpl:i}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function hj(i,s){return ku(4,2,i,s)}function mj(i,s){return ku(4,4,i,s)}function pj(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function gj(i,s,c){c=c!=null?c.concat([i]):null,ku(4,4,pj.bind(null,s,i),c)}function Cm(){}function yj(i,s){var c=Yt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&gm(s,f[1])?f[0]:(c.memoizedState=[i,s],i)}function vj(i,s){var c=Yt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&gm(s,f[1]))return f[0];if(f=i(),us){oi(!0);try{i()}finally{oi(!1)}}return c.memoizedState=[f,s],f}function Om(i,s,c){return c===void 0||(Sa&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=x1(),Fe.lanes|=i,Si|=i,c)}function xj(i,s,c,f){return ar(c,s)?c:cl.current!==null?(i=Om(i,c,f),ar(i,s)||(Jt=!0),i):(Sa&42)===0||(Sa&1073741824)!==0&&(Xe&261930)===0?(Jt=!0,i.memoizedState=c):(i=x1(),Fe.lanes|=i,Si|=i,s)}function bj(i,s,c,f,v){var j=k.p;k.p=j!==0&&8>j?j:8;var z=C.T,I={};C.T=I,km(i,!1,s,c);try{var Y=v(),se=C.S;if(se!==null&&se(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var fe=Lk(Y,f);Do(i,s,fe,ur(i))}else Do(i,s,f,ur(i))}catch(pe){Do(i,s,{then:function(){},status:"rejected",reason:pe},ur())}finally{k.p=j,z!==null&&I.types!==null&&(z.types=I.types),C.T=z}}function Hk(){}function Dm(i,s,c,f){if(i.tag!==5)throw Error(r(476));var v=jj(i).queue;bj(i,v,s,_,c===null?Hk:function(){return Sj(i),c(f)})}function jj(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:_},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Sj(i){var s=jj(i);s.next===null&&(s=i.alternate.memoizedState),Do(i,s.next.queue,{},ur())}function Mm(){return An(Ho)}function Aj(){return Yt().memoizedState}function wj(){return Yt().memoizedState}function Kk(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=ur();i=gi(c);var f=yi(s,i,c);f!==null&&(Zn(f,s,c),wo(f,s,c)),s={cache:im()},i.payload=s;return}s=s.return}}function Vk(i,s,c){var f=ur();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nu(i)?Tj(s,c):(c=Vh(i,s,c,f),c!==null&&(Zn(c,i,f),Cj(c,s,f)))}function Ej(i,s,c){var f=ur();Do(i,s,c,f)}function Do(i,s,c,f){var v={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nu(i))Tj(s,v);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var z=s.lastRenderedState,I=j(z,c);if(v.hasEagerState=!0,v.eagerState=I,ar(I,z))return fu(i,s,v,0),yt===null&&du(),!1}catch{}finally{}if(c=Vh(i,s,v,f),c!==null)return Zn(c,i,f),Cj(c,s,f),!0}return!1}function km(i,s,c,f){if(f={lane:2,revertLane:cp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Nu(i)){if(s)throw Error(r(479))}else s=Vh(i,c,f,2),s!==null&&Zn(s,i,2)}function Nu(i){var s=i.alternate;return i===Fe||s!==null&&s===Fe}function Tj(i,s){ul=Eu=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function Cj(i,s,c){if((c&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Nx(i,c)}}var Mo={readContext:An,use:Ou,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Mo.useEffectEvent=Wt;var Oj={readContext:An,use:Ou,useCallback:function(i,s){return Rn().memoizedState=[i,s===void 0?null:s],i},useContext:An,useEffect:dj,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Mu(4194308,4,pj.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Mu(4194308,4,i,s)},useInsertionEffect:function(i,s){Mu(4,2,i,s)},useMemo:function(i,s){var c=Rn();s=s===void 0?null:s;var f=i();if(us){oi(!0);try{i()}finally{oi(!1)}}return c.memoizedState=[f,s],f},useReducer:function(i,s,c){var f=Rn();if(c!==void 0){var v=c(s);if(us){oi(!0);try{c(s)}finally{oi(!1)}}}else v=s;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=Vk.bind(null,Fe,i),[f.memoizedState,i]},useRef:function(i){var s=Rn();return i={current:i},s.memoizedState=i},useState:function(i){i=wm(i);var s=i.queue,c=Ej.bind(null,Fe,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:Cm,useDeferredValue:function(i,s){var c=Rn();return Om(c,i,s)},useTransition:function(){var i=wm(!1);return i=bj.bind(null,Fe,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var f=Fe,v=Rn();if(Ze){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),yt===null)throw Error(r(349));(Xe&127)!==0||Yb(f,s,c)}v.memoizedState=c;var j={value:c,getSnapshot:s};return v.queue=j,dj(Qb.bind(null,f,j,i),[i]),f.flags|=2048,fl(9,{destroy:void 0},Xb.bind(null,f,j,c,s),null),c},useId:function(){var i=Rn(),s=yt.identifierPrefix;if(Ze){var c=ia,f=aa;c=(f&~(1<<32-rr(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Tu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Uk++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Mm,useFormState:sj,useActionState:sj,useOptimistic:function(i){var s=Rn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=km.bind(null,Fe,!0,c),c.dispatch=s,[i,s]},useMemoCache:jm,useCacheRefresh:function(){return Rn().memoizedState=Kk.bind(null,Fe)},useEffectEvent:function(i){var s=Rn(),c={impl:i};return s.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Nm={readContext:An,use:Ou,useCallback:yj,useContext:An,useEffect:Tm,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:mj,useMemo:vj,useReducer:Du,useRef:uj,useState:function(){return Du(Aa)},useDebugValue:Cm,useDeferredValue:function(i,s){var c=Yt();return xj(c,ct.memoizedState,i,s)},useTransition:function(){var i=Du(Aa)[0],s=Yt().memoizedState;return[typeof i=="boolean"?i:Oo(i),s]},useSyncExternalStore:Vb,useId:Aj,useHostTransitionStatus:Mm,useFormState:lj,useActionState:lj,useOptimistic:function(i,s){var c=Yt();return ej(c,ct,i,s)},useMemoCache:jm,useCacheRefresh:wj};Nm.useEffectEvent=fj;var Dj={readContext:An,use:Ou,useCallback:yj,useContext:An,useEffect:Tm,useImperativeHandle:gj,useInsertionEffect:hj,useLayoutEffect:mj,useMemo:vj,useReducer:Am,useRef:uj,useState:function(){return Am(Aa)},useDebugValue:Cm,useDeferredValue:function(i,s){var c=Yt();return ct===null?Om(c,i,s):xj(c,ct.memoizedState,i,s)},useTransition:function(){var i=Am(Aa)[0],s=Yt().memoizedState;return[typeof i=="boolean"?i:Oo(i),s]},useSyncExternalStore:Vb,useId:Aj,useHostTransitionStatus:Mm,useFormState:cj,useActionState:cj,useOptimistic:function(i,s){var c=Yt();return ct!==null?ej(c,ct,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:jm,useCacheRefresh:wj};Dj.useEffectEvent=fj;function zm(i,s,c,f){s=i.memoizedState,c=c(f,s),c=c==null?s:g({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Pm={enqueueSetState:function(i,s,c){i=i._reactInternals;var f=ur(),v=gi(f);v.payload=s,c!=null&&(v.callback=c),s=yi(i,v,f),s!==null&&(Zn(s,i,f),wo(s,i,f))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var f=ur(),v=gi(f);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=yi(i,v,f),s!==null&&(Zn(s,i,f),wo(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=ur(),f=gi(c);f.tag=2,s!=null&&(f.callback=s),s=yi(i,f,c),s!==null&&(Zn(s,i,c),wo(s,i,c))}};function Mj(i,s,c,f,v,j,z){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,j,z):s.prototype&&s.prototype.isPureReactComponent?!go(c,f)||!go(v,j):!0}function kj(i,s,c,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==i&&Pm.enqueueReplaceState(s,s.state,null)}function ds(i,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(i=i.defaultProps){c===s&&(c=g({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function Nj(i){uu(i)}function zj(i){console.error(i)}function Pj(i){uu(i)}function zu(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function _j(i,s,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function _m(i,s,c){return c=gi(c),c.tag=3,c.payload={element:null},c.callback=function(){zu(i,s)},c}function Rj(i){return i=gi(i),i.tag=3,i}function Bj(i,s,c,f){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var j=f.value;i.payload=function(){return v(j)},i.callback=function(){_j(s,c,f)}}var z=c.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(i.callback=function(){_j(s,c,f),typeof v!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function Yk(i,s,c,f,v){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&al(s,c,v,!0),c=sr.current,c!==null){switch(c.tag){case 31:case 13:return Mr===null?Wu():c.alternate===null&&Ht===0&&(Ht=3),c.flags&=-257,c.flags|=65536,c.lanes=v,f===bu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),sp(i,f,v)),!1;case 22:return c.flags|=65536,f===bu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),sp(i,f,v)),!1}throw Error(r(435,c.tag))}return sp(i,f,v),Wu(),!1}if(Ze)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==em&&(i=Error(r(422),{cause:f}),xo(Tr(i,c)))):(f!==em&&(s=Error(r(423),{cause:f}),xo(Tr(s,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=Tr(f,c),v=_m(i.stateNode,f,v),dm(i,v),Ht!==4&&(Ht=2)),!1;var j=Error(r(520),{cause:f});if(j=Tr(j,c),Io===null?Io=[j]:Io.push(j),Ht!==4&&(Ht=2),s===null)return!0;f=Tr(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=_m(c.stateNode,f,i),dm(c,i),!1;case 1:if(s=c.type,j=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ai===null||!Ai.has(j))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Rj(v),Bj(v,i,c,f),dm(c,v),!1}c=c.return}while(c!==null);return!1}var Rm=Error(r(461)),Jt=!1;function wn(i,s,c,f){s.child=i===null?Ub(s,null,c,f):cs(s,i.child,c,f)}function Ij(i,s,c,f,v){c=c.render;var j=s.ref;if("ref"in f){var z={};for(var I in f)I!=="ref"&&(z[I]=f[I])}else z=f;return is(s),f=ym(i,s,c,z,j,v),I=vm(),i!==null&&!Jt?(xm(i,s,v),wa(i,s,v)):(Ze&&I&&Zh(s),s.flags|=1,wn(i,s,f,v),s.child)}function $j(i,s,c,f,v){if(i===null){var j=c.type;return typeof j=="function"&&!Yh(j)&&j.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=j,Lj(i,s,j,f,v)):(i=mu(c.type,null,f,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(j=i.child,!qm(i,v)){var z=j.memoizedProps;if(c=c.compare,c=c!==null?c:go,c(z,f)&&i.ref===s.ref)return wa(i,s,v)}return s.flags|=1,i=va(j,f),i.ref=s.ref,i.return=s,s.child=i}function Lj(i,s,c,f,v){if(i!==null){var j=i.memoizedProps;if(go(j,f)&&i.ref===s.ref)if(Jt=!1,s.pendingProps=f=j,qm(i,v))(i.flags&131072)!==0&&(Jt=!0);else return s.lanes=i.lanes,wa(i,s,v)}return Bm(i,s,c,f,v)}function Uj(i,s,c,f){var v=f.children,j=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(j=j!==null?j.baseLanes|c:c,i!==null){for(f=s.child=i.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~j}else f=0,s.child=null;return Gj(i,s,j,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&vu(s,j!==null?j.cachePool:null),j!==null?qb(s,j):hm(),Wb(s);else return f=s.lanes=536870912,Gj(i,s,j!==null?j.baseLanes|c:c,c,f)}else j!==null?(vu(s,j.cachePool),qb(s,j),xi(),s.memoizedState=null):(i!==null&&vu(s,null),hm(),xi());return wn(i,s,v,c),s.child}function ko(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Gj(i,s,c,f,v){var j=lm();return j=j===null?null:{parent:Qt._currentValue,pool:j},s.memoizedState={baseLanes:c,cachePool:j},i!==null&&vu(s,null),hm(),Wb(s),i!==null&&al(i,s,f,!0),s.childLanes=v,null}function Pu(i,s){return s=Ru({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Fj(i,s,c){return cs(s,i.child,null,c),i=Pu(s,s.pendingProps),i.flags|=2,lr(s),s.memoizedState=null,i}function Xk(i,s,c){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ze){if(f.mode==="hidden")return i=Pu(s,f),s.lanes=536870912,ko(null,i);if(pm(s),(i=wt)?(i=tS(i,Dr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:di!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},c=Tb(i),c.return=s,s.child=c,Sn=s,wt=null)):i=null,i===null)throw hi(s);return s.lanes=536870912,null}return Pu(s,f)}var j=i.memoizedState;if(j!==null){var z=j.dehydrated;if(pm(s),v)if(s.flags&256)s.flags&=-257,s=Fj(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Jt||al(i,s,c,!1),v=(c&i.childLanes)!==0,Jt||v){if(f=yt,f!==null&&(z=zx(f,c),z!==0&&z!==j.retryLane))throw j.retryLane=z,ts(i,z),Zn(f,i,z),Rm;Wu(),s=Fj(i,s,c)}else i=j.treeContext,wt=kr(z.nextSibling),Sn=s,Ze=!0,fi=null,Dr=!1,i!==null&&Db(s,i),s=Pu(s,f),s.flags|=4096;return s}return i=va(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function _u(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Bm(i,s,c,f,v){return is(s),c=ym(i,s,c,f,void 0,v),f=vm(),i!==null&&!Jt?(xm(i,s,v),wa(i,s,v)):(Ze&&f&&Zh(s),s.flags|=1,wn(i,s,c,v),s.child)}function qj(i,s,c,f,v,j){return is(s),s.updateQueue=null,c=Kb(s,f,c,v),Hb(i),f=vm(),i!==null&&!Jt?(xm(i,s,j),wa(i,s,j)):(Ze&&f&&Zh(s),s.flags|=1,wn(i,s,c,j),s.child)}function Wj(i,s,c,f,v){if(is(s),s.stateNode===null){var j=el,z=c.contextType;typeof z=="object"&&z!==null&&(j=An(z)),j=new c(f,j),s.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Pm,s.stateNode=j,j._reactInternals=s,j=s.stateNode,j.props=f,j.state=s.memoizedState,j.refs={},cm(s),z=c.contextType,j.context=typeof z=="object"&&z!==null?An(z):el,j.state=s.memoizedState,z=c.getDerivedStateFromProps,typeof z=="function"&&(zm(s,c,z,f),j.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(z=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),z!==j.state&&Pm.enqueueReplaceState(j,j.state,null),To(s,f,j,v),Eo(),j.state=s.memoizedState),typeof j.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){j=s.stateNode;var I=s.memoizedProps,Y=ds(c,I);j.props=Y;var se=j.context,fe=c.contextType;z=el,typeof fe=="object"&&fe!==null&&(z=An(fe));var pe=c.getDerivedStateFromProps;fe=typeof pe=="function"||typeof j.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(I||se!==z)&&kj(s,j,f,z),pi=!1;var ce=s.memoizedState;j.state=ce,To(s,f,j,v),Eo(),se=s.memoizedState,I||ce!==se||pi?(typeof pe=="function"&&(zm(s,c,pe,f),se=s.memoizedState),(Y=pi||Mj(s,c,Y,f,ce,se,z))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=se),j.props=f,j.state=se,j.context=z,f=Y):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{j=s.stateNode,um(i,s),z=s.memoizedProps,fe=ds(c,z),j.props=fe,pe=s.pendingProps,ce=j.context,se=c.contextType,Y=el,typeof se=="object"&&se!==null&&(Y=An(se)),I=c.getDerivedStateFromProps,(se=typeof I=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(z!==pe||ce!==Y)&&kj(s,j,f,Y),pi=!1,ce=s.memoizedState,j.state=ce,To(s,f,j,v),Eo();var de=s.memoizedState;z!==pe||ce!==de||pi||i!==null&&i.dependencies!==null&&gu(i.dependencies)?(typeof I=="function"&&(zm(s,c,I,f),de=s.memoizedState),(fe=pi||Mj(s,c,fe,f,ce,de,Y)||i!==null&&i.dependencies!==null&&gu(i.dependencies))?(se||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,de,Y),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,de,Y)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=de),j.props=f,j.state=de,j.context=Y,f=fe):(typeof j.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(s.flags|=1024),f=!1)}return j=f,_u(i,s),f=(s.flags&128)!==0,j||f?(j=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:j.render(),s.flags|=1,i!==null&&f?(s.child=cs(s,i.child,null,v),s.child=cs(s,null,c,v)):wn(i,s,c,v),s.memoizedState=j.state,i=s.child):i=wa(i,s,v),i}function Hj(i,s,c,f){return rs(),s.flags|=256,wn(i,s,c,f),s.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $m(i){return{baseLanes:i,cachePool:_b()}}function Lm(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=cr),i}function Kj(i,s,c){var f=s.pendingProps,v=!1,j=(s.flags&128)!==0,z;if((z=j)||(z=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),z&&(v=!0,s.flags&=-129),z=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ze){if(v?vi(s):xi(),(i=wt)?(i=tS(i,Dr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:di!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},c=Tb(i),c.return=s,s.child=c,Sn=s,wt=null)):i=null,i===null)throw hi(s);return Sp(i)?s.lanes=32:s.lanes=536870912,null}var I=f.children;return f=f.fallback,v?(xi(),v=s.mode,I=Ru({mode:"hidden",children:I},v),f=ns(f,v,c,null),I.return=s,f.return=s,I.sibling=f,s.child=I,f=s.child,f.memoizedState=$m(c),f.childLanes=Lm(i,z,c),s.memoizedState=Im,ko(null,f)):(vi(s),Um(s,I))}var Y=i.memoizedState;if(Y!==null&&(I=Y.dehydrated,I!==null)){if(j)s.flags&256?(vi(s),s.flags&=-257,s=Gm(i,s,c)):s.memoizedState!==null?(xi(),s.child=i.child,s.flags|=128,s=null):(xi(),I=f.fallback,v=s.mode,f=Ru({mode:"visible",children:f.children},v),I=ns(I,v,c,null),I.flags|=2,f.return=s,I.return=s,f.sibling=I,s.child=f,cs(s,i.child,null,c),f=s.child,f.memoizedState=$m(c),f.childLanes=Lm(i,z,c),s.memoizedState=Im,s=ko(null,f));else if(vi(s),Sp(I)){if(z=I.nextSibling&&I.nextSibling.dataset,z)var se=z.dgst;z=se,f=Error(r(419)),f.stack="",f.digest=z,xo({value:f,source:null,stack:null}),s=Gm(i,s,c)}else if(Jt||al(i,s,c,!1),z=(c&i.childLanes)!==0,Jt||z){if(z=yt,z!==null&&(f=zx(z,c),f!==0&&f!==Y.retryLane))throw Y.retryLane=f,ts(i,f),Zn(z,i,f),Rm;jp(I)||Wu(),s=Gm(i,s,c)}else jp(I)?(s.flags|=192,s.child=i.child,s=null):(i=Y.treeContext,wt=kr(I.nextSibling),Sn=s,Ze=!0,fi=null,Dr=!1,i!==null&&Db(s,i),s=Um(s,f.children),s.flags|=4096);return s}return v?(xi(),I=f.fallback,v=s.mode,Y=i.child,se=Y.sibling,f=va(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,se!==null?I=va(se,I):(I=ns(I,v,c,null),I.flags|=2),I.return=s,f.return=s,f.sibling=I,s.child=f,ko(null,f),f=s.child,I=i.child.memoizedState,I===null?I=$m(c):(v=I.cachePool,v!==null?(Y=Qt._currentValue,v=v.parent!==Y?{parent:Y,pool:Y}:v):v=_b(),I={baseLanes:I.baseLanes|c,cachePool:v}),f.memoizedState=I,f.childLanes=Lm(i,z,c),s.memoizedState=Im,ko(i.child,f)):(vi(s),c=i.child,i=c.sibling,c=va(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,i!==null&&(z=s.deletions,z===null?(s.deletions=[i],s.flags|=16):z.push(i)),s.child=c,s.memoizedState=null,c)}function Um(i,s){return s=Ru({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ru(i,s){return i=ir(22,i,null,s),i.lanes=0,i}function Gm(i,s,c){return cs(s,i.child,null,c),i=Um(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Vj(i,s,c){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),rm(i.return,s,c)}function Fm(i,s,c,f,v,j){var z=i.memoizedState;z===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v,treeForkCount:j}:(z.isBackwards=s,z.rendering=null,z.renderingStartTime=0,z.last=f,z.tail=c,z.tailMode=v,z.treeForkCount=j)}function Yj(i,s,c){var f=s.pendingProps,v=f.revealOrder,j=f.tail;f=f.children;var z=Vt.current,I=(z&2)!==0;if(I?(z=z&1|2,s.flags|=128):z&=1,J(Vt,z),wn(i,s,f,c),f=Ze?vo:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vj(i,c,s);else if(i.tag===19)Vj(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)i=c.alternate,i!==null&&wu(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Fm(s,!1,v,c,j,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&wu(i)===null){s.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}Fm(s,!0,c,null,j,f);break;case"together":Fm(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function wa(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Si|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(al(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=va(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=va(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function qm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&gu(i)))}function Qk(i,s,c){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),mi(s,Qt,i.memoizedState.cache),rs();break;case 27:case 5:he(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:mi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pm(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(vi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Kj(i,s,c):(vi(s),i=wa(i,s,c),i!==null?i.sibling:null);vi(s);break;case 19:var v=(i.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(al(i,s,c,!1),f=(c&s.childLanes)!==0),v){if(f)return Yj(i,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),J(Vt,Vt.current),f)break;return null;case 22:return s.lanes=0,Uj(i,s,c,s.pendingProps);case 24:mi(s,Qt,i.memoizedState.cache)}return wa(i,s,c)}function Xj(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Jt=!0;else{if(!qm(i,c)&&(s.flags&128)===0)return Jt=!1,Qk(i,s,c);Jt=(i.flags&131072)!==0}else Jt=!1,Ze&&(s.flags&1048576)!==0&&Ob(s,vo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=ls(s.elementType),s.type=i,typeof i=="function")Yh(i)?(f=ds(i,f),s.tag=1,s=Wj(null,s,i,f,c)):(s.tag=0,s=Bm(null,s,i,f,c));else{if(i!=null){var v=i.$$typeof;if(v===P){s.tag=11,s=Ij(null,s,i,f,c);break e}else if(v===N){s.tag=14,s=$j(null,s,i,f,c);break e}}throw s=ee(i)||i,Error(r(306,s,""))}}return s;case 0:return Bm(i,s,s.type,s.pendingProps,c);case 1:return f=s.type,v=ds(f,s.pendingProps),Wj(i,s,f,v,c);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var j=s.memoizedState;v=j.element,um(i,s),To(s,f,null,c);var z=s.memoizedState;if(f=z.cache,mi(s,Qt,f),f!==j.cache&&am(s,[Qt],c,!0),Eo(),f=z.element,j.isDehydrated)if(j={element:f,isDehydrated:!1,cache:z.cache},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){s=Hj(i,s,f,c);break e}else if(f!==v){v=Tr(Error(r(424)),s),xo(v),s=Hj(i,s,f,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=kr(i.firstChild),Sn=s,Ze=!0,fi=null,Dr=!0,c=Ub(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(rs(),f===v){s=wa(i,s,c);break e}wn(i,s,f,c)}s=s.child}return s;case 26:return _u(i,s),i===null?(c=lS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ze||(c=s.type,i=s.pendingProps,f=Zu(ne.current).createElement(c),f[jn]=s,f[Hn]=i,En(f,c,i),mn(f),s.stateNode=f):s.memoizedState=lS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return he(s),i===null&&Ze&&(f=s.stateNode=aS(s.type,s.pendingProps,ne.current),Sn=s,Dr=!0,v=wt,Ci(s.type)?(Ap=v,wt=kr(f.firstChild)):wt=v),wn(i,s,s.pendingProps.children,c),_u(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ze&&((v=f=wt)&&(f=C3(f,s.type,s.pendingProps,Dr),f!==null?(s.stateNode=f,Sn=s,wt=kr(f.firstChild),Dr=!1,v=!0):v=!1),v||hi(s)),he(s),v=s.type,j=s.pendingProps,z=i!==null?i.memoizedProps:null,f=j.children,vp(v,j)?f=null:z!==null&&vp(v,z)&&(s.flags|=32),s.memoizedState!==null&&(v=ym(i,s,Gk,null,null,c),Ho._currentValue=v),_u(i,s),wn(i,s,f,c),s.child;case 6:return i===null&&Ze&&((i=c=wt)&&(c=O3(c,s.pendingProps,Dr),c!==null?(s.stateNode=c,Sn=s,wt=null,i=!0):i=!1),i||hi(s)),null;case 13:return Kj(i,s,c);case 4:return ve(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=cs(s,null,f,c):wn(i,s,f,c),s.child;case 11:return Ij(i,s,s.type,s.pendingProps,c);case 7:return wn(i,s,s.pendingProps,c),s.child;case 8:return wn(i,s,s.pendingProps.children,c),s.child;case 12:return wn(i,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,mi(s,s.type,f.value),wn(i,s,f.children,c),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,is(s),v=An(v),f=f(v),s.flags|=1,wn(i,s,f,c),s.child;case 14:return $j(i,s,s.type,s.pendingProps,c);case 15:return Lj(i,s,s.type,s.pendingProps,c);case 19:return Yj(i,s,c);case 31:return Xk(i,s,c);case 22:return Uj(i,s,c,s.pendingProps);case 24:return is(s),f=An(Qt),i===null?(v=lm(),v===null&&(v=yt,j=im(),v.pooledCache=j,j.refCount++,j!==null&&(v.pooledCacheLanes|=c),v=j),s.memoizedState={parent:f,cache:v},cm(s),mi(s,Qt,v)):((i.lanes&c)!==0&&(um(i,s),To(s,null,null,c),Eo()),v=i.memoizedState,j=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),mi(s,Qt,f)):(f=j.cache,mi(s,Qt,f),f!==v.cache&&am(s,[Qt],c,!0))),wn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ea(i){i.flags|=4}function Wm(i,s,c,f,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(A1())i.flags|=8192;else throw os=bu,om}else i.flags&=-16777217}function Qj(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!fS(s))if(A1())i.flags|=8192;else throw os=bu,om}function Bu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Mx():536870912,i.lanes|=s,gl|=s)}function No(i,s){if(!Ze)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Et(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(s)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=c,s}function Zk(i,s,c){var f=s.pendingProps;switch(Jh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return c=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ja(Qt),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(rl(s)?Ea(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tm())),Et(s),null;case 26:var v=s.type,j=s.memoizedState;return i===null?(Ea(s),j!==null?(Et(s),Qj(s,j)):(Et(s),Wm(s,v,null,f,c))):j?j!==i.memoizedState?(Ea(s),Et(s),Qj(s,j)):(Et(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&Ea(s),Et(s),Wm(s,v,i,f,c)),null;case 27:if(be(s),c=ne.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ea(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Et(s),null}i=H.current,rl(s)?Mb(s):(i=aS(v,f,c),s.stateNode=i,Ea(s))}return Et(s),null;case 5:if(be(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ea(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Et(s),null}if(j=H.current,rl(s))Mb(s);else{var z=Zu(ne.current);switch(j){case 1:j=z.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:j=z.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":j=z.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":j=z.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":j=z.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof f.is=="string"?z.createElement("select",{is:f.is}):z.createElement("select"),f.multiple?j.multiple=!0:f.size&&(j.size=f.size);break;default:j=typeof f.is=="string"?z.createElement(v,{is:f.is}):z.createElement(v)}}j[jn]=s,j[Hn]=f;e:for(z=s.child;z!==null;){if(z.tag===5||z.tag===6)j.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===s)break e;for(;z.sibling===null;){if(z.return===null||z.return===s)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}s.stateNode=j;e:switch(En(j,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ea(s)}}return Et(s),Wm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Ea(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=ne.current,rl(s)){if(i=s.stateNode,c=s.memoizedProps,f=null,v=Sn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[jn]=s,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||K1(i.nodeValue,c)),i||hi(s,!0)}else i=Zu(i).createTextNode(f),i[jn]=s,s.stateNode=i}return Et(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(f=rl(s),c!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[jn]=s}else rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),i=!1}else c=tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(lr(s),s):(lr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Et(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=rl(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[jn]=s}else rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),v=!1}else v=tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(lr(s),s):(lr(s),null)}return lr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,i=i!==null&&i.memoizedState!==null,c&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),j=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==v&&(f.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),Bu(s,s.updateQueue),Et(s),null);case 4:return Z(),i===null&&hp(s.stateNode.containerInfo),Et(s),null;case 10:return ja(s.type),Et(s),null;case 19:if(G(Vt),f=s.memoizedState,f===null)return Et(s),null;if(v=(s.flags&128)!==0,j=f.rendering,j===null)if(v)No(f,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(j=wu(i),j!==null){for(s.flags|=128,No(f,!1),i=j.updateQueue,s.updateQueue=i,Bu(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Eb(c,i),c=c.sibling;return J(Vt,Vt.current&1|2),Ze&&xa(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&it()>Gu&&(s.flags|=128,v=!0,No(f,!1),s.lanes=4194304)}else{if(!v)if(i=wu(j),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Bu(s,i),No(f,!0),f.tail===null&&f.tailMode==="hidden"&&!j.alternate&&!Ze)return Et(s),null}else 2*it()-f.renderingStartTime>Gu&&c!==536870912&&(s.flags|=128,v=!0,No(f,!1),s.lanes=4194304);f.isBackwards?(j.sibling=s.child,s.child=j):(i=f.last,i!==null?i.sibling=j:s.child=j,f.last=j)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=it(),i.sibling=null,c=Vt.current,J(Vt,v?c&1|2:c&1),Ze&&xa(s,f.treeForkCount),i):(Et(s),null);case 22:case 23:return lr(s),mm(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),c=s.updateQueue,c!==null&&Bu(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),i!==null&&G(ss),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ja(Qt),Et(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Jk(i,s){switch(Jh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ja(Qt),Z(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return be(s),null;case 31:if(s.memoizedState!==null){if(lr(s),s.alternate===null)throw Error(r(340));rs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(lr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));rs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return G(Vt),null;case 4:return Z(),null;case 10:return ja(s.type),null;case 22:case 23:return lr(s),mm(),i!==null&&G(ss),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ja(Qt),null;case 25:return null;default:return null}}function Zj(i,s){switch(Jh(s),s.tag){case 3:ja(Qt),Z();break;case 26:case 27:case 5:be(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&lr(s);break;case 13:lr(s);break;case 19:G(Vt);break;case 10:ja(s.type);break;case 22:case 23:lr(s),mm(),i!==null&&G(ss);break;case 24:ja(Qt)}}function zo(i,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var v=f.next;c=v;do{if((c.tag&i)===i){f=void 0;var j=c.create,z=c.inst;f=j(),z.destroy=f}c=c.next}while(c!==v)}}catch(I){lt(s,s.return,I)}}function bi(i,s,c){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var j=v.next;f=j;do{if((f.tag&i)===i){var z=f.inst,I=z.destroy;if(I!==void 0){z.destroy=void 0,v=s;var Y=c,se=I;try{se()}catch(fe){lt(v,Y,fe)}}}f=f.next}while(f!==j)}}catch(fe){lt(s,s.return,fe)}}function Jj(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Fb(s,c)}catch(f){lt(i,i.return,f)}}}function e1(i,s,c){c.props=ds(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){lt(i,s,f)}}function Po(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(v){lt(i,s,v)}}function sa(i,s){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(v){lt(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){lt(i,s,v)}else c.current=null}function t1(i){var s=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(v){lt(i,i.return,v)}}function Hm(i,s,c){try{var f=i.stateNode;j3(f,i.type,c,s),f[Hn]=s}catch(v){lt(i,i.return,v)}}function n1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ci(i.type)||i.tag===4}function Km(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||n1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ci(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vm(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ga));else if(f!==4&&(f===27&&Ci(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Vm(i,s,c),i=i.sibling;i!==null;)Vm(i,s,c),i=i.sibling}function Iu(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(f!==4&&(f===27&&Ci(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Iu(i,s,c),i=i.sibling;i!==null;)Iu(i,s,c),i=i.sibling}function r1(i){var s=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);En(s,f,c),s[jn]=i,s[Hn]=c}catch(j){lt(i,i.return,j)}}var Ta=!1,en=!1,Ym=!1,a1=typeof WeakSet=="function"?WeakSet:Set,pn=null;function e3(i,s){if(i=i.containerInfo,gp=id,i=gb(i),Gh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,j=f.focusNode;f=f.focusOffset;try{c.nodeType,j.nodeType}catch{c=null;break e}var z=0,I=-1,Y=-1,se=0,fe=0,pe=i,ce=null;t:for(;;){for(var de;pe!==c||v!==0&&pe.nodeType!==3||(I=z+v),pe!==j||f!==0&&pe.nodeType!==3||(Y=z+f),pe.nodeType===3&&(z+=pe.nodeValue.length),(de=pe.firstChild)!==null;)ce=pe,pe=de;for(;;){if(pe===i)break t;if(ce===c&&++se===v&&(I=z),ce===j&&++fe===f&&(Y=z),(de=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=de}c=I===-1||Y===-1?null:{start:I,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(yp={focusedElem:i,selectionRange:c},id=!1,pn=s;pn!==null;)if(s=pn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,pn=i;else for(;pn!==null;){switch(s=pn,j=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,c=s,v=j.memoizedProps,j=j.memoizedState,f=c.stateNode;try{var ke=ds(c.type,v);i=f.getSnapshotBeforeUpdate(ke,j),f.__reactInternalSnapshotBeforeUpdate=i}catch(Be){lt(c,c.return,Be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)bp(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pn=i;break}pn=s.return}}function i1(i,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Oa(i,c),f&4&&zo(5,c);break;case 1:if(Oa(i,c),f&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(z){lt(c,c.return,z)}else{var v=ds(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(z){lt(c,c.return,z)}}f&64&&Jj(c),f&512&&Po(c,c.return);break;case 3:if(Oa(i,c),f&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Fb(i,s)}catch(z){lt(c,c.return,z)}}break;case 27:s===null&&f&4&&r1(c);case 26:case 5:Oa(i,c),s===null&&f&4&&t1(c),f&512&&Po(c,c.return);break;case 12:Oa(i,c);break;case 31:Oa(i,c),f&4&&o1(i,c);break;case 13:Oa(i,c),f&4&&c1(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=c3.bind(null,c),D3(i,c))));break;case 22:if(f=c.memoizedState!==null||Ta,!f){s=s!==null&&s.memoizedState!==null||en,v=Ta;var j=en;Ta=f,(en=s)&&!j?Da(i,c,(c.subtreeFlags&8772)!==0):Oa(i,c),Ta=v,en=j}break;case 30:break;default:Oa(i,c)}}function s1(i){var s=i.alternate;s!==null&&(i.alternate=null,s1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Eh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dt=null,Vn=!1;function Ca(i,s,c){for(c=c.child;c!==null;)l1(i,s,c),c=c.sibling}function l1(i,s,c){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Yi,c)}catch{}switch(c.tag){case 26:en||sa(c,s),Ca(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||sa(c,s);var f=Dt,v=Vn;Ci(c.type)&&(Dt=c.stateNode,Vn=!1),Ca(i,s,c),Fo(c.stateNode),Dt=f,Vn=v;break;case 5:en||sa(c,s);case 6:if(f=Dt,v=Vn,Dt=null,Ca(i,s,c),Dt=f,Vn=v,Dt!==null)if(Vn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(c.stateNode)}catch(j){lt(c,s,j)}else try{Dt.removeChild(c.stateNode)}catch(j){lt(c,s,j)}break;case 18:Dt!==null&&(Vn?(i=Dt,J1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),wl(i)):J1(Dt,c.stateNode));break;case 4:f=Dt,v=Vn,Dt=c.stateNode.containerInfo,Vn=!0,Ca(i,s,c),Dt=f,Vn=v;break;case 0:case 11:case 14:case 15:bi(2,c,s),en||bi(4,c,s),Ca(i,s,c);break;case 1:en||(sa(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&e1(c,s,f)),Ca(i,s,c);break;case 21:Ca(i,s,c);break;case 22:en=(f=en)||c.memoizedState!==null,Ca(i,s,c),en=f;break;default:Ca(i,s,c)}}function o1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wl(i)}catch(c){lt(s,s.return,c)}}}function c1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wl(i)}catch(c){lt(s,s.return,c)}}function t3(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new a1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new a1),s;default:throw Error(r(435,i.tag))}}function $u(i,s){var c=t3(i);s.forEach(function(f){if(!c.has(f)){c.add(f);var v=u3.bind(null,i,f);f.then(v,v)}})}function Yn(i,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f],j=i,z=s,I=z;e:for(;I!==null;){switch(I.tag){case 27:if(Ci(I.type)){Dt=I.stateNode,Vn=!1;break e}break;case 5:Dt=I.stateNode,Vn=!1;break e;case 3:case 4:Dt=I.stateNode.containerInfo,Vn=!0;break e}I=I.return}if(Dt===null)throw Error(r(160));l1(j,z,v),Dt=null,Vn=!1,j=v.alternate,j!==null&&(j.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u1(s,i),s=s.sibling}var Vr=null;function u1(i,s){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yn(s,i),Xn(i),f&4&&(bi(3,i,i.return),zo(3,i),bi(5,i,i.return));break;case 1:Yn(s,i),Xn(i),f&512&&(en||c===null||sa(c,c.return)),f&64&&Ta&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var v=Vr;if(Yn(s,i),Xn(i),f&512&&(en||c===null||sa(c,c.return)),f&4){var j=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":j=v.getElementsByTagName("title")[0],(!j||j[so]||j[jn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=v.createElement(f),v.head.insertBefore(j,v.querySelector("head > title"))),En(j,f,c),j[jn]=i,mn(j),f=j;break e;case"link":var z=uS("link","href",v).get(f+(c.href||""));if(z){for(var I=0;I<z.length;I++)if(j=z[I],j.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&j.getAttribute("rel")===(c.rel==null?null:c.rel)&&j.getAttribute("title")===(c.title==null?null:c.title)&&j.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){z.splice(I,1);break t}}j=v.createElement(f),En(j,f,c),v.head.appendChild(j);break;case"meta":if(z=uS("meta","content",v).get(f+(c.content||""))){for(I=0;I<z.length;I++)if(j=z[I],j.getAttribute("content")===(c.content==null?null:""+c.content)&&j.getAttribute("name")===(c.name==null?null:c.name)&&j.getAttribute("property")===(c.property==null?null:c.property)&&j.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&j.getAttribute("charset")===(c.charSet==null?null:c.charSet)){z.splice(I,1);break t}}j=v.createElement(f),En(j,f,c),v.head.appendChild(j);break;default:throw Error(r(468,f))}j[jn]=i,mn(j),f=j}i.stateNode=f}else dS(v,i.type,i.stateNode);else i.stateNode=cS(v,f,i.memoizedProps);else j!==f?(j===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):j.count--,f===null?dS(v,i.type,i.stateNode):cS(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,c.memoizedProps)}break;case 27:Yn(s,i),Xn(i),f&512&&(en||c===null||sa(c,c.return)),c!==null&&f&4&&Hm(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Yn(s,i),Xn(i),f&512&&(en||c===null||sa(c,c.return)),i.flags&32){v=i.stateNode;try{Ks(v,"")}catch(ke){lt(i,i.return,ke)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,Hm(i,v,c!==null?c.memoizedProps:v)),f&1024&&(Ym=!0);break;case 6:if(Yn(s,i),Xn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(ke){lt(i,i.return,ke)}}break;case 3:if(td=null,v=Vr,Vr=Ju(s.containerInfo),Yn(s,i),Vr=v,Xn(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{wl(s.containerInfo)}catch(ke){lt(i,i.return,ke)}Ym&&(Ym=!1,d1(i));break;case 4:f=Vr,Vr=Ju(i.stateNode.containerInfo),Yn(s,i),Xn(i),Vr=f;break;case 12:Yn(s,i),Xn(i);break;case 31:Yn(s,i),Xn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,$u(i,f)));break;case 13:Yn(s,i),Xn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Uu=it()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,$u(i,f)));break;case 22:v=i.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,se=Ta,fe=en;if(Ta=se||v,en=fe||Y,Yn(s,i),en=fe,Ta=se,Xn(i),f&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||Y||Ta||en||fs(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){Y=c=s;try{if(j=Y.stateNode,v)z=j.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{I=Y.stateNode;var pe=Y.memoizedProps.style,ce=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;I.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(ke){lt(Y,Y.return,ke)}}}else if(s.tag===6){if(c===null){Y=s;try{Y.stateNode.nodeValue=v?"":Y.memoizedProps}catch(ke){lt(Y,Y.return,ke)}}}else if(s.tag===18){if(c===null){Y=s;try{var de=Y.stateNode;v?eS(de,!0):eS(Y.stateNode,!1)}catch(ke){lt(Y,Y.return,ke)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,$u(i,c))));break;case 19:Yn(s,i),Xn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,$u(i,f)));break;case 30:break;case 21:break;default:Yn(s,i),Xn(i)}}function Xn(i){var s=i.flags;if(s&2){try{for(var c,f=i.return;f!==null;){if(n1(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,j=Km(i);Iu(i,j,v);break;case 5:var z=c.stateNode;c.flags&32&&(Ks(z,""),c.flags&=-33);var I=Km(i);Iu(i,I,z);break;case 3:case 4:var Y=c.stateNode.containerInfo,se=Km(i);Vm(i,se,Y);break;default:throw Error(r(161))}}catch(fe){lt(i,i.return,fe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function d1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;d1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i1(i,s.alternate,s),s=s.sibling}function fs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:bi(4,s,s.return),fs(s);break;case 1:sa(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&e1(s,s.return,c),fs(s);break;case 27:Fo(s.stateNode);case 26:case 5:sa(s,s.return),fs(s);break;case 22:s.memoizedState===null&&fs(s);break;case 30:fs(s);break;default:fs(s)}i=i.sibling}}function Da(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=i,j=s,z=j.flags;switch(j.tag){case 0:case 11:case 15:Da(v,j,c),zo(4,j);break;case 1:if(Da(v,j,c),f=j,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){lt(f,f.return,se)}if(f=j,v=f.updateQueue,v!==null){var I=f.stateNode;try{var Y=v.shared.hiddenCallbacks;if(Y!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Y.length;v++)Gb(Y[v],I)}catch(se){lt(f,f.return,se)}}c&&z&64&&Jj(j),Po(j,j.return);break;case 27:r1(j);case 26:case 5:Da(v,j,c),c&&f===null&&z&4&&t1(j),Po(j,j.return);break;case 12:Da(v,j,c);break;case 31:Da(v,j,c),c&&z&4&&o1(v,j);break;case 13:Da(v,j,c),c&&z&4&&c1(v,j);break;case 22:j.memoizedState===null&&Da(v,j,c),Po(j,j.return);break;case 30:break;default:Da(v,j,c)}s=s.sibling}}function Xm(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&bo(c))}function Qm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bo(i))}function Yr(i,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f1(i,s,c,f),s=s.sibling}function f1(i,s,c,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(i,s,c,f),v&2048&&zo(9,s);break;case 1:Yr(i,s,c,f);break;case 3:Yr(i,s,c,f),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bo(i)));break;case 12:if(v&2048){Yr(i,s,c,f),i=s.stateNode;try{var j=s.memoizedProps,z=j.id,I=j.onPostCommit;typeof I=="function"&&I(z,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){lt(s,s.return,Y)}}else Yr(i,s,c,f);break;case 31:Yr(i,s,c,f);break;case 13:Yr(i,s,c,f);break;case 23:break;case 22:j=s.stateNode,z=s.alternate,s.memoizedState!==null?j._visibility&2?Yr(i,s,c,f):_o(i,s):j._visibility&2?Yr(i,s,c,f):(j._visibility|=2,hl(i,s,c,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Xm(z,s);break;case 24:Yr(i,s,c,f),v&2048&&Qm(s.alternate,s);break;default:Yr(i,s,c,f)}}function hl(i,s,c,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var j=i,z=s,I=c,Y=f,se=z.flags;switch(z.tag){case 0:case 11:case 15:hl(j,z,I,Y,v),zo(8,z);break;case 23:break;case 22:var fe=z.stateNode;z.memoizedState!==null?fe._visibility&2?hl(j,z,I,Y,v):_o(j,z):(fe._visibility|=2,hl(j,z,I,Y,v)),v&&se&2048&&Xm(z.alternate,z);break;case 24:hl(j,z,I,Y,v),v&&se&2048&&Qm(z.alternate,z);break;default:hl(j,z,I,Y,v)}s=s.sibling}}function _o(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,f=s,v=f.flags;switch(f.tag){case 22:_o(c,f),v&2048&&Xm(f.alternate,f);break;case 24:_o(c,f),v&2048&&Qm(f.alternate,f);break;default:_o(c,f)}s=s.sibling}}var Ro=8192;function ml(i,s,c){if(i.subtreeFlags&Ro)for(i=i.child;i!==null;)h1(i,s,c),i=i.sibling}function h1(i,s,c){switch(i.tag){case 26:ml(i,s,c),i.flags&Ro&&i.memoizedState!==null&&U3(c,Vr,i.memoizedState,i.memoizedProps);break;case 5:ml(i,s,c);break;case 3:case 4:var f=Vr;Vr=Ju(i.stateNode.containerInfo),ml(i,s,c),Vr=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Ro,Ro=16777216,ml(i,s,c),Ro=f):ml(i,s,c));break;default:ml(i,s,c)}}function m1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Bo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];pn=f,g1(f,i)}m1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p1(i),i=i.sibling}function p1(i){switch(i.tag){case 0:case 11:case 15:Bo(i),i.flags&2048&&bi(9,i,i.return);break;case 3:Bo(i);break;case 12:Bo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Lu(i)):Bo(i);break;default:Bo(i)}}function Lu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];pn=f,g1(f,i)}m1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:bi(8,s,s.return),Lu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Lu(s));break;default:Lu(s)}i=i.sibling}}function g1(i,s){for(;pn!==null;){var c=pn;switch(c.tag){case 0:case 11:case 15:bi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:bo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,pn=f;else e:for(c=i;pn!==null;){f=pn;var v=f.sibling,j=f.return;if(s1(f),f===c){pn=null;break e}if(v!==null){v.return=j,pn=v;break e}pn=j}}}var n3={getCacheForType:function(i){var s=An(Qt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return An(Qt).controller.signal}},r3=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,Ke=null,Xe=0,st=0,or=null,ji=!1,pl=!1,Zm=!1,Ma=0,Ht=0,Si=0,hs=0,Jm=0,cr=0,gl=0,Io=null,Qn=null,ep=!1,Uu=0,y1=0,Gu=1/0,Fu=null,Ai=null,an=0,wi=null,yl=null,ka=0,tp=0,np=null,v1=null,$o=0,rp=null;function ur(){return(at&2)!==0&&Xe!==0?Xe&-Xe:C.T!==null?cp():Px()}function x1(){if(cr===0)if((Xe&536870912)===0||Ze){var i=Qc;Qc<<=1,(Qc&3932160)===0&&(Qc=262144),cr=i}else cr=536870912;return i=sr.current,i!==null&&(i.flags|=32),cr}function Zn(i,s,c){(i===yt&&(st===2||st===9)||i.cancelPendingCommit!==null)&&(vl(i,0),Ei(i,Xe,cr,!1)),io(i,c),((at&2)===0||i!==yt)&&(i===yt&&((at&2)===0&&(hs|=c),Ht===4&&Ei(i,Xe,cr,!1)),la(i))}function b1(i,s,c){if((at&6)!==0)throw Error(r(327));var f=!c&&(s&127)===0&&(s&i.expiredLanes)===0||ao(i,s),v=f?s3(i,s):ip(i,s,!0),j=f;do{if(v===0){pl&&!f&&Ei(i,s,0,!1);break}else{if(c=i.current.alternate,j&&!a3(c)){v=ip(i,s,!1),j=!1;continue}if(v===2){if(j=s,i.errorRecoveryDisabledLanes&j)var z=0;else z=i.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){s=z;e:{var I=i;v=Io;var Y=I.current.memoizedState.isDehydrated;if(Y&&(vl(I,z).flags|=256),z=ip(I,z,!1),z!==2){if(Zm&&!Y){I.errorRecoveryDisabledLanes|=j,hs|=j,v=4;break e}j=Qn,Qn=v,j!==null&&(Qn===null?Qn=j:Qn.push.apply(Qn,j))}v=z}if(j=!1,v!==2)continue}}if(v===1){vl(i,0),Ei(i,s,0,!0);break}e:{switch(f=i,j=v,j){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ei(f,s,cr,!ji);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Uu+300-it(),10<v)){if(Ei(f,s,cr,!ji),Jc(f,0,!0)!==0)break e;ka=s,f.timeoutHandle=Q1(j1.bind(null,f,c,Qn,Fu,ep,s,cr,hs,gl,ji,j,"Throttled",-0,0),v);break e}j1(f,c,Qn,Fu,ep,s,cr,hs,gl,ji,j,null,-0,0)}}break}while(!0);la(i)}function j1(i,s,c,f,v,j,z,I,Y,se,fe,pe,ce,de){if(i.timeoutHandle=-1,pe=s.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},h1(s,j,pe);var ke=(j&62914560)===j?Uu-it():(j&4194048)===j?y1-it():0;if(ke=G3(pe,ke),ke!==null){ka=j,i.cancelPendingCommit=ke(D1.bind(null,i,s,j,c,f,v,z,I,Y,fe,pe,null,ce,de)),Ei(i,j,z,!se);return}}D1(i,s,j,c,f,v,z,I,Y)}function a3(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var v=c[f],j=v.getSnapshot;v=v.value;try{if(!ar(j(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(i,s,c,f){s&=~Jm,s&=~hs,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var v=s;0<v;){var j=31-rr(v),z=1<<j;f[j]=-1,v&=~z}c!==0&&kx(i,c,s)}function qu(){return(at&6)===0?(Lo(0),!1):!0}function ap(){if(Ke!==null){if(st===0)var i=Ke.return;else i=Ke,ba=as=null,bm(i),ol=null,So=0,i=Ke;for(;i!==null;)Zj(i.alternate,i),i=i.return;Ke=null}}function vl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,w3(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),ka=0,ap(),yt=i,Ke=c=va(i.current,null),Xe=s,st=0,or=null,ji=!1,pl=ao(i,s),Zm=!1,gl=cr=Jm=hs=Si=Ht=0,Qn=Io=null,ep=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var v=31-rr(f),j=1<<v;s|=i[v],f&=~j}return Ma=s,du(),c}function S1(i,s){Fe=null,C.H=Mo,s===ll||s===xu?(s=Ib(),st=3):s===om?(s=Ib(),st=4):st=s===Rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,Ke===null&&(Ht=1,zu(i,Tr(s,i.current)))}function A1(){var i=sr.current;return i===null?!0:(Xe&4194048)===Xe?Mr===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===Mr:!1}function w1(){var i=C.H;return C.H=Mo,i===null?Mo:i}function E1(){var i=C.A;return C.A=n3,i}function Wu(){Ht=4,ji||(Xe&4194048)!==Xe&&sr.current!==null||(pl=!0),(Si&134217727)===0&&(hs&134217727)===0||yt===null||Ei(yt,Xe,cr,!1)}function ip(i,s,c){var f=at;at|=2;var v=w1(),j=E1();(yt!==i||Xe!==s)&&(Fu=null,vl(i,s)),s=!1;var z=Ht;e:do try{if(st!==0&&Ke!==null){var I=Ke,Y=or;switch(st){case 8:ap(),z=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var se=st;if(st=0,or=null,xl(i,I,Y,se),c&&pl){z=0;break e}break;default:se=st,st=0,or=null,xl(i,I,Y,se)}}i3(),z=Ht;break}catch(fe){S1(i,fe)}while(!0);return s&&i.shellSuspendCounter++,ba=as=null,at=f,C.H=v,C.A=j,Ke===null&&(yt=null,Xe=0,du()),z}function i3(){for(;Ke!==null;)T1(Ke)}function s3(i,s){var c=at;at|=2;var f=w1(),v=E1();yt!==i||Xe!==s?(Fu=null,Gu=it()+500,vl(i,s)):pl=ao(i,s);e:do try{if(st!==0&&Ke!==null){s=Ke;var j=or;t:switch(st){case 1:st=0,or=null,xl(i,s,j,1);break;case 2:case 9:if(Rb(j)){st=0,or=null,C1(s);break}s=function(){st!==2&&st!==9||yt!==i||(st=7),la(i)},j.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Rb(j)?(st=0,or=null,C1(s)):(st=0,or=null,xl(i,s,j,7));break;case 5:var z=null;switch(Ke.tag){case 26:z=Ke.memoizedState;case 5:case 27:var I=Ke;if(z?fS(z):I.stateNode.complete){st=0,or=null;var Y=I.sibling;if(Y!==null)Ke=Y;else{var se=I.return;se!==null?(Ke=se,Hu(se)):Ke=null}break t}}st=0,or=null,xl(i,s,j,5);break;case 6:st=0,or=null,xl(i,s,j,6);break;case 8:ap(),Ht=6;break e;default:throw Error(r(462))}}l3();break}catch(fe){S1(i,fe)}while(!0);return ba=as=null,C.H=f,C.A=v,at=c,Ke!==null?0:(yt=null,Xe=0,du(),Ht)}function l3(){for(;Ke!==null&&!xn();)T1(Ke)}function T1(i){var s=Xj(i.alternate,i,Ma);i.memoizedProps=i.pendingProps,s===null?Hu(i):Ke=s}function C1(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=qj(c,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=qj(c,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:bm(s);default:Zj(c,s),s=Ke=Eb(s,Ma),s=Xj(c,s,Ma)}i.memoizedProps=i.pendingProps,s===null?Hu(i):Ke=s}function xl(i,s,c,f){ba=as=null,bm(s),ol=null,So=0;var v=s.return;try{if(Yk(i,v,s,c,Xe)){Ht=1,zu(i,Tr(c,i.current)),Ke=null;return}}catch(j){if(v!==null)throw Ke=v,j;Ht=1,zu(i,Tr(c,i.current)),Ke=null;return}s.flags&32768?(Ze||f===1?i=!0:pl||(Xe&536870912)!==0?i=!1:(ji=i=!0,(f===2||f===9||f===3||f===6)&&(f=sr.current,f!==null&&f.tag===13&&(f.flags|=16384))),O1(s,i)):Hu(s)}function Hu(i){var s=i;do{if((s.flags&32768)!==0){O1(s,ji);return}i=s.return;var c=Zk(s.alternate,s,Ma);if(c!==null){Ke=c;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=i}while(s!==null);Ht===0&&(Ht=5)}function O1(i,s){do{var c=Jk(i.alternate,i);if(c!==null){c.flags&=32767,Ke=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=c}while(i!==null);Ht=6,Ke=null}function D1(i,s,c,f,v,j,z,I,Y){i.cancelPendingCommit=null;do Ku();while(an!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(j=s.lanes|s.childLanes,j|=Kh,LM(i,c,j,z,I,Y),i===yt&&(Ke=yt=null,Xe=0),yl=s,wi=i,ka=c,tp=j,np=v,v1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,d3(Ie,function(){return P1(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=C.T,C.T=null,v=k.p,k.p=2,z=at,at|=4;try{e3(i,s,c)}finally{at=z,k.p=v,C.T=f}}an=1,M1(),k1(),N1()}}function M1(){if(an===1){an=0;var i=wi,s=yl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=C.T,C.T=null;var f=k.p;k.p=2;var v=at;at|=4;try{u1(s,i);var j=yp,z=gb(i.containerInfo),I=j.focusedElem,Y=j.selectionRange;if(z!==I&&I&&I.ownerDocument&&pb(I.ownerDocument.documentElement,I)){if(Y!==null&&Gh(I)){var se=Y.start,fe=Y.end;if(fe===void 0&&(fe=se),"selectionStart"in I)I.selectionStart=se,I.selectionEnd=Math.min(fe,I.value.length);else{var pe=I.ownerDocument||document,ce=pe&&pe.defaultView||window;if(ce.getSelection){var de=ce.getSelection(),ke=I.textContent.length,Be=Math.min(Y.start,ke),dt=Y.end===void 0?Be:Math.min(Y.end,ke);!de.extend&&Be>dt&&(z=dt,dt=Be,Be=z);var ae=mb(I,Be),X=mb(I,dt);if(ae&&X&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==X.node||de.focusOffset!==X.offset)){var ie=pe.createRange();ie.setStart(ae.node,ae.offset),de.removeAllRanges(),Be>dt?(de.addRange(ie),de.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),de.addRange(ie))}}}}for(pe=[],de=I;de=de.parentNode;)de.nodeType===1&&pe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<pe.length;I++){var me=pe[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}id=!!gp,yp=gp=null}finally{at=v,k.p=f,C.T=c}}i.current=s,an=2}}function k1(){if(an===2){an=0;var i=wi,s=yl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=C.T,C.T=null;var f=k.p;k.p=2;var v=at;at|=4;try{i1(i,s.alternate,s)}finally{at=v,k.p=f,C.T=c}}an=3}}function N1(){if(an===4||an===3){an=0,ra();var i=wi,s=yl,c=ka,f=v1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,yl=wi=null,z1(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Ai=null),Ah(c),s=s.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Yi,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=C.T,v=k.p,k.p=2,C.T=null;try{for(var j=i.onRecoverableError,z=0;z<f.length;z++){var I=f[z];j(I.value,{componentStack:I.stack})}}finally{C.T=s,k.p=v}}(ka&3)!==0&&Ku(),la(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===rp?$o++:($o=0,rp=i):$o=0,Lo(0)}}function z1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bo(s)))}function Ku(){return M1(),k1(),N1(),P1()}function P1(){if(an!==5)return!1;var i=wi,s=tp;tp=0;var c=Ah(ka),f=C.T,v=k.p;try{k.p=32>c?32:c,C.T=null,c=np,np=null;var j=wi,z=ka;if(an=0,yl=wi=null,ka=0,(at&6)!==0)throw Error(r(331));var I=at;if(at|=4,p1(j.current),f1(j,j.current,z,c),at=I,Lo(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Yi,j)}catch{}return!0}finally{k.p=v,C.T=f,z1(i,s)}}function _1(i,s,c){s=Tr(c,s),s=_m(i.stateNode,s,2),i=yi(i,s,2),i!==null&&(io(i,2),la(i))}function lt(i,s,c){if(i.tag===3)_1(i,i,c);else for(;s!==null;){if(s.tag===3){_1(s,i,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ai===null||!Ai.has(f))){i=Tr(c,i),c=Rj(2),f=yi(s,c,2),f!==null&&(Bj(c,f,s,i),io(f,2),la(f));break}}s=s.return}}function sp(i,s,c){var f=i.pingCache;if(f===null){f=i.pingCache=new r3;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(c)||(Zm=!0,v.add(c),i=o3.bind(null,i,s,c),s.then(i,i))}function o3(i,s,c){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,yt===i&&(Xe&c)===c&&(Ht===4||Ht===3&&(Xe&62914560)===Xe&&300>it()-Uu?(at&2)===0&&vl(i,0):Jm|=c,gl===Xe&&(gl=0)),la(i)}function R1(i,s){s===0&&(s=Mx()),i=ts(i,s),i!==null&&(io(i,s),la(i))}function c3(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),R1(i,c)}function u3(i,s){var c=0;switch(i.tag){case 31:case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),R1(i,c)}function d3(i,s){return fn(i,s)}var Vu=null,bl=null,lp=!1,Yu=!1,op=!1,Ti=0;function la(i){i!==bl&&i.next===null&&(bl===null?Vu=bl=i:bl=bl.next=i),Yu=!0,lp||(lp=!0,h3())}function Lo(i,s){if(!op&&Yu){op=!0;do for(var c=!1,f=Vu;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var j=0;else{var z=f.suspendedLanes,I=f.pingedLanes;j=(1<<31-rr(42|i)+1)-1,j&=v&~(z&~I),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(c=!0,L1(f,j))}else j=Xe,j=Jc(f,f===yt?j:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(j&3)===0||ao(f,j)||(c=!0,L1(f,j));f=f.next}while(c);op=!1}}function f3(){B1()}function B1(){Yu=lp=!1;var i=0;Ti!==0&&A3()&&(i=Ti);for(var s=it(),c=null,f=Vu;f!==null;){var v=f.next,j=I1(f,s);j===0?(f.next=null,c===null?Vu=v:c.next=v,v===null&&(bl=c)):(c=f,(i!==0||(j&3)!==0)&&(Yu=!0)),f=v}an!==0&&an!==5||Lo(i),Ti!==0&&(Ti=0)}function I1(i,s){for(var c=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var z=31-rr(j),I=1<<z,Y=v[z];Y===-1?((I&c)===0||(I&f)!==0)&&(v[z]=$M(I,s)):Y<=s&&(i.expiredLanes|=I),j&=~I}if(s=yt,c=Xe,c=Jc(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===s&&(st===2||st===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&_n(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||ao(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(f!==null&&_n(f),Ah(c)){case 2:case 8:c=we;break;case 32:c=Ie;break;case 268435456:c=hn;break;default:c=Ie}return f=$1.bind(null,i),c=fn(c,f),i.callbackPriority=s,i.callbackNode=c,s}return f!==null&&f!==null&&_n(f),i.callbackPriority=2,i.callbackNode=null,2}function $1(i,s){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Ku()&&i.callbackNode!==c)return null;var f=Xe;return f=Jc(i,i===yt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(b1(i,f,s),I1(i,it()),i.callbackNode!=null&&i.callbackNode===c?$1.bind(null,i):null)}function L1(i,s){if(Ku())return null;b1(i,s,!0)}function h3(){E3(function(){(at&6)!==0?fn(Sr,f3):B1()})}function cp(){if(Ti===0){var i=il;i===0&&(i=Xc,Xc<<=1,(Xc&261888)===0&&(Xc=256)),Ti=i}return Ti}function U1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ru(""+i)}function G1(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function m3(i,s,c,f,v){if(s==="submit"&&c&&c.stateNode===v){var j=U1((v[Hn]||null).action),z=f.submitter;z&&(s=(s=z[Hn]||null)?U1(s.formAction):z.getAttribute("formAction"),s!==null&&(j=s,z=null));var I=new lu("action","action",null,f,v);i.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ti!==0){var Y=z?G1(v,z):new FormData(v);Dm(c,{pending:!0,data:Y,method:v.method,action:j},null,Y)}}else typeof j=="function"&&(I.preventDefault(),Y=z?G1(v,z):new FormData(v),Dm(c,{pending:!0,data:Y,method:v.method,action:j},j,Y))},currentTarget:v}]})}}for(var up=0;up<Hh.length;up++){var dp=Hh[up],p3=dp.toLowerCase(),g3=dp[0].toUpperCase()+dp.slice(1);Kr(p3,"on"+g3)}Kr(xb,"onAnimationEnd"),Kr(bb,"onAnimationIteration"),Kr(jb,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Nk,"onTransitionRun"),Kr(zk,"onTransitionStart"),Kr(Pk,"onTransitionCancel"),Kr(Sb,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uo));function F1(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],v=f.event;f=f.listeners;e:{var j=void 0;if(s)for(var z=f.length-1;0<=z;z--){var I=f[z],Y=I.instance,se=I.currentTarget;if(I=I.listener,Y!==j&&v.isPropagationStopped())break e;j=I,v.currentTarget=se;try{j(v)}catch(fe){uu(fe)}v.currentTarget=null,j=Y}else for(z=0;z<f.length;z++){if(I=f[z],Y=I.instance,se=I.currentTarget,I=I.listener,Y!==j&&v.isPropagationStopped())break e;j=I,v.currentTarget=se;try{j(v)}catch(fe){uu(fe)}v.currentTarget=null,j=Y}}}}function Ve(i,s){var c=s[wh];c===void 0&&(c=s[wh]=new Set);var f=i+"__bubble";c.has(f)||(q1(s,i,2,!1),c.add(f))}function fp(i,s,c){var f=0;s&&(f|=4),q1(c,i,f,s)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Xu]){i[Xu]=!0,Bx.forEach(function(c){c!=="selectionchange"&&(y3.has(c)||fp(c,!1,i),fp(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Xu]||(s[Xu]=!0,fp("selectionchange",!1,s))}}function q1(i,s,c,f){switch(xS(s)){case 2:var v=W3;break;case 8:v=H3;break;default:v=Op}c=v.bind(null,s,c,i),v=void 0,!zh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(s,c,{capture:!0,passive:v}):i.addEventListener(s,c,!0):v!==void 0?i.addEventListener(s,c,{passive:v}):i.addEventListener(s,c,!1)}function mp(i,s,c,f,v){var j=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var z=f.tag;if(z===3||z===4){var I=f.stateNode.containerInfo;if(I===v)break;if(z===4)for(z=f.return;z!==null;){var Y=z.tag;if((Y===3||Y===4)&&z.stateNode.containerInfo===v)return;z=z.return}for(;I!==null;){if(z=Gs(I),z===null)return;if(Y=z.tag,Y===5||Y===6||Y===26||Y===27){f=j=z;continue e}I=I.parentNode}}f=f.return}Yx(function(){var se=j,fe=kh(c),pe=[];e:{var ce=Ab.get(i);if(ce!==void 0){var de=lu,ke=i;switch(i){case"keypress":if(iu(c)===0)break e;case"keydown":case"keyup":de=uk;break;case"focusin":ke="focus",de=Bh;break;case"focusout":ke="blur",de=Bh;break;case"beforeblur":case"afterblur":de=Bh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ZM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=hk;break;case xb:case bb:case jb:de=tk;break;case Sb:de=pk;break;case"scroll":case"scrollend":de=XM;break;case"wheel":de=yk;break;case"copy":case"cut":case"paste":de=rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=eb;break;case"toggle":case"beforetoggle":de=xk}var Be=(s&4)!==0,dt=!Be&&(i==="scroll"||i==="scrollend"),ae=Be?ce!==null?ce+"Capture":null:ce;Be=[];for(var X=se,ie;X!==null;){var me=X;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||ae===null||(me=oo(X,ae),me!=null&&Be.push(Go(X,me,ie))),dt)break;X=X.return}0<Be.length&&(ce=new de(ce,ke,null,c,fe),pe.push({event:ce,listeners:Be}))}}if((s&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ce&&c!==Mh&&(ke=c.relatedTarget||c.fromElement)&&(Gs(ke)||ke[Us]))break e;if((de||ce)&&(ce=fe.window===fe?fe:(ce=fe.ownerDocument)?ce.defaultView||ce.parentWindow:window,de?(ke=c.relatedTarget||c.toElement,de=se,ke=ke?Gs(ke):null,ke!==null&&(dt=o(ke),Be=ke.tag,ke!==dt||Be!==5&&Be!==27&&Be!==6)&&(ke=null)):(de=null,ke=se),de!==ke)){if(Be=Zx,me="onMouseLeave",ae="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Be=eb,me="onPointerLeave",ae="onPointerEnter",X="pointer"),dt=de==null?ce:lo(de),ie=ke==null?ce:lo(ke),ce=new Be(me,X+"leave",de,c,fe),ce.target=dt,ce.relatedTarget=ie,me=null,Gs(fe)===se&&(Be=new Be(ae,X+"enter",ke,c,fe),Be.target=ie,Be.relatedTarget=dt,me=Be),dt=me,de&&ke)t:{for(Be=v3,ae=de,X=ke,ie=0,me=ae;me;me=Be(me))ie++;me=0;for(var Re=X;Re;Re=Be(Re))me++;for(;0<ie-me;)ae=Be(ae),ie--;for(;0<me-ie;)X=Be(X),me--;for(;ie--;){if(ae===X||X!==null&&ae===X.alternate){Be=ae;break t}ae=Be(ae),X=Be(X)}Be=null}else Be=null;de!==null&&W1(pe,ce,de,Be,!1),ke!==null&&dt!==null&&W1(pe,dt,ke,Be,!0)}}e:{if(ce=se?lo(se):window,de=ce.nodeName&&ce.nodeName.toLowerCase(),de==="select"||de==="input"&&ce.type==="file")var et=ob;else if(sb(ce))if(cb)et=Dk;else{et=Ck;var Pe=Tk}else de=ce.nodeName,!de||de.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&Dh(se.elementType)&&(et=ob):et=Ok;if(et&&(et=et(i,se))){lb(pe,et,c,fe);break e}Pe&&Pe(i,ce,se),i==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Oh(ce,"number",ce.value)}switch(Pe=se?lo(se):window,i){case"focusin":(sb(Pe)||Pe.contentEditable==="true")&&(Qs=Pe,Fh=se,yo=null);break;case"focusout":yo=Fh=Qs=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,yb(pe,c,fe);break;case"selectionchange":if(kk)break;case"keydown":case"keyup":yb(pe,c,fe)}var qe;if($h)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Xs?ab(i,c)&&(Qe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(tb&&c.locale!=="ko"&&(Xs||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Xs&&(qe=Xx()):(ui=fe,Ph="value"in ui?ui.value:ui.textContent,Xs=!0)),Pe=Qu(se,Qe),0<Pe.length&&(Qe=new Jx(Qe,i,null,c,fe),pe.push({event:Qe,listeners:Pe}),qe?Qe.data=qe:(qe=ib(c),qe!==null&&(Qe.data=qe)))),(qe=jk?Sk(i,c):Ak(i,c))&&(Qe=Qu(se,"onBeforeInput"),0<Qe.length&&(Pe=new Jx("onBeforeInput","beforeinput",null,c,fe),pe.push({event:Pe,listeners:Qe}),Pe.data=qe)),m3(pe,i,se,c,fe)}F1(pe,s)})}function Go(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Qu(i,s){for(var c=s+"Capture",f=[];i!==null;){var v=i,j=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||j===null||(v=oo(i,c),v!=null&&f.unshift(Go(i,v,j)),v=oo(i,s),v!=null&&f.push(Go(i,v,j))),i.tag===3)return f;i=i.return}return[]}function v3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W1(i,s,c,f,v){for(var j=s._reactName,z=[];c!==null&&c!==f;){var I=c,Y=I.alternate,se=I.stateNode;if(I=I.tag,Y!==null&&Y===f)break;I!==5&&I!==26&&I!==27||se===null||(Y=se,v?(se=oo(c,j),se!=null&&z.unshift(Go(c,se,Y))):v||(se=oo(c,j),se!=null&&z.push(Go(c,se,Y)))),c=c.return}z.length!==0&&i.push({event:s,listeners:z})}var x3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function H1(i){return(typeof i=="string"?i:""+i).replace(x3,`
`).replace(b3,"")}function K1(i,s){return s=H1(s),H1(i)===s}function ut(i,s,c,f,v,j){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ks(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ks(i,""+f);break;case"className":tu(i,"class",f);break;case"tabIndex":tu(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":tu(i,c,f);break;case"style":Kx(i,f,j);break;case"data":if(s!=="object"){tu(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=ru(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(c==="formAction"?(s!=="input"&&ut(i,s,"name",v.name,v,null),ut(i,s,"formEncType",v.formEncType,v,null),ut(i,s,"formMethod",v.formMethod,v,null),ut(i,s,"formTarget",v.formTarget,v,null)):(ut(i,s,"encType",v.encType,v,null),ut(i,s,"method",v.method,v,null),ut(i,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=ru(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=ga);break;case"onScroll":f!=null&&Ve("scroll",i);break;case"onScrollEnd":f!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=ru(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),eu(i,"popover",f);break;case"xlinkActuate":pa(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pa(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pa(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pa(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pa(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pa(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pa(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pa(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pa(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":eu(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=VM.get(c)||c,eu(i,c,f))}}function pp(i,s,c,f,v,j){switch(c){case"style":Kx(i,f,j);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?Ks(i,f):(typeof f=="number"||typeof f=="bigint")&&Ks(i,""+f);break;case"onScroll":f!=null&&Ve("scroll",i);break;case"onScrollEnd":f!=null&&Ve("scrollend",i);break;case"onClick":f!=null&&(i.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ix.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),j=i[Hn]||null,j=j!=null?j[c]:null,typeof j=="function"&&i.removeEventListener(s,j,v),typeof f=="function")){typeof j!="function"&&j!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,f,v);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):eu(i,c,f)}}}function En(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var f=!1,v=!1,j;for(j in c)if(c.hasOwnProperty(j)){var z=c[j];if(z!=null)switch(j){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(i,s,j,z,c,null)}}v&&ut(i,s,"srcSet",c.srcSet,c,null),f&&ut(i,s,"src",c.src,c,null);return;case"input":Ve("invalid",i);var I=j=z=v=null,Y=null,se=null;for(f in c)if(c.hasOwnProperty(f)){var fe=c[f];if(fe!=null)switch(f){case"name":v=fe;break;case"type":z=fe;break;case"checked":Y=fe;break;case"defaultChecked":se=fe;break;case"value":j=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:ut(i,s,f,fe,c,null)}}Fx(i,j,I,Y,se,z,v,!1);return;case"select":Ve("invalid",i),f=z=j=null;for(v in c)if(c.hasOwnProperty(v)&&(I=c[v],I!=null))switch(v){case"value":j=I;break;case"defaultValue":z=I;break;case"multiple":f=I;default:ut(i,s,v,I,c,null)}s=j,c=z,i.multiple=!!f,s!=null?Hs(i,!!f,s,!1):c!=null&&Hs(i,!!f,c,!0);return;case"textarea":Ve("invalid",i),j=v=f=null;for(z in c)if(c.hasOwnProperty(z)&&(I=c[z],I!=null))switch(z){case"value":f=I;break;case"defaultValue":v=I;break;case"children":j=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:ut(i,s,z,I,c,null)}Wx(i,f,v,j);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(f=c[Y],f!=null))switch(Y){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ut(i,s,Y,f,c,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(f=0;f<Uo.length;f++)Ve(Uo[f],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(f=c[se],f!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(i,s,se,f,c,null)}return;default:if(Dh(s)){for(fe in c)c.hasOwnProperty(fe)&&(f=c[fe],f!==void 0&&pp(i,s,fe,f,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(f=c[I],f!=null&&ut(i,s,I,f,c,null))}function j3(i,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,j=null,z=null,I=null,Y=null,se=null,fe=null;for(de in c){var pe=c[de];if(c.hasOwnProperty(de)&&pe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Y=pe;default:f.hasOwnProperty(de)||ut(i,s,de,null,f,pe)}}for(var ce in f){var de=f[ce];if(pe=c[ce],f.hasOwnProperty(ce)&&(de!=null||pe!=null))switch(ce){case"type":j=de;break;case"name":v=de;break;case"checked":se=de;break;case"defaultChecked":fe=de;break;case"value":z=de;break;case"defaultValue":I=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:de!==pe&&ut(i,s,ce,de,f,pe)}}Ch(i,z,I,Y,se,fe,j,v);return;case"select":de=z=I=ce=null;for(j in c)if(Y=c[j],c.hasOwnProperty(j)&&Y!=null)switch(j){case"value":break;case"multiple":de=Y;default:f.hasOwnProperty(j)||ut(i,s,j,null,f,Y)}for(v in f)if(j=f[v],Y=c[v],f.hasOwnProperty(v)&&(j!=null||Y!=null))switch(v){case"value":ce=j;break;case"defaultValue":I=j;break;case"multiple":z=j;default:j!==Y&&ut(i,s,v,j,f,Y)}s=I,c=z,f=de,ce!=null?Hs(i,!!c,ce,!1):!!f!=!!c&&(s!=null?Hs(i,!!c,s,!0):Hs(i,!!c,c?[]:"",!1));return;case"textarea":de=ce=null;for(I in c)if(v=c[I],c.hasOwnProperty(I)&&v!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ut(i,s,I,null,f,v)}for(z in f)if(v=f[z],j=c[z],f.hasOwnProperty(z)&&(v!=null||j!=null))switch(z){case"value":ce=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==j&&ut(i,s,z,v,f,j)}qx(i,ce,de);return;case"option":for(var ke in c)if(ce=c[ke],c.hasOwnProperty(ke)&&ce!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:ut(i,s,ke,null,f,ce)}for(Y in f)if(ce=f[Y],de=c[Y],f.hasOwnProperty(Y)&&ce!==de&&(ce!=null||de!=null))switch(Y){case"selected":i.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:ut(i,s,Y,ce,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in c)ce=c[Be],c.hasOwnProperty(Be)&&ce!=null&&!f.hasOwnProperty(Be)&&ut(i,s,Be,null,f,ce);for(se in f)if(ce=f[se],de=c[se],f.hasOwnProperty(se)&&ce!==de&&(ce!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:ut(i,s,se,ce,f,de)}return;default:if(Dh(s)){for(var dt in c)ce=c[dt],c.hasOwnProperty(dt)&&ce!==void 0&&!f.hasOwnProperty(dt)&&pp(i,s,dt,void 0,f,ce);for(fe in f)ce=f[fe],de=c[fe],!f.hasOwnProperty(fe)||ce===de||ce===void 0&&de===void 0||pp(i,s,fe,ce,f,de);return}}for(var ae in c)ce=c[ae],c.hasOwnProperty(ae)&&ce!=null&&!f.hasOwnProperty(ae)&&ut(i,s,ae,null,f,ce);for(pe in f)ce=f[pe],de=c[pe],!f.hasOwnProperty(pe)||ce===de||ce==null&&de==null||ut(i,s,pe,ce,f,de)}function V1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var v=c[f],j=v.transferSize,z=v.initiatorType,I=v.duration;if(j&&I&&V1(z)){for(z=0,I=v.responseEnd,f+=1;f<c.length;f++){var Y=c[f],se=Y.startTime;if(se>I)break;var fe=Y.transferSize,pe=Y.initiatorType;fe&&V1(pe)&&(Y=Y.responseEnd,z+=fe*(Y<I?1:(I-se)/(Y-se)))}if(--f,s+=8*(j+z)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var gp=null,yp=null;function Zu(i){return i.nodeType===9?i:i.ownerDocument}function Y1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function vp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xp=null;function A3(){var i=window.event;return i&&i.type==="popstate"?i===xp?!1:(xp=i,!0):(xp=null,!1)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,E3=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(i){return Z1.resolve(null).then(i).catch(T3)}:Q1;function T3(i){setTimeout(function(){throw i})}function Ci(i){return i==="head"}function J1(i,s){var c=s,f=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(f===0){i.removeChild(v),wl(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Fo(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Fo(c);for(var j=c.firstChild;j;){var z=j.nextSibling,I=j.nodeName;j[so]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&j.rel.toLowerCase()==="stylesheet"||c.removeChild(j),j=z}}else c==="body"&&Fo(i.ownerDocument.body);c=v}while(c);wl(s)}function eS(i,s){var c=i;i=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=f}while(c)}function bp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":bp(c),Eh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function C3(i,s,c,f){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[so])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var j=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=kr(i.nextSibling),i===null)break}return null}function O3(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=kr(i.nextSibling),i===null))return null;return i}function tS(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=kr(i.nextSibling),i===null))return null;return i}function jp(i){return i.data==="$?"||i.data==="$~"}function Sp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function D3(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function kr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ap=null;function nS(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return kr(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function rS(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function aS(i,s,c){switch(s=Zu(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Eh(i)}var Nr=new Map,iS=new Set;function Ju(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Na=k.d;k.d={f:M3,r:k3,D:N3,C:z3,L:P3,m:_3,X:B3,S:R3,M:I3};function M3(){var i=Na.f(),s=qu();return i||s}function k3(i){var s=Fs(i);s!==null&&s.tag===5&&s.type==="form"?Sj(s):Na.r(i)}var jl=typeof document>"u"?null:document;function sS(i,s,c){var f=jl;if(f&&typeof s=="string"&&s){var v=wr(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),iS.has(v)||(iS.add(v),i={rel:i,crossOrigin:c,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),En(s,"link",i),mn(s),f.head.appendChild(s)))}}function N3(i){Na.D(i),sS("dns-prefetch",i,null)}function z3(i,s){Na.C(i,s),sS("preconnect",i,s)}function P3(i,s,c){Na.L(i,s,c);var f=jl;if(f&&i&&s){var v='link[rel="preload"][as="'+wr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+wr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+wr(c.imageSizes)+'"]')):v+='[href="'+wr(i)+'"]';var j=v;switch(s){case"style":j=Sl(i);break;case"script":j=Al(i)}Nr.has(j)||(i=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Nr.set(j,i),f.querySelector(v)!==null||s==="style"&&f.querySelector(qo(j))||s==="script"&&f.querySelector(Wo(j))||(s=f.createElement("link"),En(s,"link",i),mn(s),f.head.appendChild(s)))}}function _3(i,s){Na.m(i,s);var c=jl;if(c&&i){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+wr(f)+'"][href="'+wr(i)+'"]',j=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Al(i)}if(!Nr.has(j)&&(i=g({rel:"modulepreload",href:i},s),Nr.set(j,i),c.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wo(j)))return}f=c.createElement("link"),En(f,"link",i),mn(f),c.head.appendChild(f)}}}function R3(i,s,c){Na.S(i,s,c);var f=jl;if(f&&i){var v=qs(f).hoistableStyles,j=Sl(i);s=s||"default";var z=v.get(j);if(!z){var I={loading:0,preload:null};if(z=f.querySelector(qo(j)))I.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Nr.get(j))&&wp(i,c);var Y=z=f.createElement("link");mn(Y),En(Y,"link",i),Y._p=new Promise(function(se,fe){Y.onload=se,Y.onerror=fe}),Y.addEventListener("load",function(){I.loading|=1}),Y.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ed(z,s,f)}z={type:"stylesheet",instance:z,count:1,state:I},v.set(j,z)}}}function B3(i,s){Na.X(i,s);var c=jl;if(c&&i){var f=qs(c).hoistableScripts,v=Al(i),j=f.get(v);j||(j=c.querySelector(Wo(v)),j||(i=g({src:i,async:!0},s),(s=Nr.get(v))&&Ep(i,s),j=c.createElement("script"),mn(j),En(j,"link",i),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(v,j))}}function I3(i,s){Na.M(i,s);var c=jl;if(c&&i){var f=qs(c).hoistableScripts,v=Al(i),j=f.get(v);j||(j=c.querySelector(Wo(v)),j||(i=g({src:i,async:!0,type:"module"},s),(s=Nr.get(v))&&Ep(i,s),j=c.createElement("script"),mn(j),En(j,"link",i),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(v,j))}}function lS(i,s,c,f){var v=(v=ne.current)?Ju(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Sl(c.href),c=qs(v).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Sl(c.href);var j=qs(v).hoistableStyles,z=j.get(i);if(z||(v=v.ownerDocument||v,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,z),(j=v.querySelector(qo(i)))&&!j._p&&(z.instance=j,z.state.loading=5),Nr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Nr.set(i,c),j||$3(v,i,c,z.state))),s&&f===null)throw Error(r(528,""));return z}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Al(c),c=qs(v).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Sl(i){return'href="'+wr(i)+'"'}function qo(i){return'link[rel="stylesheet"]['+i+"]"}function oS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function $3(i,s,c,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),En(s,"link",c),mn(s),i.head.appendChild(s))}function Al(i){return'[src="'+wr(i)+'"]'}function Wo(i){return"script[async]"+i}function cS(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+wr(c.href)+'"]');if(f)return s.instance=f,mn(f),f;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),mn(f),En(f,"style",v),ed(f,c.precedence,i),s.instance=f;case"stylesheet":v=Sl(c.href);var j=i.querySelector(qo(v));if(j)return s.state.loading|=4,s.instance=j,mn(j),j;f=oS(c),(v=Nr.get(v))&&wp(f,v),j=(i.ownerDocument||i).createElement("link"),mn(j);var z=j;return z._p=new Promise(function(I,Y){z.onload=I,z.onerror=Y}),En(j,"link",f),s.state.loading|=4,ed(j,c.precedence,i),s.instance=j;case"script":return j=Al(c.src),(v=i.querySelector(Wo(j)))?(s.instance=v,mn(v),v):(f=c,(v=Nr.get(j))&&(f=g({},c),Ep(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),mn(v),En(v,"link",f),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,ed(f,c.precedence,i));return s.instance}function ed(i,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,j=v,z=0;z<f.length;z++){var I=f[z];if(I.dataset.precedence===s)j=I;else if(j!==v)break}j?j.parentNode.insertBefore(i,j.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function wp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var td=null;function uS(i,s,c){if(td===null){var f=new Map,v=td=new Map;v.set(c,f)}else v=td,f=v.get(c),f||(f=new Map,v.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var j=c[v];if(!(j[so]||j[jn]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var z=j.getAttribute(s)||"";z=i+z;var I=f.get(z);I?I.push(j):f.set(z,[j])}}return f}function dS(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function L3(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U3(i,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Sl(f.href),j=s.querySelector(qo(v));if(j){s=j._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=nd.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=j,mn(j);return}j=s.ownerDocument||s,f=oS(f),(v=Nr.get(v))&&wp(f,v),j=j.createElement("link"),mn(j);var z=j;z._p=new Promise(function(I,Y){z.onload=I,z.onerror=Y}),En(j,"link",f),c.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=nd.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var Tp=0;function G3(i,s){return i.stylesheets&&i.count===0&&ad(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var f=setTimeout(function(){if(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+s);0<i.imgBytes&&Tp===0&&(Tp=62500*S3());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>Tp?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rd=null;function ad(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rd=new Map,s.forEach(F3,i),rd=null,nd.call(i))}function F3(i,s){if(!(s.state.loading&4)){var c=rd.get(i);if(c)var f=c.get(null);else{c=new Map,rd.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<v.length;j++){var z=v[j];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(c.set(z.dataset.precedence,z),f=z)}f&&c.set(null,f)}v=s.instance,z=v.getAttribute("data-precedence"),j=c.get(z)||f,j===f&&c.set(null,v),c.set(z,v),this.count++,f=nd.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),j?j.parentNode.insertBefore(v,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var Ho={$$typeof:T,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function q3(i,s,c,f,v,j,z,I,Y){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.hiddenUpdates=jh(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=j,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function hS(i,s,c,f,v,j,z,I,Y,se,fe,pe){return i=new q3(i,s,c,z,Y,se,fe,pe,I),s=1,j===!0&&(s|=24),j=ir(3,null,null,s),i.current=j,j.stateNode=i,s=im(),s.refCount++,i.pooledCache=s,s.refCount++,j.memoizedState={element:f,isDehydrated:c,cache:s},cm(j),i}function mS(i){return i?(i=el,i):el}function pS(i,s,c,f,v,j){v=mS(v),f.context===null?f.context=v:f.pendingContext=v,f=gi(s),f.payload={element:c},j=j===void 0?null:j,j!==null&&(f.callback=j),c=yi(i,f,s),c!==null&&(Zn(c,i,s),wo(c,i,s))}function gS(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function Cp(i,s){gS(i,s),(i=i.alternate)&&gS(i,s)}function yS(i){if(i.tag===13||i.tag===31){var s=ts(i,67108864);s!==null&&Zn(s,i,67108864),Cp(i,67108864)}}function vS(i){if(i.tag===13||i.tag===31){var s=ur();s=Sh(s);var c=ts(i,s);c!==null&&Zn(c,i,s),Cp(i,s)}}var id=!0;function W3(i,s,c,f){var v=C.T;C.T=null;var j=k.p;try{k.p=2,Op(i,s,c,f)}finally{k.p=j,C.T=v}}function H3(i,s,c,f){var v=C.T;C.T=null;var j=k.p;try{k.p=8,Op(i,s,c,f)}finally{k.p=j,C.T=v}}function Op(i,s,c,f){if(id){var v=Dp(f);if(v===null)mp(i,s,f,sd,c),bS(i,f);else if(V3(v,i,s,c,f))f.stopPropagation();else if(bS(i,f),s&4&&-1<K3.indexOf(i)){for(;v!==null;){var j=Fs(v);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var z=Xi(j.pendingLanes);if(z!==0){var I=j;for(I.pendingLanes|=2,I.entangledLanes|=2;z;){var Y=1<<31-rr(z);I.entanglements[1]|=Y,z&=~Y}la(j),(at&6)===0&&(Gu=it()+500,Lo(0))}}break;case 31:case 13:I=ts(j,2),I!==null&&Zn(I,j,2),qu(),Cp(j,2)}if(j=Dp(f),j===null&&mp(i,s,f,sd,c),j===v)break;v=j}v!==null&&f.stopPropagation()}else mp(i,s,f,null,c)}}function Dp(i){return i=kh(i),Mp(i)}var sd=null;function Mp(i){if(sd=null,i=Gs(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===31){if(i=d(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sd=i,null}function xS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case Sr:return 2;case we:return 8;case Ie:case Wn:return 32;case hn:return 268435456;default:return 32}default:return 32}}var kp=!1,Oi=null,Di=null,Mi=null,Ko=new Map,Vo=new Map,ki=[],K3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bS(i,s){switch(i){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Ko.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(s.pointerId)}}function Yo(i,s,c,f,v,j){return i===null||i.nativeEvent!==j?(i={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:j,targetContainers:[v]},s!==null&&(s=Fs(s),s!==null&&yS(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function V3(i,s,c,f,v){switch(s){case"focusin":return Oi=Yo(Oi,i,s,c,f,v),!0;case"dragenter":return Di=Yo(Di,i,s,c,f,v),!0;case"mouseover":return Mi=Yo(Mi,i,s,c,f,v),!0;case"pointerover":var j=v.pointerId;return Ko.set(j,Yo(Ko.get(j)||null,i,s,c,f,v)),!0;case"gotpointercapture":return j=v.pointerId,Vo.set(j,Yo(Vo.get(j)||null,i,s,c,f,v)),!0}return!1}function jS(i){var s=Gs(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,_x(i.priority,function(){vS(c)});return}}else if(s===31){if(s=d(c),s!==null){i.blockedOn=s,_x(i.priority,function(){vS(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ld(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Dp(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);Mh=f,c.target.dispatchEvent(f),Mh=null}else return s=Fs(c),s!==null&&yS(s),i.blockedOn=c,!1;s.shift()}return!0}function SS(i,s,c){ld(i)&&c.delete(s)}function Y3(){kp=!1,Oi!==null&&ld(Oi)&&(Oi=null),Di!==null&&ld(Di)&&(Di=null),Mi!==null&&ld(Mi)&&(Mi=null),Ko.forEach(SS),Vo.forEach(SS)}function od(i,s){i.blockedOn===s&&(i.blockedOn=null,kp||(kp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Y3)))}var cd=null;function AS(i){cd!==i&&(cd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cd===i&&(cd=null);for(var s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],v=i[s+2];if(typeof f!="function"){if(Mp(f||c)===null)continue;break}var j=Fs(c);j!==null&&(i.splice(s,3),s-=3,Dm(j,{pending:!0,data:v,method:c.method,action:f},f,v))}}))}function wl(i){function s(Y){return od(Y,i)}Oi!==null&&od(Oi,i),Di!==null&&od(Di,i),Mi!==null&&od(Mi,i),Ko.forEach(s),Vo.forEach(s);for(var c=0;c<ki.length;c++){var f=ki[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<ki.length&&(c=ki[0],c.blockedOn===null);)jS(c),c.blockedOn===null&&ki.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var v=c[f],j=c[f+1],z=v[Hn]||null;if(typeof j=="function")z||AS(c);else if(z){var I=null;if(j&&j.hasAttribute("formAction")){if(v=j,z=j[Hn]||null)I=z.formAction;else if(Mp(v)!==null)continue}else I=z.action;typeof I=="function"?c[f+1]=I:(c.splice(f,3),f-=3),AS(c)}}}function wS(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(z){return v=z})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Np(i){this._internalRoot=i}ud.prototype.render=Np.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=ur();pS(c,f,i,s,null,null)},ud.prototype.unmount=Np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;pS(i.current,2,null,i,null,null),qu(),s[Us]=null}};function ud(i){this._internalRoot=i}ud.prototype.unstable_scheduleHydration=function(i){if(i){var s=Px();i={blockedOn:null,target:i,priority:s};for(var c=0;c<ki.length&&s!==0&&s<ki[c].priority;c++);ki.splice(c,0,i),c===0&&jS(i)}};var ES=t.version;if(ES!=="19.2.0")throw Error(r(527,ES,"19.2.0"));k.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var X3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Yi=dd.inject(X3),bn=dd}catch{}}return Qo.createRoot=function(i,s){if(!l(i))throw Error(r(299));var c=!1,f="",v=Nj,j=zj,z=Pj;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(j=s.onCaughtError),s.onRecoverableError!==void 0&&(z=s.onRecoverableError)),s=hS(i,1,!1,null,null,c,f,null,v,j,z,wS),i[Us]=s.current,hp(i),new Np(s)},Qo.hydrateRoot=function(i,s,c){if(!l(i))throw Error(r(299));var f=!1,v="",j=Nj,z=zj,I=Pj,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(z=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(Y=c.formState)),s=hS(i,1,!0,s,c??null,f,v,Y,j,z,I,wS),s.context=mS(null),c=s.current,f=ur(),f=Sh(f),v=gi(f),v.callback=null,yi(c,v,f),c=f,s.current.lanes=c,io(s,c),la(s),i[Us]=s.current,hp(i),new ud(s)},Qo.version="19.2.0",Qo}var _S;function lN(){if(_S)return _p.exports;_S=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_p.exports=sN(),_p.exports}var oN=lN();const RS={primary:"#667eea",secondary:"#764ba2",accent:"#667eea",background:"#f5f5f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",border:"#e0e0e0",hover:"#5568d3",active:"#667eea",navbar:"#ffffff",sidebar:"#ffffff",button:"#667eea",buttonHover:"#5568d3",buttonActive:"#4a5bc4"},h5=x.createContext(void 0),Qa=()=>{const e=x.useContext(h5);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},cN=({children:e})=>{const[t,n]=x.useState(()=>{const o=localStorage.getItem("theme-colors");return o?JSON.parse(o):RS});x.useEffect(()=>{localStorage.setItem("theme-colors",JSON.stringify(t));const o=document.documentElement;Object.entries(t).forEach(([u,d])=>{o.style.setProperty(`--theme-${u}`,d)})},[t]);const r=(o,u)=>{n(d=>({...d,[o]:u}))},l=()=>{n(RS)};return a.jsx(h5.Provider,{value:{colors:t,updateColor:r,resetTheme:l},children:e})},jv="http://localhost:5001/api",uc=e=>{localStorage.setItem("auth_token",e)},vy=()=>localStorage.getItem("auth_token"),Dd=()=>{localStorage.removeItem("auth_token")},uN=async e=>{const t=await fetch(`${jv}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email,password:e.password})});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Login failed")}const n=await t.json();if(n.data){const r=n.data.token,l=n.data.user;return uc(r),{message:n.message||"Login successful",token:r,user:{id:l.id||l._id,name:l.name,email:l.email,role:l.role}}}return uc(n.token),n},dN=async e=>{const t=await fetch(`${jv}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email.split("@")[0],email:e.email,password:e.password,name:e.name,role:e.role})});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Registration failed")}const n=await t.json();if(n.data){const r=n.data.token,l=n.data.user;return uc(r),{message:n.message||"Registration successful",token:r,user:{id:l.id||l._id,name:l.name,email:l.email,role:l.role}}}return uc(n.token),n},BS=async()=>{const e=vy();if(!e)throw new Error("No token found");const t=await fetch(`${jv}/auth/me`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw Dd(),new Error("Invalid token");return t.json()},m5=x.createContext(void 0),fN=()=>{const e=x.useContext(m5);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},hN=({children:e})=>{const[t,n]=x.useState(()=>{const g=localStorage.getItem("auth_user");return g?JSON.parse(g):null}),[r,l]=x.useState(()=>vy()),[o,u]=x.useState(!0);x.useEffect(()=>{(async()=>{const b=vy(),y=localStorage.getItem("auth_user");if(b&&y)try{const A=await BS();if(A.data?.user){const S=A.data.user;n({id:S._id||S.id,name:S.name,email:S.email,role:S.role,username:S.username}),l(b)}else Dd(),localStorage.removeItem("auth_user"),n(null),l(null)}catch(A){console.error("Auth check failed:",A),Dd(),localStorage.removeItem("auth_user"),n(null),l(null)}u(!1)})()},[]);const d=(g,b)=>{uc(g),localStorage.setItem("auth_user",JSON.stringify(b)),l(g),n(b)},h=()=>{Dd(),localStorage.removeItem("auth_user"),l(null),n(null)},p={user:t,token:r,isAuthenticated:!!t&&!!r,loading:o,login:d,logout:h,refreshUser:async()=>{try{const g=await BS();if(g.data?.user){const b=g.data.user,y={id:b._id||b.id,name:b.name,email:b.email,role:b.role,username:b.username};localStorage.setItem("auth_user",JSON.stringify(y)),n(y)}}catch(g){console.error("Failed to refresh user:",g),h()}}};return a.jsx(m5.Provider,{value:p,children:e})};var IS="popstate";function mN(e={}){function t(r,l){let{pathname:o,search:u,hash:d}=r.location;return xy("",{pathname:o,search:u,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:dc(l)}return gN(t,n,null,e)}function It(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ur(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pN(){return Math.random().toString(36).substring(2,10)}function $S(e,t){return{usr:e.state,key:e.key,idx:t}}function xy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ul(t):t,state:n,key:t&&t.key||r||pN()}}function dc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gN(e,t,n,r={}){let{window:l=document.defaultView,v5Compat:o=!1}=r,u=l.history,d="POP",h=null,m=p();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function p(){return(u.state||{idx:null}).idx}function g(){d="POP";let w=p(),E=w==null?null:w-m;m=w,h&&h({action:d,location:S.location,delta:E})}function b(w,E){d="PUSH";let D=xy(S.location,w,E);m=p()+1;let T=$S(D,m),P=S.createHref(D);try{u.pushState(T,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(P)}o&&h&&h({action:d,location:S.location,delta:1})}function y(w,E){d="REPLACE";let D=xy(S.location,w,E);m=p();let T=$S(D,m),P=S.createHref(D);u.replaceState(T,"",P),o&&h&&h({action:d,location:S.location,delta:0})}function A(w){return yN(w)}let S={get action(){return d},get location(){return e(l,u)},listen(w){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(IS,g),h=w,()=>{l.removeEventListener(IS,g),h=null}},createHref(w){return t(l,w)},createURL:A,encodeLocation(w){let E=A(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:y,go(w){return u.go(w)}};return S}function yN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:dc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function p5(e,t,n="/"){return vN(e,t,n,!1)}function vN(e,t,n,r){let l=typeof t=="string"?Ul(t):t,o=Fa(l.pathname||"/",n);if(o==null)return null;let u=g5(e);xN(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=MN(o);d=ON(u[h],m,r)}return d}function g5(e,t=[],n=[],r="",l=!1){let o=(u,d,h=l,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;It(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ia([r,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g5(u.children,t,b,g,h)),!(u.path==null&&!u.index)&&t.push({path:g,score:TN(g,u.index),routesMeta:b})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let h of y5(u.path))o(u,d,!0,h)}),t}function y5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let u=y5(r.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),l&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function xN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bN=/^:[\w-]+$/,jN=3,SN=2,AN=1,wN=10,EN=-2,LS=e=>e==="*";function TN(e,t){let n=e.split("/"),r=n.length;return n.some(LS)&&(r+=EN),t&&(r+=SN),n.filter(l=>!LS(l)).reduce((l,o)=>l+(bN.test(o)?jN:o===""?AN:wN),r)}function CN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function ON(e,t,n=!1){let{routesMeta:r}=e,l={},o="/",u=[];for(let d=0;d<r.length;++d){let h=r[d],m=d===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Rd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!g&&m&&n&&!r[r.length-1].route.index&&(g=Rd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(l,g.params),u.push({params:l,pathname:Ia([o,g.pathname]),pathnameBase:PN(Ia([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Ia([o,g.pathnameBase]))}return u}function Rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DN(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:g},b)=>{if(p==="*"){let A=d[b]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const y=d[b];return g&&!y?m[p]=void 0:m[p]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function DN(e,t=!1,n=!0){Ur(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function MN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ur(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kN(e,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Ul(e):e;return{pathname:n?n.startsWith("/")?n:NN(n,t):t,search:_N(r),hash:RN(l)}}function NN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function $p(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sv(e){let t=zN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Av(e,t,n,r=!1){let l;typeof e=="string"?l=Ul(e):(l={...e},It(!l.pathname||!l.pathname.includes("?"),$p("?","pathname","search",l)),It(!l.pathname||!l.pathname.includes("#"),$p("#","pathname","hash",l)),It(!l.search||!l.search.includes("#"),$p("#","search","hash",l)));let o=e===""||l.pathname==="",u=o?"/":l.pathname,d;if(u==null)d=n;else{let g=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;l.pathname=b.join("/")}d=g>=0?t[g]:"/"}let h=kN(l,d),m=u&&u!=="/"&&u.endsWith("/"),p=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Ia=e=>e.join("/").replace(/\/\/+/g,"/"),PN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v5=["POST","PUT","PATCH","DELETE"];new Set(v5);var IN=["GET",...v5];new Set(IN);var Gl=x.createContext(null);Gl.displayName="DataRouter";var Df=x.createContext(null);Df.displayName="DataRouterState";x.createContext(!1);var x5=x.createContext({isTransitioning:!1});x5.displayName="ViewTransition";var $N=x.createContext(new Map);$N.displayName="Fetchers";var LN=x.createContext(null);LN.displayName="Await";var ta=x.createContext(null);ta.displayName="Navigation";var Tc=x.createContext(null);Tc.displayName="Location";var qr=x.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var wv=x.createContext(null);wv.displayName="RouteError";function UN(e,{relative:t}={}){It(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ta),{hash:l,pathname:o,search:u}=Cc(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:Ia([n,o])),r.createHref({pathname:d,search:u,hash:l})}function Fl(){return x.useContext(Tc)!=null}function Wr(){return It(Fl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Tc).location}var b5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j5(e){x.useContext(ta).static||x.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=x.useContext(qr);return e?nz():GN()}function GN(){It(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Gl),{basename:t,navigator:n}=x.useContext(ta),{matches:r}=x.useContext(qr),{pathname:l}=Wr(),o=JSON.stringify(Sv(r)),u=x.useRef(!1);return j5(()=>{u.current=!0}),x.useCallback((h,m={})=>{if(Ur(u.current,b5),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=Av(h,JSON.parse(o),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ia([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,o,l,e])}var FN=x.createContext(null);function qN(e){let t=x.useContext(qr).outlet;return x.useMemo(()=>t&&x.createElement(FN.Provider,{value:e},t),[t,e])}function Fn(){let{matches:e}=x.useContext(qr),t=e[e.length-1];return t?t.params:{}}function Cc(e,{relative:t}={}){let{matches:n}=x.useContext(qr),{pathname:r}=Wr(),l=JSON.stringify(Sv(n));return x.useMemo(()=>Av(e,JSON.parse(l),r,t==="path"),[e,l,r,t])}function WN(e,t){return S5(e,t)}function S5(e,t,n,r,l){It(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(ta),{matches:u}=x.useContext(qr),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let D=g&&g.path||"";A5(m,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Wr(),y;if(t){let D=typeof t=="string"?Ul(t):t;It(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),y=D}else y=b;let A=y.pathname||"/",S=A;if(p!=="/"){let D=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let w=p5(e,{pathname:S});Ur(g||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ur(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=XN(w&&w.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:Ia([p,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Ia([p,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,r,l);return t&&E?x.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function HN(){let e=tz(),t=BN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:l},n):null,u)}var KN=x.createElement(HN,null),VN=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(qr.Provider,{value:this.props.routeContext},x.createElement(wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YN({routeContext:e,match:t,children:n}){let r=x.useContext(Gl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(qr.Provider,{value:e},n)}function XN(e,t=[],n=null,r=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(n)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:g,errors:b}=n,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,g)=>{let b,y=!1,A=null,S=null;n&&(b=u&&p.route.id?u[p.route.id]:void 0,A=p.route.errorElement||KN,d&&(h<0&&g===0?(A5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):h===g&&(y=!0,S=p.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,g+1)),E=()=>{let D;return b?D=A:y?D=S:p.route.Component?D=x.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=m,x.createElement(YN,{match:p,routeContext:{outlet:m,matches:w,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(VN,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):E()},null)}function Ev(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(e){let t=x.useContext(Gl);return It(t,Ev(e)),t}function ZN(e){let t=x.useContext(Df);return It(t,Ev(e)),t}function JN(e){let t=x.useContext(qr);return It(t,Ev(e)),t}function Tv(e){let t=JN(e),n=t.matches[t.matches.length-1];return It(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ez(){return Tv("useRouteId")}function tz(){let e=x.useContext(wv),t=ZN("useRouteError"),n=Tv("useRouteError");return e!==void 0?e:t.errors?.[n]}function nz(){let{router:e}=QN("useNavigate"),t=Tv("useNavigate"),n=x.useRef(!1);return j5(()=>{n.current=!0}),x.useCallback(async(l,o={})=>{Ur(n.current,b5),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var US={};function A5(e,t,n){!t&&!US[e]&&(US[e]=!0,Ur(!1,n))}x.memo(rz);function rz({routes:e,future:t,state:n,unstable_onError:r}){return S5(e,void 0,n,r,t)}function ms({to:e,replace:t,state:n,relative:r}){It(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(ta);Ur(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(qr),{pathname:u}=Wr(),d=jt(),h=Av(e,Sv(o),u,r==="path"),m=JSON.stringify(h);return x.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function az(e){return qN(e.context)}function Te(e){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:o=!1}){It(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof n=="string"&&(n=Ul(n));let{pathname:h="/",search:m="",hash:p="",state:g=null,key:b="default"}=n,y=x.useMemo(()=>{let A=Fa(h,u);return A==null?null:{location:{pathname:A,search:m,hash:p,state:g,key:b},navigationType:r}},[u,h,m,p,g,b,r]);return Ur(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(ta.Provider,{value:d},x.createElement(Tc.Provider,{children:t,value:y}))}function sz({children:e,location:t}){return WN(by(e),t)}function by(e,t=[]){let n=[];return x.Children.forEach(e,(r,l)=>{if(!x.isValidElement(r))return;let o=[...t,l];if(r.type===x.Fragment){n.push.apply(n,by(r.props.children,o));return}It(r.type===Te,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=by(r.props.children,o)),n.push(u)}),n}var Md="get",kd="application/x-www-form-urlencoded";function Mf(e){return e!=null&&typeof e.tagName=="string"}function lz(e){return Mf(e)&&e.tagName.toLowerCase()==="button"}function oz(e){return Mf(e)&&e.tagName.toLowerCase()==="form"}function cz(e){return Mf(e)&&e.tagName.toLowerCase()==="input"}function uz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dz(e,t){return e.button===0&&(!t||t==="_self")&&!uz(e)}function jy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function fz(e,t){let n=jy(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(o=>{n.append(l,o)})}),n}var fd=null;function hz(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var mz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!mz.has(e)?(Ur(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):e}function pz(e,t){let n,r,l,o,u;if(oz(e)){let d=e.getAttribute("action");r=d?Fa(d,t):null,n=e.getAttribute("method")||Md,l=Lp(e.getAttribute("enctype"))||kd,o=new FormData(e)}else if(lz(e)||cz(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(r=h?Fa(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Md,l=Lp(e.getAttribute("formenctype"))||Lp(d.getAttribute("enctype"))||kd,o=new FormData(d,e),!hz()){let{name:m,type:p,value:g}=e;if(p==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,g)}}else{if(Mf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Md,r=null,l=kd,u=e}return o&&l==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xz(e,t,n){let r=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let u=await yz(o,n);return u.links?u.links():[]}return[]}));return Az(r.flat(1).filter(vz).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function GS(e,t,n,r,l,o){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?t.filter((h,m)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function bz(e,t,{includeHydrateFallback:n}={}){return jz(e.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function jz(e){return[...new Set(e)]}function Sz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Az(e,t){let n=new Set;return new Set(t),e.reduce((r,l)=>{let o=JSON.stringify(Sz(l));return n.has(o)||(n.add(o),r.push({key:o,link:l})),r},[])}function w5(){let e=x.useContext(Gl);return Cv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wz(){let e=x.useContext(Df);return Cv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ov=x.createContext(void 0);Ov.displayName="FrameworkContext";function E5(){let e=x.useContext(Ov);return Cv(e,"You must render this element inside a <HydratedRouter> element"),e}function Ez(e,t){let n=x.useContext(Ov),[r,l]=x.useState(!1),[o,u]=x.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let S=E=>{E.forEach(D=>{u(D.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{l(!0)},A=()=>{l(!1),u(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:Zo(d,y),onBlur:Zo(h,A),onMouseEnter:Zo(m,y),onMouseLeave:Zo(p,A),onTouchStart:Zo(g,y)}]:[!1,b,{}]}function Zo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Tz({page:e,...t}){let{router:n}=w5(),r=x.useMemo(()=>p5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(Oz,{page:e,matches:r,...t}):null}function Cz(e){let{manifest:t,routeModules:n}=E5(),[r,l]=x.useState([]);return x.useEffect(()=>{let o=!1;return xz(e,t,n).then(u=>{o||l(u)}),()=>{o=!0}},[e,t,n]),r}function Oz({page:e,matches:t,...n}){let r=Wr(),{manifest:l,routeModules:o}=E5(),{basename:u}=w5(),{loaderData:d,matches:h}=wz(),m=x.useMemo(()=>GS(e,t,h,l,r,"data"),[e,t,h,l,r]),p=x.useMemo(()=>GS(e,t,h,l,r,"assets"),[e,t,h,l,r]),g=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let A=new Set,S=!1;if(t.forEach(E=>{let D=l.routes[E.route.id];!D||!D.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in d&&o[E.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:A.add(E.route.id))}),A.size===0)return[];let w=gz(e,u,"data");return S&&A.size>0&&w.searchParams.set("_routes",t.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[u,d,r,l,m,t,e,o]),b=x.useMemo(()=>bz(p,l),[p,l]),y=Cz(p);return x.createElement(x.Fragment,null,g.map(A=>x.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>x.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),y.map(({key:A,link:S})=>x.createElement("link",{key:A,nonce:n.nonce,...S})))}function Dz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T5&&(window.__reactRouterVersion="7.9.5")}catch{}function Mz({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=mN({window:n,v5Compat:!0}));let l=r.current,[o,u]=x.useState({action:l.action,location:l.location}),d=x.useCallback(h=>{x.startTransition(()=>u(h))},[u]);return x.useLayoutEffect(()=>l.listen(d),[l,d]),x.createElement(iz,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l})}var C5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kl=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:p,viewTransition:g,...b},y){let{basename:A}=x.useContext(ta),S=typeof m=="string"&&C5.test(m),w,E=!1;if(typeof m=="string"&&S&&(w=m,T5))try{let L=new URL(window.location.href),q=m.startsWith("//")?new URL(L.protocol+m):new URL(m),U=Fa(q.pathname,A);q.origin===L.origin&&U!=null?m=U+q.search+q.hash:E=!0}catch{Ur(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=UN(m,{relative:l}),[T,P,O]=Ez(r,b),M=Pz(m,{replace:u,state:d,target:h,preventScrollReset:p,relative:l,viewTransition:g});function N(L){t&&t(L),L.defaultPrevented||M(L)}let B=x.createElement("a",{...b,...O,href:w||D,onClick:E||o?t:N,ref:Dz(y,P),target:h,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?x.createElement(x.Fragment,null,B,x.createElement(Tz,{page:D})):B});kl.displayName="Link";var kz=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:o,to:u,viewTransition:d,children:h,...m},p){let g=Cc(u,{relative:m.relative}),b=Wr(),y=x.useContext(Df),{navigator:A,basename:S}=x.useContext(ta),w=y!=null&&$z(g)&&d===!0,E=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,D=b.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(D=D.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&S&&(T=Fa(T,S)||T);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=D===E||!l&&D.startsWith(E)&&D.charAt(P)==="/",M=T!=null&&(T===E||!l&&T.startsWith(E)&&T.charAt(E.length)==="/"),N={isActive:O,isPending:M,isTransitioning:w},B=O?t:void 0,L;typeof r=="function"?L=r(N):L=[r,O?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(N):o;return x.createElement(kl,{...m,"aria-current":B,className:L,ref:p,style:q,to:u,viewTransition:d},typeof h=="function"?h(N):h)});kz.displayName="NavLink";var Nz=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:o,method:u=Md,action:d,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:g,...b},y)=>{let A=Bz(),S=Iz(d,{relative:m}),w=u.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&C5.test(d),D=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,O=P?.getAttribute("formmethod")||u;A(P||T.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:l,state:o,relative:m,preventScrollReset:p,viewTransition:g})};return x.createElement("form",{ref:y,method:w,action:S,onSubmit:r?h:D,...b,"data-discover":!E&&e==="render"?"true":void 0})});Nz.displayName="Form";function zz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O5(e){let t=x.useContext(Gl);return It(t,zz(e)),t}function Pz(e,{target:t,replace:n,state:r,preventScrollReset:l,relative:o,viewTransition:u}={}){let d=jt(),h=Wr(),m=Cc(e,{relative:o});return x.useCallback(p=>{if(dz(p,t)){p.preventDefault();let g=n!==void 0?n:dc(h)===dc(m);d(e,{replace:g,state:r,preventScrollReset:l,relative:o,viewTransition:u})}},[h,d,m,n,r,t,e,l,o,u])}function D5(e){Ur(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(jy(e)),n=x.useRef(!1),r=Wr(),l=x.useMemo(()=>fz(r.search,n.current?null:t.current),[r.search]),o=jt(),u=x.useCallback((d,h)=>{const m=jy(typeof d=="function"?d(new URLSearchParams(l)):d);n.current=!0,o("?"+m,h)},[o,l]);return[l,u]}var _z=0,Rz=()=>`__${String(++_z)}__`;function Bz(){let{router:e}=O5("useSubmit"),{basename:t}=x.useContext(ta),n=ez();return x.useCallback(async(r,l={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=pz(r,t);if(l.navigate===!1){let p=l.fetcherKey||Rz();await e.fetch(p,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||u,formEncType:l.encType||d,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||u,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function Iz(e,{relative:t}={}){let{basename:n}=x.useContext(ta),r=x.useContext(qr);It(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),o={...Cc(e||".",{relative:t})},u=Wr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ia([n,o.pathname])),dc(o)}function $z(e,{relative:t}={}){let n=x.useContext(x5);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O5("useViewTransitionState"),l=Cc(e,{relative:t});if(!n.isTransitioning)return!1;let o=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(l.pathname,u)!=null||Rd(l.pathname,o)!=null}var M5=f5();const Lz=()=>{const e=jt(),{login:t}=fN(),[n,r]=x.useState(""),[l,o]=x.useState(""),[u,d]=x.useState(""),[h,m]=x.useState(!1),p=async g=>{g.preventDefault(),d(""),m(!0);try{const b=await uN({email:n,password:l});t(b.token,b.user),e(`/dashboard/${b.user.role}`)}catch(b){d(b.message||"Login failed. Please check your credentials.")}finally{m(!1)}};return a.jsx("div",{className:"login-container",children:a.jsxs("div",{className:"login-card",children:[a.jsx("h1",{children:"Scholyman"}),a.jsx("h2",{children:"Login"}),u&&a.jsx("div",{className:"error-message",style:{padding:"0.75rem",marginBottom:"1rem",backgroundColor:"#fee",color:"#c33",borderRadius:"0.5rem",fontSize:"0.9rem"},children:u}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email:"}),a.jsx("input",{id:"email",type:"email",value:n,onChange:g=>r(g.target.value),placeholder:"Enter your email",required:!0,disabled:h,className:"form-input"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password:"}),a.jsx("input",{id:"password",type:"password",value:l,onChange:g=>o(g.target.value),placeholder:"Enter your password",required:!0,disabled:h,className:"form-input",minLength:6})]}),a.jsx("button",{type:"submit",className:"auth-button",disabled:h,children:h?"Logging in...":"Login"})]}),a.jsxs("div",{className:"auth-footer",children:[a.jsxs("p",{children:["Don't have an account?"," ",a.jsx(kl,{to:"/register",className:"auth-link",children:"Register here"})]}),a.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.85rem",color:"#666"},children:[a.jsx("p",{children:a.jsx("strong",{children:"Demo Credentials:"})}),a.jsx("p",{children:"Admin: admin@school.com / admin123"}),a.jsx("p",{children:"Teacher: teacher1@school.com / teacher123"}),a.jsx("p",{children:"Student: student1@school.com / student123"}),a.jsx("p",{children:"Accountant: accountant@school.com / accountant123"}),a.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",fontStyle:"italic"},children:'You can also use username instead of email (e.g., "admin" instead of "admin@school.com")'})]})]})]})})};const Uz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),FS=e=>{const t=Gz(e);return t.charAt(0).toUpperCase()+t.slice(1)},k5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Fz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wz=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:u,...d},h)=>x.createElement("svg",{ref:h,...qz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:k5("lucide",l),...!o&&!Fz(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,p])=>x.createElement(m,p)),...Array.isArray(o)?o:[o]]));const _e=(e,t)=>{const n=x.forwardRef(({className:r,...l},o)=>x.createElement(Wz,{ref:o,iconNode:t,className:k5(`lucide-${Uz(FS(e))}`,`lucide-${e}`,r),...l}));return n.displayName=FS(e),n};const Hz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nd=_e("activity",Hz);const Kz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Up=_e("arrow-down-right",Kz);const Vz=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Yz=_e("arrow-right-left",Vz);const Xz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Gp=_e("arrow-up-right",Xz);const Qz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yr=_e("award",Qz);const Zz=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Jz=_e("book-marked",Zz);const eP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ot=_e("book-open",eP);const tP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Bi=_e("building-2",tP);const nP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$e=_e("calendar",nP);const rP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Nl=_e("chart-column",rP);const aP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fc=_e("check",aP);const iP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sP=_e("chevron-down",iP);const lP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],N5=_e("chevron-left",lP);const oP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z5=_e("chevron-right",oP);const cP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uP=_e("circle-alert",cP);const dP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],On=_e("circle-check-big",dP);const fP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hP=_e("circle-question-mark",fP);const mP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ii=_e("circle-x",mP);const pP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sy=_e("clipboard-list",pP);const gP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],We=_e("clock",gP);const yP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P5=_e("copy",yP);const vP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$a=_e("credit-card",vP);const xP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Nt=_e("dollar-sign",xP);const bP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qS=_e("download",bP);const jP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],SP=_e("file-plus",jP);const AP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nt=_e("file-text",AP);const wP=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],EP=_e("folder-open",wP);const TP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ay=_e("funnel",TP);const CP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OP=_e("globe",CP);const DP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],vr=_e("graduation-cap",DP);const MP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kP=_e("layout-dashboard",MP);const NP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zr=_e("mail",NP);const zP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rs=_e("map-pin",zP);const PP=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_P=_e("palette",PP);const RP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jr=_e("phone",RP);const BP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=_e("plus",BP);const IP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$P=_e("rotate-ccw",IP);const LP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zt=_e("save",LP);const UP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_5=_e("search",UP);const GP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WS=_e("send",GP);const FP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R5=_e("settings",FP);const qP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],HS=_e("shield",qP);const WP=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KS=_e("square-check-big",WP);const HP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bd=_e("square-pen",HP);const KP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],VP=_e("star",KP);const YP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],XP=_e("tag",YP);const QP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Id=_e("trash-2",QP);const ZP=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Dv=_e("trending-down",ZP);const JP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tr=_e("trending-up",JP);const e6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],t6=_e("triangle-alert",e6);const n6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$d=_e("upload",n6);const r6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hc=_e("user-check",r6);const a6=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],i6=_e("user-cog",a6);const s6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kf=_e("user-plus",s6);const l6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],o6=_e("user-x",l6);const c6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ea=_e("user",c6);const u6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$t=_e("users",u6);const d6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],B5=_e("wallet",d6);const f6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qa=_e("x",f6),h6=()=>{const e=jt(),[t,n]=x.useState({name:"",email:"",password:"",confirmPassword:"",role:"student",phone:"",address:""}),[r,l]=x.useState(""),[o,u]=x.useState(!1),d=m=>{const{name:p,value:g}=m.target;n(b=>({...b,[p]:g}))},h=async m=>{if(m.preventDefault(),l(""),t.password!==t.confirmPassword){l("Passwords do not match");return}if(t.password.length<6){l("Password must be at least 6 characters long");return}u(!0);try{const{confirmPassword:p,address:g,...b}=t,y=await dN({...b,phone:t.phone||void 0});e(`/dashboard/${y.user.role}`)}catch(p){l(p.message||"Registration failed. Please try again.")}finally{u(!1)}};return a.jsx("div",{className:"auth-container",children:a.jsxs("div",{className:"auth-card",children:[a.jsxs("div",{className:"auth-header",children:[a.jsx(kf,{size:48,className:"auth-icon"}),a.jsx("h1",{children:"Create Account"}),a.jsx("p",{children:"Sign up to access the school management system"})]}),r&&a.jsx("div",{className:"error-message",style:{padding:"0.75rem",marginBottom:"1rem",backgroundColor:"#fee",color:"#c33",borderRadius:"0.5rem",fontSize:"0.9rem"},children:r}),a.jsxs("form",{onSubmit:h,className:"auth-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"name",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:d,required:!0,disabled:o,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:d,required:!0,disabled:o,placeholder:"Enter your email"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"role",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:t.role,onChange:d,required:!0,disabled:o,children:[a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"accountant",children:"Accountant"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"phone",children:"Phone (Optional)"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:d,disabled:o,placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:d,required:!0,disabled:o,placeholder:"Enter password (min 6 characters)",minLength:6})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:d,required:!0,disabled:o,placeholder:"Confirm your password",minLength:6})]}),a.jsx("button",{type:"submit",className:"auth-button",disabled:o,children:o?"Creating Account...":"Create Account"})]}),a.jsx("div",{className:"auth-footer",children:a.jsxs("p",{children:["Already have an account?"," ",a.jsx(kl,{to:"/",className:"auth-link",children:"Login here"})]})})]})})};function I5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=I5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=I5(e))&&(r&&(r+=" "),r+=t);return r}var m6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mv(e){if(typeof e!="string")return!1;var t=m6;return t.includes(e)}var p6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $5(e){if(typeof e!="string")return!1;var t=p6;return t.includes(e)}function L5(e){return typeof e=="string"&&e.startsWith("data-")}function Ln(e){var t=Object.entries(e).filter(n=>{var[r]=n;return $5(r)||L5(r)});return Object.fromEntries(t)}function Ts(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ln(t)}return typeof e=="object"&&!Array.isArray(e)?Ln(e):null}function Un(e){var t=Object.entries(e).filter(n=>{var[r]=n;return $5(r)||L5(r)||Mv(r)});return Object.fromEntries(t)}function U5(e){return e==null?null:x.isValidElement(e)?Un(e.props):typeof e=="object"&&!Array.isArray(e)?Un(e):null}var g6=["children","width","height","viewBox","className","style","title","desc"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function y6(e,t){if(e==null)return{};var n,r,l=v6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function v6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kv=x.forwardRef((e,t)=>{var{children:n,width:r,height:l,viewBox:o,className:u,style:d,title:h,desc:m}=e,p=y6(e,g6),g=o||{width:r,height:l,x:0,y:0},b=Je("recharts-surface",u);return x.createElement("svg",wy({},Un(p),{className:b,width:r,height:l,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,h),x.createElement("desc",null,m),n)}),x6=["children","className"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function b6(e,t){if(e==null)return{};var n,r,l=j6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function j6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kt=x.forwardRef((e,t)=>{var{children:n,className:r}=e,l=b6(e,x6),o=Je("recharts-layer",r);return x.createElement("g",Ey({className:o},Un(l),{ref:t}),n)}),G5=x.createContext(null),S6=()=>x.useContext(G5);function St(e){return function(){return e}}const F5=Math.cos,Ld=Math.sin,na=Math.sqrt,Ud=Math.PI,Nf=2*Ud,Ty=Math.PI,Cy=2*Ty,ps=1e-6,A6=Cy-ps;function q5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function w6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q5;const n=10**t;return function(r){this._+=r[0];for(let l=1,o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}class E6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q5:w6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,l){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+l}`}bezierCurveTo(t,n,r,l,o,u){this._append`C${+t},${+n},${+r},${+l},${this._x1=+o},${this._y1=+u}`}arcTo(t,n,r,l,o){if(t=+t,n=+n,r=+r,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,h=r-t,m=l-n,p=u-t,g=d-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>ps)if(!(Math.abs(g*h-m*p)>ps)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-u,A=l-d,S=h*h+m*m,w=y*y+A*A,E=Math.sqrt(S),D=Math.sqrt(b),T=o*Math.tan((Ty-Math.acos((S+b-w)/(2*E*D)))/2),P=T/D,O=T/E;Math.abs(P-1)>ps&&this._append`L${t+P*p},${n+P*g}`,this._append`A${o},${o},0,0,${+(g*y>p*A)},${this._x1=t+O*h},${this._y1=n+O*m}`}}arc(t,n,r,l,o,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(l),h=r*Math.sin(l),m=t+d,p=n+h,g=1^u,b=u?l-o:o-l;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>ps||Math.abs(this._y1-p)>ps)&&this._append`L${m},${p}`,r&&(b<0&&(b=b%Cy+Cy),b>A6?this._append`A${r},${r},0,1,${g},${t-d},${n-h}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:b>ps&&this._append`A${r},${r},0,${+(b>=Ty)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+l}h${-r}Z`}toString(){return this._}}function Nv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new E6(t)}function zv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W5(e){this._context=e}W5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zf(e){return new W5(e)}function H5(e){return e[0]}function K5(e){return e[1]}function V5(e,t){var n=St(!0),r=null,l=zf,o=null,u=Nv(d);e=typeof e=="function"?e:e===void 0?H5:St(e),t=typeof t=="function"?t:t===void 0?K5:St(t);function d(h){var m,p=(h=zv(h)).length,g,b=!1,y;for(r==null&&(o=l(y=u())),m=0;m<=p;++m)!(m<p&&n(g=h[m],m,h))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(g,m,h),+t(g,m,h));if(y)return o=null,y+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),d):t},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:St(!!h),d):n},d.curve=function(h){return arguments.length?(l=h,r!=null&&(o=l(r)),d):l},d.context=function(h){return arguments.length?(h==null?r=o=null:o=l(r=h),d):r},d}function hd(e,t,n){var r=null,l=St(!0),o=null,u=zf,d=null,h=Nv(m);e=typeof e=="function"?e:e===void 0?H5:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?K5:St(+n);function m(g){var b,y,A,S=(g=zv(g)).length,w,E=!1,D,T=new Array(S),P=new Array(S);for(o==null&&(d=u(D=h())),b=0;b<=S;++b){if(!(b<S&&l(w=g[b],b,g))===E)if(E=!E)y=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),A=b-1;A>=y;--A)d.point(T[A],P[A]);d.lineEnd(),d.areaEnd()}E&&(T[b]=+e(w,b,g),P[b]=+t(w,b,g),d.point(r?+r(w,b,g):T[b],n?+n(w,b,g):P[b]))}if(D)return d=null,D+""||null}function p(){return V5().defined(l).curve(u).context(o)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),r=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:St(+g),m):e},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:St(+g),m):r},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),n=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:St(+g),m):t},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:St(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(e).y(t)},m.lineY1=function(){return p().x(e).y(n)},m.lineX1=function(){return p().x(r).y(t)},m.defined=function(g){return arguments.length?(l=typeof g=="function"?g:St(!!g),m):l},m.curve=function(g){return arguments.length?(u=g,o!=null&&(d=u(o)),m):u},m.context=function(g){return arguments.length?(g==null?o=d=null:d=u(o=g),m):o},m}class Y5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function T6(e){return new Y5(e,!0)}function C6(e){return new Y5(e,!1)}const Pv={draw(e,t){const n=na(t/Ud);e.moveTo(n,0),e.arc(0,0,n,0,Nf)}},O6={draw(e,t){const n=na(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},X5=na(1/3),D6=X5*2,M6={draw(e,t){const n=na(t/D6),r=n*X5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},k6={draw(e,t){const n=na(t),r=-n/2;e.rect(r,r,n,n)}},N6=.8908130915292852,Q5=Ld(Ud/10)/Ld(7*Ud/10),z6=Ld(Nf/10)*Q5,P6=-F5(Nf/10)*Q5,_6={draw(e,t){const n=na(t*N6),r=z6*n,l=P6*n;e.moveTo(0,-n),e.lineTo(r,l);for(let o=1;o<5;++o){const u=Nf*o/5,d=F5(u),h=Ld(u);e.lineTo(h*n,-d*n),e.lineTo(d*r-h*l,h*r+d*l)}e.closePath()}},Fp=na(3),R6={draw(e,t){const n=-na(t/(Fp*3));e.moveTo(0,n*2),e.lineTo(-Fp*n,-n),e.lineTo(Fp*n,-n),e.closePath()}},zr=-.5,Pr=na(3)/2,Oy=1/na(12),B6=(Oy/2+1)*3,I6={draw(e,t){const n=na(t/B6),r=n/2,l=n*Oy,o=r,u=n*Oy+n,d=-o,h=u;e.moveTo(r,l),e.lineTo(o,u),e.lineTo(d,h),e.lineTo(zr*r-Pr*l,Pr*r+zr*l),e.lineTo(zr*o-Pr*u,Pr*o+zr*u),e.lineTo(zr*d-Pr*h,Pr*d+zr*h),e.lineTo(zr*r+Pr*l,zr*l-Pr*r),e.lineTo(zr*o+Pr*u,zr*u-Pr*o),e.lineTo(zr*d+Pr*h,zr*h-Pr*d),e.closePath()}};function $6(e,t){let n=null,r=Nv(l);e=typeof e=="function"?e:St(e||Pv),t=typeof t=="function"?t:St(t===void 0?64:+t);function l(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:St(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:St(+o),l):t},l.context=function(o){return arguments.length?(n=o??null,l):n},l}function Gd(){}function Fd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Z5(e){this._context=e}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L6(e){return new Z5(e)}function J5(e){this._context=e}J5.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U6(e){return new J5(e)}function eT(e){this._context=e}eT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G6(e){return new eT(e)}function tT(e){this._context=e}tT.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F6(e){return new tT(e)}function VS(e){return e<0?-1:1}function YS(e,t,n){var r=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(r||l<0&&-0),u=(n-e._y1)/(l||r<0&&-0),d=(o*l+u*r)/(r+l);return(VS(o)+VS(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function XS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qp(e,t,n){var r=e._x0,l=e._y0,o=e._x1,u=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,l+d*t,o-d,u-d*n,o,u)}function qd(e){this._context=e}qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qp(this,this._t0,XS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qp(this,XS(this,n=YS(this,e,t)),n);break;default:qp(this,this._t0,n=YS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function nT(e){this._context=new rT(e)}(nT.prototype=Object.create(qd.prototype)).point=function(e,t){qd.prototype.point.call(this,t,e)};function rT(e){this._context=e}rT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,l,o){this._context.bezierCurveTo(t,e,r,n,o,l)}};function q6(e){return new qd(e)}function W6(e){return new nT(e)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=QS(e),l=QS(t),o=0,u=1;u<n;++o,++u)this._context.bezierCurveTo(r[0][o],l[0][o],r[1][o],l[1][o],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QS(e){var t,n=e.length-1,r,l=new Array(n),o=new Array(n),u=new Array(n);for(l[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,o[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=l[t]/o[t-1],o[t]-=r,u[t]-=r*u[t-1];for(l[n-1]=u[n-1]/o[n-1],t=n-2;t>=0;--t)l[t]=(u[t]-l[t+1])/o[t];for(o[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function H6(e){return new aT(e)}function Pf(e,t){this._context=e,this._t=t}Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function K6(e){return new Pf(e,.5)}function V6(e){return new Pf(e,0)}function Y6(e){return new Pf(e,1)}function zl(e,t){if((u=e.length)>1)for(var n=1,r,l,o=e[t[0]],u,d=o.length;n<u;++n)for(l=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(l[r][1])?l[r][0]:l[r][1]}function Dy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function X6(e,t){return e[t]}function Q6(e){const t=[];return t.key=e,t}function Z6(){var e=St([]),t=Dy,n=zl,r=X6;function l(o){var u=Array.from(e.apply(this,arguments),Q6),d,h=u.length,m=-1,p;for(const g of o)for(d=0,++m;d<h;++d)(u[d][m]=[0,+r(g,u[d].key,m,o)]).data=g;for(d=0,p=zv(t(u));d<h;++d)u[p[d]].index=d;return n(u,p),u}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:St(Array.from(o)),l):e},l.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),l):r},l.order=function(o){return arguments.length?(t=o==null?Dy:typeof o=="function"?o:St(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(n=o??zl,l):n},l}function J6(e,t){if((r=e.length)>0){for(var n,r,l=0,o=e[0].length,u;l<o;++l){for(u=n=0;n<r;++n)u+=e[n][l][1]||0;if(u)for(n=0;n<r;++n)e[n][l][1]/=u}zl(e,t)}}function e_(e,t){if((l=e.length)>0){for(var n=0,r=e[t[0]],l,o=r.length;n<o;++n){for(var u=0,d=0;u<l;++u)d+=e[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}zl(e,t)}}function t_(e,t){if(!(!((u=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var n=0,r=1,l,o,u;r<o;++r){for(var d=0,h=0,m=0;d<u;++d){for(var p=e[t[d]],g=p[r][1]||0,b=p[r-1][1]||0,y=(g-b)/2,A=0;A<d;++A){var S=e[t[A]],w=S[r][1]||0,E=S[r-1][1]||0;y+=w-E}h+=g,m+=y*g}l[r-1][1]+=l[r-1][0]=n,h&&(n-=m/h)}l[r-1][1]+=l[r-1][0]=n,zl(e,t)}}var Wp={},Hp={},ZS;function n_(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Hp)),Hp}var Kp={},JS;function iT(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Kp)),Kp}var Vp={},eA;function _v(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Vp)),Vp}var Yp={},Xp={},tA;function r_(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Xp)),Xp}var nA;function Rv(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_(),n=_v();function r(l){if(Array.isArray(l))return l.map(n.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const o=[],u=l.length;if(u===0)return o;let d=0,h="",m="",p=!1;for(l.charCodeAt(0)===46&&(o.push(""),d++);d<u;){const g=l[d];m?g==="\\"&&d+1<u?(d++,h+=l[d]):g===m?m="":h+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,o.push(h),h=""):h+=g:g==="["?(p=!0,h&&(o.push(h),h="")):g==="."?h&&(o.push(h),h=""):h+=g,d++}return h&&o.push(h),o}e.toPath=r})(Yp)),Yp}var rA;function Bv(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n_(),n=iT(),r=_v(),l=Rv();function o(d,h,m){if(d==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const p=d[h];return p===void 0?n.isDeepKey(h)?o(d,l.toPath(h),m):m:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?m:p}default:{if(Array.isArray(h))return u(d,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const p=d[h];return p===void 0?m:p}}}function u(d,h,m){if(h.length===0)return m;let p=d;for(let g=0;g<h.length;g++){if(p==null||t.isUnsafeProperty(h[g]))return m;p=p[h[g]]}return p===void 0?m:p}e.get=o})(Wp)),Wp}var Qp,aA;function a_(){return aA||(aA=1,Qp=Bv().get),Qp}var i_=a_();const Cs=Xa(i_);var yn=e=>e===0?0:e>0?1:-1,xr=e=>typeof e=="number"&&e!=+e,Wa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!xr(e),ua=e=>Ne(e)||typeof e=="string",s_=0,mc=e=>{var t=++s_;return"".concat(e||"").concat(t)},Pn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return r;var o;if(Wa(t)){if(n==null)return r;var u=t.indexOf("%");o=n*parseFloat(t.slice(0,u))/100}else o=+t;return xr(o)&&(o=r),l&&n!=null&&o>n&&(o=n),o},sT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function ht(e,t,n){return Ne(e)&&Ne(t)?e+n*(t-e):t}function lT(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Cs(r,t))===n)}var Ct=e=>e===null||typeof e>"u",Oc=e=>Ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),l_=["type","size","sizeType"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){o_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o_(e,t,n){return(t=c_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c_(e){var t=u_(e,"string");return typeof t=="symbol"?t:t+""}function u_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d_(e,t){if(e==null)return{};var n,r,l=f_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function f_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oT={symbolCircle:Pv,symbolCross:O6,symbolDiamond:M6,symbolSquare:k6,symbolStar:_6,symbolTriangle:R6,symbolWye:I6},h_=Math.PI/180,m_=e=>{var t="symbol".concat(Oc(e));return oT[t]||Pv},p_=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*h_;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},g_=(e,t)=>{oT["symbol".concat(Oc(e))]=t},Iv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,l=d_(e,l_),o=sA(sA({},l),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var b=m_(u),y=$6().type(b).size(p_(n,r,u)),A=y();if(A!==null)return A},{className:h,cx:m,cy:p}=o,g=Un(o);return m===+m&&p===+p&&n===+n?x.createElement("path",My({},g,{className:Je("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};Iv.registerSymbol=g_;var $v=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(l=>{Mv(l)&&(r[l]=(o=>n[l](n,o)))}),r},y_=(e,t,n)=>r=>(e(t,n,r),null),Dc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(l=>{var o=e[l];Mv(l)&&typeof o=="function"&&(r||(r={}),r[l]=y_(o,t,n))}),r};function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){Lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lv(e,t,n){return(t=x_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_(e){var t=b_(e,"string");return typeof t=="symbol"?t:t+""}function b_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _r=32;class Uv extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,l=_r/2,o=_r/6,u=_r/3,d=t.inactive?r:t.color,h=n??t.type;if(h==="none")return null;if(h==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:_r,y2:l,className:"recharts-legend-icon"});if(h==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(l,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(l,`
            H`).concat(_r,"M").concat(2*u,",").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(l),className:"recharts-legend-icon"});if(h==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(_r/8,"h").concat(_r,"v").concat(_r*3/4,"h").concat(-_r,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var m=v_({},t);return delete m.legendIcon,x.cloneElement(t.legendIcon,m)}return x.createElement(Iv,{fill:d,cx:l,cy:l,size:_r,sizeType:"diameter",type:h})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:l,inactiveColor:o,iconType:u}=this.props,d={x:0,y:0,width:_r,height:_r},h={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var b=p.formatter||l,y=Je({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?o:p.color,S=b?b(p.value,p,g):p.value;return x.createElement("li",ky({className:y,style:h,key:"legend-item-".concat(g)},Dc(this.props,p,g)),x.createElement(kv,{width:n,height:n,viewBox:d,style:m,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,u)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}Lv(Uv,"displayName","Legend");Lv(Uv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Zp={},Jp={},oA;function j_(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const l=new Map;for(let o=0;o<n.length;o++){const u=n[o],d=r(u);l.has(d)||l.set(d,u)}return Array.from(l.values())}e.uniqBy=t})(Jp)),Jp}var eg={},cA;function cT(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(eg)),eg}var tg={},ng={},rg={},uA;function S_(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(rg)),rg}var dA;function Gv(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ng)),ng}var ag={},fA;function A_(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(ag)),ag}var hA;function w_(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv(),n=A_();function r(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=r})(tg)),tg}var ig={},sg={},mA;function E_(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv();function n(r){return function(l){return t.get(l,r)}}e.property=n})(sg)),sg}var lg={},og={},cg={},ug={},pA;function uT(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ug)),ug}var dg={},gA;function dT(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(dg)),dg}var fg={},yA;function fT(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(fg)),fg}var vA;function T_(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT(),n=dT(),r=fT();function l(p,g,b){return typeof b!="function"?l(p,g,()=>{}):o(p,g,function y(A,S,w,E,D,T){const P=b(A,S,w,E,D,T);return P!==void 0?!!P:o(A,S,y,T)},new Map)}function o(p,g,b,y){if(g===p)return!0;switch(typeof g){case"object":return u(p,g,b,y);case"function":return Object.keys(g).length>0?o(p,{...g},b,y):r.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function u(p,g,b,y){if(g==null)return!0;if(Array.isArray(g))return h(p,g,b,y);if(g instanceof Map)return d(p,g,b,y);if(g instanceof Set)return m(p,g,b,y);const A=Object.keys(g);if(p==null)return A.length===0;if(A.length===0)return!0;if(y?.has(g))return y.get(g)===p;y?.set(g,p);try{for(let S=0;S<A.length;S++){const w=A[S];if(!n.isPrimitive(p)&&!(w in p)||g[w]===void 0&&p[w]!==void 0||g[w]===null&&p[w]!==null||!b(p[w],g[w],w,p,g,y))return!1}return!0}finally{y?.delete(g)}}function d(p,g,b,y){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,S]of g.entries()){const w=p.get(A);if(b(w,S,A,p,g,y)===!1)return!1}return!0}function h(p,g,b,y){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let S=0;S<g.length;S++){const w=g[S];let E=!1;for(let D=0;D<p.length;D++){if(A.has(D))continue;const T=p[D];let P=!1;if(b(T,w,S,p,g,y)&&(P=!0),P){A.add(D),E=!0;break}}if(!E)return!1}return!0}function m(p,g,b,y){return g.size===0?!0:p instanceof Set?h([...p],[...g],b,y):!1}e.isMatchWith=l,e.isSetMatch=m})(cg)),cg}var xA;function hT(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T_();function n(r,l){return t.isMatchWith(r,l,()=>{})}e.isMatch=n})(og)),og}var hg={},mg={},pg={},bA;function C_(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(pg)),pg}var gg={},jA;function mT(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(gg)),gg}var yg={},SA;function pT(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",l="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",h="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",A="[object Error]",S="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",D="[object Uint16Array]",T="[object Uint32Array]",P="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",B="[object BigInt64Array]",L="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=p,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=P,e.booleanTag=l,e.dataViewTag=S,e.dateTag=d,e.errorTag=A,e.float32ArrayTag=L,e.float64ArrayTag=q,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=N,e.int8ArrayTag=O,e.mapTag=h,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=D,e.uint32ArrayTag=T,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=E})(yg)),yg}var vg={},AA;function O_(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(vg)),vg}var wA;function gT(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C_(),n=mT(),r=pT(),l=dT(),o=O_();function u(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,b,y=new Map,A=void 0){const S=A?.(p,g,b,y);if(S!==void 0)return S;if(l.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const w=new Array(p.length);y.set(p,w);for(let E=0;E<p.length;E++)w[E]=d(p[E],E,b,y,A);return Object.hasOwn(p,"index")&&(w.index=p.index),Object.hasOwn(p,"input")&&(w.input=p.input),w}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const w=new RegExp(p.source,p.flags);return w.lastIndex=p.lastIndex,w}if(p instanceof Map){const w=new Map;y.set(p,w);for(const[E,D]of p)w.set(E,d(D,E,b,y,A));return w}if(p instanceof Set){const w=new Set;y.set(p,w);for(const E of p)w.add(d(E,void 0,b,y,A));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const w=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,w);for(let E=0;E<p.length;E++)w[E]=d(p[E],E,b,y,A);return w}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const w=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,w),h(w,p,b,y,A),w}if(typeof File<"u"&&p instanceof File){const w=new File([p],p.name,{type:p.type});return y.set(p,w),h(w,p,b,y,A),w}if(typeof Blob<"u"&&p instanceof Blob){const w=new Blob([p],{type:p.type});return y.set(p,w),h(w,p,b,y,A),w}if(p instanceof Error){const w=new p.constructor;return y.set(p,w),w.message=p.message,w.name=p.name,w.stack=p.stack,w.cause=p.cause,h(w,p,b,y,A),w}if(p instanceof Boolean){const w=new Boolean(p.valueOf());return y.set(p,w),h(w,p,b,y,A),w}if(p instanceof Number){const w=new Number(p.valueOf());return y.set(p,w),h(w,p,b,y,A),w}if(p instanceof String){const w=new String(p.valueOf());return y.set(p,w),h(w,p,b,y,A),w}if(typeof p=="object"&&m(p)){const w=Object.create(Object.getPrototypeOf(p));return y.set(p,w),h(w,p,b,y,A),w}return p}function h(p,g,b=p,y,A){const S=[...Object.keys(g),...t.getSymbols(g)];for(let w=0;w<S.length;w++){const E=S[w],D=Object.getOwnPropertyDescriptor(p,E);(D==null||D.writable)&&(p[E]=d(g[E],E,b,y,A))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=h})(mg)),mg}var EA;function D_(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(hg)),hg}var TA;function M_(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT(),n=D_();function r(l){return l=n.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=r})(lg)),lg}var xg={},bg={},jg={},CA;function k_(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),n=pT();function r(l,o){return t.cloneDeepWith(l,(u,d,h,m)=>{const p=o?.(u,d,h,m);if(p!==void 0)return p;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new l.constructor(l?.valueOf());return t.copyProperties(g,l),g}case n.argumentsTag:{const g={};return t.copyProperties(g,l),g.length=l.length,g[Symbol.iterator]=l[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(jg)),jg}var OA;function N_(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(bg)),bg}var Sg={},Ag={},DA;function yT(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,l=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<l;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ag)),Ag}var wg={},MA;function z_(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(wg)),wg}var kA;function P_(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT(),n=yT(),r=z_(),l=Rv();function o(u,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?h=l.toPath(d):h=[d],h.length===0)return!1;let m=u;for(let p=0;p<h.length;p++){const g=h[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=o})(Sg)),Sg}var NA;function __(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT(),n=_v(),r=N_(),l=Bv(),o=P_();function u(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(m){const p=l.get(m,d);return p===void 0?o.has(m,d):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=u})(xg)),xg}var zA;function R_(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cT(),n=E_(),r=M_(),l=__();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?l.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=o})(ig)),ig}var PA;function B_(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_(),n=cT(),r=w_(),l=R_();function o(u,d=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),l.iteratee(d)):[]}e.uniqBy=o})(Zp)),Zp}var Eg,_A;function I_(){return _A||(_A=1,Eg=B_().uniqBy),Eg}var $_=I_();const RA=Xa($_);function vT(e,t,n){return t===!0?RA(e,n):typeof t=="function"?RA(e,t):e}var Tg={exports:{}},Cg={},Og={exports:{}},Dg={};var BA;function L_(){if(BA)return Dg;BA=1;var e=Ll();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,l=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(g,b){var y=b(),A=r({inst:{value:y,getSnapshot:b}}),S=A[0].inst,w=A[1];return o(function(){S.value=y,S.getSnapshot=b,h(S)&&w({inst:S})},[g,y,b]),l(function(){return h(S)&&w({inst:S}),g(function(){h(S)&&w({inst:S})})},[g]),u(y),y}function h(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Dg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Dg}var IA;function U_(){return IA||(IA=1,Og.exports=L_()),Og.exports}var $A;function G_(){if($A)return Cg;$A=1;var e=Ll(),t=U_();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,h=e.useDebugValue;return Cg.useSyncExternalStoreWithSelector=function(m,p,g,b,y){var A=o(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=d(function(){function E(M){if(!D){if(D=!0,T=M,M=b(M),y!==void 0&&S.hasValue){var N=S.value;if(y(N,M))return P=N}return P=M}if(N=P,r(T,M))return N;var B=b(M);return y!==void 0&&y(N,B)?(T=M,N):(T=M,P=B)}var D=!1,T,P,O=g===void 0?null:g;return[function(){return E(p())},O===null?void 0:function(){return E(O())}]},[p,g,b,y]);var w=l(m,A[0],A[1]);return u(function(){S.hasValue=!0,S.value=w},[w]),h(w),w},Cg}var LA;function F_(){return LA||(LA=1,Tg.exports=G_()),Tg.exports}var q_=F_(),Fv=x.createContext(null),W_=e=>e,Lt=()=>{var e=x.useContext(Fv);return e?e.store.dispatch:W_},zd=()=>{},H_=()=>zd,K_=(e,t)=>e===t;function ze(e){var t=x.useContext(Fv);return q_.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:H_,t?t.store.getState:zd,t?t.store.getState:zd,t?e:zd,K_)}function V_(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Y_(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function X_(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var UA=e=>Array.isArray(e)?e:[e];function Q_(e){const t=Array.isArray(e[0])?e[0]:e;return X_(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Z_(e,t){const n=[],{length:r}=e;for(let l=0;l<r;l++)n.push(e[l].apply(null,t));return n}var J_=class{constructor(e){this.value=e}deref(){return this.value}},e4=typeof WeakRef<"u"?WeakRef:J_,t4=0,GA=1;function md(){return{s:t4,v:void 0,o:null,p:null}}function xT(e,t={}){let n=md();const{resultEqualityCheck:r}=t;let l,o=0;function u(){let d=n;const{length:h}=arguments;for(let g=0,b=h;g<b;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let A=d.o;A===null&&(d.o=A=new WeakMap);const S=A.get(y);S===void 0?(d=md(),A.set(y,d)):d=S}else{let A=d.p;A===null&&(d.p=A=new Map);const S=A.get(y);S===void 0?(d=md(),A.set(y,d)):d=S}}const m=d;let p;if(d.s===GA)p=d.v;else if(p=e.apply(null,arguments),o++,r){const g=l?.deref?.()??l;g!=null&&r(g,p)&&(p=g,o!==0&&o--),l=typeof p=="object"&&p!==null||typeof p=="function"?new e4(p):p}return m.s=GA,m.v=p,p}return u.clearCache=()=>{n=md(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function n4(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...l)=>{let o=0,u=0,d,h={},m=l.pop();typeof m=="object"&&(h=m,m=l.pop()),V_(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...h},{memoize:g,memoizeOptions:b=[],argsMemoize:y=xT,argsMemoizeOptions:A=[]}=p,S=UA(b),w=UA(A),E=Q_(l),D=g(function(){return o++,m.apply(null,arguments)},...S),T=y(function(){u++;const O=Z_(E,arguments);return d=D.apply(null,O),d},...w);return Object.assign(T,{resultFunc:m,memoizedResultFunc:D,dependencies:E,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var le=n4(xT),r4=Object.assign((e,t=le)=>{Y_(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((u,d,h)=>(u[n[h]]=d,u),{}))},{withTypes:()=>r4}),Mg={},kg={},Ng={},FA;function a4(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,l,o)=>{if(r!==l){const u=t(r),d=t(l);if(u===d&&u===0){if(r<l)return o==="desc"?1:-1;if(r>l)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=n})(Ng)),Ng}var zg={},Pg={},qA;function bT(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Pg)),Pg}var WA;function i4(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function l(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=l})(zg)),zg}var HA;function s4(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4(),n=i4(),r=Rv();function l(o,u,d,h){if(o==null)return[];d=h?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,A)=>{let S=y;for(let w=0;w<A.length&&S!=null;++w)S=S[A[w]];return S},p=(y,A)=>A==null||y==null?A:typeof y=="object"&&"key"in y?Object.hasOwn(A,y.key)?A[y.key]:m(A,y.path):typeof y=="function"?y(A):Array.isArray(y)?m(A,y):typeof A=="object"?A[y]:A,g=u.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return o.map(y=>({original:y,criteria:g.map(A=>p(A,y))})).slice().sort((y,A)=>{for(let S=0;S<g.length;S++){const w=t.compareValues(y.criteria[S],A.criteria[S],d[S]);if(w!==0)return w}return 0}).map(y=>y.original)}e.orderBy=l})(kg)),kg}var _g={},KA;function l4(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const l=[],o=Math.floor(r),u=(d,h)=>{for(let m=0;m<d.length;m++){const p=d[m];Array.isArray(p)&&h<o?u(p,h+1):l.push(p)}};return u(n,0),l}e.flatten=t})(_g)),_g}var Rg={},VA;function jT(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT(),n=Gv(),r=uT(),l=fT();function o(u,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&t.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?l.eq(h[d],u):!1}e.isIterateeCall=o})(Rg)),Rg}var YA;function o4(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s4(),n=l4(),r=jT();function l(o,...u){const d=u.length;return d>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,n.flatten(u),["asc"])}e.sortBy=l})(Mg)),Mg}var Bg,XA;function c4(){return XA||(XA=1,Bg=o4().sortBy),Bg}var u4=c4();const _f=Xa(u4);var ST=e=>e.legend.settings,d4=e=>e.legend.size,f4=e=>e.legend.payload,h4=le([f4,ST],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?_f(r,n):r});function m4(){return ze(h4)}var pd=1;function AT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>pd||Math.abs(u.left-t.left)>pd||Math.abs(u.top-t.top)>pd||Math.abs(u.width-t.width)>pd)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Tn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p4=typeof Symbol=="function"&&Symbol.observable||"@@observable",QA=p4,Ig=()=>Math.random().toString(36).substring(7).split("").join("."),g4={INIT:`@@redux/INIT${Ig()}`,REPLACE:`@@redux/REPLACE${Ig()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ig()}`},Wd=g4;function qv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wT(e,t,n){if(typeof e!="function")throw new Error(Tn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tn(1));return n(wT)(e,t)}let r=e,l=t,o=new Map,u=o,d=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((w,E)=>{u.set(E,w)}))}function p(){if(h)throw new Error(Tn(3));return l}function g(w){if(typeof w!="function")throw new Error(Tn(4));if(h)throw new Error(Tn(5));let E=!0;m();const D=d++;return u.set(D,w),function(){if(E){if(h)throw new Error(Tn(6));E=!1,m(),u.delete(D),o=null}}}function b(w){if(!qv(w))throw new Error(Tn(7));if(typeof w.type>"u")throw new Error(Tn(8));if(typeof w.type!="string")throw new Error(Tn(17));if(h)throw new Error(Tn(9));try{h=!0,l=r(l,w)}finally{h=!1}return(o=u).forEach(D=>{D()}),w}function y(w){if(typeof w!="function")throw new Error(Tn(10));r=w,b({type:Wd.REPLACE})}function A(){const w=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Tn(11));function D(){const P=E;P.next&&P.next(p())}return D(),{unsubscribe:w(D)}},[QA](){return this}}}return b({type:Wd.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:y,[QA]:A}}function y4(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wd.INIT})>"u")throw new Error(Tn(12));if(typeof n(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tn(13))})}function ET(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let l;try{y4(n)}catch(o){l=o}return function(u={},d){if(l)throw l;let h=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],y=u[g],A=b(y,d);if(typeof A>"u")throw d&&d.type,new Error(Tn(14));m[g]=A,h=h||A!==y}return h=h||r.length!==Object.keys(u).length,h?m:u}}function Hd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function v4(...e){return t=>(n,r)=>{const l=t(n,r);let o=()=>{throw new Error(Tn(15))};const u={getState:l.getState,dispatch:(h,...m)=>o(h,...m)},d=e.map(h=>h(u));return o=Hd(...d)(l.dispatch),{...l,dispatch:o}}}function TT(e){return qv(e)&&"type"in e&&typeof e.type=="string"}var CT=Symbol.for("immer-nothing"),ZA=Symbol.for("immer-draftable"),br=Symbol.for("immer-state");function Xr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pc=Object.getPrototypeOf;function Os(e){return!!e&&!!e[br]}function Ha(e){return e?OT(e)||Array.isArray(e)||!!e[ZA]||!!e.constructor?.[ZA]||Mc(e)||Bf(e):!1}var x4=Object.prototype.constructor.toString(),JA=new WeakMap;function OT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JA.get(n);return r===void 0&&(r=Function.toString.call(n),JA.set(n,r)),r===x4}function Kd(e,t,n=!0){Rf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((r,l)=>t(l,r,e))}function Rf(e){const t=e[br];return t?t.type_:Array.isArray(e)?1:Mc(e)?2:Bf(e)?3:0}function Ny(e,t){return Rf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DT(e,t,n){const r=Rf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function b4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mc(e){return e instanceof Map}function Bf(e){return e instanceof Set}function gs(e){return e.copy_||e.base_}function zy(e,t){if(Mc(e))return new Map(e);if(Bf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=OT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[br];let l=Reflect.ownKeys(r);for(let o=0;o<l.length;o++){const u=l[o],d=r[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(pc(e),r)}else{const r=pc(e);if(r!==null&&n)return{...e};const l=Object.create(r);return Object.assign(l,e)}}function Wv(e,t=!1){return If(e)||Os(e)||!Ha(e)||(Rf(e)>1&&Object.defineProperties(e,{set:gd,add:gd,clear:gd,delete:gd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Wv(n,!0))),e}function j4(){Xr(2)}var gd={value:j4};function If(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var S4={};function Ds(e){const t=S4[e];return t||Xr(0,e),t}var gc;function MT(){return gc}function A4(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function e2(e,t){t&&(Ds("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Py(e){_y(e),e.drafts_.forEach(w4),e.drafts_=null}function _y(e){e===gc&&(gc=e.parent_)}function t2(e){return gc=A4(gc,e)}function w4(e){const t=e[br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function n2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[br].modified_&&(Py(t),Xr(4)),Ha(e)&&(e=Vd(t,e),t.parent_||Yd(t,e)),t.patches_&&Ds("Patches").generateReplacementPatches_(n[br].base_,e,t.patches_,t.inversePatches_)):e=Vd(t,n,[]),Py(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CT?e:void 0}function Vd(e,t,n){if(If(t))return t;const r=e.immer_.shouldUseStrictIteration(),l=t[br];if(!l)return Kd(t,(o,u)=>r2(e,l,t,o,u,n),r),t;if(l.scope_!==e)return t;if(!l.modified_)return Yd(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const o=l.copy_;let u=o,d=!1;l.type_===3&&(u=new Set(o),o.clear(),d=!0),Kd(u,(h,m)=>r2(e,l,o,h,m,n,d),r),Yd(e,o,!1),n&&e.patches_&&Ds("Patches").generatePatches_(l,n,e.patches_,e.inversePatches_)}return l.copy_}function r2(e,t,n,r,l,o,u){if(l==null||typeof l!="object"&&!u)return;const d=If(l);if(!(d&&!u)){if(Os(l)){const h=o&&t&&t.type_!==3&&!Ny(t.assigned_,r)?o.concat(r):void 0,m=Vd(e,l,h);if(DT(n,r,m),Os(m))e.canAutoFreeze_=!1;else return}else u&&n.add(l);if(Ha(l)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===l&&d)return;Vd(e,l),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Mc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Yd(e,l)}}}function Yd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wv(t,n)}function E4(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:MT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=r,o=Hv;n&&(l=[r],o=yc);const{revoke:u,proxy:d}=Proxy.revocable(l,o);return r.draft_=d,r.revoke_=u,d}var Hv={get(e,t){if(t===br)return e;const n=gs(e);if(!Ny(n,t))return T4(e,n,t);const r=n[t];return e.finalized_||!Ha(r)?r:r===$g(e.base_,t)?(Lg(e),e.copy_[t]=By(r,e)):r},has(e,t){return t in gs(e)},ownKeys(e){return Reflect.ownKeys(gs(e))},set(e,t,n){const r=kT(gs(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const l=$g(gs(e),t),o=l?.[br];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(b4(n,l)&&(n!==void 0||Ny(e.base_,t)))return!0;Lg(e),Ry(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $g(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lg(e),Ry(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=gs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Xr(11)},getPrototypeOf(e){return pc(e.base_)},setPrototypeOf(){Xr(12)}},yc={};Kd(Hv,(e,t)=>{yc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yc.deleteProperty=function(e,t){return yc.set.call(this,e,t,void 0)};yc.set=function(e,t,n){return Hv.set.call(this,e[0],t,n,e[0])};function $g(e,t){const n=e[br];return(n?gs(n):e)[t]}function T4(e,t,n){const r=kT(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function kT(e,t){if(!(t in e))return;let n=pc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=pc(n)}}function Ry(e){e.modified_||(e.modified_=!0,e.parent_&&Ry(e.parent_))}function Lg(e){e.copy_||(e.copy_=zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(h=o,...m){return u.produce(h,p=>n.call(this,p,...m))}}typeof n!="function"&&Xr(6),r!==void 0&&typeof r!="function"&&Xr(7);let l;if(Ha(t)){const o=t2(this),u=By(t,void 0);let d=!0;try{l=n(u),d=!1}finally{d?Py(o):_y(o)}return e2(o,r),n2(l,o)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===CT&&(l=void 0),this.autoFreeze_&&Wv(l,!0),r){const o=[],u=[];Ds("Patches").generateReplacementPatches_(t,l,o,u),r(o,u)}return l}else Xr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,h=>t(h,...d));let r,l;return[this.produce(t,n,(u,d)=>{r=u,l=d}),r,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ha(e)||Xr(8),Os(e)&&(e=La(e));const t=t2(this),n=By(e,void 0);return n[br].isManual_=!0,_y(t),n}finishDraft(e,t){const n=e&&e[br];(!n||!n.isManual_)&&Xr(9);const{scope_:r}=n;return e2(r,t),n2(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const r=Ds("Patches").applyPatches_;return Os(e)?r(e,t):this.produce(e,l=>r(l,t))}};function By(e,t){const n=Mc(e)?Ds("MapSet").proxyMap_(e,t):Bf(e)?Ds("MapSet").proxySet_(e,t):E4(e,t);return(t?t.scope_:MT()).drafts_.push(n),n}function La(e){return Os(e)||Xr(10,e),NT(e)}function NT(e){if(!Ha(e)||If(e))return e;const t=e[br];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=zy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=zy(e,!0);return Kd(n,(l,o)=>{DT(n,l,NT(o))},r),t&&(t.finalized_=!1),n}var Iy=new C4,zT=Iy.produce,O4=Iy.setUseStrictIteration.bind(Iy);function PT(e){return({dispatch:n,getState:r})=>l=>o=>typeof o=="function"?o(n,r,e):l(o)}var D4=PT(),M4=PT,k4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hd:Hd.apply(null,arguments)};function Gr(e,t){function n(...r){if(t){let l=t(...r);if(!l)throw new Error(gr(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>TT(r)&&r.type===e,n}var _T=class lc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lc.prototype)}static get[Symbol.species](){return lc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lc(...t[0].concat(this)):new lc(...t.concat(this))}};function a2(e){return Ha(e)?zT(e,()=>{}):e}function yd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function N4(e){return typeof e=="boolean"}var z4=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let u=new _T;return n&&(N4(n)?u.push(D4):u.push(M4(n.extraArgument))),u},RT="RTK_autoBatch",Bn=()=>e=>({payload:e,meta:{[RT]:!0}}),i2=e=>t=>{setTimeout(t,e)},BT=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let l=!0,o=!1,u=!1;const d=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:i2(10):e.type==="callback"?e.queueNotification:i2(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>l&&p(),b=r.subscribe(g);return d.add(p),()=>{b(),d.delete(p)}},dispatch(p){try{return l=!p?.meta?.[RT],o=!l,o&&(u||(u=!0,h(m))),r.dispatch(p)}finally{l=!0}}})},P4=e=>function(n){const{autoBatch:r=!0}=n??{};let l=new _T(e);return r&&l.push(BT(typeof r=="object"?r:void 0)),l};function _4(e){const t=z4(),{reducer:n=void 0,middleware:r,devTools:l=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(qv(n))d=ET(n);else throw new Error(gr(1));let h;typeof r=="function"?h=r(t):h=t();let m=Hd;l&&(m=k4({trace:!1,...typeof l=="object"&&l}));const p=v4(...h),g=P4(p);let b=typeof u=="function"?u(g):g();const y=m(...b);return wT(d,o,y)}function IT(e){const t={},n=[];let r;const l={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(gr(28));if(d in t)throw new Error(gr(29));return t[d]=u,l},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),l},addMatcher(o,u){return n.push({matcher:o,reducer:u}),l},addDefaultCase(o){return r=o,l}};return e(l),[t,n,r]}O4(!1);function R4(e){return typeof e=="function"}function B4(e,t){let[n,r,l]=IT(t),o;if(R4(e))o=()=>a2(e());else{const d=a2(e);o=()=>d}function u(d=o(),h){let m=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[l]),m.reduce((p,g)=>{if(g)if(Os(p)){const y=g(p,h);return y===void 0?p:y}else{if(Ha(p))return zT(p,b=>g(b,h));{const b=g(p,h);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},d)}return u.getInitialState=o,u}var I4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$4=(e=21)=>{let t="",n=e;for(;n--;)t+=I4[Math.random()*64|0];return t},L4=Symbol.for("rtk-slice-createasyncthunk");function U4(e,t){return`${e}/${t}`}function G4({creators:e}={}){const t=e?.asyncThunk?.[L4];return function(r){const{name:l,reducerPath:o=l}=r;if(!l)throw new Error(gr(11));const u=(typeof r.reducers=="function"?r.reducers(q4()):r.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,P){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(gr(12));if(O in h.sliceCaseReducersByType)throw new Error(gr(13));return h.sliceCaseReducersByType[O]=P,m},addMatcher(T,P){return h.sliceMatchers.push({matcher:T,reducer:P}),m},exposeAction(T,P){return h.actionCreators[T]=P,m},exposeCaseReducer(T,P){return h.sliceCaseReducersByName[T]=P,m}};d.forEach(T=>{const P=u[T],O={reducerName:T,type:U4(l,T),createNotation:typeof r.reducers=="function"};H4(P)?V4(O,P,m,t):W4(O,P,m)});function p(){const[T={},P=[],O=void 0]=typeof r.extraReducers=="function"?IT(r.extraReducers):[r.extraReducers],M={...T,...h.sliceCaseReducersByType};return B4(r.initialState,N=>{for(let B in M)N.addCase(B,M[B]);for(let B of h.sliceMatchers)N.addMatcher(B.matcher,B.reducer);for(let B of P)N.addMatcher(B.matcher,B.reducer);O&&N.addDefaultCase(O)})}const g=T=>T,b=new Map,y=new WeakMap;let A;function S(T,P){return A||(A=p()),A(T,P)}function w(){return A||(A=p()),A.getInitialState()}function E(T,P=!1){function O(N){let B=N[T];return typeof B>"u"&&P&&(B=yd(y,O,w)),B}function M(N=g){const B=yd(b,P,()=>new WeakMap);return yd(B,N,()=>{const L={};for(const[q,U]of Object.entries(r.selectors??{}))L[q]=F4(U,N,()=>yd(y,N,w),P);return L})}return{reducerPath:T,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const D={name:l,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:w,...E(o),injectInto(T,{reducerPath:P,...O}={}){const M=P??o;return T.inject({reducerPath:M,reducer:S},O),{...D,...E(M,!0)}}};return D}}function F4(e,t,n,r){function l(o,...u){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...u)}return l.unwrapped=e,l}var jr=G4();function q4(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function W4({type:e,reducerName:t,createNotation:n},r,l){let o,u;if("reducer"in r){if(n&&!K4(r))throw new Error(gr(17));o=r.reducer,u=r.prepare}else o=r;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?Gr(e,u):Gr(e))}function H4(e){return e._reducerDefinitionType==="asyncThunk"}function K4(e){return e._reducerDefinitionType==="reducerWithPrepare"}function V4({type:e,reducerName:t},n,r,l){if(!l)throw new Error(gr(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:h,settled:m,options:p}=n,g=l(e,o,p);r.exposeAction(t,g),u&&r.addCase(g.fulfilled,u),d&&r.addCase(g.pending,d),h&&r.addCase(g.rejected,h),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(t,{fulfilled:u||vd,pending:d||vd,rejected:h||vd,settled:m||vd})}function vd(){}var Y4="task",$T="listener",LT="completed",Kv="cancelled",X4=`task-${Kv}`,Q4=`task-${LT}`,$y=`${$T}-${Kv}`,Z4=`${$T}-${LT}`,$f=class{constructor(e){this.code=e,this.message=`${Y4} ${Kv} (reason: ${e})`}name="TaskAbortError";message},Vv=(e,t)=>{if(typeof e!="function")throw new TypeError(gr(32))},Xd=()=>{},UT=(e,t=Xd)=>(e.catch(t),e),GT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),js=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ss=e=>{if(e.aborted){const{reason:t}=e;throw new $f(t)}};function FT(e,t){let n=Xd;return new Promise((r,l)=>{const o=()=>l(new $f(e.reason));if(e.aborted){o();return}n=GT(e,o),t.finally(()=>n()).then(r,l)}).finally(()=>{n=Xd})}var J4=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $f?"cancelled":"rejected",error:n}}finally{t?.()}},Qd=e=>t=>UT(FT(e,t).then(n=>(Ss(e),n))),qT=e=>{const t=Qd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ol}=Object,s2={},Lf="listenerMiddleware",eR=(e,t)=>{const n=r=>GT(e,()=>js(r,e.reason));return(r,l)=>{Vv(r);const o=new AbortController;n(o);const u=J4(async()=>{Ss(e),Ss(o.signal);const d=await r({pause:Qd(o.signal),delay:qT(o.signal),signal:o.signal});return Ss(o.signal),d},()=>js(o,Q4));return l?.autoJoin&&t.push(u.catch(Xd)),{result:Qd(e)(u),cancel(){js(o,X4)}}}},tR=(e,t)=>{const n=async(r,l)=>{Ss(t);let o=()=>{};const d=[new Promise((h,m)=>{let p=e({predicate:r,effect:(g,b)=>{b.unsubscribe(),h([g,b.getState(),b.getOriginalState()])}});o=()=>{p(),m()}})];l!=null&&d.push(new Promise(h=>setTimeout(h,l,null)));try{const h=await FT(t,Promise.race(d));return Ss(t),h}finally{o()}};return(r,l)=>UT(n(r,l))},WT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:l,effect:o}=e;if(t)l=Gr(t).match;else if(n)t=n.type,l=n.match;else if(r)l=r;else if(!l)throw new Error(gr(21));return Vv(o),{predicate:l,type:t,effect:o}},HT=Ol(e=>{const{type:t,predicate:n,effect:r}=WT(e);return{id:$4(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(gr(22))}}},{withTypes:()=>HT}),l2=(e,t)=>{const{type:n,effect:r,predicate:l}=WT(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===l)&&o.effect===r)},Ly=e=>{e.pending.forEach(t=>{js(t,$y)})},nR=(e,t)=>()=>{for(const n of t.keys())Ly(n);e.clear()},o2=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},KT=Ol(Gr(`${Lf}/add`),{withTypes:()=>KT}),rR=Gr(`${Lf}/removeAll`),VT=Ol(Gr(`${Lf}/remove`),{withTypes:()=>VT}),aR=(...e)=>{console.error(`${Lf}/error`,...e)},kc=(e={})=>{const t=new Map,n=new Map,r=y=>{const A=n.get(y)??0;n.set(y,A+1)},l=y=>{const A=n.get(y)??1;A===1?n.delete(y):n.set(y,A-1)},{extra:o,onError:u=aR}=e;Vv(u);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),A=>{y.unsubscribe(),A?.cancelActive&&Ly(y)}),h=y=>{const A=l2(t,y)??HT(y);return d(A)};Ol(h,{withTypes:()=>h});const m=y=>{const A=l2(t,y);return A&&(A.unsubscribe(),y.cancelActive&&Ly(A)),!!A};Ol(m,{withTypes:()=>m});const p=async(y,A,S,w)=>{const E=new AbortController,D=tR(h,E.signal),T=[];try{y.pending.add(E),r(y),await Promise.resolve(y.effect(A,Ol({},S,{getOriginalState:w,condition:(P,O)=>D(P,O).then(Boolean),take:D,delay:qT(E.signal),pause:Qd(E.signal),extra:o,signal:E.signal,fork:eR(E.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,O,M)=>{P!==E&&(js(P,$y),M.delete(P))})},cancel:()=>{js(E,$y),y.pending.delete(E)},throwIfCancelled:()=>{Ss(E.signal)}})))}catch(P){P instanceof $f||o2(u,P,{raisedBy:"effect"})}finally{await Promise.all(T),js(E,Z4),l(y),y.pending.delete(E)}},g=nR(t,n);return{middleware:y=>A=>S=>{if(!TT(S))return A(S);if(KT.match(S))return h(S.payload);if(rR.match(S)){g();return}if(VT.match(S))return m(S.payload);let w=y.getState();const E=()=>{if(w===s2)throw new Error(gr(23));return w};let D;try{if(D=A(S),t.size>0){const T=y.getState(),P=Array.from(t.values());for(const O of P){let M=!1;try{M=O.predicate(S,T,w)}catch(N){M=!1,o2(u,N,{raisedBy:"predicate"})}M&&p(O,S,y,E)}}}finally{w=s2}return D},startListening:h,stopListening:m,clearListeners:g}};function gr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iR={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YT=jr({name:"chartLayout",initialState:iR,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,l,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sR,setLayout:lR,setChartSize:oR,setScale:cR}=YT.actions,uR=YT.reducer;function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){dR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dR(e,t,n){return(t=fR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fR(e){var t=hR(e,"string");return typeof t=="symbol"?t:t+""}function hR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zd=Math.PI/180,mR=e=>e*180/Math.PI,tn=(e,t,n,r)=>({x:e+Math.cos(-Zd*r)*n,y:t+Math.sin(-Zd*r)*n}),XT=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pR=(e,t)=>{var{x:n,y:r}=e,{x:l,y:o}=t;return Math.sqrt((n-l)**2+(r-o)**2)},gR=(e,t)=>{var{x:n,y:r}=e,{cx:l,cy:o}=t,u=pR({x:n,y:r},{x:l,y:o});if(u<=0)return{radius:u,angle:0};var d=(n-l)/u,h=Math.acos(d);return r>o&&(h=2*Math.PI-h),{radius:u,angle:mR(h),angleInRadian:h}},yR=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),l=Math.floor(n/360),o=Math.min(r,l);return{startAngle:t-o*360,endAngle:n-o*360}},vR=(e,t)=>{var{startAngle:n,endAngle:r}=t,l=Math.floor(n/360),o=Math.floor(r/360),u=Math.min(l,o);return e+u*360},xR=(e,t)=>{var{x:n,y:r}=e,{radius:l,angle:o}=gR({x:n,y:r},t),{innerRadius:u,outerRadius:d}=t;if(l<u||l>d||l===0)return null;var{startAngle:h,endAngle:m}=yR(t),p=o,g;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}return g?u2(u2({},t),{},{radius:l,angle:vR(p,t)}):null};function QT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(r){bR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bR(e,t,n){return(t=jR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jR(e){var t=SR(e,"string");return typeof t=="symbol"?t:t+""}function SR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t,n){return Ct(e)||Ct(t)?n:ua(t)?Cs(e,t,n):typeof t=="function"?t(e):n}var AR=(e,t,n,r,l)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var h=0;h<d;h++){var m=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,g=h>=d-1?n[0].coordinate:n[h+1].coordinate,b=void 0;if(yn(p-m)!==yn(g-p)){var y=[];if(yn(g-p)===yn(l[1]-l[0])){b=g;var A=p+l[1]-l[0];y[0]=Math.min(A,(A+m)/2),y[1]=Math.max(A,(A+m)/2)}else{b=m;var S=g+l[1]-l[0];y[0]=Math.min(p,(S+p)/2),y[1]=Math.max(p,(S+p)/2)}var w=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){({index:u}=n[h]);break}}else{var E=Math.min(m,g),D=Math.max(m,g);if(e>(E+p)/2&&e<=(D+p)/2){({index:u}=n[h]);break}}}else if(t){for(var T=0;T<d;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===d-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:u}=t[T]);break}}return u},wR=(e,t,n)=>{if(t&&n){var{width:r,height:l}=n,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&Ne(e[o]))return Ir(Ir({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&Ne(e[u]))return Ir(Ir({},e),{},{[u]:e[u]+(l||0)})}return e},ma=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ZT=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var l,o,u=e.map(d=>(d.coordinate===t&&(l=!0),d.coordinate===n&&(o=!0),d.coordinate));return l||u.push(t),o||u.push(n),u},JT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:l,range:o,scale:u,realScaleType:d,isCategorical:h,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:y}=e;if(!u)return null;var A=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,S=l==="category"&&u.bandwidth?u.bandwidth()/A:0;if(S=y==="angleAxis"&&o&&o.length>=2?yn(o[0]-o[1])*2*S:S,g||b){var w=(g||b||[]).map((E,D)=>{var T=r?r.indexOf(E):E;return{coordinate:u(T)+S,value:E,offset:S,index:D}});return w.filter(E=>!xr(E.coordinate))}return h&&m?m.map((E,D)=>({coordinate:u(E)+S,value:E,index:D,offset:S})):u.ticks&&p!=null?u.ticks(p).map((E,D)=>({coordinate:u(E)+S,value:E,offset:S,index:D})):u.domain().map((E,D)=>({coordinate:u(E)+S,value:r?r[E]:E,index:D,offset:S}))},f2=1e-4,ER=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),l=Math.min(r[0],r[1])-f2,o=Math.max(r[0],r[1])+f2,u=e(t[0]),d=e(t[n-1]);(u<l||u>o||d<l||d>o)&&e.domain([t[0],t[n-1]])}},TR=(e,t)=>{if(!t||t.length!==2||!Ne(t[0])||!Ne(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ne(e[0])||e[0]<n)&&(l[0]=n),(!Ne(e[1])||e[1]>r)&&(l[1]=r),l[0]>r&&(l[0]=r),l[1]<n&&(l[1]=n),l},CR=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,o=0,u=0;u<t;++u){var d=xr(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=l,e[u][n][1]=l+d,l=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},OR=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,o=0;o<t;++o){var u=xr(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=l,e[o][n][1]=l+u,l=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},DR={sign:CR,expand:J6,none:zl,silhouette:e_,wiggle:t_,positive:OR},MR=(e,t,n)=>{var r=DR[n],l=Z6().keys(t).value((o,u)=>+mt(o,u,0)).order(Dy).offset(r);return l(e)};function eC(e){return e==null?void 0:String(e)}function Jd(e){var{axis:t,ticks:n,bandSize:r,entry:l,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ct(l[t.dataKey])){var d=lT(n,"value",l[t.dataKey]);if(d)return d.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=mt(l,Ct(u)?t.dataKey:u);return Ct(h)?null:t.scale(h)}var h2=e=>{var{axis:t,ticks:n,offset:r,bandSize:l,entry:o,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var d=mt(o,t.dataKey,t.scale.domain()[u]);return Ct(d)?null:t.scale(d)-l/2+r},kR=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return r<=0&&l>=0?0:l<0?l:r}return n[0]},NR=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},zR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],PR=(e,t,n)=>{if(e!=null)return zR(Object.keys(e).reduce((r,l)=>{var o=e[l],{stackedData:u}=o,d=u.reduce((h,m)=>{var p=QT(m,t,n),g=NR(p);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},m2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ms=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var l=_f(t,p=>p.coordinate),o=1/0,u=1,d=l.length;u<d;u++){var h=l[u],m=l[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function g2(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:l,name:o}=e;return Ir(Ir({},t),{},{dataKey:n,payload:r,value:l,name:o})}function qi(e,t){if(e)return String(e);if(typeof t=="string")return t}function _R(e,t,n,r,l){if(n==="horizontal"||n==="vertical"){var o=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return o?{x:e,y:t}:null}return r?xR({x:e,y:t},r):null}var RR=(e,t,n,r)=>{var l=t.find(m=>m&&m.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:l.coordinate};if(e==="centric"){var o=l.coordinate,{radius:u}=r;return Ir(Ir(Ir({},r),tn(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var d=l.coordinate,{angle:h}=r;return Ir(Ir(Ir({},r),tn(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{x:0,y:0}},BR=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Za=e=>e.layout.width,Ja=e=>e.layout.height,IR=e=>e.layout.scale,tC=e=>e.layout.margin,Uf=le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gf=le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nC="data-recharts-item-index",rC="data-recharts-item-data-key",Nc=60;function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(r){$R(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $R(e,t,n){return(t=LR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e){var t=UR(e,"string");return typeof t=="symbol"?t:t+""}function UR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GR=e=>e.brush.height;function FR(e){var t=Gf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Nc;return n+l}return n},0)}function qR(e){var t=Gf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Nc;return n+l}return n},0)}function WR(e){var t=Uf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function HR(e){var t=Uf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ln=le([Za,Ja,tC,GR,FR,qR,WR,HR,ST,d4],(e,t,n,r,l,o,u,d,h,m)=>{var p={left:(n.left||0)+l,right:(n.right||0)+o},g={top:(n.top||0)+u,bottom:(n.bottom||0)+d},b=xd(xd({},g),p),y=b.bottom;b.bottom+=r,b=wR(b,h,m);var A=e-b.left-b.right,S=t-b.top-b.bottom;return xd(xd({brushBottom:y},b),{},{width:Math.max(A,0),height:Math.max(S,0)})}),KR=le(ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yv=le(Za,Ja,(e,t)=>({x:0,y:0,width:e,height:t})),VR=x.createContext(null),Mn=()=>x.useContext(VR)!=null,Ff=e=>e.brush,qf=le([Ff,ln,tC],(e,t,n)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ne(e.width)?e.width:t.width})),Ug={},Gg={},Fg={},v2;function YR(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:l,edges:o}={}){let u,d=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),p=()=>{d!==null&&(n.apply(u,d),u=void 0,d=null)},g=()=>{m&&p(),S()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},A=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{A(),u=void 0,d=null},w=()=>{p()},E=function(...D){if(l?.aborted)return;u=this,d=D;const T=b==null;y(),h&&T&&p()};return E.schedule=y,E.cancel=S,E.flush=w,l?.addEventListener("abort",S,{once:!0}),E}e.debounce=t})(Fg)),Fg}var x2;function XR(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YR();function n(r,l=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let p,g=null;const b=t.debounce(function(...S){p=r.apply(this,S),g=null},l,{edges:m}),y=function(...S){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(p=r.apply(this,S),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},A=()=>(b.flush(),p);return y.cancel=b.cancel,y.flush=A,y}e.debounce=n})(Gg)),Gg}var b2;function QR(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR();function n(r,l=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(r,l,{leading:u,maxWait:l,trailing:d})}e.throttle=n})(Ug)),Ug}var qg,j2;function ZR(){return j2||(j2=1,qg=QR().throttle),qg}var JR=ZR();const eB=Xa(JR);var ef=function(t,n){for(var r=arguments.length,l=new Array(r>2?r-2:0),o=2;o<r;o++)l[o-2]=arguments[o]},aC=(e,t,n)=>{var{width:r="100%",height:l="100%",aspect:o,maxHeight:u}=n,d=Wa(r)?e:Number(r),h=Wa(l)?t:Number(l);return o&&o>0&&(d?h=d/o:h&&(d=h*o),u&&h>u&&(h=u)),{calculatedWidth:d,calculatedHeight:h}},tB={width:0,height:0,overflow:"visible"},nB={width:0,overflowX:"visible"},rB={height:0,overflowY:"visible"},aB={},iB=e=>{var{width:t,height:n}=e,r=Wa(t),l=Wa(n);return r&&l?tB:r?nB:l?rB:aB};function sB(e){var{width:t,height:n,aspect:r}=e,l=t,o=n;return l===void 0&&o===void 0?(l="100%",o="100%"):l===void 0?l=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:l,height:o}}function rn(e){return Number.isFinite(e)}function Pl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function A2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(r){lB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lB(e,t,n){return(t=oB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e){var t=cB(e,"string");return typeof t=="symbol"?t:t+""}function cB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iC=x.createContext({width:-1,height:-1});function sC(e){var{children:t,width:n,height:r}=e,l=x.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:x.createElement(iC.Provider,{value:l},t)}var Xv=()=>x.useContext(iC),uB=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:l,height:o,minWidth:u=0,minHeight:d,maxHeight:h,children:m,debounce:p=0,id:g,className:b,onResize:y,style:A={}}=e,S=x.useRef(null),w=x.useRef();w.current=y,x.useImperativeHandle(t,()=>S.current);var[E,D]=x.useState({containerWidth:r.width,containerHeight:r.height}),T=x.useCallback((B,L)=>{D(q=>{var U=Math.round(B),K=Math.round(L);return q.containerWidth===U&&q.containerHeight===K?q:{containerWidth:U,containerHeight:K}})},[]);x.useEffect(()=>{var B=K=>{var W,{width:ee,height:te}=K[0].contentRect;T(ee,te),(W=w.current)===null||W===void 0||W.call(w,ee,te)};p>0&&(B=eB(B,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),{width:q,height:U}=S.current.getBoundingClientRect();return T(q,U),L.observe(S.current),()=>{L.disconnect()}},[T,p]);var{containerWidth:P,containerHeight:O}=E;ef(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:N}=aC(P,O,{width:l,height:o,aspect:n,maxHeight:h});return ef(M>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,N,l,o,u,d,n),x.createElement("div",{id:g?"".concat(g):void 0,className:Je("recharts-responsive-container",b),style:A2(A2({},A),{},{width:l,height:o,minWidth:u,minHeight:d,maxHeight:h}),ref:S},x.createElement("div",{style:iB({width:l,height:o})},x.createElement(sC,{width:M,height:N},m)))}),pt=x.forwardRef((e,t)=>{var n=Xv();if(Pl(n.width)&&Pl(n.height))return e.children;var{width:r,height:l}=sB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:u}=aC(void 0,void 0,{width:r,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return Ne(o)&&Ne(u)?x.createElement(sC,{width:o,height:u},e.children):x.createElement(uB,Uy({},e,{width:r,height:l,ref:t}))}),Wf=()=>{var e,t=Mn(),n=ze(KR),r=ze(qf),l=(e=ze(Ff))===null||e===void 0?void 0:e.padding;return!t||!r||!l?n:{width:r.width-l.left-l.right,height:r.height-l.top-l.bottom,x:l.left,y:l.top}},dB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lC=()=>{var e;return(e=ze(ln))!==null&&e!==void 0?e:dB},Qv=()=>ze(Za),Zv=()=>ze(Ja),fB=()=>ze(e=>e.layout.margin),Ye=e=>e.layout.layoutType,zc=()=>ze(Ye),Hf=e=>{var t=Lt(),n=Mn(),{width:r,height:l}=e,o=Xv(),u=r,d=l;return o&&(u=o.width>0?o.width:r,d=o.height>0?o.height:l),x.useEffect(()=>{!n&&Pl(u)&&Pl(d)&&t(oR({width:u,height:d}))},[t,n,u,d]),null},hB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oC=jr({name:"legend",initialState:hB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Bn()},removeLegendPayload:{reducer(e,t){var n=La(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Bn()}}}),{setLegendSize:w2,setLegendSettings:mB,addLegendPayload:cC,removeLegendPayload:uC}=oC.actions,pB=oC.reducer,gB=["contextPayload"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(r){Jv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jv(e,t,n){return(t=yB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e){var t=vB(e,"string");return typeof t=="symbol"?t:t+""}function vB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xB(e,t){if(e==null)return{};var n,r,l=bB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function bB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jB(e){return e.value}function SB(e){var{contextPayload:t}=e,n=xB(e,gB),r=vT(t,e.payloadUniqBy,jB),l=_l(_l({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,l):typeof e.content=="function"?x.createElement(e.content,l):x.createElement(Uv,l)}function AB(e,t,n,r,l,o){var{layout:u,align:d,verticalAlign:h}=t,m,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&u==="vertical"?m={left:((r||0)-o.width)/2}:m=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?p={top:((l||0)-o.height)/2}:p=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_l(_l({},m),p)}function wB(e){var t=Lt();return x.useEffect(()=>{t(mB(e))},[t,e]),null}function EB(e){var t=Lt();return x.useEffect(()=>(t(w2(e)),()=>{t(w2({width:0,height:0}))}),[t,e]),null}function TB(e){var t=m4(),n=S6(),r=fB(),{width:l,height:o,wrapperStyle:u,portal:d}=e,[h,m]=AT([t]),p=Qv(),g=Zv();if(p==null||g==null)return null;var b=p-(r.left||0)-(r.right||0),y=At.getWidthOrHeight(e.layout,o,l,b),A=d?u:_l(_l({position:"absolute",width:y?.width||l||"auto",height:y?.height||o||"auto"},AB(u,e,r,p,g,h)),u),S=d??n;if(S==null)return null;var w=x.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:m},x.createElement(wB,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(EB,{width:h.width,height:h.height}),x.createElement(SB,Gy({},e,y,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return M5.createPortal(w,S)}class At extends x.PureComponent{static getWidthOrHeight(t,n,r,l){return t==="vertical"&&Ne(n)?{height:n}:t==="horizontal"?{width:r||l}:null}render(){return x.createElement(TB,this.props)}}Jv(At,"displayName","Legend");Jv(At,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(r){CB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CB(e,t,n){return(t=OB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e){return Array.isArray(e)&&ua(e[0])&&ua(e[1])?e.join(" ~ "):e}var kB=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:l={},payload:o,formatter:u,itemSorter:d,wrapperClassName:h,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(o&&o.length){var O={padding:0,margin:0},M=(d?_f(o,d):o).map((N,B)=>{if(N.type==="none")return null;var L=N.formatter||u||MB,{value:q,name:U}=N,K=q,W=U;if(L){var ee=L(q,U,N,B,o);if(Array.isArray(ee))[K,W]=ee;else if(ee!=null)K=ee;else return null}var te=Wg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:te},ua(W)?x.createElement("span",{className:"recharts-tooltip-item-name"},W):null,ua(W)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},K),x.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},A=Wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Wg({margin:0},l),w=!Ct(p),E=w?p:"",D=Je("recharts-default-tooltip",h),T=Je("recharts-tooltip-label",m);w&&g&&o!==void 0&&o!==null&&(E=g(p,o));var P=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Fy({className:D,style:A},P),x.createElement("p",{className:T,style:S},x.isValidElement(E)?E:"".concat(E)),y())},Jo="recharts-tooltip-wrapper",NB={visibility:"hidden"};function zB(e){var{coordinate:t,translateX:n,translateY:r}=e;return Je(Jo,{["".concat(Jo,"-right")]:Ne(n)&&t&&Ne(t.x)&&n>=t.x,["".concat(Jo,"-left")]:Ne(n)&&t&&Ne(t.x)&&n<t.x,["".concat(Jo,"-bottom")]:Ne(r)&&t&&Ne(t.y)&&r>=t.y,["".concat(Jo,"-top")]:Ne(r)&&t&&Ne(t.y)&&r<t.y})}function C2(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:l,position:o,reverseDirection:u,tooltipDimension:d,viewBox:h,viewBoxDimension:m}=e;if(o&&Ne(o[r]))return o[r];var p=n[r]-d-(l>0?l:0),g=n[r]+l;if(t[r])return u[r]?p:g;var b=h[r];if(b==null)return 0;if(u[r]){var y=p,A=b;return y<A?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var S=g+d,w=b+m;return S>w?Math.max(p,b):Math.max(g,b)}function PB(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _B(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:l,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:h}=e,m,p,g;return u.height>0&&u.width>0&&n?(p=C2({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:l,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),g=C2({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:l,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=PB({translateX:p,translateY:g,useTranslate3d:d})):m=NB,{cssProperties:m,cssClasses:zB({translateX:p,translateY:g,coordinate:n})}}function O2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(n),!0).forEach(function(r){qy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qy(e,t,n){return(t=RB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class IB extends x.PureComponent{constructor(){super(...arguments),qy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:l,children:o,coordinate:u,hasPayload:d,isAnimationActive:h,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:A,lastBoundingBox:S,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:D,cssProperties:T}=_B({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:y}),P=E?{}:bd(bd({transition:h&&t?"transform ".concat(r,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=bd(bd({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},A);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:O,ref:w},o)}}var $B=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ei={devToolsEnabled:!1,isSsr:$B()},dC=()=>ze(e=>e.rootProps.accessibilityLayer);function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function M2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(r){LB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LB(e,t,n){return(t=UB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UB(e){var t=GB(e,"string");return typeof t=="symbol"?t:t+""}function GB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k2={curveBasisClosed:U6,curveBasisOpen:G6,curveBasis:L6,curveBumpX:T6,curveBumpY:C6,curveLinearClosed:F6,curveLinear:zf,curveMonotoneX:q6,curveMonotoneY:W6,curveNatural:H6,curveStep:K6,curveStepAfter:Y6,curveStepBefore:V6},jd=e=>rn(e.x)&&rn(e.y),ec=e=>e.x,tc=e=>e.y,FB=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Oc(e));return(n==="curveMonotone"||n==="curveBump")&&t?k2["".concat(n).concat(t==="vertical"?"Y":"X")]:k2[n]||zf},qB=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:l,connectNulls:o=!1}=e,u=FB(t,l),d=o?n.filter(jd):n,h;if(Array.isArray(r)){var m=o?r.filter(g=>jd(g)):r,p=d.map((g,b)=>M2(M2({},g),{},{base:m[b]}));return l==="vertical"?h=hd().y(tc).x1(ec).x0(g=>g.base.x):h=hd().x(ec).y1(tc).y0(g=>g.base.y),h.defined(jd).curve(u),h(p)}return l==="vertical"&&Ne(r)?h=hd().y(tc).x1(ec).x0(r):Ne(r)?h=hd().x(ec).y1(tc).y0(r):h=V5().x(ec).y(tc),h.defined(jd).curve(u),h(d)},Dl=e=>{var{className:t,points:n,path:r,pathRef:l}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?qB(e):r;return x.createElement("path",Wy({},Ln(e),$v(e),{className:Je("recharts-curve",t),d:o===null?void 0:o,ref:l}))},WB=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(r){KB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=YB(e,"string");return typeof t=="symbol"?t:t+""}function YB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t){if(e==null)return{};var n,r,l=QB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function QB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZB=(e,t,n,r,l,o)=>"M".concat(e,",").concat(l,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),JB=e=>{var{x:t=0,y:n=0,top:r=0,left:l=0,width:o=0,height:u=0,className:d}=e,h=XB(e,WB),m=HB({x:t,y:n,top:r,left:l,width:o,height:u},h);return!Ne(t)||!Ne(n)||!Ne(o)||!Ne(u)||!Ne(r)||!Ne(l)?null:x.createElement("path",Hy({},Un(m),{className:Je("recharts-cross",d),d:ZB(t,n,o,u,r,l)}))};function eI(e,t,n,r){var l=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){nI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nI(e,t,n){return(t=rI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(e){var t=aI(e,"string");return typeof t=="symbol"?t:t+""}function aI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t){var n=tI({},e),r=t,l=Object.keys(t),o=l.reduce((u,d)=>(u[d]===void 0&&r[d]!==void 0&&(u[d]=r[d]),u),n);return o}function iI(){}function sI(e){return e!=null}function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){lI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lI(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e){var t=cI(e,"string");return typeof t=="symbol"?t:t+""}function cI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uI=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fC=(e,t,n)=>e.map(r=>"".concat(uI(r)," ").concat(t,"ms ").concat(n)).join(","),dI=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(l=>r.includes(l))),vc=(e,t)=>Object.keys(t).reduce((n,r)=>_2(_2({},n),{},{[r]:e(r,t[r])}),{});function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){fI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fI(e,t,n){return(t=hI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hI(e){var t=mI(e,"string");return typeof t=="symbol"?t:t+""}function mI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tf=(e,t,n)=>e+(t-e)*n,Ky=e=>{var{from:t,to:n}=e;return t!==n},hC=(e,t,n)=>{var r=vc((l,o)=>{if(Ky(o)){var[u,d]=e(o.from,o.to,o.velocity);return Cn(Cn({},o),{},{from:u,velocity:d})}return o},t);return n<1?vc((l,o)=>Ky(o)?Cn(Cn({},o),{},{velocity:tf(o.velocity,r[l].velocity,n),from:tf(o.from,r[l].from,n)}):o,t):hC(e,r,n-1)};function pI(e,t,n,r,l,o){var u,d=r.reduce((b,y)=>Cn(Cn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),h=()=>vc((b,y)=>y.from,d),m=()=>!Object.values(d).filter(Ky).length,p=null,g=b=>{u||(u=b);var y=b-u,A=y/n.dt;d=hC(n,d,A),l(Cn(Cn(Cn({},e),t),h())),u=b,m()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function gI(e,t,n,r,l,o,u){var d=null,h=l.reduce((g,b)=>Cn(Cn({},g),{},{[b]:[e[b],t[b]]}),{}),m,p=g=>{m||(m=g);var b=(g-m)/r,y=vc((S,w)=>tf(...w,n(b)),h);if(o(Cn(Cn(Cn({},e),t),y)),b<1)d=u.setTimeout(p);else{var A=vc((S,w)=>tf(...w,n(1)),h);o(Cn(Cn(Cn({},e),t),A))}};return()=>(d=u.setTimeout(p),()=>{d()})}const yI=(e,t,n,r,l,o)=>{var u=dI(e,t);return n.isStepper===!0?pI(e,t,n,u,l,o):gI(e,t,n,r,u,l,o)};var nf=1e-4,mC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],pC=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),B2=(e,t)=>n=>{var r=mC(e,t);return pC(r,n)},vI=(e,t)=>n=>{var r=mC(e,t),l=[...r.map((o,u)=>o*u).slice(1),0];return pC(l,n)},I2=function(){for(var t,n,r,l,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,r,n,l]=[0,0,1,1];break;case"ease":[t,r,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,l]=[.42,0,1,1];break;case"ease-out":[t,r,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,l]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,r,n,l]=h[1].split(")")[0].split(",").map(A=>parseFloat(A)))}}else u.length===4&&([t,r,n,l]=u);var m=B2(t,n),p=B2(r,l),g=vI(t,n),b=A=>A>1?1:A<0?0:A,y=A=>{for(var S=A>1?1:A,w=S,E=0;E<8;++E){var D=m(w)-S,T=g(w);if(Math.abs(D-S)<nf||T<nf)return p(w);w=b(w-D/T)}return p(w)};return y.isStepper=!1,y},xI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:l=17}=t,o=(u,d,h)=>{var m=-(u-d)*n,p=h*r,g=h+(m-p)*l/1e3,b=h*l/1e3+u;return Math.abs(b-d)<nf&&Math.abs(g)<nf?[d,0]:[b,g]};return o.isStepper=!0,o.dt=l,o},bI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return I2(e);case"spring":return xI();default:if(e.split("(")[0]==="cubic-bezier")return I2(e)}return typeof e=="function"?e:null};function jI(e){var t,n=()=>null,r=!1,l=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var d=u,[h,...m]=d;if(typeof h=="number"){l=e.setTimeout(o.bind(null,m),h);return}o(h),l=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,l&&(l(),l=null),o(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class SI{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),l=null,o=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{cancelAnimationFrame(l)}}}function AI(){return jI(new SI)}var wI=x.createContext(AI);function EI(e,t){var n=x.useContext(wI);return x.useMemo(()=>t??n(e),[e,t,n])}var TI={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$2={t:0},Hg={t:1};function ql(e){var t=on(e,TI),{isActive:n,canBegin:r,duration:l,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:h,children:m}=t,p=EI(t.animationId,t.animationManager),[g,b]=x.useState(n?$2:Hg),y=x.useRef(null);return x.useEffect(()=>{n||b(Hg)},[n]),x.useEffect(()=>{if(!n||!r)return iI;var A=yI($2,Hg,bI(o),l,b,p.getTimeoutController()),S=()=>{y.current=A()};return p.start([h,u,S,l,d]),()=>{p.stop(),y.current&&y.current(),d()}},[n,r,l,o,u,h,d,p]),m(g.t)}function Wl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(mc(t)),r=x.useRef(e);return r.current!==e&&(n.current=mc(t),r.current=e),n.current}var CI=["radius"],OI=["radius"];function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){DI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DI(e,t,n){return(t=MI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e){var t=kI(e,"string");return typeof t=="symbol"?t:t+""}function kI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(null,arguments)}function G2(e,t){if(e==null)return{};var n,r,l=NI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function NI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var F2=(e,t,n,r,l)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,m;if(o>0&&l instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=l[g]>o?o:l[g];m="M".concat(e,",").concat(t+u*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+d*p[0],",").concat(t)),m+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(t+u*p[1])),m+="L ".concat(e+n,",").concat(t+r-u*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),m+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+r-u*p[3])),m+="Z"}else if(o>0&&l===+l&&l>0){var y=Math.min(o,l);m="M ".concat(e,",").concat(t+u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+n-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+n,",").concat(t+u*y,`
            L `).concat(e+n,",").concat(t+r-u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e+n-d*y,",").concat(t+r,`
            L `).concat(e+d*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(h,",").concat(e,",").concat(t+r-u*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},zI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gC=e=>{var t=on(e,zI),n=x.useRef(null),[r,l]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var{x:o,y:u,width:d,height:h,radius:m,className:p}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:A,isUpdateAnimationActive:S}=t,w=x.useRef(d),E=x.useRef(h),D=x.useRef(o),T=x.useRef(u),P=x.useMemo(()=>({x:o,y:u,width:d,height:h,radius:m}),[o,u,d,h,m]),O=Wl(P,"rectangle-");if(o!==+o||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var M=Je("recharts-rectangle",p);if(!S){var N=Un(t),{radius:B}=N,L=G2(N,CI);return x.createElement("path",rf({},L,{radius:typeof m=="number"?m:void 0,className:M,d:F2(o,u,d,h,m)}))}var q=w.current,U=E.current,K=D.current,W=T.current,ee="0px ".concat(r===-1?1:r,"px"),te="".concat(r,"px 0px"),C=fC(["strokeDasharray"],b,typeof g=="string"?g:void 0);return x.createElement(ql,{animationId:O,key:O,canBegin:r>0,duration:b,easing:g,isActive:S,begin:y},k=>{var _=ht(q,d,k),$=ht(U,h,k),V=ht(K,o,k),R=ht(W,u,k);n.current&&(w.current=_,E.current=$,D.current=V,T.current=R);var G;A?k>0?G={transition:C,strokeDasharray:te}:G={strokeDasharray:ee}:G={strokeDasharray:te};var J=Un(t),{radius:H}=J,F=G2(J,OI);return x.createElement("path",rf({},F,{radius:typeof m=="number"?m:void 0,className:M,d:F2(V,R,_,$,m),ref:n,style:U2(U2({},G),t.style)}))})};function yC(e){var{cx:t,cy:n,radius:r,startAngle:l,endAngle:o}=e,u=tn(t,n,r,l),d=tn(t,n,r,o);return{points:[u,d],cx:t,cy:n,radius:r,startAngle:l,endAngle:o}}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}var PI=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Sd=e=>{var{cx:t,cy:n,radius:r,angle:l,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:h}=e,m=d*(u?1:-1)+r,p=Math.asin(d/m)/Zd,g=h?l:l+o*p,b=tn(t,n,m,g),y=tn(t,n,r,g),A=h?l-o*p:l,S=tn(t,n,m*Math.cos(p*Zd),A);return{center:b,circleTangency:y,lineTangency:S,theta:p}},vC=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:o,endAngle:u}=e,d=PI(o,u),h=o+d,m=tn(t,n,l,o),p=tn(t,n,l,h),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=tn(t,n,r,o),y=tn(t,n,r,h);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},_I=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}=e,p=yn(m-h),{circleTangency:g,lineTangency:b,theta:y}=Sd({cx:t,cy:n,radius:l,angle:h,sign:p,cornerRadius:o,cornerIsExternal:d}),{circleTangency:A,lineTangency:S,theta:w}=Sd({cx:t,cy:n,radius:l,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:d}),E=d?Math.abs(h-m):Math.abs(h-m)-y-w;if(E<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vC({cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:h,endAngle:m});var D="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:P,theta:O}=Sd({cx:t,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:M,lineTangency:N,theta:B}=Sd({cx:t,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),L=d?Math.abs(h-m):Math.abs(h-m)-O-B;if(L<0&&o===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},RI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xC=e=>{var t=on(e,RI),{cx:n,cy:r,innerRadius:l,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p,className:g}=t;if(o<l||m===p)return null;var b=Je("recharts-sector",g),y=o-l,A=Pn(u,y,0,!0),S;return A>0&&Math.abs(m-p)<360?S=_I({cx:n,cy:r,innerRadius:l,outerRadius:o,cornerRadius:Math.min(A,y/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:p}):S=vC({cx:n,cy:r,innerRadius:l,outerRadius:o,startAngle:m,endAngle:p}),x.createElement("path",Vy({},Un(t),{className:b,d:S}))};function BI(e,t,n){var r,l,o,u;if(e==="horizontal")r=t.x,o=r,l=n.top,u=n.top+n.height;else if(e==="vertical")l=t.y,u=l,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:h,innerRadius:m,outerRadius:p,angle:g}=t,b=tn(d,h,m,g),y=tn(d,h,p,g);r=b.x,l=b.y,o=y.x,u=y.y}else return yC(t);return[{x:r,y:l},{x:o,y:u}]}var Kg={},Vg={},Yg={},q2;function II(){return q2||(q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Yg)),Yg}var W2;function $I(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=II();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Vg)),Vg}var H2;function LI(){return H2||(H2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT(),n=$I();function r(l,o,u){u&&typeof u!="number"&&t.isIterateeCall(l,o,u)&&(o=u=void 0),l=n.toFinite(l),o===void 0?(o=l,l=0):o=n.toFinite(o),u=u===void 0?l<o?1:-1:n.toFinite(u);const d=Math.max(Math.ceil((o-l)/(u||1)),0),h=new Array(d);for(let m=0;m<d;m++)h[m]=l,l+=u;return h}e.range=r})(Kg)),Kg}var Xg,K2;function UI(){return K2||(K2=1,Xg=LI().range),Xg}var GI=UI();const bC=Xa(GI);function Ri(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FI(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function e0(e){let t,n,r;e.length!==2?(t=Ri,n=(d,h)=>Ri(e(d),h),r=(d,h)=>e(d)-h):(t=e===Ri||e===FI?e:qI,n=e,r=e);function l(d,h,m=0,p=d.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;n(d[g],h)<0?m=g+1:p=g}while(m<p)}return m}function o(d,h,m=0,p=d.length){if(m<p){if(t(h,h)!==0)return p;do{const g=m+p>>>1;n(d[g],h)<=0?m=g+1:p=g}while(m<p)}return m}function u(d,h,m=0,p=d.length){const g=l(d,h,m,p-1);return g>m&&r(d[g-1],h)>-r(d[g],h)?g-1:g}return{left:l,center:u,right:o}}function qI(){return 0}function jC(e){return e===null?NaN:+e}function*WI(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const HI=e0(Ri),Pc=HI.right;e0(jC).center;class V2 extends Map{constructor(t,n=YI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,l]of t)this.set(r,l)}get(t){return super.get(Y2(this,t))}has(t){return super.has(Y2(this,t))}set(t,n){return super.set(KI(this,t),n)}delete(t){return super.delete(VI(this,t))}}function Y2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function KI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function VI({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XI(e=Ri){if(e===Ri)return SC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function SC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QI=Math.sqrt(50),ZI=Math.sqrt(10),JI=Math.sqrt(2);function af(e,t,n){const r=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(r)),o=r/Math.pow(10,l),u=o>=QI?10:o>=ZI?5:o>=JI?2:1;let d,h,m;return l<0?(m=Math.pow(10,-l)/u,d=Math.round(e*m),h=Math.round(t*m),d/m<e&&++d,h/m>t&&--h,m=-m):(m=Math.pow(10,l)*u,d=Math.round(e/m),h=Math.round(t/m),d*m<e&&++d,h*m>t&&--h),h<d&&.5<=n&&n<2?af(e,t,n*2):[d,h,m]}function Yy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[l,o,u]=r?af(t,e,n):af(e,t,n);if(!(o>=l))return[];const d=o-l+1,h=new Array(d);if(r)if(u<0)for(let m=0;m<d;++m)h[m]=(o-m)/-u;else for(let m=0;m<d;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)h[m]=(l+m)/-u;else for(let m=0;m<d;++m)h[m]=(l+m)*u;return h}function Xy(e,t,n){return t=+t,e=+e,n=+n,af(e,t,n)[2]}function Qy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,l=r?Xy(t,e,n):Xy(e,t,n);return(r?-1:1)*(l<0?1/-l:l)}function X2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Q2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AC(e,t,n=0,r=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(l=l===void 0?SC:XI(l);r>n;){if(r-n>600){const h=r-n+1,m=t-n+1,p=Math.log(h),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(h-g)/h)*(m-h/2<0?-1:1),y=Math.max(n,Math.floor(t-m*g/h+b)),A=Math.min(r,Math.floor(t+(h-m)*g/h+b));AC(e,t,y,A,l)}const o=e[t];let u=n,d=r;for(nc(e,n,t),l(e[r],o)>0&&nc(e,n,r);u<d;){for(nc(e,u,d),++u,--d;l(e[u],o)<0;)++u;for(;l(e[d],o)>0;)--d}l(e[n],o)===0?nc(e,n,d):(++d,nc(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function nc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function e8(e,t,n){if(e=Float64Array.from(WI(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Q2(e);if(t>=1)return X2(e);var r,l=(r-1)*t,o=Math.floor(l),u=X2(AC(e,o).subarray(0,o+1)),d=Q2(e.subarray(o+1));return u+(d-u)*(l-o)}}function t8(e,t,n=jC){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,l=(r-1)*t,o=Math.floor(l),u=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return u+(d-u)*(l-o)}}function n8(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(l);++r<l;)o[r]=e+r*n;return o}function Hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ti(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zy=Symbol("implicit");function t0(){var e=new V2,t=[],n=[],r=Zy;function l(o){let u=e.get(o);if(u===void 0){if(r!==Zy)return r;e.set(o,u=t.push(o)-1)}return n[u%n.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new V2;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return l},l.range=function(o){return arguments.length?(n=Array.from(o),l):n.slice()},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return t0(t,n).unknown(r)},Hr.apply(l,arguments),l}function n0(){var e=t0().unknown(void 0),t=e.domain,n=e.range,r=0,l=1,o,u,d=!1,h=0,m=0,p=.5;delete e.unknown;function g(){var b=t().length,y=l<r,A=y?l:r,S=y?r:l;o=(S-A)/Math.max(1,b-h+m*2),d&&(o=Math.floor(o)),A+=(S-A-o*(b-h))*p,u=o*(1-h),d&&(A=Math.round(A),u=Math.round(u));var w=n8(b).map(function(E){return A+o*E});return n(y?w.reverse():w)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([r,l]=b,r=+r,l=+l,g()):[r,l]},e.rangeRound=function(b){return[r,l]=b,r=+r,l=+l,d=!0,g()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(b){return arguments.length?(d=!!b,g()):d},e.padding=function(b){return arguments.length?(h=Math.min(1,m=+b),g()):h},e.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),g()):h},e.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},e.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},e.copy=function(){return n0(t(),[r,l]).round(d).paddingInner(h).paddingOuter(m).align(p)},Hr.apply(g(),arguments)}function wC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wC(t())},e}function r8(){return wC(n0.apply(null,arguments).paddingInner(1))}function r0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function EC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _c(){}var xc=.7,sf=1/xc,Ml="\\s*([+-]?\\d+)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a8=/^#([0-9a-f]{3,8})$/,i8=new RegExp(`^rgb\\(${Ml},${Ml},${Ml}\\)$`),s8=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),l8=new RegExp(`^rgba\\(${Ml},${Ml},${Ml},${bc}\\)$`),o8=new RegExp(`^rgba\\(${ca},${ca},${ca},${bc}\\)$`),c8=new RegExp(`^hsl\\(${bc},${ca},${ca}\\)$`),u8=new RegExp(`^hsla\\(${bc},${ca},${ca},${bc}\\)$`),Z2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r0(_c,jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:J2,formatHex:J2,formatHex8:d8,formatHsl:f8,formatRgb:ew,toString:ew});function J2(){return this.rgb().formatHex()}function d8(){return this.rgb().formatHex8()}function f8(){return TC(this).formatHsl()}function ew(){return this.rgb().formatRgb()}function jc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=a8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tw(t):n===3?new er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ad(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=i8.exec(e))?new er(t[1],t[2],t[3],1):(t=s8.exec(e))?new er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=l8.exec(e))?Ad(t[1],t[2],t[3],t[4]):(t=o8.exec(e))?Ad(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c8.exec(e))?aw(t[1],t[2]/100,t[3]/100,1):(t=u8.exec(e))?aw(t[1],t[2]/100,t[3]/100,t[4]):Z2.hasOwnProperty(e)?tw(Z2[e]):e==="transparent"?new er(NaN,NaN,NaN,0):null}function tw(e){return new er(e>>16&255,e>>8&255,e&255,1)}function Ad(e,t,n,r){return r<=0&&(e=t=n=NaN),new er(e,t,n,r)}function h8(e){return e instanceof _c||(e=jc(e)),e?(e=e.rgb(),new er(e.r,e.g,e.b,e.opacity)):new er}function Jy(e,t,n,r){return arguments.length===1?h8(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}r0(er,Jy,EC(_c,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new er(As(this.r),As(this.g),As(this.b),lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nw,formatHex:nw,formatHex8:m8,formatRgb:rw,toString:rw}));function nw(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}`}function m8(){return`#${vs(this.r)}${vs(this.g)}${vs(this.b)}${vs((isNaN(this.opacity)?1:this.opacity)*255)}`}function rw(){const e=lf(this.opacity);return`${e===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${e===1?")":`, ${e})`}`}function lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function As(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vs(e){return e=As(e),(e<16?"0":"")+e.toString(16)}function aw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qr(e,t,n,r)}function TC(e){if(e instanceof Qr)return new Qr(e.h,e.s,e.l,e.opacity);if(e instanceof _c||(e=jc(e)),!e)return new Qr;if(e instanceof Qr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,l=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,d=o-l,h=(o+l)/2;return d?(t===o?u=(n-r)/d+(n<r)*6:n===o?u=(r-t)/d+2:u=(t-n)/d+4,d/=h<.5?o+l:2-o-l,u*=60):d=h>0&&h<1?0:u,new Qr(u,d,h,e.opacity)}function p8(e,t,n,r){return arguments.length===1?TC(e):new Qr(e,t,n,r??1)}function Qr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r0(Qr,p8,EC(_c,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new Qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xc:Math.pow(xc,e),new Qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,l=2*n-r;return new er(Qg(e>=240?e-240:e+120,l,r),Qg(e,l,r),Qg(e<120?e+240:e-120,l,r),this.opacity)},clamp(){return new Qr(iw(this.h),wd(this.s),wd(this.l),lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lf(this.opacity);return`${e===1?"hsl(":"hsla("}${iw(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iw(e){return e=(e||0)%360,e<0?e+360:e}function wd(e){return Math.max(0,Math.min(1,e||0))}function Qg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const a0=e=>()=>e;function g8(e,t){return function(n){return e+n*t}}function y8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function v8(e){return(e=+e)==1?CC:function(t,n){return n-t?y8(t,n,e):a0(isNaN(t)?n:t)}}function CC(e,t){var n=t-e;return n?g8(e,n):a0(isNaN(e)?t:e)}const sw=(function e(t){var n=v8(t);function r(l,o){var u=n((l=Jy(l)).r,(o=Jy(o)).r),d=n(l.g,o.g),h=n(l.b,o.b),m=CC(l.opacity,o.opacity);return function(p){return l.r=u(p),l.g=d(p),l.b=h(p),l.opacity=m(p),l+""}}return r.gamma=e,r})(1);function x8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),l;return function(o){for(l=0;l<n;++l)r[l]=e[l]*(1-o)+t[l]*o;return r}}function b8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,l=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)l[u]=Hl(e[u],t[u]);for(;u<n;++u)o[u]=t[u];return function(d){for(u=0;u<r;++u)o[u]=l[u](d);return o}}function S8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function of(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function A8(e,t){var n={},r={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=Hl(e[l],t[l]):r[l]=t[l];return function(o){for(l in n)r[l]=n[l](o);return r}}var ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zg=new RegExp(ev.source,"g");function w8(e){return function(){return e}}function E8(e){return function(t){return e(t)+""}}function T8(e,t){var n=ev.lastIndex=Zg.lastIndex=0,r,l,o,u=-1,d=[],h=[];for(e=e+"",t=t+"";(r=ev.exec(e))&&(l=Zg.exec(t));)(o=l.index)>n&&(o=t.slice(n,o),d[u]?d[u]+=o:d[++u]=o),(r=r[0])===(l=l[0])?d[u]?d[u]+=l:d[++u]=l:(d[++u]=null,h.push({i:u,x:of(r,l)})),n=Zg.lastIndex;return n<t.length&&(o=t.slice(n),d[u]?d[u]+=o:d[++u]=o),d.length<2?h[0]?E8(h[0].x):w8(t):(t=h.length,function(m){for(var p=0,g;p<t;++p)d[(g=h[p]).i]=g.x(m);return d.join("")})}function Hl(e,t){var n=typeof t,r;return t==null||n==="boolean"?a0(t):(n==="number"?of:n==="string"?(r=jc(t))?(t=r,sw):T8:t instanceof jc?sw:t instanceof Date?S8:b8(t)?x8:Array.isArray(t)?j8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A8:of)(e,t)}function i0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function C8(e,t){t===void 0&&(t=e,e=Hl);for(var n=0,r=t.length-1,l=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(l,l=t[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[d](u-d)}}function O8(e){return function(){return e}}function cf(e){return+e}var lw=[0,1];function $n(e){return e}function tv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:O8(isNaN(t)?NaN:.5)}function D8(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function M8(e,t,n){var r=e[0],l=e[1],o=t[0],u=t[1];return l<r?(r=tv(l,r),o=n(u,o)):(r=tv(r,l),o=n(o,u)),function(d){return o(r(d))}}function k8(e,t,n){var r=Math.min(e.length,t.length)-1,l=new Array(r),o=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)l[u]=tv(e[u],e[u+1]),o[u]=n(t[u],t[u+1]);return function(d){var h=Pc(e,d,1,r)-1;return o[h](l[h](d))}}function Rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kf(){var e=lw,t=lw,n=Hl,r,l,o,u=$n,d,h,m;function p(){var b=Math.min(e.length,t.length);return u!==$n&&(u=D8(e[0],e[b-1])),d=b>2?k8:M8,h=m=null,g}function g(b){return b==null||isNaN(b=+b)?o:(h||(h=d(e.map(r),t,n)))(r(u(b)))}return g.invert=function(b){return u(l((m||(m=d(t,e.map(r),of)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,cf),p()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),p()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),n=i0,p()},g.clamp=function(b){return arguments.length?(u=b?!0:$n,p()):u!==$n},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(o=b,g):o},function(b,y){return r=b,l=y,p()}}function s0(){return Kf()($n,$n)}function N8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Rl(e){return e=uf(Math.abs(e)),e?e[1]:NaN}function z8(e,t){return function(n,r){for(var l=n.length,o=[],u=0,d=e[0],h=0;l>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),o.push(n.substring(l-=d,l+d)),!((h+=d+1)>r));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function P8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(e){if(!(t=_8.exec(e)))throw new Error("invalid format: "+e);var t;return new l0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sc.prototype=l0.prototype;function l0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function R8(e){e:for(var t=e.length,n=1,r=-1,l;n<t;++n)switch(e[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(l+1):e}var OC;function B8(e,t){var n=uf(e,t);if(!n)return e+"";var r=n[0],l=n[1],o=l-(OC=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+uf(e,Math.max(0,t+o-1))[0]}function ow(e,t){var n=uf(e,t);if(!n)return e+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const cw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:N8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ow(e*100,t),r:ow,s:B8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uw(e){return e}var dw=Array.prototype.map,fw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function I8(e){var t=e.grouping===void 0||e.thousands===void 0?uw:z8(dw.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?uw:P8(dw.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Sc(g);var b=g.fill,y=g.align,A=g.sign,S=g.symbol,w=g.zero,E=g.width,D=g.comma,T=g.precision,P=g.trim,O=g.type;O==="n"?(D=!0,O="g"):cw[O]||(T===void 0&&(T=12),P=!0,O="g"),(w||b==="0"&&y==="=")&&(w=!0,b="0",y="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",N=S==="$"?r:/[%p]/.test(O)?u:"",B=cw[O],L=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function q(U){var K=M,W=N,ee,te,C;if(O==="c")W=B(U)+W,U="";else{U=+U;var k=U<0||1/U<0;if(U=isNaN(U)?h:B(Math.abs(U),T),P&&(U=R8(U)),k&&+U==0&&A!=="+"&&(k=!1),K=(k?A==="("?A:d:A==="-"||A==="("?"":A)+K,W=(O==="s"?fw[8+OC/3]:"")+W+(k&&A==="("?")":""),L){for(ee=-1,te=U.length;++ee<te;)if(C=U.charCodeAt(ee),48>C||C>57){W=(C===46?l+U.slice(ee+1):U.slice(ee))+W,U=U.slice(0,ee);break}}}D&&!w&&(U=t(U,1/0));var _=K.length+U.length+W.length,$=_<E?new Array(E-_+1).join(b):"";switch(D&&w&&(U=t($+U,$.length?E-W.length:1/0),$=""),y){case"<":U=K+U+W+$;break;case"=":U=K+$+U+W;break;case"^":U=$.slice(0,_=$.length>>1)+K+U+W+$.slice(_);break;default:U=$+K+U+W;break}return o(U)}return q.toString=function(){return g+""},q}function p(g,b){var y=m((g=Sc(g),g.type="f",g)),A=Math.max(-8,Math.min(8,Math.floor(Rl(b)/3)))*3,S=Math.pow(10,-A),w=fw[8+A/3];return function(E){return y(S*E)+w}}return{format:m,formatPrefix:p}}var Ed,o0,DC;$8({thousands:",",grouping:[3],currency:["$",""]});function $8(e){return Ed=I8(e),o0=Ed.format,DC=Ed.formatPrefix,Ed}function L8(e){return Math.max(0,-Rl(Math.abs(e)))}function U8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(t)/3)))*3-Rl(Math.abs(e)))}function G8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rl(t)-Rl(e))+1}function MC(e,t,n,r){var l=Qy(e,t,n),o;switch(r=Sc(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=U8(l,u))&&(r.precision=o),DC(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=G8(l,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=L8(l))&&(r.precision=o-(r.type==="%")*2);break}}return o0(r)}function Wi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Yy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var l=t();return MC(l[0],l[l.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),l=0,o=r.length-1,u=r[l],d=r[o],h,m,p=10;for(d<u&&(m=u,u=d,d=m,m=l,l=o,o=m);p-- >0;){if(m=Xy(u,d,n),m===h)return r[l]=u,r[o]=d,t(r);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;h=m}return e},e}function kC(){var e=s0();return e.copy=function(){return Rc(e,kC())},Hr.apply(e,arguments),Wi(e)}function NC(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,cf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return NC(e).unknown(t)},e=arguments.length?Array.from(e,cf):[0,1],Wi(n)}function zC(e,t){e=e.slice();var n=0,r=e.length-1,l=e[n],o=e[r],u;return o<l&&(u=n,n=r,r=u,u=l,l=o,o=u),e[n]=t.floor(l),e[r]=t.ceil(o),e}function hw(e){return Math.log(e)}function mw(e){return Math.exp(e)}function F8(e){return-Math.log(-e)}function q8(e){return-Math.exp(-e)}function W8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function H8(e){return e===10?W8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function K8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pw(e){return(t,n)=>-e(-t,n)}function c0(e){const t=e(hw,mw),n=t.domain;let r=10,l,o;function u(){return l=K8(r),o=H8(r),n()[0]<0?(l=pw(l),o=pw(o),e(F8,q8)):e(hw,mw),t}return t.base=function(d){return arguments.length?(r=+d,u()):r},t.domain=function(d){return arguments.length?(n(d),u()):n()},t.ticks=d=>{const h=n();let m=h[0],p=h[h.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=l(m),y=l(p),A,S;const w=d==null?10:+d;let E=[];if(!(r%1)&&y-b<w){if(b=Math.floor(b),y=Math.ceil(y),m>0){for(;b<=y;++b)for(A=1;A<r;++A)if(S=b<0?A/o(-b):A*o(b),!(S<m)){if(S>p)break;E.push(S)}}else for(;b<=y;++b)for(A=r-1;A>=1;--A)if(S=b>0?A/o(-b):A*o(b),!(S<m)){if(S>p)break;E.push(S)}E.length*2<w&&(E=Yy(m,p,w))}else E=Yy(b,y,Math.min(y-b,w)).map(o);return g?E.reverse():E},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Sc(h)).precision==null&&(h.trim=!0),h=o0(h)),d===1/0)return h;const m=Math.max(1,r*d/t.ticks().length);return p=>{let g=p/o(Math.round(l(p)));return g*r<r-.5&&(g*=r),g<=m?h(p):""}},t.nice=()=>n(zC(n(),{floor:d=>o(Math.floor(l(d))),ceil:d=>o(Math.ceil(l(d)))})),t}function PC(){const e=c0(Kf()).domain([1,10]);return e.copy=()=>Rc(e,PC()).base(e.base()),Hr.apply(e,arguments),e}function gw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u0(e){var t=1,n=e(gw(t),yw(t));return n.constant=function(r){return arguments.length?e(gw(t=+r),yw(t)):t},Wi(n)}function _C(){var e=u0(Kf());return e.copy=function(){return Rc(e,_C()).constant(e.constant())},Hr.apply(e,arguments)}function vw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function V8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y8(e){return e<0?-e*e:e*e}function d0(e){var t=e($n,$n),n=1;function r(){return n===1?e($n,$n):n===.5?e(V8,Y8):e(vw(n),vw(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,r()):n},Wi(t)}function f0(){var e=d0(Kf());return e.copy=function(){return Rc(e,f0()).exponent(e.exponent())},Hr.apply(e,arguments),e}function X8(){return f0.apply(null,arguments).exponent(.5)}function xw(e){return Math.sign(e)*e*e}function Q8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RC(){var e=s0(),t=[0,1],n=!1,r;function l(o){var u=Q8(e(o));return isNaN(u)?r:n?Math.round(u):u}return l.invert=function(o){return e.invert(xw(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,cf)).map(xw)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(n=!!o,l):n},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return RC(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Hr.apply(l,arguments),Wi(l)}function BC(){var e=[],t=[],n=[],r;function l(){var u=0,d=Math.max(1,t.length);for(n=new Array(d-1);++u<d;)n[u-1]=t8(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?r:t[Pc(n,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ri),l()},o.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return BC().domain(e).range(t).unknown(r)},Hr.apply(o,arguments)}function IC(){var e=0,t=1,n=1,r=[.5],l=[0,1],o;function u(h){return h!=null&&h<=h?l[Pc(r,h,0,n)]:o}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},u.range=function(h){return arguments.length?(n=(l=Array.from(h)).length-1,d()):l.slice()},u.invertExtent=function(h){var m=l.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return IC().domain([e,t]).range(l).unknown(o)},Hr.apply(Wi(u),arguments)}function $C(){var e=[.5],t=[0,1],n,r=1;function l(o){return o!=null&&o<=o?t[Pc(e,o,0,r)]:n}return l.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return $C().domain(e).range(t).unknown(n)},Hr.apply(l,arguments)}const Jg=new Date,ey=new Date;function cn(e,t,n,r){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const u=l(o),d=l.ceil(o);return o-u<d-o?u:d},l.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),l.range=(o,u,d)=>{const h=[];if(o=l.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return h;let m;do h.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return h},l.filter=o=>cn(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),n&&(l.count=(o,u)=>(Jg.setTime(+o),ey.setTime(+u),e(Jg),e(ey),Math.floor(n(Jg,ey))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(r?u=>r(u)%o===0:u=>l.count(0,u)%o===0):l)),l}const df=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);df.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):df);df.range;const _a=1e3,Lr=_a*60,Ra=Lr*60,Ka=Ra*24,h0=Ka*7,bw=Ka*30,ty=Ka*365,xs=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCSeconds());xs.range;const m0=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());m0.range;const p0=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());p0.range;const g0=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());g0.range;const y0=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());y0.range;const Bc=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Ka,e=>e.getDate()-1);Bc.range;const Vf=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>e.getUTCDate()-1);Vf.range;const LC=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>Math.floor(e/Ka));LC.range;function Bs(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/h0)}const Yf=Bs(0),ff=Bs(1),Z8=Bs(2),J8=Bs(3),Bl=Bs(4),e$=Bs(5),t$=Bs(6);Yf.range;ff.range;Z8.range;J8.range;Bl.range;e$.range;t$.range;function Is(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/h0)}const Xf=Is(0),hf=Is(1),n$=Is(2),r$=Is(3),Il=Is(4),a$=Is(5),i$=Is(6);Xf.range;hf.range;n$.range;r$.range;Il.range;a$.range;i$.range;const v0=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v0.range;const x0=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());x0.range;const Va=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Ya=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ya.range;function UC(e,t,n,r,l,o){const u=[[xs,1,_a],[xs,5,5*_a],[xs,15,15*_a],[xs,30,30*_a],[o,1,Lr],[o,5,5*Lr],[o,15,15*Lr],[o,30,30*Lr],[l,1,Ra],[l,3,3*Ra],[l,6,6*Ra],[l,12,12*Ra],[r,1,Ka],[r,2,2*Ka],[n,1,h0],[t,1,bw],[t,3,3*bw],[e,1,ty]];function d(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const y=g&&typeof g.range=="function"?g:h(m,p,g),A=y?y.range(m,+p+1):[];return b?A.reverse():A}function h(m,p,g){const b=Math.abs(p-m)/g,y=e0(([,,w])=>w).right(u,b);if(y===u.length)return e.every(Qy(m/ty,p/ty,g));if(y===0)return df.every(Math.max(Qy(m,p,g),1));const[A,S]=u[b/u[y-1][2]<u[y][2]/b?y-1:y];return A.every(S)}return[d,h]}const[s$,l$]=UC(Ya,x0,Xf,LC,y0,p0),[o$,c$]=UC(Va,v0,Yf,Bc,g0,m0);function ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function u$(e){var t=e.dateTime,n=e.date,r=e.time,l=e.periods,o=e.days,u=e.shortDays,d=e.months,h=e.shortMonths,m=ac(l),p=ic(l),g=ac(o),b=ic(o),y=ac(u),A=ic(u),S=ac(d),w=ic(d),E=ac(h),D=ic(h),T={a:k,A:_,b:$,B:V,c:null,d:Tw,e:Tw,f:z$,g:F$,G:W$,H:M$,I:k$,j:N$,L:GC,m:P$,M:_$,p:R,q:G,Q:Dw,s:Mw,S:R$,u:B$,U:I$,V:$$,w:L$,W:U$,x:null,X:null,y:G$,Y:q$,Z:H$,"%":Ow},P={a:J,A:H,b:F,B:ne,c:null,d:Cw,e:Cw,f:X$,g:s7,G:o7,H:K$,I:V$,j:Y$,L:qC,m:Q$,M:Z$,p:oe,q:ve,Q:Dw,s:Mw,S:J$,u:e7,U:t7,V:n7,w:r7,W:a7,x:null,X:null,y:i7,Y:l7,Z:c7,"%":Ow},O={a:q,A:U,b:K,B:W,c:ee,d:ww,e:ww,f:T$,g:Aw,G:Sw,H:Ew,I:Ew,j:S$,L:E$,m:j$,M:A$,p:L,q:b$,Q:O$,s:D$,S:w$,u:p$,U:g$,V:y$,w:m$,W:v$,x:te,X:C,y:Aw,Y:Sw,Z:x$,"%":C$};T.x=M(n,T),T.X=M(r,T),T.c=M(t,T),P.x=M(n,P),P.X=M(r,P),P.c=M(t,P);function M(Z,he){return function(be){var re=[],Oe=-1,Q=0,ye=Z.length,Ce,Me,Ge;for(be instanceof Date||(be=new Date(+be));++Oe<ye;)Z.charCodeAt(Oe)===37&&(re.push(Z.slice(Q,Oe)),(Me=jw[Ce=Z.charAt(++Oe)])!=null?Ce=Z.charAt(++Oe):Me=Ce==="e"?" ":"0",(Ge=he[Ce])&&(Ce=Ge(be,Me)),re.push(Ce),Q=Oe+1);return re.push(Z.slice(Q,Oe)),re.join("")}}function N(Z,he){return function(be){var re=rc(1900,void 0,1),Oe=B(re,Z,be+="",0),Q,ye;if(Oe!=be.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(he&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Q=ry(rc(re.y,0,1)),ye=Q.getUTCDay(),Q=ye>4||ye===0?hf.ceil(Q):hf(Q),Q=Vf.offset(Q,(re.V-1)*7),re.y=Q.getUTCFullYear(),re.m=Q.getUTCMonth(),re.d=Q.getUTCDate()+(re.w+6)%7):(Q=ny(rc(re.y,0,1)),ye=Q.getDay(),Q=ye>4||ye===0?ff.ceil(Q):ff(Q),Q=Bc.offset(Q,(re.V-1)*7),re.y=Q.getFullYear(),re.m=Q.getMonth(),re.d=Q.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ye="Z"in re?ry(rc(re.y,0,1)).getUTCDay():ny(rc(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ye+5)%7:re.w+re.U*7-(ye+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,ry(re)):ny(re)}}function B(Z,he,be,re){for(var Oe=0,Q=he.length,ye=be.length,Ce,Me;Oe<Q;){if(re>=ye)return-1;if(Ce=he.charCodeAt(Oe++),Ce===37){if(Ce=he.charAt(Oe++),Me=O[Ce in jw?he.charAt(Oe++):Ce],!Me||(re=Me(Z,be,re))<0)return-1}else if(Ce!=be.charCodeAt(re++))return-1}return re}function L(Z,he,be){var re=m.exec(he.slice(be));return re?(Z.p=p.get(re[0].toLowerCase()),be+re[0].length):-1}function q(Z,he,be){var re=y.exec(he.slice(be));return re?(Z.w=A.get(re[0].toLowerCase()),be+re[0].length):-1}function U(Z,he,be){var re=g.exec(he.slice(be));return re?(Z.w=b.get(re[0].toLowerCase()),be+re[0].length):-1}function K(Z,he,be){var re=E.exec(he.slice(be));return re?(Z.m=D.get(re[0].toLowerCase()),be+re[0].length):-1}function W(Z,he,be){var re=S.exec(he.slice(be));return re?(Z.m=w.get(re[0].toLowerCase()),be+re[0].length):-1}function ee(Z,he,be){return B(Z,t,he,be)}function te(Z,he,be){return B(Z,n,he,be)}function C(Z,he,be){return B(Z,r,he,be)}function k(Z){return u[Z.getDay()]}function _(Z){return o[Z.getDay()]}function $(Z){return h[Z.getMonth()]}function V(Z){return d[Z.getMonth()]}function R(Z){return l[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function J(Z){return u[Z.getUTCDay()]}function H(Z){return o[Z.getUTCDay()]}function F(Z){return h[Z.getUTCMonth()]}function ne(Z){return d[Z.getUTCMonth()]}function oe(Z){return l[+(Z.getUTCHours()>=12)]}function ve(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=M(Z+="",T);return he.toString=function(){return Z},he},parse:function(Z){var he=N(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=M(Z+="",P);return he.toString=function(){return Z},he},utcParse:function(Z){var he=N(Z+="",!0);return he.toString=function(){return Z},he}}}var jw={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,d$=/^%/,f$=/[\\^$*+?|[\]().{}]/g;function rt(e,t,n){var r=e<0?"-":"",l=(r?-e:e)+"",o=l.length;return r+(o<n?new Array(n-o+1).join(t)+l:l)}function h$(e){return e.replace(f$,"\\$&")}function ac(e){return new RegExp("^(?:"+e.map(h$).join("|")+")","i")}function ic(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function m$(e,t,n){var r=vn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function p$(e,t,n){var r=vn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function g$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function y$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function v$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=vn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Aw(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function x$(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function b$(e,t,n){var r=vn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function j$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ww(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S$(e,t,n){var r=vn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ew(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function A$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function w$(e,t,n){var r=vn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function E$(e,t,n){var r=vn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function T$(e,t,n){var r=vn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function C$(e,t,n){var r=d$.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function O$(e,t,n){var r=vn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function D$(e,t,n){var r=vn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Tw(e,t){return rt(e.getDate(),t,2)}function M$(e,t){return rt(e.getHours(),t,2)}function k$(e,t){return rt(e.getHours()%12||12,t,2)}function N$(e,t){return rt(1+Bc.count(Va(e),e),t,3)}function GC(e,t){return rt(e.getMilliseconds(),t,3)}function z$(e,t){return GC(e,t)+"000"}function P$(e,t){return rt(e.getMonth()+1,t,2)}function _$(e,t){return rt(e.getMinutes(),t,2)}function R$(e,t){return rt(e.getSeconds(),t,2)}function B$(e){var t=e.getDay();return t===0?7:t}function I$(e,t){return rt(Yf.count(Va(e)-1,e),t,2)}function FC(e){var t=e.getDay();return t>=4||t===0?Bl(e):Bl.ceil(e)}function $$(e,t){return e=FC(e),rt(Bl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function L$(e){return e.getDay()}function U$(e,t){return rt(ff.count(Va(e)-1,e),t,2)}function G$(e,t){return rt(e.getFullYear()%100,t,2)}function F$(e,t){return e=FC(e),rt(e.getFullYear()%100,t,2)}function q$(e,t){return rt(e.getFullYear()%1e4,t,4)}function W$(e,t){var n=e.getDay();return e=n>=4||n===0?Bl(e):Bl.ceil(e),rt(e.getFullYear()%1e4,t,4)}function H$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function Cw(e,t){return rt(e.getUTCDate(),t,2)}function K$(e,t){return rt(e.getUTCHours(),t,2)}function V$(e,t){return rt(e.getUTCHours()%12||12,t,2)}function Y$(e,t){return rt(1+Vf.count(Ya(e),e),t,3)}function qC(e,t){return rt(e.getUTCMilliseconds(),t,3)}function X$(e,t){return qC(e,t)+"000"}function Q$(e,t){return rt(e.getUTCMonth()+1,t,2)}function Z$(e,t){return rt(e.getUTCMinutes(),t,2)}function J$(e,t){return rt(e.getUTCSeconds(),t,2)}function e7(e){var t=e.getUTCDay();return t===0?7:t}function t7(e,t){return rt(Xf.count(Ya(e)-1,e),t,2)}function WC(e){var t=e.getUTCDay();return t>=4||t===0?Il(e):Il.ceil(e)}function n7(e,t){return e=WC(e),rt(Il.count(Ya(e),e)+(Ya(e).getUTCDay()===4),t,2)}function r7(e){return e.getUTCDay()}function a7(e,t){return rt(hf.count(Ya(e)-1,e),t,2)}function i7(e,t){return rt(e.getUTCFullYear()%100,t,2)}function s7(e,t){return e=WC(e),rt(e.getUTCFullYear()%100,t,2)}function l7(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function o7(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Il(e):Il.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function c7(){return"+0000"}function Ow(){return"%"}function Dw(e){return+e}function Mw(e){return Math.floor(+e/1e3)}var El,HC,KC;u7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u7(e){return El=u$(e),HC=El.format,El.parse,KC=El.utcFormat,El.utcParse,El}function d7(e){return new Date(e)}function f7(e){return e instanceof Date?+e:+new Date(+e)}function b0(e,t,n,r,l,o,u,d,h,m){var p=s0(),g=p.invert,b=p.domain,y=m(".%L"),A=m(":%S"),S=m("%I:%M"),w=m("%I %p"),E=m("%a %d"),D=m("%b %d"),T=m("%B"),P=m("%Y");function O(M){return(h(M)<M?y:d(M)<M?A:u(M)<M?S:o(M)<M?w:r(M)<M?l(M)<M?E:D:n(M)<M?T:P)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?b(Array.from(M,f7)):b().map(d7)},p.ticks=function(M){var N=b();return e(N[0],N[N.length-1],M??10)},p.tickFormat=function(M,N){return N==null?O:m(N)},p.nice=function(M){var N=b();return(!M||typeof M.range!="function")&&(M=t(N[0],N[N.length-1],M??10)),M?b(zC(N,M)):p},p.copy=function(){return Rc(p,b0(e,t,n,r,l,o,u,d,h,m))},p}function h7(){return Hr.apply(b0(o$,c$,Va,v0,Yf,Bc,g0,m0,xs,HC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m7(){return Hr.apply(b0(s$,l$,Ya,x0,Xf,Vf,y0,p0,xs,KC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qf(){var e=0,t=1,n,r,l,o,u=$n,d=!1,h;function m(g){return g==null||isNaN(g=+g)?h:u(l===0?.5:(g=(o(g)-n)*l,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),l=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(b){var y,A;return arguments.length?([y,A]=b,u=g(y,A),m):[u(0),u(1)]}}return m.range=p(Hl),m.rangeRound=p(i0),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return o=g,n=g(e),r=g(t),l=n===r?0:1/(r-n),m}}function Hi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VC(){var e=Wi(Qf()($n));return e.copy=function(){return Hi(e,VC())},ti.apply(e,arguments)}function YC(){var e=c0(Qf()).domain([1,10]);return e.copy=function(){return Hi(e,YC()).base(e.base())},ti.apply(e,arguments)}function XC(){var e=u0(Qf());return e.copy=function(){return Hi(e,XC()).constant(e.constant())},ti.apply(e,arguments)}function j0(){var e=d0(Qf());return e.copy=function(){return Hi(e,j0()).exponent(e.exponent())},ti.apply(e,arguments)}function p7(){return j0.apply(null,arguments).exponent(.5)}function QC(){var e=[],t=$n;function n(r){if(r!=null&&!isNaN(r=+r))return t((Pc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let l of r)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ri),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,l)=>t(l/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(l,o)=>e8(e,o/r))},n.copy=function(){return QC(t).domain(e)},ti.apply(n,arguments)}function Zf(){var e=0,t=.5,n=1,r=1,l,o,u,d,h,m=$n,p,g=!1,b;function y(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-o)*(r*S<r*o?d:h),m(g?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([e,t,n]=S,l=p(e=+e),o=p(t=+t),u=p(n=+n),d=l===o?0:.5/(o-l),h=o===u?0:.5/(u-o),r=o<l?-1:1,y):[e,t,n]},y.clamp=function(S){return arguments.length?(g=!!S,y):g},y.interpolator=function(S){return arguments.length?(m=S,y):m};function A(S){return function(w){var E,D,T;return arguments.length?([E,D,T]=w,m=C8(S,[E,D,T]),y):[m(0),m(.5),m(1)]}}return y.range=A(Hl),y.rangeRound=A(i0),y.unknown=function(S){return arguments.length?(b=S,y):b},function(S){return p=S,l=S(e),o=S(t),u=S(n),d=l===o?0:.5/(o-l),h=o===u?0:.5/(u-o),r=o<l?-1:1,y}}function ZC(){var e=Wi(Zf()($n));return e.copy=function(){return Hi(e,ZC())},ti.apply(e,arguments)}function JC(){var e=c0(Zf()).domain([.1,1,10]);return e.copy=function(){return Hi(e,JC()).base(e.base())},ti.apply(e,arguments)}function eO(){var e=u0(Zf());return e.copy=function(){return Hi(e,eO()).constant(e.constant())},ti.apply(e,arguments)}function S0(){var e=d0(Zf());return e.copy=function(){return Hi(e,S0()).exponent(e.exponent())},ti.apply(e,arguments)}function g7(){return S0.apply(null,arguments).exponent(.5)}const oc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n0,scaleDiverging:ZC,scaleDivergingLog:JC,scaleDivergingPow:S0,scaleDivergingSqrt:g7,scaleDivergingSymlog:eO,scaleIdentity:NC,scaleImplicit:Zy,scaleLinear:kC,scaleLog:PC,scaleOrdinal:t0,scalePoint:r8,scalePow:f0,scaleQuantile:BC,scaleQuantize:IC,scaleRadial:RC,scaleSequential:VC,scaleSequentialLog:YC,scaleSequentialPow:j0,scaleSequentialQuantile:QC,scaleSequentialSqrt:p7,scaleSequentialSymlog:XC,scaleSqrt:X8,scaleSymlog:_C,scaleThreshold:$C,scaleTime:h7,scaleUtc:m7,tickFormat:MC},Symbol.toStringTag,{value:"Module"}));var Ki=e=>e.chartData,A0=le([Ki],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ic=(e,t,n,r)=>r?A0(e):Ki(e);function ks(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(rn(t)&&rn(n))return!0}return!1}function kw(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function tO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,l,o;if(rn(n))l=n;else if(typeof n=="function")return;if(rn(r))o=r;else if(typeof r=="function")return;var u=[l,o];if(ks(u))return u}}function y7(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ks(r))return kw(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,u,d;if(l==="auto")t!=null&&(u=Math.min(...t));else if(Ne(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[0]))}catch{}else if(typeof l=="string"&&m2.test(l)){var h=m2.exec(l);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ne(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&p2.test(o)){var p=p2.exec(o);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t?.[1];var b=[u,d];if(ks(b))return t==null?b:kw(b,t,n)}}}var Kl=1e9,v7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E0,Pt=!0,Fr="[DecimalError] ",ws=Fr+"Invalid argument: ",w0=Fr+"Exponent out of range: ",Vl=Math.floor,ys=Math.pow,x7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,gn=1e7,Tt=7,nO=9007199254740991,mf=Vl(nO/Tt),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,n,r,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,l=e.d.length,t=0,n=r<l?r:l;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===l?0:r>l^o.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Tt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(e){return Ua(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,n=t.constructor;return xt(Ua(t,new n(e),0,1),n.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return nn(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,n=this,r=n.constructor,l=r.precision,o=l+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(pr))throw Error(Fr+"NaN");if(n.s<1)throw Error(Fr+(n.s?"NaN":"-Infinity"));return n.eq(pr)?new r(0):(Pt=!1,t=Ua(Ac(n,o),Ac(e,o),o),Pt=!0,xt(t,l))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iO(t,e):rO(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,n=this,r=n.constructor,l=r.precision;if(e=new r(e),!e.s)throw Error(Fr+"NaN");return n.s?(Pt=!1,t=Ua(n,e,0,1).times(e),Pt=!0,n.minus(t)):xt(new r(n),l)};De.naturalExponential=De.exp=function(){return aO(this)};De.naturalLogarithm=De.ln=function(){return Ac(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rO(t,e):iO(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,n,r,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ws+e);if(t=nn(l)+1,r=l.d.length-1,n=r*Tt+1,r=l.d[r],r){for(;r%10==0;r/=10)n--;for(r=l.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};De.squareRoot=De.sqrt=function(){var e,t,n,r,l,o,u,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(Fr+"NaN")}for(e=nn(d),Pt=!1,l=Math.sqrt(+d),l==0||l==1/0?(t=oa(d.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=Vl((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(l.toString()),n=h.precision,l=u=n+3;;)if(o=r,r=o.plus(Ua(d,o,u+2)).times(.5),oa(o.d).slice(0,u)===(t=oa(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),l==u&&t=="4999"){if(xt(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;u+=4}return Pt=!0,xt(r,n)};De.times=De.mul=function(e){var t,n,r,l,o,u,d,h,m,p=this,g=p.constructor,b=p.d,y=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,h=b.length,m=y.length,h<m&&(o=b,b=y,y=o,u=h,h=m,m=u),o=[],u=h+m,r=u;r--;)o.push(0);for(r=m;--r>=0;){for(t=0,l=h+r;l>r;)d=o[l]+y[r]*b[l-r-1]+t,o[l--]=d%gn|0,t=d/gn|0;o[l]=(o[l]+t)%gn|0}for(;!o[--u];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Pt?xt(e,g.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(da(e,0,Kl),t===void 0?t=r.rounding:da(t,0,8),xt(n,e+nn(n)+1,t))};De.toExponential=function(e,t){var n,r=this,l=r.constructor;return e===void 0?n=Ns(r,!0):(da(e,0,Kl),t===void 0?t=l.rounding:da(t,0,8),r=xt(new l(r),e+1,t),n=Ns(r,!0,e+1)),n};De.toFixed=function(e,t){var n,r,l=this,o=l.constructor;return e===void 0?Ns(l):(da(e,0,Kl),t===void 0?t=o.rounding:da(t,0,8),r=xt(new o(l),e+nn(l)+1,t),n=Ns(r.abs(),!1,e+nn(r)+1),l.isneg()&&!l.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return xt(new t(e),nn(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,n,r,l,o,u,d=this,h=d.constructor,m=12,p=+(e=new h(e));if(!e.s)return new h(pr);if(d=new h(d),!d.s){if(e.s<1)throw Error(Fr+"Infinity");return d}if(d.eq(pr))return d;if(r=h.precision,e.eq(pr))return xt(d,r);if(t=e.e,n=e.d.length-1,u=t>=n,o=d.s,u){if((n=p<0?-p:p)<=nO){for(l=new h(pr),t=Math.ceil(r/Tt+4),Pt=!1;n%2&&(l=l.times(d),zw(l.d,t)),n=Vl(n/2),n!==0;)d=d.times(d),zw(d.d,t);return Pt=!0,e.s<0?new h(pr).div(l):xt(l,r)}}else if(o<0)throw Error(Fr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Pt=!1,l=e.times(Ac(d,r+m)),Pt=!0,l=aO(l),l.s=o,l};De.toPrecision=function(e,t){var n,r,l=this,o=l.constructor;return e===void 0?(n=nn(l),r=Ns(l,n<=o.toExpNeg||n>=o.toExpPos)):(da(e,1,Kl),t===void 0?t=o.rounding:da(t,0,8),l=xt(new o(l),e,t),n=nn(l),r=Ns(l,e<=n||n<=o.toExpNeg,e)),r};De.toSignificantDigits=De.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(da(e,1,Kl),t===void 0?t=r.rounding:da(t,0,8)),xt(new r(n),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nn(e),n=e.constructor;return Ns(e,t<=n.toExpNeg||t>=n.toExpPos)};function rO(e,t){var n,r,l,o,u,d,h,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Pt?xt(t,g):t;if(h=e.d,m=t.d,u=e.e,l=t.e,h=h.slice(),o=u-l,o){for(o<0?(r=h,o=-o,d=m.length):(r=m,l=u,d=h.length),u=Math.ceil(g/Tt),d=u>d?u+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=h.length,o=m.length,d-o<0&&(o=d,r=m,m=h,h=r),n=0;o;)n=(h[--o]=h[o]+m[o]+n)/gn|0,h[o]%=gn;for(n&&(h.unshift(n),++l),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=l,Pt?xt(t,g):t}function da(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ws+e)}function oa(e){var t,n,r,l=e.length-1,o="",u=e[0];if(l>0){for(o+=u,t=1;t<l;t++)r=e[t]+"",n=Tt-r.length,n&&(o+=zi(n)),o+=r;u=e[t],r=u+"",n=Tt-r.length,n&&(o+=zi(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Ua=(function(){function e(r,l){var o,u=0,d=r.length;for(r=r.slice();d--;)o=r[d]*l+u,r[d]=o%gn|0,u=o/gn|0;return u&&r.unshift(u),r}function t(r,l,o,u){var d,h;if(o!=u)h=o>u?1:-1;else for(d=h=0;d<o;d++)if(r[d]!=l[d]){h=r[d]>l[d]?1:-1;break}return h}function n(r,l,o){for(var u=0;o--;)r[o]-=u,u=r[o]<l[o]?1:0,r[o]=u*gn+r[o]-l[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,l,o,u){var d,h,m,p,g,b,y,A,S,w,E,D,T,P,O,M,N,B,L=r.constructor,q=r.s==l.s?1:-1,U=r.d,K=l.d;if(!r.s)return new L(r);if(!l.s)throw Error(Fr+"Division by zero");for(h=r.e-l.e,N=K.length,O=U.length,y=new L(q),A=y.d=[],m=0;K[m]==(U[m]||0);)++m;if(K[m]>(U[m]||0)&&--h,o==null?D=o=L.precision:u?D=o+(nn(r)-nn(l))+1:D=o,D<0)return new L(0);if(D=D/Tt+2|0,m=0,N==1)for(p=0,K=K[0],D++;(m<O||p)&&D--;m++)T=p*gn+(U[m]||0),A[m]=T/K|0,p=T%K|0;else{for(p=gn/(K[0]+1)|0,p>1&&(K=e(K,p),U=e(U,p),N=K.length,O=U.length),P=N,S=U.slice(0,N),w=S.length;w<N;)S[w++]=0;B=K.slice(),B.unshift(0),M=K[0],K[1]>=gn/2&&++M;do p=0,d=t(K,S,N,w),d<0?(E=S[0],N!=w&&(E=E*gn+(S[1]||0)),p=E/M|0,p>1?(p>=gn&&(p=gn-1),g=e(K,p),b=g.length,w=S.length,d=t(g,S,b,w),d==1&&(p--,n(g,N<b?B:K,b))):(p==0&&(d=p=1),g=K.slice()),b=g.length,b<w&&g.unshift(0),n(S,g,w),d==-1&&(w=S.length,d=t(K,S,N,w),d<1&&(p++,n(S,N<w?B:K,w))),w=S.length):d===0&&(p++,S=[0]),A[m++]=p,d&&S[0]?S[w++]=U[P]||0:(S=[U[P]],w=1);while((P++<O||S[0]!==void 0)&&D--)}return A[0]||A.shift(),y.e=h,xt(y,u?o+nn(y)+1:o)}})();function aO(e,t){var n,r,l,o,u,d,h=0,m=0,p=e.constructor,g=p.precision;if(nn(e)>16)throw Error(w0+nn(e));if(!e.s)return new p(pr);for(Pt=!1,d=g,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(r=Math.log(ys(2,m))/Math.LN10*2+5|0,d+=r,n=l=o=new p(pr),p.precision=d;;){if(l=xt(l.times(e),d),n=n.times(++h),u=o.plus(Ua(l,n,d)),oa(u.d).slice(0,d)===oa(o.d).slice(0,d)){for(;m--;)o=xt(o.times(o),d);return p.precision=g,t==null?(Pt=!0,xt(o,g)):o}o=u}}function nn(e){for(var t=e.e*Tt,n=e.d[0];n>=10;n/=10)t++;return t}function ay(e,t,n){if(t>e.LN10.sd())throw Pt=!0,n&&(e.precision=n),Error(Fr+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function Ac(e,t){var n,r,l,o,u,d,h,m,p,g=1,b=10,y=e,A=y.d,S=y.constructor,w=S.precision;if(y.s<1)throw Error(Fr+(y.s?"NaN":"-Infinity"));if(y.eq(pr))return new S(0);if(t==null?(Pt=!1,m=w):m=t,y.eq(10))return t==null&&(Pt=!0),ay(S,m);if(m+=b,S.precision=m,n=oa(A),r=n.charAt(0),o=nn(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=oa(y.d),r=n.charAt(0),g++;o=nn(y),r>1?(y=new S("0."+n),o++):y=new S(r+"."+n.slice(1))}else return h=ay(S,m+2,w).times(o+""),y=Ac(new S(r+"."+n.slice(1)),m-b).plus(h),S.precision=w,t==null?(Pt=!0,xt(y,w)):y;for(d=u=y=Ua(y.minus(pr),y.plus(pr),m),p=xt(y.times(y),m),l=3;;){if(u=xt(u.times(p),m),h=d.plus(Ua(u,new S(l),m)),oa(h.d).slice(0,m)===oa(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(ay(S,m+2,w).times(o+""))),d=Ua(d,new S(g),m),S.precision=w,t==null?(Pt=!0,xt(d,w)):d;d=h,l+=2}}function Nw(e,t){var n,r,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(r,l),t){if(l-=r,n=n-r-1,e.e=Vl(n/Tt),e.d=[],r=(n+1)%Tt,n<0&&(r+=Tt),r<l){for(r&&e.d.push(+t.slice(0,r)),l-=Tt;r<l;)e.d.push(+t.slice(r,r+=Tt));t=t.slice(r),r=Tt-t.length}else r-=l;for(;r--;)t+="0";if(e.d.push(+t),Pt&&(e.e>mf||e.e<-mf))throw Error(w0+n)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,n){var r,l,o,u,d,h,m,p,g=e.d;for(u=1,o=g[0];o>=10;o/=10)u++;if(r=t-u,r<0)r+=Tt,l=t,m=g[p=0];else{if(p=Math.ceil((r+1)/Tt),o=g.length,p>=o)return e;for(m=o=g[p],u=1;o>=10;o/=10)u++;r%=Tt,l=r-Tt+u}if(n!==void 0&&(o=ys(10,u-l-1),d=m/o%10|0,h=t<0||g[p+1]!==void 0||m%o,h=n<4?(d||h)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?l>0?m/ys(10,u-l):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return h?(o=nn(e),g.length=1,t=t-o-1,g[0]=ys(10,(Tt-t%Tt)%Tt),e.e=Vl(-t/Tt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=ys(10,Tt-r),g[p]=l>0?(m/ys(10,u-l)%ys(10,l)|0)*o:0),h)for(;;)if(p==0){(g[0]+=o)==gn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=gn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Pt&&(e.e>mf||e.e<-mf))throw Error(w0+nn(e));return e}function iO(e,t){var n,r,l,o,u,d,h,m,p,g,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Pt?xt(t,y):t;if(h=e.d,g=t.d,r=t.e,m=e.e,h=h.slice(),u=m-r,u){for(p=u<0,p?(n=h,u=-u,d=g.length):(n=g,r=m,d=h.length),l=Math.max(Math.ceil(y/Tt),d)+2,u>l&&(u=l,n.length=1),n.reverse(),l=u;l--;)n.push(0);n.reverse()}else{for(l=h.length,d=g.length,p=l<d,p&&(d=l),l=0;l<d;l++)if(h[l]!=g[l]){p=h[l]<g[l];break}u=0}for(p&&(n=h,h=g,g=n,t.s=-t.s),d=h.length,l=g.length-d;l>0;--l)h[d++]=0;for(l=g.length;l>u;){if(h[--l]<g[l]){for(o=l;o&&h[--o]===0;)h[o]=gn-1;--h[o],h[l]+=gn}h[l]-=g[l]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,Pt?xt(t,y):t):new b(0)}function Ns(e,t,n){var r,l=nn(e),o=oa(e.d),u=o.length;return t?(n&&(r=n-u)>0?o=o.charAt(0)+"."+o.slice(1)+zi(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+zi(-l-1)+o,n&&(r=n-u)>0&&(o+=zi(r))):l>=u?(o+=zi(l+1-u),n&&(r=n-l-1)>0&&(o=o+"."+zi(r))):((r=l+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-u)>0&&(l+1===u&&(o+="."),o+=zi(r))),e.s<0?"-"+o:o}function zw(e,t){if(e.length>t)return e.length=t,!0}function sO(e){var t,n,r;function l(o){var u=this;if(!(u instanceof l))return new l(o);if(u.constructor=l,o instanceof l){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ws+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return Nw(u,o.toString())}else if(typeof o!="string")throw Error(ws+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,x7.test(o))Nw(u,o);else throw Error(ws+o)}if(l.prototype=De,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=sO,l.config=l.set=b7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return l.config(e),l}function b7(e){if(!e||typeof e!="object")throw Error(Fr+"Object expected");var t,n,r,l=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((r=e[n=l[t]])!==void 0)if(Vl(r)===r&&r>=l[t+1]&&r<=l[t+2])this[n]=r;else throw Error(ws+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ws+n+": "+r);return this}var E0=sO(v7);pr=new E0(1);const ot=E0;var j7=e=>e,lO={},oO=e=>e===lO,Pw=e=>function t(){return arguments.length===0||arguments.length===1&&oO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},cO=(e,t)=>e===1?t:Pw(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var o=r.filter(u=>u!==lO).length;return o>=e?t(...r):cO(e-o,Pw(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=r.map(p=>oO(p)?d.shift():p);return t(...m,...d)}))}),Jf=e=>cO(e.length,e),nv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},S7=Jf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),A7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return j7;var l=n.reverse(),o=l[0],u=l.slice(1);return function(){return u.reduce((d,h)=>h(d),o(...arguments))}},rv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),uO=e=>{var t=null,n=null;return function(){for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t&&l.every((u,d)=>{var h;return u===((h=t)===null||h===void 0?void 0:h[d])})||(t=l,n=e(...l)),n}};function dO(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function fO(e,t,n){for(var r=new ot(e),l=0,o=[];r.lt(t)&&l<1e5;)o.push(r.toNumber()),r=r.add(n),l++;return o}Jf((e,t,n)=>{var r=+e,l=+t;return r+n*(l-r)});Jf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Jf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var hO=e=>{var[t,n]=e,[r,l]=[t,n];return t>n&&([r,l]=[n,t]),[r,l]},mO=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=dO(e.toNumber()),l=new ot(10).pow(r),o=e.div(l),u=r!==1?.05:.1,d=new ot(Math.ceil(o.div(u).toNumber())).add(n).mul(u),h=d.mul(l);return t?new ot(h.toNumber()):new ot(Math.ceil(h.toNumber()))},w7=(e,t,n)=>{var r=new ot(1),l=new ot(e);if(!l.isint()&&n){var o=Math.abs(e);o<1?(r=new ot(10).pow(dO(e)-1),l=new ot(Math.floor(l.div(r).toNumber())).mul(r)):o>1&&(l=new ot(Math.floor(e)))}else e===0?l=new ot(Math.floor((t-1)/2)):n||(l=new ot(Math.floor(e)));var u=Math.floor((t-1)/2),d=A7(S7(h=>l.add(new ot(h-u).mul(r)).toNumber()),nv);return d(0,t)},pO=function(t,n,r,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var u=mO(new ot(n).sub(t).div(r-1),l,o),d;t<=0&&n>=0?d=new ot(0):(d=new ot(t).add(n).div(2),d=d.sub(new ot(d).mod(u)));var h=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new ot(n).sub(d).div(u).toNumber()),p=h+m+1;return p>r?pO(t,n,r,l,o+1):(p<r&&(m=n>0?m+(r-p):m,h=n>0?h:h+(r-p)),{step:u,tickMin:d.sub(new ot(h).mul(u)),tickMax:d.add(new ot(m).mul(u))})};function E7(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[u,d]=hO([t,n]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...nv(0,r-1).map(()=>1/0)]:[...nv(0,r-1).map(()=>-1/0),d];return t>n?rv(h):h}if(u===d)return w7(u,r,l);var{step:m,tickMin:p,tickMax:g}=pO(u,d,o,l,0),b=fO(p,g.add(new ot(.1).mul(m)),m);return t>n?rv(b):b}function T7(e,t){var[n,r]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=hO([n,r]);if(o===-1/0||u===1/0)return[n,r];if(o===u)return[o];var d=Math.max(t,2),h=mO(new ot(u).sub(o).div(d-1),l,0),m=[...fO(new ot(o),new ot(u),h),u];return l===!1&&(m=m.map(p=>Math.round(p))),n>r?rv(m):m}var C7=uO(E7),O7=uO(T7),gO=e=>e.rootProps.maxBarSize,D7=e=>e.rootProps.barGap,yO=e=>e.rootProps.barCategoryGap,M7=e=>e.rootProps.barSize,$c=e=>e.rootProps.stackOffset,T0=e=>e.options.chartName,C0=e=>e.rootProps.syncId,vO=e=>e.rootProps.syncMethod,O0=e=>e.options.eventEmitter,za={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},eh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},k7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:za.reversed,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:za.type,unit:void 0},N7={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:hr.type,unit:void 0},z7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:za.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:za.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:za.scale,tick:za.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},P7={allowDataOverflow:hr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hr.scale,tick:hr.tick,tickCount:hr.tickCount,ticks:void 0,type:"category",unit:void 0},D0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?z7:k7,M0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?P7:N7,th=e=>e.polarOptions,k0=le([Za,Ja,ln],XT),xO=le([th,k0],(e,t)=>{if(e!=null)return Pn(e.innerRadius,t,0)}),bO=le([th,k0],(e,t)=>{if(e!=null)return Pn(e.outerRadius,t,t*.8)}),_7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},jO=le([th],_7);le([D0,jO],eh);var SO=le([k0,xO,bO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});le([M0,SO],eh);var AO=le([Ye,th,xO,bO,Za,Ja],(e,t,n,r,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:d,startAngle:h,endAngle:m}=t;return{cx:Pn(u,l,l/2),cy:Pn(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:m,clockWise:!1}}}),Ut=(e,t)=>t,Lc=(e,t,n)=>n;function nh(e){return e?.id}var un=e=>{var t=Ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yl=e=>e.tooltip.settings.axisId,dn=e=>{var t=un(e),n=Yl(e);return Uc(e,t,n)},wO=le([dn],e=>e?.dataKey);function EO(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:l,dataKey:o}=n,u=new Map;return e.forEach(d=>{var h,m=(h=d.data)!==null&&h!==void 0?h:r;if(!(m==null||m.length===0)){var p=nh(d);m.forEach((g,b)=>{var y=o==null||l?b:String(mt(g,o,null)),A=mt(g,d.dataKey,0),S;u.has(y)?S=u.get(y):S={},Object.assign(S,{[p]:A}),u.set(y,S)})}}),Array.from(u.values())}function rh(e){return e.stackId!=null&&e.dataKey!=null}var ah=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ih(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=B7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=[0,"auto"],dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},TO=(e,t)=>e.cartesianAxis.xAxis[t],ni=(e,t)=>{var n=TO(e,t);return n??dr},fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:av,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nc},CO=(e,t)=>e.cartesianAxis.yAxis[t],ri=(e,t)=>{var n=CO(e,t);return n??fr},$7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},N0=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??$7},qt=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return ri(e,n);case"zAxis":return N0(e,n);case"angleAxis":return D0(e,n);case"radiusAxis":return M0(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},L7=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return ri(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Uc=(e,t,n)=>{switch(t){case"xAxis":return ni(e,n);case"yAxis":return ri(e,n);case"angleAxis":return D0(e,n);case"radiusAxis":return M0(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},OO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function z0(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Gc=e=>e.graphicalItems.cartesianItems,U7=le([Ut,Lc],z0),P0=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Fc=le([Gc,qt,U7],P0,{memoizeOptions:{resultEqualityCheck:ih}}),DO=le([Fc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rh)),MO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),G7=le([Fc],MO),_0=e=>e.map(t=>t.data).filter(Boolean).flat(1),F7=le([Fc],_0,{memoizeOptions:{resultEqualityCheck:ih}}),R0=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:l}=t;return e.length>0?e:n.slice(r,l+1)},B0=le([F7,Ic],R0),I0=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:mt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(l=>({value:mt(l,r)}))):e.map(r=>({value:r})),sh=le([B0,qt,Fc],I0);function kO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pd(e){if(ua(e)||e instanceof Date){var t=Number(e);if(rn(t))return t}}function Rw(e){if(Array.isArray(e)){var t=[Pd(e[0]),Pd(e[1])];return ks(t)?t:void 0}var n=Pd(e);if(n!=null)return[n,n]}function Xl(e){return e.map(Pd).filter(sI)}function q7(e,t,n){return!n||typeof t!="number"||xr(t)?[]:n.length?Xl(n.flatMap(r=>{var l=mt(e,r.dataKey),o,u;if(Array.isArray(l)?[o,u]=l:o=u=l,!(!rn(o)||!rn(u)))return[t-o,t+u]})):[]}var W7=le([DO,Ic,dn],EO),NO=(e,t,n)=>{var r={},l=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),r);return Object.fromEntries(Object.entries(l).map(o=>{var[u,d]=o,h=d.map(nh);return[u,{stackedData:MR(e,h,n),graphicalItems:d}]}))},wc=le([W7,DO,$c],NO),zO=(e,t,n,r)=>{var{dataStartIndex:l,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var u=PR(e,l,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},H7=le([qt],e=>e.allowDataOverflow),$0=e=>{var t;if(e==null||!("domain"in e))return av;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:av},L0=le([qt],$0),U0=le([L0,H7],tO),K7=le([wc,Ki,Ut,U0],zO,{memoizeOptions:{resultEqualityCheck:ah}}),lh=e=>e.errorBars,V7=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>kO(n,r)),gf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var l=n.filter(Boolean);if(l.length!==0){var o=l.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},G0=(e,t,n,r,l)=>{var o,u;if(n.length>0&&e.forEach(d=>{n.forEach(h=>{var m,p,g=(m=r[h.id])===null||m===void 0?void 0:m.filter(E=>kO(l,E)),b=mt(d,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),y=q7(d,b,g);if(y.length>=2){var A=Math.min(...y),S=Math.max(...y);(o==null||A<o)&&(o=A),(u==null||S>u)&&(u=S)}var w=Rw(b);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),u=u==null?w[1]:Math.max(u,w[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var h=Rw(mt(d,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),u=u==null?h[1]:Math.max(u,h[1]))}),rn(o)&&rn(u))return[o,u]},Y7=le([B0,qt,G7,lh,Ut],G0,{memoizeOptions:{resultEqualityCheck:ah}});function X7(e){var{value:t}=e;if(ua(t)||t instanceof Date)return t}var Q7=(e,t,n)=>{var r=e.map(X7).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sT(r))?bC(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},PO=e=>e.referenceElements.dots,Ql=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Z7=le([PO,Ut,Lc],Ql),_O=e=>e.referenceElements.areas,J7=le([_O,Ut,Lc],Ql),RO=e=>e.referenceElements.lines,e9=le([RO,Ut,Lc],Ql),BO=(e,t)=>{var n=Xl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},t9=le(Z7,Ut,BO),IO=(e,t)=>{var n=Xl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},n9=le([J7,Ut],IO),$O=(e,t)=>{var n=Xl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},r9=le(e9,Ut,$O),a9=le(t9,r9,n9,(e,t,n)=>gf(e,n,t)),F0=(e,t,n,r,l,o,u,d)=>{if(n!=null)return n;var h=u==="vertical"&&d==="xAxis"||u==="horizontal"&&d==="yAxis",m=h?gf(r,o,l):gf(o,l);return y7(t,m,e.allowDataOverflow)},i9=le([qt,L0,U0,K7,Y7,a9,Ye,Ut],F0,{memoizeOptions:{resultEqualityCheck:ah}}),s9=[0,1],q0=(e,t,n,r,l,o,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:d,type:h}=e,m=ma(t,o);return m&&d==null?bC(0,n.length):h==="category"?Q7(r,e,m):l==="expand"?s9:u}},W0=le([qt,Ye,B0,sh,$c,Ut,i9],q0),LO=(e,t,n,r,l)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(Oc(o));return d in oc?d:"point"}}},Zl=le([qt,Ye,OO,T0,Ut],LO);function l9(e){if(e!=null){if(e in oc)return oc[e]();var t="scale".concat(Oc(e));if(t in oc)return oc[t]()}}function H0(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var l=l9(t);if(l!=null){var o=l.domain(n).range(r);return ER(o),o}}}var K0=(e,t,n)=>{var r=$0(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ks(e))return C7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ks(e))return O7(e,t.tickCount,t.allowDecimals)}},V0=le([W0,Uc,Zl],K0),Y0=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&ks(t)&&Array.isArray(n)&&n.length>0){var l=t[0],o=n[0],u=t[1],d=n[n.length-1];return[Math.min(l,o),Math.max(u,d)]}return t},o9=le([qt,W0,V0,Ut],Y0),c9=le(sh,qt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xl(e.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var l=r[r.length-1]-r[0];if(l===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];n=Math.min(n,u)}return n/l}}),UO=le(c9,Ye,yO,ln,(e,t,n,r)=>r,(e,t,n,r,l)=>{if(!rn(e))return 0;var o=t==="vertical"?r.height:r.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var u=Pn(n,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),u9=(e,t)=>{var n=ni(e,t);return n==null||typeof n.padding!="string"?0:UO(e,"xAxis",t,n.padding)},d9=(e,t)=>{var n=ri(e,t);return n==null||typeof n.padding!="string"?0:UO(e,"yAxis",t,n.padding)},f9=le(ni,u9,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((r=l.right)!==null&&r!==void 0?r:0)+t}}),h9=le(ri,d9,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((r=l.bottom)!==null&&r!==void 0?r:0)+t}}),m9=le([ln,f9,qf,Ff,(e,t,n)=>n],(e,t,n,r,l)=>{var{padding:o}=r;return l?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),p9=le([ln,Ye,h9,qf,Ff,(e,t,n)=>n],(e,t,n,r,l,o)=>{var{padding:u}=l;return o?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),qc=(e,t,n,r)=>{var l;switch(t){case"xAxis":return m9(e,n,r);case"yAxis":return p9(e,n,r);case"zAxis":return(l=N0(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return jO(e);case"radiusAxis":return SO(e,n);default:return}},GO=le([qt,qc],eh),Jl=le([qt,Zl,o9,GO],H0);le([Fc,lh,Ut],V7);function FO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var oh=(e,t)=>t,ch=(e,t,n)=>n,g9=le(Uf,oh,ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FO)),y9=le(Gf,oh,ch,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(FO)),qO=(e,t)=>({width:e.width,height:t.height}),v9=(e,t)=>{var n=typeof t.width=="number"?t.width:Nc;return{width:n,height:e.height}},WO=le(ln,ni,qO),x9=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},b9=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},j9=le(Ja,ln,g9,oh,ch,(e,t,n,r,l)=>{var o={},u;return n.forEach(d=>{var h=qO(t,d);u==null&&(u=x9(t,r,e));var m=r==="top"&&!l||r==="bottom"&&l;o[d.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),S9=le(Za,ln,y9,oh,ch,(e,t,n,r,l)=>{var o={},u;return n.forEach(d=>{var h=v9(t,d);u==null&&(u=b9(t,r,e));var m=r==="left"&&!l||r==="right"&&l;o[d.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),A9=(e,t)=>{var n=ni(e,t);if(n!=null)return j9(e,n.orientation,n.mirror)},w9=le([ln,ni,A9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n?.[r];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),E9=(e,t)=>{var n=ri(e,t);if(n!=null)return S9(e,n.orientation,n.mirror)},T9=le([ln,ri,E9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n?.[r];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),HO=le(ln,ri,(e,t)=>{var n=typeof t.width=="number"?t.width:Nc;return{width:n,height:e.height}}),Bw=(e,t,n)=>{switch(t){case"xAxis":return WO(e,n).width;case"yAxis":return HO(e,n).height;default:return}},KO=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:l,type:o,dataKey:u}=n,d=ma(e,r),h=t.map(m=>m.value);if(u&&d&&o==="category"&&l&&sT(h))return h}},X0=le([Ye,sh,qt,Ut],KO),VO=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:o}=n,u=ma(e,r);if(u&&(l==="number"||o!=="auto"))return t.map(d=>d.value)}},Q0=le([Ye,sh,Uc,Ut],VO),Iw=le([Ye,L7,Zl,Jl,X0,Q0,qc,V0,Ut],(e,t,n,r,l,o,u,d,h)=>{if(t==null)return null;var m=ma(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:l,isCategorical:m,niceTicks:d,range:u,realScaleType:n,scale:r}}),C9=(e,t,n,r,l,o,u,d,h)=>{if(!(t==null||r==null)){var m=ma(e,h),{type:p,ticks:g,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=p==="category"&&r.bandwidth?r.bandwidth()/y:0;A=h==="angleAxis"&&o!=null&&o.length>=2?yn(o[0]-o[1])*2*A:A;var S=g||l;if(S){var w=S.map((E,D)=>{var T=u?u.indexOf(E):E;return{index:D,coordinate:r(T)+A,value:E,offset:A}});return w.filter(E=>!xr(E.coordinate))}return m&&d?d.map((E,D)=>({coordinate:r(E)+A,value:E,index:D,offset:A})):r.ticks?r.ticks(b).map(E=>({coordinate:r(E)+A,value:E,offset:A})):r.domain().map((E,D)=>({coordinate:r(E)+A,value:u?u[E]:E,index:D,offset:A}))}},YO=le([Ye,Uc,Zl,Jl,V0,qc,X0,Q0,Ut],C9),O9=(e,t,n,r,l,o,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=ma(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&r?.length>=2?yn(r[0]-r[1])*2*m:m,d&&o?o.map((p,g)=>({coordinate:n(p)+m,value:p,index:g,offset:m})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+m,value:p,offset:m})):n.domain().map((p,g)=>({coordinate:n(p)+m,value:l?l[p]:p,index:g,offset:m}))}},fa=le([Ye,Uc,Jl,qc,X0,Q0,Ut],O9),ha=le(qt,Jl,(e,t)=>{if(!(e==null||t==null))return pf(pf({},e),{},{scale:t})}),D9=le([qt,Zl,W0,GO],H0);le((e,t,n)=>N0(e,n),D9,(e,t)=>{if(!(e==null||t==null))return pf(pf({},e),{},{scale:t})});var M9=le([Ye,Uf,Gf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),XO=e=>e.options.defaultTooltipEventType,QO=e=>e.options.validateTooltipEventTypes;function ZO(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Z0(e,t){var n=XO(e),r=QO(e);return ZO(t,n,r)}function k9(e){return ze(t=>Z0(t,e))}var JO=(e,t)=>{var n,r=Number(t);if(!(xr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},N9=e=>e.tooltip.settings,_i={active:!1,index:null,dataKey:void 0,coordinate:void 0},z9={itemInteraction:{click:_i,hover:_i},axisInteraction:{click:_i,hover:_i},keyboardInteraction:_i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eD=jr({name:"tooltip",initialState:z9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Bn()},removeTooltipEntrySettings:{reducer(e,t){var n=La(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Bn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:P9,removeTooltipEntrySettings:_9,setTooltipSettingsState:R9,setActiveMouseOverItemIndex:tD,mouseLeaveItem:B9,mouseLeaveChart:nD,setActiveClickItemIndex:I9,setMouseOverAxisIndex:rD,setMouseClickAxisIndex:$9,setSyncInteraction:iv,setKeyboardInteraction:sv}=eD.actions,L9=eD.reducer;function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){U9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U9(e,t,n){return(t=G9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q9(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function W9(e){return e.index!=null}var aD=(e,t,n,r)=>{if(t==null)return _i;var l=q9(e,t,n);if(l==null)return _i;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(W9(l)){if(o)return Td(Td({},l),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Td(Td({},_i),{},{coordinate:l.coordinate})},J0=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!rn(r))return n;var l=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(l,Math.min(r,o)))},iD=(e,t,n,r,l,o,u,d)=>{if(!(o==null||d==null)){var h=u[0],m=h==null?void 0:d(h.positions,o);if(m!=null)return m;var p=l?.[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},sD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===l})},Wc=e=>e.options.tooltipPayloadSearcher,eo=e=>e.tooltip;function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){H9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=V9(e,"string");return typeof t=="symbol"?t:t+""}function V9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9(e,t){return e??t}var lD=(e,t,n,r,l,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:h,dataStartIndex:m,dataEndIndex:p}=n,g=[];return e.reduce((b,y)=>{var A,{dataDefinedOnItem:S,settings:w}=y,E=Y9(S,d),D=Array.isArray(E)?QT(E,m,p):E,T=(A=w?.dataKey)!==null&&A!==void 0?A:r,P=w?.nameKey,O;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&u==="axis"?O=lT(D,r,l):O=o(D,t,h,P),Array.isArray(O))O.forEach(N=>{var B=Uw(Uw({},w),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(g2({tooltipEntrySettings:B,dataKey:N.dataKey,payload:N.payload,value:mt(N.payload,N.dataKey),name:N.name}))});else{var M;b.push(g2({tooltipEntrySettings:w,dataKey:T,payload:O,value:mt(O,T),name:(M=mt(O,P))!==null&&M!==void 0?M:w?.name}))}return b},g)}},ex=le([dn,Ye,OO,T0,un],LO),X9=le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Q9=le([un,Yl],z0),Hc=le([X9,dn,Q9],P0,{memoizeOptions:{resultEqualityCheck:ih}}),Z9=le([Hc],e=>e.filter(rh)),J9=le([Hc],_0,{memoizeOptions:{resultEqualityCheck:ih}}),to=le([J9,Ki],R0),eL=le([Z9,Ki,dn],EO),tx=le([to,dn,Hc],I0),oD=le([dn],$0),tL=le([dn],e=>e.allowDataOverflow),cD=le([oD,tL],tO),nL=le([Hc],e=>e.filter(rh)),rL=le([eL,nL,$c],NO),aL=le([rL,Ki,un,cD],zO),iL=le([Hc],MO),sL=le([to,dn,iL,lh,un],G0,{memoizeOptions:{resultEqualityCheck:ah}}),lL=le([PO,un,Yl],Ql),oL=le([lL,un],BO),cL=le([_O,un,Yl],Ql),uL=le([cL,un],IO),dL=le([RO,un,Yl],Ql),fL=le([dL,un],$O),hL=le([oL,fL,uL],gf),mL=le([dn,oD,cD,aL,sL,hL,Ye,un],F0),uD=le([dn,Ye,to,tx,$c,un,mL],q0),pL=le([uD,dn,ex],K0),gL=le([dn,uD,pL,un],Y0),dD=e=>{var t=un(e),n=Yl(e),r=!1;return qc(e,t,n,r)},fD=le([dn,dD],eh),hD=le([dn,ex,gL,fD],H0),yL=le([Ye,tx,dn,un],KO),vL=le([Ye,tx,dn,un],VO),xL=(e,t,n,r,l,o,u,d)=>{if(t){var{type:h}=t,m=ma(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&l!=null&&l?.length>=2?yn(l[0]-l[1])*2*g:g,m&&u?u.map((b,y)=>({coordinate:r(b)+g,value:b,index:y,offset:g})):r.domain().map((b,y)=>({coordinate:r(b)+g,value:o?o[b]:b,index:y,offset:g}))}}},ai=le([Ye,dn,ex,hD,dD,yL,vL,un],xL),nx=le([XO,QO,N9],(e,t,n)=>ZO(n.shared,e,t)),mD=e=>e.tooltip.settings.trigger,rx=e=>e.tooltip.settings.defaultIndex,uh=le([eo,nx,mD,rx],aD),Li=le([uh,to],J0),pD=le([ai,Li],JO),gD=le([uh],e=>{if(e)return e.dataKey}),yD=le([eo,nx,mD,rx],sD),bL=le([Za,Ja,Ye,ln,ai,rx,yD,Wc],iD),jL=le([uh,bL],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SL=le([uh],e=>e.active),AL=le([yD,Li,Ki,wO,pD,Wc,nx],lD),wL=le([AL],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(r){EL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EL(e,t,n){return(t=TL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OL=()=>ze(dn),DL=()=>{var e=OL(),t=ze(ai),n=ze(hD);return Ms(Fw(Fw({},e),{},{scale:n}),t)},vD=()=>ze(T0),ax=(e,t)=>t,xD=(e,t,n)=>n,ix=(e,t,n,r)=>r,ML=le(ai,e=>_f(e,t=>t.coordinate)),sx=le([eo,ax,xD,ix],aD),bD=le([sx,to],J0),kL=(e,t,n)=>{if(t!=null){var r=eo(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},jD=le([eo,ax,xD,ix],sD),yf=le([Za,Ja,Ye,ln,ai,ix,jD,Wc],iD),NL=le([sx,yf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),SD=le(ai,bD,JO),zL=le([jD,bD,Ki,wO,SD,Wc,ax],lD),PL=le([sx],e=>({isActive:e.active,activeIndex:e.index})),_L=(e,t,n,r,l,o,u,d)=>{if(!(!e||!t||!r||!l||!o)){var h=_R(e.chartX,e.chartY,t,n,d);if(h){var m=BR(h,t),p=AR(m,u,o,r,l),g=RR(t,o,p,h);return{activeIndex:String(p),activeCoordinate:g}}}};function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(null,arguments)}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){RL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RL(e,t,n){return(t=BL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $L(e){var{coordinate:t,payload:n,index:r,offset:l,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:h,chartName:m}=e,p=t,g=n,b=r;if(!d||!p||m!=="ScatterChart"&&h!=="axis")return null;var y,A;if(m==="ScatterChart")y=p,A=JB;else if(m==="BarChart")y=eI(u,p,l,o),A=gC;else if(u==="radial"){var{cx:S,cy:w,radius:E,startAngle:D,endAngle:T}=yC(p);y={cx:S,cy:w,startAngle:D,endAngle:T,innerRadius:E,outerRadius:E},A=xC}else y={points:BI(u,p,l)},A=Dl;var P=typeof d=="object"&&"className"in d?d.className:void 0,O=Cd(Cd(Cd(Cd({stroke:"#ccc",pointerEvents:"none"},l),y),Ts(d)),{},{payload:g,payloadIndex:b,className:Je("recharts-tooltip-cursor",P)});return x.isValidElement(d)?x.cloneElement(d,O):x.createElement(A,O)}function LL(e){var t=DL(),n=lC(),r=zc(),l=vD();return x.createElement($L,lv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:l}))}var AD=x.createContext(null),UL=()=>x.useContext(AD),iy={exports:{}},Ww;function GL(){return Ww||(Ww=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function l(h,m,p){this.fn=h,this.context=m,this.once=p||!1}function o(h,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new l(p,g||h,b),A=n?n+m:m;return h._events[A]?h._events[A].fn?h._events[A]=[h._events[A],y]:h._events[A].push(y):(h._events[A]=y,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new r:delete h._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)t.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,A=new Array(y);b<y;b++)A[b]=g[b].fn;return A},d.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,b,y,A){var S=n?n+m:m;if(!this._events[S])return!1;var w=this._events[S],E=arguments.length,D,T;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,g),!0;case 4:return w.fn.call(w.context,p,g,b),!0;case 5:return w.fn.call(w.context,p,g,b,y),!0;case 6:return w.fn.call(w.context,p,g,b,y,A),!0}for(T=1,D=new Array(E-1);T<E;T++)D[T-1]=arguments[T];w.fn.apply(w.context,D)}else{var P=w.length,O;for(T=0;T<P;T++)switch(w[T].once&&this.removeListener(m,w[T].fn,void 0,!0),E){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,p);break;case 3:w[T].fn.call(w[T].context,p,g);break;case 4:w[T].fn.call(w[T].context,p,g,b);break;default:if(!D)for(O=1,D=new Array(E-1);O<E;O++)D[O-1]=arguments[O];w[T].fn.apply(w[T].context,D)}}return!0},d.prototype.on=function(m,p,g){return o(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return o(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,b){var y=n?n+m:m;if(!this._events[y])return this;if(!p)return u(this,y),this;var A=this._events[y];if(A.fn)A.fn===p&&(!b||A.once)&&(!g||A.context===g)&&u(this,y);else{for(var S=0,w=[],E=A.length;S<E;S++)(A[S].fn!==p||b&&!A[S].once||g&&A[S].context!==g)&&w.push(A[S]);w.length?this._events[y]=w.length===1?w[0]:w:u(this,y)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&u(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(iy)),iy.exports}var FL=GL();const qL=Xa(FL);var Ec=new qL,ov="recharts.syncEvent.tooltip",Hw="recharts.syncEvent.brush";function dh(e,t){if(t){var n=Number.parseInt(t,10);if(!xr(n))return e?.[n]}}var WL={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wD=jr({name:"options",initialState:WL,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HL=wD.reducer,{createEventEmitter:KL}=wD.actions;function VL(e){return e.tooltip.syncInteraction}var YL={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ED=jr({name:"chartData",initialState:YL,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Kw,setDataStartEndIndexes:XL,setComputedData:LY}=ED.actions,QL=ED.reducer,ZL=["x","y"];function Vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(n),!0).forEach(function(r){JL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JL(e,t,n){return(t=eU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nU(e,t){if(e==null)return{};var n,r,l=rU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function rU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TD=()=>{};function aU(){var e=ze(C0),t=ze(O0),n=Lt(),r=ze(vO),l=ze(ai),o=zc(),u=Wf(),d=ze(h=>h.rootProps.className);x.useEffect(()=>{if(e==null)return TD;var h=(m,p,g)=>{if(t!==g&&e===m){if(r==="index"){var b;if(u&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:A,y:S}=y,w=nU(y,ZL),{x:E,y:D,width:T,height:P}=p.payload.sourceViewBox,O=Tl(Tl({},w),{},{x:u.x+(T?(A-E)/T:0)*u.width,y:u.y+(P?(S-D)/P:0)*u.height});n(Tl(Tl({},p),{},{payload:Tl(Tl({},p.payload),{},{coordinate:O})}))}else n(p);return}if(l!=null){var M;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},B=r(l,N);M=l[B]}else r==="value"&&(M=l.find(C=>String(C.value)===p.payload.label));var{coordinate:L}=p.payload;if(M==null||p.payload.active===!1||L==null||u==null){n(iv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:q,y:U}=L,K=Math.min(q,u.x+u.width),W=Math.min(U,u.y+u.height),ee={x:o==="horizontal"?M.coordinate:K,y:o==="horizontal"?W:M.coordinate},te=iv({active:p.payload.active,coordinate:ee,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(te)}}};return Ec.on(ov,h),()=>{Ec.off(ov,h)}},[d,n,t,e,r,l,o,u])}function iU(){var e=ze(C0),t=ze(O0),n=Lt();x.useEffect(()=>{if(e==null)return TD;var r=(l,o,u)=>{t!==u&&e===l&&n(XL(o))};return Ec.on(Hw,r),()=>{Ec.off(Hw,r)}},[n,t,e])}function sU(){var e=Lt();x.useEffect(()=>{e(KL())},[e]),aU(),iU()}function lU(e,t,n,r,l,o){var u=ze(y=>kL(y,e,t)),d=ze(O0),h=ze(C0),m=ze(vO),p=ze(VL),g=p?.active,b=Wf();x.useEffect(()=>{if(!g&&h!=null&&d!=null){var y=iv({active:o,coordinate:n,dataKey:u,index:l,label:typeof r=="number"?String(r):r,sourceViewBox:b});Ec.emit(ov,h,y,d)}},[g,n,u,l,r,d,h,m,o,b])}function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){oU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e){return e.dataKey}function fU(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(kB,t)}var Qw=[],hU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ei.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gt(e){var t=on(e,hU),{active:n,allowEscapeViewBox:r,animationDuration:l,animationEasing:o,content:u,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:p,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:A,cursor:S,shared:w,trigger:E,defaultIndex:D,portal:T,axisId:P}=t,O=Lt(),M=typeof D=="number"?String(D):D;x.useEffect(()=>{O(R9({shared:w,trigger:E,axisId:P,active:n,defaultIndex:M}))},[O,w,E,P,n,M]);var N=Wf(),B=dC(),L=k9(w),{activeIndex:q,isActive:U}=ze(F=>PL(F,L,E,M)),K=ze(F=>zL(F,L,E,M)),W=ze(F=>SD(F,L,E,M)),ee=ze(F=>NL(F,L,E,M)),te=K,C=UL(),k=n??U,[_,$]=AT([te,k]),V=L==="axis"?W:void 0;lU(L,E,ee,V,q,k);var R=T??C;if(R==null)return null;var G=te??Qw;k||(G=Qw),d&&G.length&&(G=vT(te.filter(F=>F.value!=null&&(F.hide!==!0||t.includeHidden)),p,dU));var J=G.length>0,H=x.createElement(IB,{allowEscapeViewBox:r,animationDuration:l,animationEasing:o,isAnimationActive:h,active:k,coordinate:ee,hasPayload:J,offset:m,position:g,reverseDirection:b,useTranslate3d:y,viewBox:N,wrapperStyle:A,lastBoundingBox:_,innerRef:$,hasPortalFromProps:!!T},fU(u,Xw(Xw({},t),{},{payload:G,label:V,active:k,coordinate:ee,accessibilityLayer:B})));return x.createElement(x.Fragment,null,M5.createPortal(H,R),k&&x.createElement(LL,{cursor:S,tooltipEventType:L,coordinate:ee,payload:te,index:q}))}var ii=e=>null;ii.displayName="Cell";function mU(e,t,n){return(t=pU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yU{constructor(t){mU(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function vU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(n),!0).forEach(function(r){xU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xU(e,t,n){return(t=bU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SU={cacheSize:2e3,enableCache:!0},CD=vU({},SU),Jw=new yU(CD.cacheSize),AU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eE="recharts_measurement_span";function wU(e,t){var n=t.fontSize||"",r=t.fontFamily||"",l=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(l,"|").concat(o,"|").concat(u,"|").concat(d)}var tE=(e,t)=>{try{var n=document.getElementById(eE);n||(n=document.createElement("span"),n.setAttribute("id",eE),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,AU,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},cc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};if(!CD.enableCache)return tE(t,n);var r=wU(t,n),l=Jw.get(r);if(l)return l;var o=tE(t,n);return Jw.set(r,o),o},nE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CU=Object.keys(OD),Cl="NaN";function OU(e,t){return e*OD[t]}class Jn{static parse(t){var n,[,r,l]=(n=TU.exec(t))!==null&&n!==void 0?n:[];return new Jn(parseFloat(r),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,xr(t)&&(this.unit=""),n!==""&&!EU.test(n)&&(this.num=NaN,this.unit=""),CU.includes(n)&&(this.num=OU(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Jn(NaN,""):new Jn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xr(this.num)}}function DD(e){if(e.includes(Cl))return Cl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,l,o]=(n=nE.exec(t))!==null&&n!==void 0?n:[],u=Jn.parse(r??""),d=Jn.parse(o??""),h=l==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return Cl;t=t.replace(nE,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,p,g,b]=(m=rE.exec(t))!==null&&m!==void 0?m:[],y=Jn.parse(p??""),A=Jn.parse(b??""),S=g==="+"?y.add(A):y.subtract(A);if(S.isNaN())return Cl;t=t.replace(rE,S.toString())}return t}var aE=/\(([^()]*)\)/;function DU(e){for(var t=e,n;(n=aE.exec(t))!=null;){var[,r]=n;t=t.replace(aE,DD(r))}return t}function MU(e){var t=e.replace(/\s+/g,"");return t=DU(t),t=DD(t),t}function kU(e){try{return MU(e)}catch{return Cl}}function sy(e){var t=kU(e.slice(5,-1));return t===Cl?"":t}var NU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zU=["dx","dy","angle","className","breakAll"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}function iE(e,t){if(e==null)return{};var n,r,l=PU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function PU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MD=/[ \f\n\r\t\v\u2028\u2029]+/,kD=e=>{var{children:t,breakAll:n,style:r}=e;try{var l=[];Ct(t)||(n?l=t.toString().split(""):l=t.toString().split(MD));var o=l.map(d=>({word:d,width:cc(d,r).width})),u=n?0:cc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},_U=(e,t,n,r,l)=>{var{maxLines:o,children:u,style:d,breakAll:h}=e,m=Ne(o),p=u,g=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((K,W)=>{var{word:ee,width:te}=W,C=K[K.length-1];if(C&&(r==null||l||C.width+te+n<Number(r)))C.words.push(ee),C.width+=te+n;else{var k={words:[ee],width:te};K.push(k)}return K},[])},b=g(t),y=q=>q.reduce((U,K)=>U.width>K.width?U:K);if(!m||l)return b;var A=b.length>o||y(b).width>Number(r);if(!A)return b;for(var S="",w=q=>{var U=p.slice(0,q),K=kD({breakAll:h,style:d,children:U+S}).wordsWithComputedWidth,W=g(K),ee=W.length>o||y(W).width>Number(r);return[ee,W]},E=0,D=p.length-1,T=0,P;E<=D&&T<=p.length-1;){var O=Math.floor((E+D)/2),M=O-1,[N,B]=w(M),[L]=w(O);if(!N&&!L&&(E=O+1),N&&L&&(D=O-1),!N&&L){P=B;break}T++}return P||b},sE=e=>{var t=Ct(e)?[]:e.toString().split(MD);return[{words:t}]},RU=e=>{var{width:t,scaleToFit:n,children:r,style:l,breakAll:o,maxLines:u}=e;if((t||n)&&!ei.isSsr){var d,h,m=kD({breakAll:o,children:r,style:l});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;d=p,h=g}else return sE(r);return _U({breakAll:o,children:r,maxLines:u,style:l},d,h,t,n)}return sE(r)},lE="#808080",fh=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:l="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:h="end",fill:m=lE}=e,p=iE(e,NU),g=x.useMemo(()=>RU({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:b,dy:y,angle:A,className:S,breakAll:w}=p,E=iE(p,zU);if(!ua(n)||!ua(r)||g.length===0)return null;var D=n+(Ne(b)?b:0),T=r+(Ne(y)?y:0),P;switch(h){case"start":P=sy("calc(".concat(o,")"));break;case"middle":P=sy("calc(".concat((g.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:P=sy("calc(".concat(g.length-1," * -").concat(l,")"));break}var O=[];if(u){var M=g[0].width,{width:N}=p;O.push("scale(".concat(Ne(N)?N/M:1,")"))}return A&&O.push("rotate(".concat(A,", ").concat(D,", ").concat(T,")")),O.length&&(E.transform=O.join(" ")),x.createElement("text",cv({},Un(E),{ref:t,x:D,y:T,className:Je("recharts-text",S),textAnchor:d,fill:m.includes("url")?lE:m}),g.map((B,L)=>{var q=B.words.join(w?"":" ");return x.createElement("tspan",{x:D,dy:L===0?P:l,key:"".concat(q,"-").concat(L)},q)}))});fh.displayName="Text";var BU=["labelRef"];function IU(e,t){if(e==null)return{};var n,r,l=$U(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function $U(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(r){LU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LU(e,t,n){return(t=UU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(null,arguments)}var ND=x.createContext(null),FU=e=>{var{x:t,y:n,width:r,height:l,children:o}=e,u=x.useMemo(()=>({x:t,y:n,width:r,height:l}),[t,n,r,l]);return x.createElement(ND.Provider,{value:u},o)},zD=()=>{var e=x.useContext(ND),t=Wf();return e||t},qU=x.createContext(null),WU=()=>{var e=x.useContext(qU),t=ze(AO);return e||t},HU=e=>{var{value:t,formatter:n}=e,r=Ct(e.children)?t:e.children;return typeof n=="function"?n(r):r},lx=e=>e!=null&&typeof e=="function",KU=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},VU=(e,t,n,r,l)=>{var{offset:o,className:u}=e,{cx:d,cy:h,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:y}=l,A=(m+p)/2,S=KU(g,b),w=S>=0?1:-1,E,D;switch(t){case"insideStart":E=g+w*o,D=y;break;case"insideEnd":E=b-w*o,D=!y;break;case"end":E=b+w*o,D=y;break;default:throw new Error("Unsupported position ".concat(t))}D=S<=0?D:!D;var T=tn(d,h,A,E),P=tn(d,h,A,E+(D?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat(P.x,",").concat(P.y),M=Ct(e.id)?mc("recharts-radial-line-"):e.id;return x.createElement("text",Pa({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",u)}),x.createElement("defs",null,x.createElement("path",{id:M,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(M)},n))},YU=(e,t,n)=>{var{cx:r,cy:l,innerRadius:o,outerRadius:u,startAngle:d,endAngle:h}=e,m=(d+h)/2;if(n==="outside"){var{x:p,y:g}=tn(r,l,u+t,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(o+u)/2,{x:y,y:A}=tn(r,l,b,m);return{x:y,y:A,textAnchor:"middle",verticalAnchor:"middle"}},PD=e=>"cx"in e&&Ne(e.cx),XU=(e,t)=>{var{parentViewBox:n,offset:r,position:l}=e,o;n!=null&&!PD(n)&&(o=n);var{x:u,y:d,width:h,height:m}=t,p=m>=0?1:-1,g=p*r,b=p>0?"end":"start",y=p>0?"start":"end",A=h>=0?1:-1,S=A*r,w=A>0?"end":"start",E=A>0?"start":"end";if(l==="top"){var D={x:u+h/2,y:d-p*r,textAnchor:"middle",verticalAnchor:b};return Xt(Xt({},D),o?{height:Math.max(d-o.y,0),width:h}:{})}if(l==="bottom"){var T={x:u+h/2,y:d+m+g,textAnchor:"middle",verticalAnchor:y};return Xt(Xt({},T),o?{height:Math.max(o.y+o.height-(d+m),0),width:h}:{})}if(l==="left"){var P={x:u-S,y:d+m/2,textAnchor:w,verticalAnchor:"middle"};return Xt(Xt({},P),o?{width:Math.max(P.x-o.x,0),height:m}:{})}if(l==="right"){var O={x:u+h+S,y:d+m/2,textAnchor:E,verticalAnchor:"middle"};return Xt(Xt({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:m}:{})}var M=o?{width:h,height:m}:{};return l==="insideLeft"?Xt({x:u+S,y:d+m/2,textAnchor:E,verticalAnchor:"middle"},M):l==="insideRight"?Xt({x:u+h-S,y:d+m/2,textAnchor:w,verticalAnchor:"middle"},M):l==="insideTop"?Xt({x:u+h/2,y:d+g,textAnchor:"middle",verticalAnchor:y},M):l==="insideBottom"?Xt({x:u+h/2,y:d+m-g,textAnchor:"middle",verticalAnchor:b},M):l==="insideTopLeft"?Xt({x:u+S,y:d+g,textAnchor:E,verticalAnchor:y},M):l==="insideTopRight"?Xt({x:u+h-S,y:d+g,textAnchor:w,verticalAnchor:y},M):l==="insideBottomLeft"?Xt({x:u+S,y:d+m-g,textAnchor:E,verticalAnchor:b},M):l==="insideBottomRight"?Xt({x:u+h-S,y:d+m-g,textAnchor:w,verticalAnchor:b},M):l&&typeof l=="object"&&(Ne(l.x)||Wa(l.x))&&(Ne(l.y)||Wa(l.y))?Xt({x:u+Pn(l.x,h),y:d+Pn(l.y,m),textAnchor:"end",verticalAnchor:"end"},M):Xt({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},M)},QU={offset:5};function Pi(e){var t=on(e,QU),{viewBox:n,position:r,value:l,children:o,content:u,className:d="",textBreakAll:h,labelRef:m}=t,p=WU(),g=zD(),b=r==="center"?g:p??g,y=n||b;if(!y||Ct(l)&&Ct(o)&&!x.isValidElement(u)&&typeof u!="function")return null;var A=Xt(Xt({},t),{},{viewBox:y});if(x.isValidElement(u)){var{labelRef:S}=A,w=IU(A,BU);return x.cloneElement(u,w)}var E;if(typeof u=="function"){if(E=x.createElement(u,A),x.isValidElement(E))return E}else E=HU(t);var D=PD(y),T=Un(t);if(D&&(r==="insideStart"||r==="insideEnd"||r==="end"))return VU(t,r,E,T,y);var P=D?YU(y,t.offset,t.position):XU(t,y);return x.createElement(fh,Pa({ref:m,className:Je("recharts-label",d)},T,P,{breakAll:h}),E)}Pi.displayName="Label";var ZU=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Pi,Pa({key:"label-implicit"},r)):ua(e)?x.createElement(Pi,Pa({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Pi?x.cloneElement(e,Xt({key:"label-implicit"},r)):x.createElement(Pi,Pa({key:"label-implicit",content:e},r)):lx(e)?x.createElement(Pi,Pa({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Pi,Pa({},e,{key:"label-implicit"},r)):null};function JU(e){var{label:t,labelRef:n}=e,r=zD();return ZU(t,r,n)||null}var ly={},oy={},cE;function eG(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(oy)),oy}var cy={},uE;function tG(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(cy)),cy}var dE;function nG(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eG(),n=tG(),r=Gv();function l(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=l})(ly)),ly}var uy,fE;function rG(){return fE||(fE=1,uy=nG().last),uy}var aG=rG();const iG=Xa(aG);var sG=["valueAccessor"],lG=["dataKey","clockWise","id","textBreakAll"];function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(null,arguments)}function hE(e,t){if(e==null)return{};var n,r,l=oG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function oG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cG=e=>Array.isArray(e.value)?iG(e.value):e.value,_D=x.createContext(void 0),ox=_D.Provider,RD=x.createContext(void 0),uG=RD.Provider;function dG(){return x.useContext(_D)}function fG(){return x.useContext(RD)}function _d(e){var{valueAccessor:t=cG}=e,n=hE(e,sG),{dataKey:r,clockWise:l,id:o,textBreakAll:u}=n,d=hE(n,lG),h=dG(),m=fG(),p=h||m;return!p||!p.length?null:x.createElement(Kt,{className:"recharts-label-list"},p.map((g,b)=>{var y,A=Ct(r)?t(g,b):mt(g&&g.payload,r),S=Ct(o)?{}:{id:"".concat(o,"-").concat(b)};return x.createElement(Pi,vf({key:"label-".concat(b)},Un(g),d,S,{fill:(y=n.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:A,textBreakAll:u,viewBox:g.viewBox,index:b}))}))}_d.displayName="LabelList";function hh(e){var{label:t}=e;return t?t===!0?x.createElement(_d,{key:"labelList-implicit"}):x.isValidElement(t)||lx(t)?x.createElement(_d,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(_d,vf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(null,arguments)}var cx=e=>{var{cx:t,cy:n,r,className:l}=e,o=Je("recharts-dot",l);return t===+t&&n===+n&&r===+r?x.createElement("circle",uv({},Ln(e),$v(e),{className:o,cx:t,cy:n,r})):null},BD=e=>e.graphicalItems.polarItems,hG=le([Ut,Lc],z0),mh=le([BD,qt,hG],P0),mG=le([mh],_0),ph=le([mG,A0],R0),pG=le([ph,qt,mh],I0);le([ph,qt,mh],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(l=>{var o,u=mt(r,(o=t.dataKey)!==null&&o!==void 0?o:l.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:mt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var mE=()=>{},gG=le([ph,qt,mh,lh,Ut],G0),yG=le([qt,L0,U0,mE,gG,mE,Ye,Ut],F0),ID=le([qt,Ye,ph,pG,$c,Ut,yG],q0),vG=le([ID,qt,Zl],K0);le([qt,ID,vG,Ut],Y0);var xG={radiusAxis:{},angleAxis:{}},$D=jr({name:"polarAxis",initialState:xG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:UY,removeRadiusAxis:GY,addAngleAxis:FY,removeAngleAxis:qY}=$D.actions,bG=$D.reducer;function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){jG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jG(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wG=(e,t)=>t,ux=le([BD,wG],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),EG=[],dx=(e,t,n)=>n?.length===0?EG:n,LD=le([A0,ux,dx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=r,(!l||!l.length)&&n!=null&&(l=n.map(o=>gE(gE({},t.presentationProps),o.props))),l!=null)return l}}),TG=le([LD,ux,dx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,l)=>{var o,u=mt(r,t.nameKey,t.name),d;return n!=null&&(o=n[l])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[l].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:qi(u,t.dataKey),color:d,payload:r,type:t.legendType}})}),CG=le([LD,ux,dx,ln],(e,t,n,r)=>{if(!(t==null||e==null))return CF({offset:r,pieSettings:t,displayedData:e,cells:n})}),dy={exports:{}},ft={};var yE;function OG(){if(yE)return ft;yE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function A(S){if(typeof S=="object"&&S!==null){var w=S.$$typeof;switch(w){case e:switch(S=S.type,S){case n:case l:case r:case h:case m:case b:return S;default:switch(S=S&&S.$$typeof,S){case u:case d:case g:case p:return S;case o:return S;default:return w}}case t:return w}}}return ft.ContextConsumer=o,ft.ContextProvider=u,ft.Element=e,ft.ForwardRef=d,ft.Fragment=n,ft.Lazy=g,ft.Memo=p,ft.Portal=t,ft.Profiler=l,ft.StrictMode=r,ft.Suspense=h,ft.SuspenseList=m,ft.isContextConsumer=function(S){return A(S)===o},ft.isContextProvider=function(S){return A(S)===u},ft.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ft.isForwardRef=function(S){return A(S)===d},ft.isFragment=function(S){return A(S)===n},ft.isLazy=function(S){return A(S)===g},ft.isMemo=function(S){return A(S)===p},ft.isPortal=function(S){return A(S)===t},ft.isProfiler=function(S){return A(S)===l},ft.isStrictMode=function(S){return A(S)===r},ft.isSuspense=function(S){return A(S)===h},ft.isSuspenseList=function(S){return A(S)===m},ft.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===l||S===r||S===h||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===u||S.$$typeof===o||S.$$typeof===d||S.$$typeof===y||S.getModuleId!==void 0)},ft.typeOf=A,ft}var vE;function DG(){return vE||(vE=1,dy.exports=OG()),dy.exports}var MG=DG(),xE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",bE=null,fy=null,UD=e=>{if(e===bE&&Array.isArray(fy))return fy;var t=[];return x.Children.forEach(e,n=>{Ct(n)||(MG.isFragment(n)?t=t.concat(UD(n.props.children)):t.push(n))}),fy=t,bE=e,t};function fx(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(l=>xE(l)):r=[xE(t)],UD(e).forEach(l=>{var o=Cs(l,"type.displayName")||Cs(l,"type.name");r.indexOf(o)!==-1&&n.push(l)}),n}var gh=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,hy={},jE;function kG(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(hy)),hy}var my,SE;function NG(){return SE||(SE=1,my=kG().isPlainObject),my}var zG=NG();const PG=Xa(zG);function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){_G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _G(e,t,n){return(t=RG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(null,arguments)}var EE=(e,t,n,r,l)=>{var o=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-o/2,",").concat(t+l),u+="L ".concat(e+n-o/2-r,",").concat(t+l),u+="L ".concat(e,",").concat(t," Z"),u},IG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$G=e=>{var t=on(e,IG),{x:n,y:r,upperWidth:l,lowerWidth:o,height:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=t,b=x.useRef(null),[y,A]=x.useState(-1),S=x.useRef(l),w=x.useRef(o),E=x.useRef(u),D=x.useRef(n),T=x.useRef(r),P=Wl(e,"trapezoid-");if(x.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ee=b.current.getTotalLength();ee&&A(ee)}catch{}},[]),n!==+n||r!==+r||l!==+l||o!==+o||u!==+u||l===0&&o===0||u===0)return null;var O=Je("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",xf({},Un(t),{className:O,d:EE(n,r,l,o,u)})));var M=S.current,N=w.current,B=E.current,L=D.current,q=T.current,U="0px ".concat(y===-1?1:y,"px"),K="".concat(y,"px 0px"),W=fC(["strokeDasharray"],m,h);return x.createElement(ql,{animationId:P,key:P,canBegin:y>0,duration:m,easing:h,isActive:g,begin:p},ee=>{var te=ht(M,l,ee),C=ht(N,o,ee),k=ht(B,u,ee),_=ht(L,n,ee),$=ht(q,r,ee);b.current&&(S.current=te,w.current=C,E.current=k,D.current=_,T.current=$);var V=ee>0?{transition:W,strokeDasharray:K}:{strokeDasharray:U};return x.createElement("path",xf({},Un(t),{className:O,d:EE(_,$,te,C,k),ref:b,style:wE(wE({},V),t.style)}))})},LG=["option","shapeType","propTransformer","activeClassName","isActive"];function UG(e,t){if(e==null)return{};var n,r,l=GG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function GG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FG(e,t,n){return(t=qG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e,t){return bf(bf({},t),e)}function KG(e,t){return e==="symbols"}function CE(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(gC,n);case"trapezoid":return x.createElement($G,n);case"sector":return x.createElement(xC,n);case"symbols":if(KG(t))return x.createElement(Iv,n);break;default:return null}}function VG(e){return x.isValidElement(e)?e.props:e}function GD(e){var{option:t,shapeType:n,propTransformer:r=HG,activeClassName:l="recharts-active-shape",isActive:o}=e,u=UG(e,LG),d;if(x.isValidElement(t))d=x.cloneElement(t,bf(bf({},u),VG(t)));else if(typeof t=="function")d=t(u);else if(PG(t)&&typeof t!="boolean"){var h=r(t,u);d=x.createElement(CE,{shapeType:n,elementProps:h})}else{var m=u;d=x.createElement(CE,{shapeType:n,elementProps:m})}return o?x.createElement(Kt,{className:l},d):d}var hx=(e,t)=>{var n=Lt();return(r,l)=>o=>{e?.(r,l,o),n(tD({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},mx=e=>{var t=Lt();return(n,r)=>l=>{e?.(n,r,l),t(B9())}},px=(e,t)=>{var n=Lt();return(r,l)=>o=>{e?.(r,l,o),n(I9({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function yh(e){var{fn:t,args:n}=e,r=Lt(),l=Mn();return x.useLayoutEffect(()=>{if(!l){var o=t(n);return r(P9(o)),()=>{r(_9(o))}}},[t,n,r,l]),null}var FD=()=>{};function gx(e){var{legendPayload:t}=e,n=Lt(),r=Mn();return x.useLayoutEffect(()=>r?FD:(n(cC(t)),()=>{n(uC(t))}),[n,r,t]),null}function YG(e){var{legendPayload:t}=e,n=Lt(),r=ze(Ye);return x.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?FD:(n(cC(t)),()=>{n(uC(t))}),[n,r,t]),null}var py,XG=()=>{var[e]=x.useState(()=>mc("uid-"));return e},QG=(py=nN.useId)!==null&&py!==void 0?py:XG;function ZG(e,t){var n=QG();return t||(e?"".concat(e,"-").concat(n):n)}var JG=x.createContext(void 0),vh=e=>{var{id:t,type:n,children:r}=e,l=ZG("recharts-".concat(n),t);return x.createElement(JG.Provider,{value:l},r(l))},eF={cartesianItems:[],polarItems:[]},qD=jr({name:"graphicalItems",initialState:eF,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Bn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,l=La(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=r)},prepare:Bn()},removeCartesianGraphicalItem:{reducer(e,t){var n=La(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Bn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Bn()},removePolarGraphicalItem:{reducer(e,t){var n=La(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Bn()}}}),{addCartesianGraphicalItem:tF,replaceCartesianGraphicalItem:nF,removeCartesianGraphicalItem:rF,addPolarGraphicalItem:aF,removePolarGraphicalItem:iF}=qD.actions,sF=qD.reducer;function yx(e){var t=Lt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(tF(e)):n.current!==e&&t(nF({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(rF(n.current)),n.current=null)},[t]),null}function lF(e){var t=Lt();return x.useLayoutEffect(()=>(t(aF(e)),()=>{t(iF(e))}),[t,e]),null}var oF=["onMouseEnter","onClick","onMouseLeave"],cF=["id"],uF=["id"];function vx(e,t){if(e==null)return{};var n,r,l=dF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function dF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){fF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fF(e,t,n){return(t=hF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(null,arguments)}function pF(e){var t=x.useMemo(()=>fx(e.children,ii),[e.children]),n=ze(r=>TG(r,e.id,t));return n==null?null:x.createElement(YG,{legendPayload:n})}function gF(e){var{dataKey:t,nameKey:n,sectors:r,stroke:l,strokeWidth:o,fill:u,name:d,hide:h,tooltipType:m}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:l,strokeWidth:o,fill:u,dataKey:t,nameKey:n,name:qi(d,t),hide:h,type:m,color:u,unit:""}}}var yF=(e,t)=>e>t?"start":e<t?"end":"middle",vF=(e,t,n)=>Pn(typeof t=="function"?t(e):t,n,n*.8),xF=(e,t,n)=>{var{top:r,left:l,width:o,height:u}=t,d=XT(o,u),h=l+Pn(e.cx,o,o/2),m=r+Pn(e.cy,u,u/2),p=Pn(e.innerRadius,d,0),g=vF(n,e.outerRadius,d),b=e.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:h,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},bF=(e,t)=>{var n=yn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function jF(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var SF=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Je("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(Dl,Ui({},t,{type:"linear",className:n}))},AF=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var l=Je("recharts-pie-label-text",jF(e));return x.createElement(fh,Ui({},t,{alignmentBaseline:"middle",className:l}),r)};function wF(e){var{sectors:t,props:n,showLabels:r}=e,{label:l,labelLine:o,dataKey:u}=n;if(!r||!l||!t)return null;var d=Ln(n),h=Ts(l),m=Ts(o),p=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,g=t.map((b,y)=>{var A=(b.startAngle+b.endAngle)/2,S=tn(b.cx,b.cy,b.outerRadius+p,A),w=kt(kt(kt(kt({},d),b),{},{stroke:"none"},h),{},{index:y,textAnchor:yF(S.x,b.cx)},S),E=kt(kt(kt(kt({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:y,points:[tn(b.cx,b.cy,b.outerRadius,A),S],key:"line"});return x.createElement(Kt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},o&&SF(o,E),AF(l,w,mt(b,u)))});return x.createElement(Kt,{className:"recharts-pie-labels"},g)}function EF(e){var{sectors:t,props:n,showLabels:r}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?x.createElement(hh,{label:l}):x.createElement(wF,{sectors:t,props:n,showLabels:r})}function TF(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:l}=e,o=ze(Li),{onMouseEnter:u,onClick:d,onMouseLeave:h}=l,m=vx(l,oF),p=hx(u,l.dataKey),g=mx(h),b=px(d,l.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((y,A)=>{if(y?.startAngle===0&&y?.endAngle===0&&t.length!==1)return null;var S=n&&String(A)===o,w=o?r:null,E=S?n:w,D=kt(kt({},y),{},{stroke:y.stroke,tabIndex:-1,[nC]:A,[rC]:l.dataKey});return x.createElement(Kt,Ui({key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Dc(m,y,A),{onMouseEnter:p(y,A),onMouseLeave:g(y,A),onClick:b(y,A)}),x.createElement(GD,Ui({option:E,isActive:S,shapeType:"sector"},D)))}))}function CF(e){var t,{pieSettings:n,displayedData:r,cells:l,offset:o}=e,{cornerRadius:u,startAngle:d,endAngle:h,dataKey:m,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),y=bF(d,h),A=Math.abs(y),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,w=r.filter(M=>mt(M,m,0)!==0).length,E=(A>=360?w:w-1)*S,D=A-w*b-E,T=r.reduce((M,N)=>{var B=mt(N,m,0);return M+(Ne(B)?B:0)},0),P;if(T>0){var O;P=r.map((M,N)=>{var B=mt(M,m,0),L=mt(M,p,N),q=xF(n,o,M),U=(Ne(B)?B:0)/T,K,W=kt(kt({},M),l&&l[N]&&l[N].props);N?K=O.endAngle+yn(y)*S*(B!==0?1:0):K=d;var ee=K+yn(y)*((B!==0?b:0)+U*D),te=(K+ee)/2,C=(q.innerRadius+q.outerRadius)/2,k=[{name:L,value:B,payload:W,dataKey:m,type:g}],_=tn(q.cx,q.cy,C,te);return O=kt(kt(kt(kt({},n.presentationProps),{},{percent:U,cornerRadius:u,name:L,tooltipPayload:k,midAngle:te,middleRadius:C,tooltipPosition:_},W),q),{},{value:B,startAngle:K,endAngle:ee,payload:W,paddingAngle:yn(y)*S}),O})}return P}function OF(e){var{showLabels:t,sectors:n,children:r}=e,l=x.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return x.createElement(uG,{value:t?l:void 0},r)}function DF(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:l,animationBegin:o,animationDuration:u,animationEasing:d,activeShape:h,inactiveShape:m,onAnimationStart:p,onAnimationEnd:g}=t,b=Wl(t,"recharts-pie-"),y=n.current,[A,S]=x.useState(!1),w=x.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),E=x.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return x.createElement(OF,{showLabels:!A,sectors:r},x.createElement(ql,{animationId:b,begin:o,duration:u,isActive:l,easing:d,onAnimationStart:E,onAnimationEnd:w,key:b},D=>{var T=[],P=r&&r[0],O=P?.startAngle;return r?.forEach((M,N)=>{var B=y&&y[N],L=N>0?Cs(M,"paddingAngle",0):0;if(B){var q=ht(B.endAngle-B.startAngle,M.endAngle-M.startAngle,D),U=kt(kt({},M),{},{startAngle:O+L,endAngle:O+q+L});T.push(U),O=U.endAngle}else{var{endAngle:K,startAngle:W}=M,ee=ht(0,K-W,D),te=kt(kt({},M),{},{startAngle:O+L,endAngle:O+ee+L});T.push(te),O=te.endAngle}}),n.current=T,x.createElement(Kt,null,x.createElement(TF,{sectors:T,activeShape:h,inactiveShape:m,allOtherPieProps:t}))}),x.createElement(EF,{showLabels:!A,sectors:r,props:t}),t.children)}var MF={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ei.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function kF(e){var{id:t}=e,n=vx(e,cF),{hide:r,className:l,rootTabIndex:o}=e,u=x.useMemo(()=>fx(e.children,ii),[e.children]),d=ze(p=>CG(p,t,u)),h=x.useRef(null),m=Je("recharts-pie",l);return r||d==null?(h.current=null,x.createElement(Kt,{tabIndex:o,className:m})):x.createElement(x.Fragment,null,x.createElement(yh,{fn:gF,args:kt(kt({},e),{},{sectors:d})}),x.createElement(Kt,{tabIndex:o,className:m},x.createElement(DF,{props:kt(kt({},n),{},{sectors:d}),previousSectorsRef:h})))}function no(e){var t=on(e,MF),{id:n}=t,r=vx(t,uF),l=Ln(r);return x.createElement(vh,{id:n,type:"pie"},o=>x.createElement(x.Fragment,null,x.createElement(lF,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),x.createElement(pF,Ui({},r,{id:o})),x.createElement(kF,Ui({},r,{id:o}))))}no.displayName="Pie";function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){NF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NF(e,t,n){return(t=zF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _F={xAxis:{},yAxis:{},zAxis:{}},WD=jr({name:"cartesianAxis",initialState:_F,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Bn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Bn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Bn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Bn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Bn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Bn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,l=e.yAxis[n];if(l){var o=l.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==l.width&&Math.abs(r-o[0])<=1)return;var u=[...o,r].slice(-3);e.yAxis[n]=ME(ME({},e.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:RF,removeXAxis:BF,addYAxis:IF,removeYAxis:$F,addZAxis:WY,removeZAxis:HY,updateYAxisWidth:LF}=WD.actions,UF=WD.reducer,GF=le([ln],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),FF=le([GF,Za,Ja],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),xh=()=>ze(FF),qF=()=>ze(wL);function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){WF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WF(e,t,n){return(t=HF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VF=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:l,dataKey:o}=e;if(l===!1||t.x==null||t.y==null)return null;var u=NE(NE({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ts(l)),$v(l)),d;return x.isValidElement(l)?d=x.cloneElement(l,u):typeof l=="function"?d=l(u):d=x.createElement(cx,u),x.createElement(Kt,{className:"recharts-active-dot"},d)};function dv(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:l}=e,o=ze(Li),u=qF();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return Ct(d)?null:VF({point:d,childIndex:Number(o),mainColor:n,dataKey:l,activeDot:r})}var YF="Invariant failed";function XF(e,t){throw new Error(YF)}var QF=["x","y"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(null,arguments)}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){ZF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZF(e,t,n){return(t=JF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JF(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tq(e,t){if(e==null)return{};var n,r,l=nq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function nq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rq(e,t){var{x:n,y:r}=e,l=tq(e,QF),o="".concat(n),u=parseInt(o,10),d="".concat(r),h=parseInt(d,10),m="".concat(t.height||l.height),p=parseInt(m,10),g="".concat(t.width||l.width),b=parseInt(g,10);return sc(sc(sc(sc(sc({},t),l),u?{x:u}:{}),h?{y:h}:{}),{},{height:p,width:b,name:t.name,radius:t.radius})}function xx(e){return x.createElement(GD,fv({shapeType:"rectangle",propTransformer:rq,activeClassName:"recharts-active-bar"},e))}var aq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,l)=>{if(Ne(t))return t;var o=Ne(r)||Ct(r);return o?t(r,l):(o||XF(),n)}},iq={},HD=jr({name:"errorBars",initialState:iq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:l}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?l:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==r.dataKey||l.direction!==r.direction))}}}),{addErrorBar:KY,replaceErrorBar:VY,removeErrorBar:YY}=HD.actions,sq=HD.reducer,lq=["children"];function oq(e,t){if(e==null)return{};var n,r,l=cq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function cq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dq=x.createContext(uq);function KD(e){var{children:t}=e,n=oq(e,lq);return x.createElement(dq.Provider,{value:n},t)}function bh(e,t){var n,r,l=ze(m=>ni(m,e)),o=ze(m=>ri(m,t)),u=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:dr.allowDataOverflow,d=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:fr.allowDataOverflow,h=u||d;return{needClip:h,needClipX:u,needClipY:d}}function bx(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,l=xh(),{needClipX:o,needClipY:u,needClip:d}=bh(t,n);if(!d)return null;var{x:h,y:m,width:p,height:g}=l;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?h:h-p/2,y:u?m:m-g/2,width:o?p:p*2,height:u?g:g*2}))}var fq=["onMouseEnter","onMouseLeave","onClick"],hq=["value","background","tooltipPosition"],mq=["id"],pq=["onMouseEnter","onClick","onMouseLeave"];function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi.apply(null,arguments)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gq(e,t,n){return(t=yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(e,t){if(e==null)return{};var n,r,l=xq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function xq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bq=e=>{var{dataKey:t,name:n,fill:r,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:r,value:qi(n,t),payload:e}]};function jq(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:l,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:l,dataKey:t,nameKey:void 0,name:qi(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function Sq(e){var t=ze(Li),{data:n,dataKey:r,background:l,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:h}=o,m=jf(o,fq),p=hx(u,r),g=mx(d),b=px(h,r);if(!l||n==null)return null;var y=Ts(l);return x.createElement(x.Fragment,null,n.map((A,S)=>{var{value:w,background:E,tooltipPosition:D}=A,T=jf(A,hq);if(!E)return null;var P=p(A,S),O=g(A,S),M=b(A,S),N=In(In(In(In(In({option:l,isActive:String(S)===t},T),{},{fill:"#eee"},E),y),Dc(m,A,S)),{},{onMouseEnter:P,onMouseLeave:O,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return x.createElement(xx,Gi({key:"background-bar-".concat(S)},N))}))}function Aq(e){var{showLabels:t,children:n,rects:r}=e,l=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return In(In({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return x.createElement(ox,{value:t?l:void 0},n)}function wq(e){var{shape:t,activeBar:n,baseProps:r,entry:l,index:o,dataKey:u}=e,d=ze(Li),h=ze(gD),m=n&&String(o)===d&&(h==null||u===h),p=m?n:t;return x.createElement(xx,Gi({},r,{name:String(r.name)},l,{isActive:m,option:p,index:o,dataKey:u}))}function Eq(e){var{shape:t,baseProps:n,entry:r,index:l,dataKey:o}=e;return x.createElement(xx,Gi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:l,dataKey:o}))}function Tq(e){var{data:t,props:n}=e,r=Ln(n),{id:l}=r,o=jf(r,mq),{shape:u,dataKey:d,activeBar:h}=n,{onMouseEnter:m,onClick:p,onMouseLeave:g}=n,b=jf(n,pq),y=hx(m,d),A=mx(g),S=px(p,d);return t?x.createElement(x.Fragment,null,t.map((w,E)=>x.createElement(Kt,Gi({key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(E),className:"recharts-bar-rectangle"},Dc(b,w,E),{onMouseEnter:y(w,E),onMouseLeave:A(w,E),onClick:S(w,E)}),h?x.createElement(wq,{shape:u,activeBar:h,baseProps:o,entry:w,index:E,dataKey:d}):x.createElement(Eq,{shape:u,baseProps:o,entry:w,index:E,dataKey:d})))):null}function Cq(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:l,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationEnd:m,onAnimationStart:p}=t,g=n.current,b=Wl(t,"recharts-bar-"),[y,A]=x.useState(!1),S=!y,w=x.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),E=x.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return x.createElement(Aq,{showLabels:S,rects:r},x.createElement(ql,{animationId:b,begin:u,duration:d,isActive:o,easing:h,onAnimationEnd:w,onAnimationStart:E,key:b},D=>{var T=D===1?r:r?.map((P,O)=>{var M=g&&g[O];if(M)return In(In({},P),{},{x:ht(M.x,P.x,D),y:ht(M.y,P.y,D),width:ht(M.width,P.width,D),height:ht(M.height,P.height,D)});if(l==="horizontal"){var N=ht(0,P.height,D);return In(In({},P),{},{y:P.y+P.height-N,height:N})}var B=ht(0,P.width,D);return In(In({},P),{},{width:B})});return D>0&&(n.current=T??null),T==null?null:x.createElement(Kt,null,x.createElement(Tq,{props:t,data:T}))}),x.createElement(hh,{label:t.label}),t.children)}function Oq(e){var t=x.useRef(null);return x.createElement(Cq,{previousRectanglesRef:t,props:e})}var VD=0,Dq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:mt(e,t)}};class Mq extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:l,xAxisId:o,yAxisId:u,needClip:d,background:h,id:m}=this.props;if(t||n==null)return null;var p=Je("recharts-bar",l),g=m;return x.createElement(Kt,{className:p,id:m},d&&x.createElement("defs",null,x.createElement(bx,{clipPathId:g,xAxisId:o,yAxisId:u})),x.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(Sq,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),x.createElement(Oq,this.props)))}}var kq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ei.isSsr,legendType:"rect",minPointSize:VD,xAxisId:0,yAxisId:0};function Nq(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:p}=e,{needClip:g}=bh(t,n),b=zc(),y=Mn(),A=fx(e.children,ii),S=ze(D=>sW(D,t,n,y,e.id,A));if(b!=="vertical"&&b!=="horizontal")return null;var w,E=S?.[0];return E==null||E.height==null||E.width==null?w=0:w=b==="vertical"?E.height/2:E.width/2,x.createElement(KD,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:Dq,errorBarOffset:w},x.createElement(Mq,Gi({},e,{layout:b,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:p})))}function zq(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:l,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:h,yAxisTicks:m,stackedData:p,displayedData:g,offset:b,cells:y,parentViewBox:A}=e,S=t==="horizontal"?d:u,w=p?S.scale.domain():null,E=kR({numericAxis:S});return g.map((D,T)=>{var P,O,M,N,B,L;p?P=TR(p[T],w):(P=mt(D,n),Array.isArray(P)||(P=[E,P]));var q=aq(r,VD)(P[1],T);if(t==="horizontal"){var U,[K,W]=[d.scale(P[0]),d.scale(P[1])];O=h2({axis:u,ticks:h,bandSize:o,offset:l.offset,entry:D,index:T}),M=(U=W??K)!==null&&U!==void 0?U:void 0,N=l.size;var ee=K-W;if(B=xr(ee)?0:ee,L={x:O,y:b.top,width:N,height:b.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var te=yn(B||q)*(Math.abs(q)-Math.abs(B));M-=te,B+=te}}else{var[C,k]=[u.scale(P[0]),u.scale(P[1])];if(O=C,M=h2({axis:d,ticks:m,bandSize:o,offset:l.offset,entry:D,index:T}),N=k-C,B=l.size,L={x:b.left,y:M,width:b.width,height:B},Math.abs(q)>0&&Math.abs(N)<Math.abs(q)){var _=yn(N||q)*(Math.abs(q)-Math.abs(N));N+=_}}if(O==null||M==null||N==null||B==null)return null;var $=In(In({},D),{},{x:O,y:M,width:N,height:B,value:p?P:P[1],payload:D,background:L,tooltipPosition:{x:O+N/2,y:M+B/2},parentViewBox:A},y&&y[T]&&y[T].props);return $}).filter(Boolean)}function Pq(e){var t=on(e,kq),n=Mn();return x.createElement(vh,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(gx,{legendPayload:bq(t)}),x.createElement(yh,{fn:jq,args:t}),x.createElement(yx,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:eC(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(Nq,Gi({},t,{id:r}))))}var bt=x.memo(Pq);bt.displayName="Bar";function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){_q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _q(e,t,n){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iq=(e,t)=>t,$q=(e,t,n)=>n,Lq=(e,t,n,r)=>r,Uq=(e,t,n,r,l)=>l,Kc=le([Gc,Uq],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Gq=le([Kc],e=>e?.maxBarSize),Fq=(e,t,n,r,l,o)=>o,RE=(e,t,n)=>{var r=n??e;if(!Ct(r))return Pn(r,t,0)},qq=le([Ye,Gc,Iq,$q,Lq],(e,t,n,r,l)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===l).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Wq=(e,t,n,r)=>{var l=Ye(e);return l==="horizontal"?wc(e,"yAxis",n,r):wc(e,"xAxis",t,r)},Hq=(e,t,n)=>{var r=Ye(e);return r==="horizontal"?Bw(e,"xAxis",t):Bw(e,"yAxis",n)},Kq=(e,t,n)=>{var r={},l=e.filter(rh),o=e.filter(m=>m.stackId==null),u=l.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),r),d=Object.entries(u).map(m=>{var[p,g]=m,b=g.map(A=>A.dataKey),y=RE(t,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:y}}),h=o.map(m=>{var p=[m.dataKey].filter(b=>b!=null),g=RE(t,n,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...h]},Vq=le([qq,M7,Hq],Kq),Yq=(e,t,n,r,l)=>{var o,u,d=Kc(e,t,n,r,l);if(d!=null){var h=Ye(e),m=gO(e),{maxBarSize:p}=d,g=Ct(p)?m:p,b,y;return h==="horizontal"?(b=ha(e,"xAxis",t,r),y=fa(e,"xAxis",t,r)):(b=ha(e,"yAxis",n,r),y=fa(e,"yAxis",n,r)),(o=(u=Ms(b,y,!0))!==null&&u!==void 0?u:g)!==null&&o!==void 0?o:0}},YD=(e,t,n,r)=>{var l=Ye(e),o,u;return l==="horizontal"?(o=ha(e,"xAxis",t,r),u=fa(e,"xAxis",t,r)):(o=ha(e,"yAxis",n,r),u=fa(e,"yAxis",n,r)),Ms(o,u)};function Xq(e,t,n,r,l){var o=r.length;if(!(o<1)){var u=Pn(e,n,0,!0),d,h=[];if(rn(r[0].barSize)){var m=!1,p=n/o,g=r.reduce((E,D)=>E+(D.barSize||0),0);g+=(o-1)*u,g>=n&&(g-=(o-1)*u,u=0),g>=n&&p>0&&(m=!0,p*=.9,g=o*p);var b=(n-g)/2>>0,y={offset:b-u,size:0};d=r.reduce((E,D)=>{var T,P={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:y.offset+y.size+u,size:m?p:(T=D.barSize)!==null&&T!==void 0?T:0}},O=[...E,P];return y=O[O.length-1].position,O},h)}else{var A=Pn(t,n,0,!0);n-2*A-(o-1)*u<=0&&(u=0);var S=(n-2*A-(o-1)*u)/o;S>1&&(S>>=0);var w=rn(l)?Math.min(S,l):S;d=r.reduce((E,D,T)=>[...E,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:A+(S+u)*T+(S-w)/2,size:w}}],h)}return d}}var Qq=(e,t,n,r,l,o,u)=>{var d=Ct(u)?t:u,h=Xq(n,r,l!==o?l:o,e,d);return l!==o&&h!=null&&(h=h.map(m=>Od(Od({},m),{},{position:Od(Od({},m.position),{},{offset:m.position.offset-l/2})}))),h},Zq=le([Vq,gO,D7,yO,Yq,YD,Gq],Qq),Jq=(e,t,n,r)=>ha(e,"xAxis",t,r),eW=(e,t,n,r)=>ha(e,"yAxis",n,r),tW=(e,t,n,r)=>fa(e,"xAxis",t,r),nW=(e,t,n,r)=>fa(e,"yAxis",n,r),rW=le([Zq,Kc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),aW=(e,t)=>{var n=nh(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var l=e[r];if(l){var{stackedData:o}=l;if(o)return o.find(u=>u.key===n)}}}},iW=le([Wq,Kc],aW),sW=le([ln,Yv,Jq,eW,tW,nW,rW,Ye,Ic,YD,iW,Kc,Fq],(e,t,n,r,l,o,u,d,h,m,p,g,b)=>{var{chartData:y,dataStartIndex:A,dataEndIndex:S}=h;if(!(g==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||l==null||o==null||m==null)){var{data:w}=g,E;if(w!=null&&w.length>0?E=w:E=y?.slice(A,S+1),E!=null)return zq({layout:d,barSettings:g,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:o,stackedData:p,displayedData:E,offset:e,cells:b})}}),XD=e=>{var{chartData:t}=e,n=Lt(),r=Mn();return x.useEffect(()=>r?()=>{}:(n(Kw(t)),()=>{n(Kw(void 0))}),[t,n,r]),null},BE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QD=jr({name:"brush",initialState:BE,reducers:{setBrushSettings(e,t){return t.payload==null?BE:t.payload}}}),{setBrushSettings:XY}=QD.actions,lW=QD.reducer;function oW(e,t,n){return(t=cW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jx{static create(t){return new jx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],l=n[n.length-1];return r<=l?t>=r&&t<=l:t>=l&&t<=r}}oW(jx,"EPS",1e-4);function dW(e){return(e%180+180)%180}var fW=function(t){var{width:n,height:r}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dW(l),u=o*Math.PI/180,d=Math.atan(r/n),h=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(h)},hW={dots:[],areas:[],lines:[]},ZD=jr({name:"referenceElements",initialState:hW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=La(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=La(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=La(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:QY,removeDot:ZY,addArea:JY,removeArea:eX,addLine:tX,removeLine:nX}=ZD.actions,mW=ZD.reducer,pW=x.createContext(void 0),gW=e=>{var{children:t}=e,[n]=x.useState("".concat(mc("recharts"),"-clip")),r=xh();if(r==null)return null;var{x:l,y:o,width:u,height:d}=r;return x.createElement(pW.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:l,y:o,height:d,width:u}))),t)};function $l(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function JD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],l=0;l<e.length;l+=t)r.push(e[l]);return r}function yW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return fW(r,n)}function vW(e,t,n){var r=n==="width",{x:l,y:o,width:u,height:d}=e;return t===1?{start:r?l:o,end:r?l+u:o+d}:{start:r?l+u:o+d,end:r?l:o}}function Sf(e,t,n,r,l){if(e*t<e*r||e*t>e*l)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-l)<=0}function xW(e,t){return JD(e,t+1)}function bW(e,t,n,r,l){for(var o=(r||[]).slice(),{start:u,end:d}=t,h=0,m=1,p=u,g=function(){var A=r?.[h];if(A===void 0)return{v:JD(r,m)};var S=h,w,E=()=>(w===void 0&&(w=n(A,S)),w),D=A.coordinate,T=h===0||Sf(e,D,E,p,d);T||(h=0,p=u,m+=1),T&&(p=D+e*(E()/2+l),h+=m)},b;m<=o.length;)if(b=g(),b)return b.v;return[]}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){jW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jW(e,t,n){return(t=SW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e,t,n,r,l){for(var o=(r||[]).slice(),u=o.length,{start:d}=t,{end:h}=t,m=function(b){var y=o[b],A,S=()=>(A===void 0&&(A=n(y,b)),A);if(b===u-1){var w=e*(y.coordinate+e*S()/2-h);o[b]=y=Nn(Nn({},y),{},{tickCoord:w>0?y.coordinate-w*e:y.coordinate})}else o[b]=y=Nn(Nn({},y),{},{tickCoord:y.coordinate});var E=Sf(e,y.tickCoord,S,d,h);E&&(h=y.tickCoord-e*(S()/2+l),o[b]=Nn(Nn({},y),{},{isShow:!0}))},p=u-1;p>=0;p--)m(p);return o}function EW(e,t,n,r,l,o){var u=(r||[]).slice(),d=u.length,{start:h,end:m}=t;if(o){var p=r[d-1],g=n(p,d-1),b=e*(p.coordinate+e*g/2-m);u[d-1]=p=Nn(Nn({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate});var y=Sf(e,p.tickCoord,()=>g,h,m);y&&(m=p.tickCoord-e*(g/2+l),u[d-1]=Nn(Nn({},p),{},{isShow:!0}))}for(var A=o?d-1:d,S=function(D){var T=u[D],P,O=()=>(P===void 0&&(P=n(T,D)),P);if(D===0){var M=e*(T.coordinate-e*O()/2-h);u[D]=T=Nn(Nn({},T),{},{tickCoord:M<0?T.coordinate-M*e:T.coordinate})}else u[D]=T=Nn(Nn({},T),{},{tickCoord:T.coordinate});var N=Sf(e,T.tickCoord,O,h,m);N&&(h=T.tickCoord+e*(O()/2+l),u[D]=Nn(Nn({},T),{},{isShow:!0}))},w=0;w<A;w++)S(w);return u}function Sx(e,t,n){var{tick:r,ticks:l,viewBox:o,minTickGap:u,orientation:d,interval:h,tickFormatter:m,unit:p,angle:g}=e;if(!l||!l.length||!r)return[];if(Ne(h)||ei.isSsr){var b;return(b=xW(l,Ne(h)?h:0))!==null&&b!==void 0?b:[]}var y=[],A=d==="top"||d==="bottom"?"width":"height",S=p&&A==="width"?cc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(T,P)=>{var O=typeof m=="function"?m(T.value,P):T.value;return A==="width"?yW(cc(O,{fontSize:t,letterSpacing:n}),S,g):cc(O,{fontSize:t,letterSpacing:n})[A]},E=l.length>=2?yn(l[1].coordinate-l[0].coordinate):1,D=vW(o,E,A);return h==="equidistantPreserveStart"?bW(E,D,w,l,u):(h==="preserveStart"||h==="preserveStartEnd"?y=EW(E,D,w,l,u,h==="preserveStartEnd"):y=wW(E,D,w,l,u),y.filter(T=>T.isShow))}var TW=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:l=0,tickMargin:o=0}=e,u=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>u&&(u=g.width)}});var d=n?n.getBoundingClientRect().width:0,h=l+o,m=u+h+d+(n?r:0);return Math.round(m)}return 0},CW=["axisLine","width","height","className","hide","ticks"],OW=["viewBox"],DW=["viewBox"];function hv(e,t){if(e==null)return{};var n,r,l=MW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function MW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ax={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function PW(e){var{x:t,y:n,width:r,height:l,orientation:o,mirror:u,axisLine:d,otherSvgProps:h}=e;if(!d)return null;var m=sn(sn(sn({},h),Ln(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!u||o==="bottom"&&u);m=sn(sn({},m),{},{x1:t,y1:n+p*l,x2:t+r,y2:n+p*l})}else{var g=+(o==="left"&&!u||o==="right"&&u);m=sn(sn({},m),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+l})}return x.createElement("line",zs({},m,{className:Je("recharts-cartesian-axis-line",Cs(d,"className"))}))}function _W(e,t,n,r,l,o,u,d,h){var m,p,g,b,y,A,S=d?-1:1,w=e.tickSize||u,E=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":m=p=e.coordinate,b=n+ +!d*l,g=b-S*w,A=g-S*h,y=E;break;case"left":g=b=e.coordinate,p=t+ +!d*r,m=p-S*w,y=m-S*h,A=E;break;case"right":g=b=e.coordinate,p=t+ +d*r,m=p+S*w,y=m+S*h,A=E;break;default:m=p=e.coordinate,b=n+ +d*l,g=b+S*w,A=g+S*h,y=E;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:y,y:A}}}function RW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function BW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function IW(e){var{option:t,tickProps:n,value:r}=e,l,o=Je(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))l=x.cloneElement(t,sn(sn({},n),{},{className:o}));else if(typeof t=="function")l=t(sn(sn({},n),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Je(u,t?.className)),l=x.createElement(fh,zs({},n,{className:u}),r)}return l}function $W(e){var{ticks:t=[],tick:n,tickLine:r,stroke:l,tickFormatter:o,unit:u,padding:d,tickTextProps:h,orientation:m,mirror:p,x:g,y:b,width:y,height:A,tickSize:S,tickMargin:w,fontSize:E,letterSpacing:D,getTicksConfig:T,events:P}=e,O=Sx(sn(sn({},T),{},{ticks:t}),E,D),M=RW(m,p),N=BW(m,p),B=Ln(T),L=Ts(n),q={};typeof r=="object"&&(q=r);var U=sn(sn({},B),{},{fill:"none"},q),K=O.map((W,ee)=>{var{line:te,tick:C}=_W(W,g,b,y,A,m,S,p,w),k=sn(sn(sn(sn({textAnchor:M,verticalAnchor:N},B),{},{stroke:"none",fill:l},L),C),{},{index:ee,payload:W,visibleTicksCount:O.length,tickFormatter:o,padding:d},h);return x.createElement(Kt,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Dc(P,W,ee)),r&&x.createElement("line",zs({},U,te,{className:Je("recharts-cartesian-axis-tick-line",Cs(r,"className"))})),n&&x.createElement(IW,{option:n,tickProps:k,value:"".concat(typeof o=="function"?o(W.value,ee):W.value).concat(u||"")}))});return K.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},K):null}var LW=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:l,className:o,hide:u,ticks:d}=e,h=hv(e,CW),[m,p]=x.useState(""),[g,b]=x.useState(""),y=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return TW({ticks:y.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var A=x.useCallback(S=>{if(S){var w=S.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var E=w[0];if(E){var D=window.getComputedStyle(E),T=D.fontSize,P=D.letterSpacing;(T!==m||P!==g)&&(p(T),b(P))}}},[m,g]);return u||r!=null&&r<=0||l!=null&&l<=0?null:x.createElement(Kt,{className:Je("recharts-cartesian-axis",o),ref:A},x.createElement(PW,{x:e.x,y:e.y,width:r,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ln(e)}),x.createElement($W,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:m,letterSpacing:g,getTicksConfig:e,events:h}),x.createElement(FU,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(JU,{label:e.label,labelRef:e.labelRef}),e.children))}),UW=x.memo(LW,(e,t)=>{var{viewBox:n}=e,r=hv(e,OW),{viewBox:l}=t,o=hv(t,DW);return $l(n,l)&&$l(r,o)}),wx=x.forwardRef((e,t)=>{var n=on(e,Ax);return x.createElement(UW,zs({},n,{ref:t}))});wx.displayName="CartesianAxis";var GW=["x1","y1","x2","y2","key"],FW=["offset"],qW=["xAxisId","yAxisId"],WW=["xAxisId","yAxisId"];function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(n),!0).forEach(function(r){HW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HW(e,t,n){return(t=KW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(null,arguments)}function Af(e,t){if(e==null)return{};var n,r,l=YW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function YW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:l,width:o,height:u,ry:d}=e;return x.createElement("rect",{x:r,y:l,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eM(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:l,x2:o,y2:u,key:d}=t,h=Af(t,GW),m=Ln(h),{offset:p}=m,g=Af(m,FW);n=x.createElement("line",bs({},g,{x1:r,y1:l,x2:o,y2:u,fill:"none",key:d}))}return n}function QW(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Af(e,qW),h=l.map((m,p)=>{var g=zn(zn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(p),index:p});return eM(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function ZW(e){var{y:t,height:n,vertical:r=!0,verticalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:o,yAxisId:u}=e,d=Af(e,WW),h=l.map((m,p)=>{var g=zn(zn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(p),index:p});return eM(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function JW(e){var{horizontalFill:t,fillOpacity:n,x:r,y:l,width:o,height:u,horizontalPoints:d,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var m=d.map(g=>Math.round(g+l-l)).sort((g,b)=>g-b);l!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var y=!m[b+1],A=y?l+u-g:m[b+1]-g;if(A<=0)return null;var S=b%t.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:A,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function eH(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:l,y:o,width:u,height:d,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var m=h.map(g=>Math.round(g+l-l)).sort((g,b)=>g-b);l!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var y=!m[b+1],A=y?l+u-g:m[b+1]-g;if(A<=0)return null;var S=b%n.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:o,width:A,height:d,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var tH=(e,t)=>{var{xAxis:n,width:r,height:l,offset:o}=e;return ZT(Sx(zn(zn(zn({},Ax),n),{},{ticks:JT(n),viewBox:{x:0,y:0,width:r,height:l}})),o.left,o.left+o.width,t)},nH=(e,t)=>{var{yAxis:n,width:r,height:l,offset:o}=e;return ZT(Sx(zn(zn(zn({},Ax),n),{},{ticks:JT(n),viewBox:{x:0,y:0,width:r,height:l}})),o.top,o.top+o.height,t)},rH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function _t(e){var t=Qv(),n=Zv(),r=lC(),l=zn(zn({},on(e,rH)),{},{x:Ne(e.x)?e.x:r.left,y:Ne(e.y)?e.y:r.top,width:Ne(e.width)?e.width:r.width,height:Ne(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:u,x:d,y:h,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:y}=l,A=Mn(),S=ze(L=>Iw(L,"xAxis",o,A)),w=ze(L=>Iw(L,"yAxis",u,A));if(!Ne(m)||m<=0||!Ne(p)||p<=0||!Ne(d)||d!==+d||!Ne(h)||h!==+h)return null;var E=l.verticalCoordinatesGenerator||tH,D=l.horizontalCoordinatesGenerator||nH,{horizontalPoints:T,verticalPoints:P}=l;if((!T||!T.length)&&typeof D=="function"){var O=b&&b.length,M=D({yAxis:w?zn(zn({},w),{},{ticks:O?b:w.ticks}):void 0,width:t,height:n,offset:r},O?!0:g);ef(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(T=M)}if((!P||!P.length)&&typeof E=="function"){var N=y&&y.length,B=E({xAxis:S?zn(zn({},S),{},{ticks:N?y:S.ticks}):void 0,width:t,height:n,offset:r},N?!0:g);ef(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(P=B)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(XW,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),x.createElement(JW,bs({},l,{horizontalPoints:T})),x.createElement(eH,bs({},l,{verticalPoints:P})),x.createElement(QW,bs({},l,{offset:r,horizontalPoints:T,xAxis:S,yAxis:w})),x.createElement(ZW,bs({},l,{offset:r,verticalPoints:P,xAxis:S,yAxis:w})))}_t.displayName="CartesianGrid";var tM=(e,t,n,r)=>ha(e,"xAxis",t,r),nM=(e,t,n,r)=>fa(e,"xAxis",t,r),rM=(e,t,n,r)=>ha(e,"yAxis",n,r),aM=(e,t,n,r)=>fa(e,"yAxis",n,r),aH=le([Ye,tM,rM,nM,aM],(e,t,n,r,l)=>ma(e,"xAxis")?Ms(t,r,!1):Ms(n,l,!1)),iH=(e,t,n,r,l)=>l;function sH(e){return e.type==="line"}var lH=le([Gc,iH],(e,t)=>e.filter(sH).find(n=>n.id===t)),oH=le([Ye,tM,rM,nM,aM,lH,aH,Ic],(e,t,n,r,l,o,u,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=d;if(!(o==null||t==null||n==null||r==null||l==null||r.length===0||l.length===0||u==null)){var{dataKey:g,data:b}=o,y;if(b!=null&&b.length>0?y=b:y=h?.slice(m,p+1),y!=null)return MH({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataKey:g,bandSize:u,displayedData:y})}});function iM(e){var t=Ts(e),n=3,r=2;if(t!=null){var{r:l,strokeWidth:o}=t,u=Number(l),d=Number(o);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(d)||d<0)&&(d=r),{r:u,strokeWidth:d}}return{r:n,strokeWidth:r}}var cH=["id"],uH=["type","layout","connectNulls","needClip"],dH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){fH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ex(e,t){if(e==null)return{};var n,r,l=pH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function pH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(null,arguments)}var gH=e=>{var{dataKey:t,name:n,stroke:r,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:r,value:qi(n,t),payload:e}]};function yH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:l,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:qi(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:h}}}var sM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function vH(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],l=0;l<t;++l)r=[...r,...n];return r}var xH=(e,t,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return sM(t,e);for(var l=Math.floor(e/r),o=e%r,u=t-e,d=[],h=0,m=0;h<n.length;m+=n[h],++h)if(m+n[h]>o){d=[...n.slice(0,h),o-m];break}var p=d.length%2===0?[0,u]:[u];return[...vH(n,l),...d,...p].map(g=>"".concat(g,"px")).join(", ")};function bH(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Je("recharts-line-dot",typeof e!="boolean"?e.className:"");n=x.createElement(cx,Ps({},t,{className:r}))}return n}function jH(e,t){return e==null?!1:t?!0:e.length===1}function SH(e){var{clipPathId:t,points:n,props:r}=e,{dot:l,dataKey:o,needClip:u}=r;if(!jH(n,l))return null;var{id:d}=r,h=Ex(r,cH),m=gh(l),p=Ln(h),g=U5(l),b=n.map((A,S)=>{var w=mr(mr(mr({key:"dot-".concat(S),r:3},p),g),{},{index:S,cx:A.x,cy:A.y,dataKey:o,value:A.value,payload:A.payload,points:n});return bH(l,w)}),y={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return x.createElement(Kt,Ps({className:"recharts-line-dots",key:"dots"},y),b)}function AH(e){var{showLabels:t,children:n,points:r}=e,l=x.useMemo(()=>r?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return mr(mr({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(ox,{value:t?l:null},n)}function GE(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:l,props:o}=e,{type:u,layout:d,connectNulls:h,needClip:m}=o,p=Ex(o,uH),g=mr(mr({},Un(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:d,connectNulls:h,strokeDasharray:l??o.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(Dl,Ps({},g,{pathRef:n})),x.createElement(SH,{points:r,clipPathId:t,props:o}))}function wH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function EH(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:l,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:h,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:b,width:y,height:A,onAnimationEnd:S,onAnimationStart:w}=n,E=l.current,D=Wl(n,"recharts-line-"),[T,P]=x.useState(!1),O=!T,M=x.useCallback(()=>{typeof S=="function"&&S(),P(!1)},[S]),N=x.useCallback(()=>{typeof w=="function"&&w(),P(!0)},[w]),B=wH(r.current),L=o.current;return x.createElement(AH,{points:u,showLabels:O},n.children,x.createElement(ql,{animationId:D,begin:m,duration:p,isActive:h,easing:g,onAnimationEnd:M,onAnimationStart:N,key:D},q=>{var U=ht(L,B+L,q),K=Math.min(U,B),W;if(h)if(d){var ee="".concat(d).split(/[,\s]+/gim).map(k=>parseFloat(k));W=xH(K,B,ee)}else W=sM(B,K);else W=d==null?void 0:String(d);if(E){var te=E.length/u.length,C=q===1?u:u.map((k,_)=>{var $=Math.floor(_*te);if(E[$]){var V=E[$];return mr(mr({},k),{},{x:ht(V.x,k.x,q),y:ht(V.y,k.y,q)})}return b?mr(mr({},k),{},{x:ht(y*2,k.x,q),y:ht(A/2,k.y,q)}):mr(mr({},k),{},{x:k.x,y:k.y})});return l.current=C,x.createElement(GE,{props:n,points:C,clipPathId:t,pathRef:r,strokeDasharray:W})}return q>0&&B>0&&(l.current=u,o.current=K),x.createElement(GE,{props:n,points:u,clipPathId:t,pathRef:r,strokeDasharray:W})}),x.createElement(hh,{label:n.label}))}function TH(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),l=x.useRef(0),o=x.useRef(null);return x.createElement(EH,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:l,pathRef:o})}var CH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:mt(e.payload,t)});class OH extends x.Component{render(){var{hide:t,dot:n,points:r,className:l,xAxisId:o,yAxisId:u,top:d,left:h,width:m,height:p,id:g,needClip:b}=this.props;if(t)return null;var y=Je("recharts-line",l),A=g,{r:S,strokeWidth:w}=iM(n),E=gh(n),D=S*2+w;return x.createElement(x.Fragment,null,x.createElement(Kt,{className:y},b&&x.createElement("defs",null,x.createElement(bx,{clipPathId:A,xAxisId:o,yAxisId:u}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(A)},x.createElement("rect",{x:h-D/2,y:d-D/2,width:m+D,height:p+D}))),x.createElement(KD,{xAxisId:o,yAxisId:u,data:r,dataPointFormatter:CH,errorBarOffset:0},x.createElement(TH,{props:this.props,clipPathId:A}))),x.createElement(dv,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var lM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ei.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function DH(e){var t=on(e,lM),{activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,hide:m,isAnimationActive:p,label:g,legendType:b,xAxisId:y,yAxisId:A,id:S}=t,w=Ex(t,dH),{needClip:E}=bh(y,A),D=xh(),T=zc(),P=Mn(),O=ze(q=>oH(q,y,A,P,S));if(T!=="horizontal"&&T!=="vertical"||O==null||D==null)return null;var{height:M,width:N,x:B,y:L}=D;return x.createElement(OH,Ps({},w,{id:S,connectNulls:d,dot:h,activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:o,animationEasing:u,isAnimationActive:p,hide:m,label:g,legendType:b,xAxisId:y,yAxisId:A,points:O,layout:T,height:M,width:N,left:B,top:L,needClip:E}))}function MH(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:h}=e;return h.map((m,p)=>{var g=mt(m,u);if(t==="horizontal"){var b=Jd({axis:n,ticks:l,bandSize:d,entry:m,index:p}),y=Ct(g)?null:r.scale(g);return{x:b,y,value:g,payload:m}}var A=Ct(g)?null:n.scale(g),S=Jd({axis:r,ticks:o,bandSize:d,entry:m,index:p});return A==null||S==null?null:{x:A,y:S,value:g,payload:m}}).filter(Boolean)}function kH(e){var t=on(e,lM),n=Mn();return x.createElement(vh,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(gx,{legendPayload:gH(t)}),x.createElement(yh,{fn:yH,args:t}),x.createElement(yx,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(DH,Ps({},t,{id:r}))))}var Fi=x.memo(kH);Fi.displayName="Line";var oM=(e,t,n,r)=>ha(e,"xAxis",t,r),cM=(e,t,n,r)=>fa(e,"xAxis",t,r),uM=(e,t,n,r)=>ha(e,"yAxis",n,r),dM=(e,t,n,r)=>fa(e,"yAxis",n,r),NH=le([Ye,oM,uM,cM,dM],(e,t,n,r,l)=>ma(e,"xAxis")?Ms(t,r,!1):Ms(n,l,!1)),zH=(e,t,n,r,l)=>l,fM=le([Gc,zH],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),PH=(e,t,n,r,l)=>{var o,u=fM(e,t,n,r,l);if(u!=null){var d=Ye(e),h=ma(d,"xAxis"),m;if(h?m=wc(e,"yAxis",n,r):m=wc(e,"xAxis",t,r),m!=null){var{stackId:p}=u,g=nh(u);if(!(p==null||g==null)){var b=(o=m[p])===null||o===void 0?void 0:o.stackedData;return b?.find(y=>y.key===g)}}}},_H=le([Ye,oM,uM,cM,dM,PH,Ic,NH,fM],(e,t,n,r,l,o,u,d,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=u;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||l==null||r.length===0||l.length===0||d==null)){var{data:b}=h,y;if(b&&b.length>0?y=b:y=m?.slice(p,g+1),y!=null){var A=void 0;return nK({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataStartIndex:p,areaSettings:h,stackedData:o,displayedData:y,chartBaseValue:A,bandSize:d})}}}),RH=["id"],BH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hM(e,t){if(e==null)return{};var n,r,l=IH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function IH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ga.apply(null,arguments)}function wf(e,t){return e&&e!=="none"?e:t}var GH=e=>{var{dataKey:t,name:n,stroke:r,fill:l,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:wf(r,l),value:qi(n,t),payload:e}]};function FH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:l,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:qi(u,t),hide:d,type:e.tooltipType,color:wf(r,o),unit:h}}}var qH=(e,t)=>{var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Je("recharts-area-dot",typeof e!="boolean"?e.className:"");n=x.createElement(cx,Ga({},t,{className:r}))}return n};function WH(e,t){return e==null?!1:t?!0:e.length===1}function HH(e){var{clipPathId:t,points:n,props:r}=e,{needClip:l,dot:o,dataKey:u}=r;if(!WH(n,o))return null;var d=gh(o),h=Ln(r),m=U5(o),p=n.map((b,y)=>{var A=Ba(Ba(Ba({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:b.x,cy:b.y,dataKey:u,value:b.value,payload:b.payload,points:n});return qH(o,A)}),g={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return x.createElement(Kt,Ga({className:"recharts-area-dots"},g),p)}function KH(e){var{showLabels:t,children:n,points:r}=e,l=r.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return Ba(Ba({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return x.createElement(ox,{value:t?l:null},n)}function qE(e){var{points:t,baseLine:n,needClip:r,clipPathId:l,props:o}=e,{layout:u,type:d,stroke:h,connectNulls:m,isRange:p}=o,{id:g}=o,b=hM(o,RH),y=Ln(b);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Kt,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},x.createElement(Dl,Ga({},y,{id:g,points:t,connectNulls:m,type:d,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&x.createElement(Dl,Ga({},y,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:t})),h!=="none"&&p&&x.createElement(Dl,Ga({},y,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:n}))),x.createElement(HH,{points:t,props:b,clipPathId:l}))}function VH(e){var{alpha:t,baseLine:n,points:r,strokeWidth:l}=e,o=r[0].y,u=r[r.length-1].y;if(!rn(o)||!rn(u))return null;var d=t*Math.abs(o-u),h=Math.max(...r.map(m=>m.x||0));return Ne(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(m=>m.x||0),h)),Ne(h)?x.createElement("rect",{x:0,y:o<u?o:o-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function YH(e){var{alpha:t,baseLine:n,points:r,strokeWidth:l}=e,o=r[0].x,u=r[r.length-1].x;if(!rn(o)||!rn(u))return null;var d=t*Math.abs(o-u),h=Math.max(...r.map(m=>m.y||0));return Ne(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(m=>m.y||0),h)),Ne(h)?x.createElement("rect",{x:o<u?o:o-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function XH(e){var{alpha:t,layout:n,points:r,baseLine:l,strokeWidth:o}=e;return n==="vertical"?x.createElement(VH,{alpha:t,points:r,baseLine:l,strokeWidth:o}):x.createElement(YH,{alpha:t,points:r,baseLine:l,strokeWidth:o})}function QH(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:l,previousBaselineRef:o}=e,{points:u,baseLine:d,isAnimationActive:h,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:y}=r,A=Wl(r,"recharts-area-"),[S,w]=x.useState(!1),E=!S,D=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),T=x.useCallback(()=>{typeof b=="function"&&b(),w(!0)},[b]),P=l.current,O=o.current;return x.createElement(KH,{showLabels:E,points:u},r.children,x.createElement(ql,{animationId:A,begin:m,duration:p,isActive:h,easing:g,onAnimationEnd:D,onAnimationStart:T,key:A},M=>{if(P){var N=P.length/u.length,B=M===1?u:u.map((q,U)=>{var K=Math.floor(U*N);if(P[K]){var W=P[K];return Ba(Ba({},q),{},{x:ht(W.x,q.x,M),y:ht(W.y,q.y,M)})}return q}),L;return Ne(d)?L=ht(O,d,M):Ct(d)||xr(d)?L=ht(O,0,M):L=d.map((q,U)=>{var K=Math.floor(U*N);if(Array.isArray(O)&&O[K]){var W=O[K];return Ba(Ba({},q),{},{x:ht(W.x,q.x,M),y:ht(W.y,q.y,M)})}return q}),M>0&&(l.current=B,o.current=L),x.createElement(qE,{points:B,baseLine:L,needClip:t,clipPathId:n,props:r})}return M>0&&(l.current=u,o.current=d),x.createElement(Kt,null,h&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(XH,{alpha:M,points:u,baseLine:d,layout:r.layout,strokeWidth:r.strokeWidth}))),x.createElement(Kt,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(qE,{points:u,baseLine:d,needClip:t,clipPathId:n,props:r})))}),x.createElement(hh,{label:r.label}))}function ZH(e){var{needClip:t,clipPathId:n,props:r}=e,l=x.useRef(null),o=x.useRef();return x.createElement(QH,{needClip:t,clipPathId:n,props:r,previousPointsRef:l,previousBaselineRef:o})}class JH extends x.PureComponent{render(){var{hide:t,dot:n,points:r,className:l,top:o,left:u,needClip:d,xAxisId:h,yAxisId:m,width:p,height:g,id:b,baseLine:y}=this.props;if(t)return null;var A=Je("recharts-area",l),S=b,{r:w,strokeWidth:E}=iM(n),D=gh(n),T=w*2+E;return x.createElement(x.Fragment,null,x.createElement(Kt,{className:A},d&&x.createElement("defs",null,x.createElement(bx,{clipPathId:S,xAxisId:h,yAxisId:m}),!D&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:u-T/2,y:o-T/2,width:p+T,height:g+T}))),x.createElement(ZH,{needClip:d,clipPathId:S,props:this.props})),x.createElement(dv,{points:r,mainColor:wf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&x.createElement(dv,{points:y,mainColor:wf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var mM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ei.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function eK(e){var t,n=on(e,mM),{activeDot:r,animationBegin:l,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:y,stroke:A,xAxisId:S,yAxisId:w}=n,E=hM(n,BH),D=zc(),T=vD(),{needClip:P}=bh(S,w),O=Mn(),{points:M,isRange:N,baseLine:B}=(t=ze(ee=>_H(ee,S,w,O,e.id)))!==null&&t!==void 0?t:{},L=xh();if(D!=="horizontal"&&D!=="vertical"||L==null||T!=="AreaChart"&&T!=="ComposedChart")return null;var{height:q,width:U,x:K,y:W}=L;return!M||!M.length?null:x.createElement(JH,Ga({},E,{activeDot:r,animationBegin:l,animationDuration:o,animationEasing:u,baseLine:B,connectNulls:d,dot:h,fill:m,fillOpacity:p,height:q,hide:g,layout:D,isAnimationActive:b,isRange:N,legendType:y,needClip:P,points:M,stroke:A,width:U,left:K,top:W,xAxisId:S,yAxisId:w}))}var tK=(e,t,n,r,l)=>{var o=n??t;if(Ne(o))return o;var u=e==="horizontal"?l:r,d=u.scale.domain();if(u.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return o==="dataMin"?m:o==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function nK(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:l,layout:o,chartBaseValue:u,xAxis:d,yAxis:h,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:y}=e,A=l&&l.length,S=tK(o,u,n,d,h),w=o==="horizontal",E=!1,D=m.map((P,O)=>{var M;A?M=l[p+O]:(M=mt(P,r),Array.isArray(M)?E=!0:M=[S,M]);var N=M[1]==null||A&&!t&&mt(P,r)==null;return w?{x:Jd({axis:d,ticks:g,bandSize:y,entry:P,index:O}),y:N?null:h.scale(M[1]),value:M,payload:P}:{x:N?null:d.scale(M[1]),y:Jd({axis:h,ticks:b,bandSize:y,entry:P,index:O}),value:M,payload:P}}),T;return A||E?T=D.map(P=>{var O=Array.isArray(P.value)?P.value[0]:null;return w?{x:P.x,y:O!=null&&P.y!=null?h.scale(O):null,payload:P.payload}:{x:O!=null?d.scale(O):null,y:P.y,payload:P.payload}}):T=w?h.scale(S):d.scale(S),{points:D,baseLine:T,isRange:E}}function rK(e){var t=on(e,mM),n=Mn();return x.createElement(vh,{id:t.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(gx,{legendPayload:GH(t)}),x.createElement(yh,{fn:FH,args:t}),x.createElement(yx,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:eC(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),x.createElement(eK,Ga({},t,{id:r}))))}var mv=x.memo(rK);mv.displayName="Area";var aK=["dangerouslySetInnerHTML","ticks"],iK=["id"],sK=["domain"],lK=["domain"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(null,arguments)}function Ef(e,t){if(e==null)return{};var n,r,l=oK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function oK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cK(e){var t=Lt();return x.useLayoutEffect(()=>(t(RF(e)),()=>{t(BF(e))}),[e,t]),null}var uK=e=>{var{xAxisId:t,className:n}=e,r=ze(Yv),l=Mn(),o="xAxis",u=ze(w=>Jl(w,o,t,l)),d=ze(w=>YO(w,o,t,l)),h=ze(w=>WO(w,t)),m=ze(w=>w9(w,t)),p=ze(w=>TO(w,t));if(h==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=e,y=Ef(e,aK),{id:A}=p,S=Ef(p,iK);return x.createElement(wx,pv({},y,S,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:Je("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},dK={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,height:dr.height,hide:!1,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tickCount:dr.tickCount,type:dr.type,xAxisId:0},fK=e=>{var t,n,r,l,o,u=on(e,dK);return x.createElement(x.Fragment,null,x.createElement(cK,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(l=u.minTickGap)!==null&&l!==void 0?l:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),x.createElement(uK,u))},hK=(e,t)=>{var{domain:n}=e,r=Ef(e,sK),{domain:l}=t,o=Ef(t,lK);return $l(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:$l({domain:n},{domain:l}):!1},Rt=x.memo(fK,hK);Rt.displayName="XAxis";var mK=["dangerouslySetInnerHTML","ticks"],pK=["id"],gK=["domain"],yK=["domain"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(null,arguments)}function Tf(e,t){if(e==null)return{};var n,r,l=vK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function vK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xK(e){var t=Lt();return x.useLayoutEffect(()=>(t(IF(e)),()=>{t($F(e))}),[e,t]),null}var bK=e=>{var{yAxisId:t,className:n,width:r,label:l}=e,o=x.useRef(null),u=x.useRef(null),d=ze(Yv),h=Mn(),m=Lt(),p="yAxis",g=ze(O=>Jl(O,p,t,h)),b=ze(O=>HO(O,t)),y=ze(O=>T9(O,t)),A=ze(O=>YO(O,p,t,h)),S=ze(O=>CO(O,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!b||lx(l)||x.isValidElement(l)||S==null)){var O=o.current;if(O){var M=O.getCalculatedWidth();Math.round(b.width)!==Math.round(M)&&m(LF({id:t,width:M}))}}},[A,b,m,l,t,r,S]),b==null||y==null||S==null)return null;var{dangerouslySetInnerHTML:w,ticks:E}=e,D=Tf(e,mK),{id:T}=S,P=Tf(S,pK);return x.createElement(wx,gv({},D,P,{ref:o,labelRef:u,scale:g,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Je("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:A}))},jK={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,hide:!1,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tickCount:fr.tickCount,type:fr.type,width:fr.width,yAxisId:0},SK=e=>{var t,n,r,l,o,u=on(e,jK);return x.createElement(x.Fragment,null,x.createElement(xK,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(l=u.minTickGap)!==null&&l!==void 0?l:5,tick:(o=u.tick)!==null&&o!==void 0?o:!0,tickFormatter:u.tickFormatter}),x.createElement(bK,u))},AK=(e,t)=>{var{domain:n}=e,r=Tf(e,gK),{domain:l}=t,o=Tf(t,yK);return $l(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:$l({domain:n},{domain:l}):!1},Bt=x.memo(SK,AK);Bt.displayName="YAxis";var gy={exports:{}},yy={};var WE;function wK(){if(WE)return yy;WE=1;var e=Ll();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return yy.useSyncExternalStoreWithSelector=function(h,m,p,g,b){var y=l(null);if(y.current===null){var A={hasValue:!1,value:null};y.current=A}else A=y.current;y=u(function(){function w(O){if(!E){if(E=!0,D=O,O=g(O),b!==void 0&&A.hasValue){var M=A.value;if(b(M,O))return T=M}return T=O}if(M=T,n(D,O))return M;var N=g(O);return b!==void 0&&b(M,N)?(D=O,M):(D=O,T=N)}var E=!1,D,T,P=p===void 0?null:p;return[function(){return w(m())},P===null?void 0:function(){return w(P())}]},[m,p,g,b]);var S=r(h,y[0],y[1]);return o(function(){A.hasValue=!0,A.value=S},[S]),d(S),S},yy}var HE;function EK(){return HE||(HE=1,gy.exports=wK()),gy.exports}EK();function TK(e){e()}function CK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!r||e===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var KE={notify(){},get:()=>[]};function OK(e,t){let n,r=KE,l=0,o=!1;function u(S){p();const w=r.subscribe(S);let E=!1;return()=>{E||(E=!0,w(),g())}}function d(){r.notify()}function h(){A.onStateChange&&A.onStateChange()}function m(){return o}function p(){l++,n||(n=e.subscribe(h),r=CK())}function g(){l--,n&&l===0&&(n(),n=void 0,r.clear(),r=KE)}function b(){o||(o=!0,p())}function y(){o&&(o=!1,g())}const A={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:m,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return A}var DK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MK=DK(),kK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NK=kK(),zK=()=>MK||NK?x.useLayoutEffect:x.useEffect,PK=zK(),_K=Symbol.for("react-redux-context"),RK=typeof globalThis<"u"?globalThis:{};function BK(){if(!x.createContext)return{};const e=RK[_K]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var IK=BK();function $K(e){const{children:t,context:n,serverState:r,store:l}=e,o=x.useMemo(()=>{const h=OK(l);return{store:l,subscription:h,getServerState:r?()=>r:void 0}},[l,r]),u=x.useMemo(()=>l.getState(),[l]);PK(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==l.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const d=n||IK;return x.createElement(d.Provider,{value:o},t)}var LK=$K,UK=(e,t)=>t,Tx=le([UK,Ye,AO,un,fD,ai,ML,ln],_L),Cx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},pM=Gr("mouseClick"),gM=kc();gM.startListening({actionCreator:pM,effect:(e,t)=>{var n=e.payload,r=Tx(t.getState(),Cx(n));r?.activeIndex!=null&&t.dispatch($9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yv=Gr("mouseMove"),yM=kc();yM.startListening({actionCreator:yv,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=Z0(r,r.tooltip.settings.shared),o=Tx(r,Cx(n));l==="axis"&&(o?.activeIndex!=null?t.dispatch(rD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(nD()))}});var VE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},vM=jr({name:"rootProps",initialState:VE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:VE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),GK=vM.reducer,{updateOptions:FK}=vM.actions,xM=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:qK}=xM.actions,WK=xM.reducer,bM=Gr("keyDown"),jM=Gr("focus"),Ox=kc();Ox.startListening({actionCreator:bM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(J0(l,to(n))),d=ai(n);if(o==="Enter"){var h=yf(n,"axis","hover",String(l.index));t.dispatch(sv({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:h}));return}var m=M9(n),p=m==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,b=u+g*p;if(!(d==null||b>=d.length||b<0)){var y=yf(n,"axis","hover",String(b));t.dispatch(sv({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Ox.startListening({actionCreator:jM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var o="0",u=yf(n,"axis","hover",String(o));t.dispatch(sv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Rr=Gr("externalEvent"),SM=kc();SM.startListening({actionCreator:Rr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:jL(n),activeDataKey:gD(n),activeIndex:Li(n),activeLabel:pD(n),activeTooltipIndex:Li(n),isTooltipActive:SL(n)};e.payload.handler(r,e.payload.reactEvent)}}});var HK=le([eo],e=>e.tooltipItemPayloads),KK=le([HK,Wc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var l=e.find(d=>d.settings.dataKey===r);if(l!=null){var{positions:o}=l;if(o!=null){var u=t(o,n);return u}}}),AM=Gr("touchMove"),wM=kc();wM.startListening({actionCreator:AM,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=Z0(r,r.tooltip.settings.shared);if(l==="axis"){var o=Tx(r,Cx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(rD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var u,d=n.touches[0],h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(nC),p=(u=h.getAttribute(rC))!==null&&u!==void 0?u:void 0,g=KK(t.getState(),m,p);t.dispatch(tD({activeDataKey:p,activeIndex:m,activeCoordinate:g}))}}});var VK=ET({brush:lW,cartesianAxis:UF,chartData:QL,errorBars:sq,graphicalItems:sF,layout:uR,legend:pB,options:HL,polarAxis:bG,polarOptions:WK,referenceElements:mW,rootProps:GK,tooltip:L9}),YK=function(t){return _4({reducer:VK,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([gM.middleware,yM.middleware,Ox.middleware,SM.middleware,wM.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(BT({type:"raf"}))},devTools:ei.devToolsEnabled})};function EM(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,l=Mn(),o=x.useRef(null);if(l)return n;o.current==null&&(o.current=YK(t));var u=Fv;return x.createElement(LK,{context:u,store:o.current},n)}function TM(e){var{layout:t,margin:n}=e,r=Lt(),l=Mn();return x.useEffect(()=>{l||(r(lR(t)),r(sR(n)))},[r,l,t,n]),null}function CM(e){var t=Lt();return x.useEffect(()=>{t(FK(e))},[t,e]),null}var XK=["children"];function QK(e,t){if(e==null)return{};var n,r,l=ZK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function ZK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cf.apply(null,arguments)}var JK={width:"100%",height:"100%",display:"block"},eV=x.forwardRef((e,t)=>{var n=Qv(),r=Zv(),l=dC();if(!Pl(n)||!Pl(r))return null;var{children:o,otherAttributes:u,title:d,desc:h}=e,m,p;return typeof u.tabIndex=="number"?m=u.tabIndex:m=l?0:void 0,typeof u.role=="string"?p=u.role:p=l?"application":void 0,x.createElement(kv,Cf({},u,{title:d,desc:h,role:p,tabIndex:m,width:n,height:r,style:JK,ref:t}),o)}),tV=e=>{var{children:t}=e,n=ze(qf);if(!n)return null;var{width:r,height:l,y:o,x:u}=n;return x.createElement(kv,{width:r,height:l,x:u,y:o},t)},YE=x.forwardRef((e,t)=>{var{children:n}=e,r=QK(e,XK),l=Mn();return l?x.createElement(tV,null,n):x.createElement(eV,Cf({ref:t},r),n)});function nV(){var e=Lt(),[t,n]=x.useState(null),r=ze(IR);return x.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;rn(o)&&o!==r&&e(cR(o))}},[t,e,r]),n}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}var lV=()=>(sU(),null);function Of(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var oV=x.forwardRef((e,t)=>{var n,r,l=x.useRef(null),[o,u]=x.useState({containerWidth:Of((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Of((r=e.style)===null||r===void 0?void 0:r.height)}),d=x.useCallback((m,p)=>{u(g=>{var b=Math.round(m),y=Math.round(p);return g.containerWidth===b&&g.containerHeight===y?g:{containerWidth:b,containerHeight:y}})},[]),h=x.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:p,height:g}=m.getBoundingClientRect();d(p,g);var b=A=>{var{width:S,height:w}=A[0].contentRect;d(S,w)},y=new ResizeObserver(b);y.observe(m),l.current=y}},[t,d]);return x.useEffect(()=>()=>{var m=l.current;m?.disconnect()},[d]),x.createElement(x.Fragment,null,x.createElement(Hf,{width:o.containerWidth,height:o.containerHeight}),x.createElement("div",_s({ref:h},e)))}),cV=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[l,o]=x.useState({containerWidth:Of(n),containerHeight:Of(r)}),u=x.useCallback((h,m)=>{o(p=>{var g=Math.round(h),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),d=x.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:m,height:p}=h.getBoundingClientRect();u(m,p)}},[t,u]);return x.createElement(x.Fragment,null,x.createElement(Hf,{width:l.containerWidth,height:l.containerHeight}),x.createElement("div",_s({ref:d},e)))}),uV=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Hf,{width:n,height:r}),x.createElement("div",_s({ref:t},e)))}),dV=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wa(n)||Wa(r)?x.createElement(cV,_s({},e,{ref:t})):x.createElement(uV,_s({},e,{ref:t}))});function fV(e){return e===!0?oV:dV}var hV=x.forwardRef((e,t)=>{var{children:n,className:r,height:l,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:h,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:A,onTouchStart:S,style:w,width:E,responsive:D,dispatchTouchEvents:T=!0}=e,P=x.useRef(null),O=Lt(),[M,N]=x.useState(null),[B,L]=x.useState(null),q=nV(),U=Xv(),K=U?.width>0?U.width:E,W=U?.height>0?U.height:l,ee=x.useCallback(Z=>{q(Z),typeof t=="function"&&t(Z),N(Z),L(Z),Z!=null&&(P.current=Z)},[q,t,N,L]),te=x.useCallback(Z=>{O(pM(Z)),O(Rr({handler:o,reactEvent:Z}))},[O,o]),C=x.useCallback(Z=>{O(yv(Z)),O(Rr({handler:m,reactEvent:Z}))},[O,m]),k=x.useCallback(Z=>{O(nD()),O(Rr({handler:p,reactEvent:Z}))},[O,p]),_=x.useCallback(Z=>{O(yv(Z)),O(Rr({handler:g,reactEvent:Z}))},[O,g]),$=x.useCallback(()=>{O(jM())},[O]),V=x.useCallback(Z=>{O(bM(Z.key))},[O]),R=x.useCallback(Z=>{O(Rr({handler:u,reactEvent:Z}))},[O,u]),G=x.useCallback(Z=>{O(Rr({handler:d,reactEvent:Z}))},[O,d]),J=x.useCallback(Z=>{O(Rr({handler:h,reactEvent:Z}))},[O,h]),H=x.useCallback(Z=>{O(Rr({handler:b,reactEvent:Z}))},[O,b]),F=x.useCallback(Z=>{O(Rr({handler:S,reactEvent:Z}))},[O,S]),ne=x.useCallback(Z=>{T&&O(AM(Z)),O(Rr({handler:A,reactEvent:Z}))},[O,T,A]),oe=x.useCallback(Z=>{O(Rr({handler:y,reactEvent:Z}))},[O,y]),ve=fV(D);return x.createElement(AD.Provider,{value:M},x.createElement(G5.Provider,{value:B},x.createElement(ve,{width:K??w?.width,height:W??w?.height,className:Je("recharts-wrapper",r),style:rV({position:"relative",cursor:"default",width:K,height:W},w),onClick:te,onContextMenu:R,onDoubleClick:G,onFocus:$,onKeyDown:V,onMouseDown:J,onMouseEnter:C,onMouseLeave:k,onMouseMove:_,onMouseUp:H,onTouchEnd:oe,onTouchMove:ne,onTouchStart:F,ref:ee},x.createElement(lV,null),n)))}),mV=["width","height","responsive","children","className","style","compact","title","desc"];function pV(e,t){if(e==null)return{};var n,r,l=gV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function gV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OM=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:l,children:o,className:u,style:d,compact:h,title:m,desc:p}=e,g=pV(e,mV),b=Ln(g);return h?x.createElement(x.Fragment,null,x.createElement(Hf,{width:n,height:r}),x.createElement(YE,{otherAttributes:b,title:m,desc:p},o)):x.createElement(hV,{className:u,style:d,width:n,height:r,responsive:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(YE,{otherAttributes:b,title:m,desc:p,ref:t},x.createElement(gW,null,o)))});function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}var yV={top:5,right:5,bottom:5,left:5},vV={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yV,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Dx=x.forwardRef(function(t,n){var r,l=on(t.categoricalChartProps,vV),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,p={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(EM,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:o},x.createElement(XD,{chartData:m.data}),x.createElement(TM,{layout:l.layout,margin:l.margin}),x.createElement(CM,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),x.createElement(OM,vv({},l,{ref:n})))}),xV=["axis"],Vc=x.forwardRef((e,t)=>x.createElement(Dx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xV,tooltipPayloadSearcher:dh,categoricalChartProps:e,ref:t})),bV=["axis","item"],Dn=x.forwardRef((e,t)=>x.createElement(Dx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bV,tooltipPayloadSearcher:dh,categoricalChartProps:e,ref:t}));function jV(e){var t=Lt();return x.useEffect(()=>{t(qK(e))},[t,e]),null}var SV=["layout"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function AV(e,t){if(e==null)return{};var n,r,l=wV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function wV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EV={top:5,right:5,bottom:5,left:5},TV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EV,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},CV=x.forwardRef(function(t,n){var r,l=on(t.categoricalChartProps,TV),{layout:o}=l,u=AV(l,SV),{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=t,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(EM,{preloadedState:{options:g},reduxStoreName:(r=l.id)!==null&&r!==void 0?r:d},x.createElement(XD,{chartData:l.data}),x.createElement(TM,{layout:o,margin:l.margin}),x.createElement(CM,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),x.createElement(jV,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),x.createElement(OM,xv({},u,{ref:n})))}),OV=["item"],DV={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Yc=x.forwardRef((e,t)=>{var n=on(e,DV);return x.createElement(CV,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:OV,tooltipPayloadSearcher:dh,categoricalChartProps:n,ref:t})}),MV=["axis"],kV=x.forwardRef((e,t)=>x.createElement(Dx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MV,tooltipPayloadSearcher:dh,categoricalChartProps:e,ref:t}));const Ee=({variant:e="stat",icon:t,value:n,label:r,color:l,trend:o,trendType:u,onClick:d,children:h,className:m="",style:p,fontSize:g=1})=>{const{colors:b}=Qa(),[y,A]=x.useState(!1),E={...{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",position:"relative",overflow:"hidden",cursor:d?"pointer":"default",...p},...y&&d?{boxShadow:"0 12px 40px 0 rgba(31, 38, 135, 0.25)",background:"rgba(255, 255, 255, 0.85)"}:{}},D={position:"absolute",top:0,left:0,right:0,height:"3px",background:`linear-gradient(90deg, ${l||b.primary} 0%, ${b.secondary} 100%)`,opacity:y?1:0},T={display:"flex",alignItems:"center",gap:"1rem"},P={width:`${60*g}px`,height:`${60*g}px`,borderRadius:`${.75*g}rem`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.1)",color:l||b.primary},O={flex:1},M={margin:"0 0 0.5rem 0",color:b.textSecondary,fontSize:`${.875*g}rem`,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},N={margin:0,color:b.text,fontSize:`${2*g*.7}rem`,fontWeight:700},B={marginTop:"0.5rem",fontSize:`${.75*g}rem`,fontWeight:600,display:"flex",alignItems:"center",gap:"0.25rem",color:u==="positive"?"#27ae60":u==="negative"?"#e74c3c":b.textSecondary};return e==="custom"&&h?a.jsxs("div",{className:m,style:E,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onClick:d,children:[a.jsx("div",{style:D}),h]}):a.jsxs("div",{className:m,style:E,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onClick:d,children:[a.jsx("div",{style:D}),a.jsxs("div",{style:T,children:[t&&a.jsx("div",{style:P,children:t}),a.jsxs("div",{style:O,children:[r&&a.jsx("h3",{style:M,children:r}),n!==void 0&&a.jsx("p",{style:N,children:n}),o&&a.jsx("p",{style:B,children:o})]})]})]})},NV=({data:e})=>{const t=[{name:"Science",students:45,teachers:8},{name:"Mathematics",students:38,teachers:6},{name:"English",students:32,teachers:5},{name:"History",students:28,teachers:4},{name:"Arts",students:22,teachers:3}],n=[{name:"Science",value:45,color:"#667eea"},{name:"Mathematics",value:38,color:"#764ba2"},{name:"English",value:32,color:"#f093fb"},{name:"History",value:28,color:"#4facfe"},{name:"Arts",value:22,color:"#27ae60"}],r=e.financial||{monthlyRevenue:0,totalFees:0,expenses:0,profit:0},l=b=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(b)}`,o={width:"100%"},u={margin:"0 0 2rem 0",color:"#333",fontSize:"2rem"},d={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(210px, 1fr))",gap:"1.125rem"},h={margin:"2.5rem 0 1.5rem 0",fontSize:"1.5rem",fontWeight:600,color:"#333",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},m={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},p={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},g={margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .dashboard-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        .chart-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        @media (max-width: 768px) {
          .charts-container {
            grid-template-columns: 1fr;
          }
        }
      `}),a.jsxs("div",{style:o,children:[a.jsx("h2",{style:u,children:"Admin Dashboard"}),a.jsxs("div",{style:d,children:[a.jsx(Ee,{variant:"stat",icon:a.jsx($t,{size:21}),value:e.stats?.totalStudents||0,label:"Total Students",color:"#667eea",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx(hc,{size:21}),value:e.stats?.totalTeachers||0,label:"Total Teachers",color:"#48bb78",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Ot,{size:21}),value:e.stats?.totalClasses||0,label:"Total Classes",color:"#ed8936",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:21}),value:e.stats?.pendingAdmissions||0,label:"Pending Approvals",color:"#9f7aea",fontSize:.75})]}),a.jsx("div",{style:h,children:"Financial Overview"}),a.jsxs("div",{style:d,children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:21}),value:l(r.monthlyRevenue),label:"Monthly Revenue",color:"#667eea",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx(B5,{size:21}),value:l(r.totalFees),label:"Total Fees",color:"#48bb78",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:21}),value:l(r.expenses),label:"Monthly Expenses",color:"#e53e3e",fontSize:.75}),a.jsx(Ee,{variant:"stat",icon:a.jsx($a,{size:21}),value:l(r.profit),label:"Net Profit",color:"#667eea",fontSize:.75})]}),a.jsx("div",{style:h,children:"Department Statistics"}),a.jsxs("div",{style:m,className:"charts-container",children:[a.jsxs("div",{style:p,className:"chart-card",children:[a.jsx("h3",{style:g,children:"Students & Teachers by Department"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"name"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"students",fill:"#667eea",name:"Students"}),a.jsx(bt,{dataKey:"teachers",fill:"#764ba2",name:"Teachers"})]})})]}),a.jsxs("div",{style:p,className:"chart-card",children:[a.jsx("h3",{style:g,children:"Student Distribution by Department"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Yc,{children:[a.jsx(no,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:b=>`${b.name} ${(b.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((b,y)=>a.jsx(ii,{fill:b.color},`cell-${y}`))}),a.jsx(gt,{})]})})]})]})]})]})},zV=()=>{const e=[{label:"My Classes",value:"5",icon:a.jsx(Ot,{size:28}),color:"#667eea"},{label:"Total Students",value:"142",icon:a.jsx($t,{size:28}),color:"#48bb78"},{label:"Assignments",value:"12",icon:a.jsx(nt,{size:28}),color:"#ed8936"},{label:"Upcoming Exams",value:"3",icon:a.jsx($e,{size:28}),color:"#9f7aea"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Teacher Dashboard"})}),a.jsx("div",{className:"dashboard-grid",children:e.map(t=>a.jsx(Ee,{variant:"stat",icon:t.icon,value:t.value,label:t.label,color:t.color},t.label))})]})},PV=()=>{const e=[{label:"My Courses",value:"6",icon:a.jsx(Ot,{size:28}),color:"#667eea"},{label:"Assignments",value:"8",icon:a.jsx(Sy,{size:28}),color:"#48bb78"},{label:"Upcoming Exams",value:"2",icon:a.jsx($e,{size:28}),color:"#ed8936"},{label:"Average Grade",value:"A-",icon:a.jsx(Nl,{size:28}),color:"#9f7aea"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Dashboard"})}),a.jsx("div",{className:"dashboard-grid",children:e.map(t=>a.jsx(Ee,{variant:"stat",icon:t.icon,value:t.value,label:t.label,color:t.color},t.label))})]})},_V=()=>{const e={monthlyRevenue:45e3,totalFees:38e4,expenses:35e3,profit:1e4},t=[{month:"Jan",Revenue:4e4,Expenses:3e4,Profit:1e4},{month:"Feb",Revenue:42e3,Expenses:32e3,Profit:1e4},{month:"Mar",Revenue:45e3,Expenses:35e3,Profit:1e4},{month:"Apr",Revenue:48e3,Expenses:33e3,Profit:15e3},{month:"May",Revenue:5e4,Expenses:34e3,Profit:16e3},{month:"Jun",Revenue:52e3,Expenses:36e3,Profit:16e3}],n=[{name:"Fee Collection",value:28e4,color:"#667eea"},{name:"Other Income",value:1e5,color:"#764ba2"}],r=h=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(h)}`,l={margin:"2.5rem 0 1.5rem 0",fontSize:"1.5rem",fontWeight:600,color:"#333",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},o={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},u={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},d={margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .chart-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        @media (max-width: 768px) {
          .charts-container {
            grid-template-columns: 1fr;
          }
        }
      `}),a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Accountant Dashboard"})}),a.jsx("div",{style:l,children:"Financial Overview"}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:28}),value:r(e.monthlyRevenue),label:"Monthly Revenue",color:"#667eea",trend:"+12% from last month",trendType:"positive"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(B5,{size:28}),value:r(e.totalFees),label:"Total Fees",color:"#48bb78",trend:"+8% from last year",trendType:"positive"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:28}),value:r(e.expenses),label:"Monthly Expenses",color:"#e53e3e",trend:"-5% from last month",trendType:"negative"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($a,{size:28}),value:r(e.profit),label:"Net Profit",color:"#667eea",trend:"+15% from last month",trendType:"positive"})]}),a.jsx("div",{style:l,children:"Financial Analytics"}),a.jsxs("div",{style:o,className:"charts-container",children:[a.jsxs("div",{style:u,className:"chart-card",children:[a.jsx("h3",{style:d,children:"Monthly Financial Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:h=>r(h)}),a.jsx(At,{}),a.jsx(bt,{dataKey:"Revenue",fill:"#667eea",name:"Revenue"}),a.jsx(bt,{dataKey:"Expenses",fill:"#e53e3e",name:"Expenses"}),a.jsx(bt,{dataKey:"Profit",fill:"#48bb78",name:"Profit"})]})})]}),a.jsxs("div",{style:u,className:"chart-card",children:[a.jsx("h3",{style:d,children:"Revenue by Category"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Yc,{children:[a.jsx(no,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:h=>`${h.name} ${(h.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((h,m)=>a.jsx(ii,{fill:h.color},`cell-${m}`))}),a.jsx(gt,{formatter:h=>r(h)})]})})]})]})]})]})},RV=({role:e})=>{const t=Wr(),{colors:n}=Qa(),[r,l]=x.useState([]),o=w=>{l(E=>E.includes(w)?E.filter(D=>D!==w):[...E,w])},d=x.useMemo(()=>{const w=[{title:"Dashboard",path:`/dashboard/${e}`,icon:a.jsx(kP,{size:20})}];return e==="teacher"&&w.push({title:"Students",path:`/dashboard/${e}/students`,icon:a.jsx($t,{size:20})},{title:"Attendance",path:`/dashboard/${e}/attendance`,icon:a.jsx(KS,{size:20})},{title:"Assignments",path:`/dashboard/${e}/assignments`,icon:a.jsx(nt,{size:20})},{title:"Exams & Results",path:`/dashboard/${e}/exams`,icon:a.jsx(vr,{size:20})},{title:"Timetable",path:`/dashboard/${e}/timetable`,icon:a.jsx($e,{size:20})}),e==="student"&&w.push({title:"My Courses",path:`/dashboard/${e}/my-courses`,icon:a.jsx(Ot,{size:20})},{title:"Assignments",path:`/dashboard/${e}/assignments`,icon:a.jsx(Sy,{size:20})},{title:"Papers",path:`/dashboard/${e}/papers`,icon:a.jsx(nt,{size:20})},{title:"My Grades",path:`/dashboard/${e}/my-grades`,icon:a.jsx(Nl,{size:20})}),e==="accountant"&&w.push({title:"Accounts",path:`/dashboard/${e}/accounts`,icon:a.jsx(Nt,{size:20}),subMenus:[{title:"Overview",path:"/accounts"},{title:"Student Fee Collection",path:"/accounts/fees"},{title:"Teacher Payroll",path:"/accounts/payroll"},{title:"Expenses",path:"/accounts/expenses"},{title:"Reports",path:"/accounts/reports"},{title:"Transactions",path:"/accounts/transactions"}]}),e==="admin"&&w.push({title:"Teachers",path:`/dashboard/${e}/teachers`,icon:a.jsx($t,{size:20}),subMenus:[{title:"All Teachers",path:"/teachers"},{title:"Teacher Performance",path:"/teachers/performance"}]},{title:"Students",path:`/dashboard/${e}/students`,icon:a.jsx(vr,{size:20}),subMenus:[{title:"All Students",path:"/students"},{title:"Student Records",path:"/students/records"},{title:"Student Assignments",path:"/students/assignments"},{title:"Tests Papers",path:"/students/tests"},{title:"Quizzes",path:"/students/quizzes"}]},{title:"Classes",path:`/dashboard/${e}/classes`,icon:a.jsx(Ot,{size:20})},{title:"Subjects",path:`/dashboard/${e}/subjects`,icon:a.jsx(Jz,{size:20})},{title:"Attendance",path:`/dashboard/${e}/attendance/mark`,icon:a.jsx(KS,{size:20}),subMenus:[{title:"Mark Attendance",path:"/attendance/mark"},{title:"View Attendance",path:"/attendance/view"},{title:"Attendance Reports",path:"/attendance/reports"},{title:"Daily Reports",path:"/attendance/daily"}]},{title:"Exams",path:`/dashboard/${e}/exams`,icon:a.jsx(nt,{size:20}),subMenus:[{title:"All Exams",path:"/exams"},{title:"Results",path:"/exams/results"}]},{title:"Accounts",path:`/dashboard/${e}/accounts`,icon:a.jsx(Nt,{size:20}),subMenus:[{title:"Overview",path:"/accounts"},{title:"Fee Management",path:"/accounts/fee-management"},{title:"Student Fee Collection",path:"/accounts/fees"},{title:"Teacher Payroll",path:"/accounts/payroll"},{title:"Expenses",path:"/accounts/expenses"},{title:"Reports",path:"/accounts/reports"},{title:"Transactions",path:"/accounts/transactions"}]},{title:"Admissions",path:`/dashboard/${e}/admissions`,icon:a.jsx(Sy,{size:20}),subMenus:[{title:"Applications",path:"/admissions"},{title:"Admission Reports",path:"/admissions/reports"}]},{title:"Reports",path:`/dashboard/${e}/reports`,icon:a.jsx(Nl,{size:20}),subMenus:[{title:"Academic Reports",path:"/reports/academic"},{title:"Attendance Reports",path:"/reports/attendance"}]},{title:"User Management",path:`/dashboard/${e}/users`,icon:a.jsx(i6,{size:20}),subMenus:[{title:"All Users",path:"/users"},{title:"User Activity",path:"/users/activity"}]},{title:"Multi Branch",path:`/dashboard/${e}/branches`,icon:a.jsx(Bi,{size:20}),subMenus:[{title:"All Branches",path:"/branches"},{title:"Add Branch",path:"/branches/add"},{title:"Branch Settings",path:"/branches/settings"},{title:"Branch Transfer",path:"/branches/transfer"},{title:"Branch Reports",path:"/branches/reports"}]},{title:"Settings",path:`/dashboard/${e}/settings`,icon:a.jsx(R5,{size:20}),subMenus:[{title:"Master Data",path:"/settings/master-data"},{title:"Theme Settings",path:"/settings/theme"},{title:"Button Examples",path:"/settings/buttons"},{title:"Badge Examples",path:"/settings/badges"},{title:"Icon Button Examples",path:"/settings/icon-buttons"}]}),w},[e]),h={width:"260px",background:n.sidebar,color:n.text,height:"100vh",position:"fixed",left:0,top:0,overflowY:"auto",boxShadow:"2px 0 10px rgba(0, 0, 0, 0.05)",zIndex:1e3,borderRight:`1px solid ${n.border}`},m={padding:"1.5rem",borderBottom:`1px solid ${n.border}`},p={margin:0,fontSize:"1.25rem",fontWeight:600,color:n.text},g={padding:"1rem 0"},b=(w,E)=>({display:"flex",alignItems:"center",padding:"0.875rem 1.5rem",color:w?n.active:n.text,textDecoration:"none",cursor:"pointer",borderLeft:`3px solid ${w?n.active:"transparent"}`,background:w?n.surface:E?n.background:"transparent",fontWeight:w?600:400}),y={marginRight:"0.75rem",width:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:n.textSecondary},A={listStyle:"none",padding:0,margin:0,background:n.background},S=w=>({display:"block",padding:"0.75rem 1.5rem 0.75rem 3.5rem",color:w?n.active:n.textSecondary,textDecoration:"none",borderLeft:`3px solid ${w?n.active:"transparent"}`,fontSize:"0.9rem",background:w?n.surface:"transparent",fontWeight:w?600:400});return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .menu-title:hover {
          background: ${n.background} !important;
          border-left-color: ${n.hover} !important;
        }
        .sub-menu a:hover {
          background: ${n.surface} !important;
          border-left-color: ${n.hover} !important;
          padding-left: 4rem;
          color: ${n.text} !important;
        }
        .menu-title.active .menu-icon {
          color: ${n.active} !important;
        }
        .sidebar::-webkit-scrollbar {
          width: 6px;
        }
        .sidebar::-webkit-scrollbar-track {
          background: ${n.background};
        }
        .sidebar::-webkit-scrollbar-thumb {
          background: ${n.border};
          border-radius: 3px;
        }
        .sidebar::-webkit-scrollbar-thumb:hover {
          background: ${n.textSecondary};
        }
      `}),a.jsxs("aside",{className:"sidebar",style:h,children:[a.jsx("div",{style:m,children:a.jsx("h2",{style:p,children:"Scholyman"})}),a.jsx("nav",{style:g,children:d.map(w=>{const E=t.pathname===w.path||t.pathname.startsWith(w.path+"/"),D=r.includes(w.title);return a.jsx("div",{style:{marginBottom:"0.25rem"},children:w.subMenus?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:b(E,D),className:"menu-title",onClick:()=>o(w.title),children:[a.jsx("span",{style:y,className:"menu-icon",children:w.icon}),a.jsx("span",{style:{flex:1},children:w.title}),a.jsx(sP,{size:16,style:{transform:D?"rotate(180deg)":"rotate(0deg)"}})]}),D&&a.jsx("ul",{style:A,children:w.subMenus.map(T=>{const P=t.pathname===`/dashboard/${e}${T.path}`;return a.jsx("li",{style:{margin:0},children:a.jsx(kl,{to:`/dashboard/${e}${T.path}`,style:S(P),className:P?"active":"",children:T.title})},T.path)})})]}):a.jsxs(kl,{to:w.path,style:b(E,!1),className:E?"active":"",children:[a.jsx("span",{style:y,className:"menu-icon",children:w.icon}),a.jsx("span",{style:{flex:1},children:w.title})]})},w.title)})})]})]})},BV=({role:e})=>{const t=jt(),{colors:n}=Qa(),r=()=>{t("/")},l={background:n.navbar,borderBottom:`1px solid ${n.border}`,color:n.text,padding:"1.5rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",position:"sticky",top:0,zIndex:100},o={margin:0,fontSize:"1.5rem",fontWeight:600,color:n.text},u={display:"flex",alignItems:"center",gap:"1rem"},d={background:n.background,color:n.active,padding:"0.5rem 1rem",borderRadius:"0.5rem",fontWeight:600,fontSize:"0.875rem"},h={background:n.button,color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:500};return a.jsxs("header",{style:l,children:[a.jsx("h1",{style:o,children:"Scholyman"}),a.jsxs("div",{style:u,children:[a.jsx("span",{style:d,children:e.toUpperCase()}),a.jsx("button",{onClick:r,style:h,onMouseEnter:m=>{m.currentTarget.style.background=n.buttonHover},onMouseLeave:m=>{m.currentTarget.style.background=n.button},children:"Logout"})]})]})},QE=({role:e,children:t})=>{const{colors:n}=Qa(),r={minHeight:"100vh",background:n.background,display:"flex"},l={flex:1,marginLeft:"260px",display:"flex",flexDirection:"column",background:n.background},o={padding:"2rem",flex:1,minHeight:"calc(100vh - 80px)"};return a.jsxs("div",{style:r,children:[a.jsx(RV,{role:e}),a.jsxs("div",{style:l,children:[a.jsx(BV,{role:e}),a.jsx("main",{style:o,children:t})]})]})},IV=()=>{const{role:e}=Fn(),t=jt(),n=Wr(),[r,l]=x.useState(null),[o,u]=x.useState(!0),[d,h]=x.useState(null);return x.useEffect(()=>{if(!e||!["admin","teacher","student","accountant"].includes(e)){t("/");return}const m="http://localhost:5001/api",p=localStorage.getItem("auth_token");if(!p){t("/");return}fetch(`${m}/dashboard/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}}).then(g=>{if(!g.ok){if(g.status===401){localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),t("/");return}throw new Error(`HTTP error! status: ${g.status}`)}return g.json()}).then(g=>{if(g.success&&g.data)if(e==="admin"&&g.data){const b={stats:{totalStudents:g.data.totalStudents||0,totalTeachers:g.data.totalTeachers||0,totalClasses:g.data.totalClasses||0,totalSubjects:g.data.totalSubjects||0,pendingAdmissions:g.data.pendingAdmissions||0,activeExams:g.data.activeExams||0,totalUsers:g.data.totalUsers||0},financial:g.data.financial,recentFeeCollections:g.data.recentFeeCollections};l({admin:b})}else l({[e]:g.data});else if(e==="admin"&&g){const b={stats:{totalStudents:g.totalStudents||0,totalTeachers:g.totalTeachers||0,totalClasses:g.totalClasses||0,totalSubjects:g.totalSubjects||0,pendingAdmissions:g.pendingAdmissions||0,activeExams:g.activeExams||0,totalUsers:g.totalUsers||0},financial:g.financial,recentFeeCollections:g.recentFeeCollections};l({admin:b})}else l({[e]:g});u(!1)}).catch(g=>{console.error("Error fetching dashboard data:",g),h(g.message),u(!1),l(null)})},[e,t]),o?a.jsx("div",{className:"loading",children:"Loading..."}):e?d?a.jsx(QE,{role:e,children:a.jsxs("div",{className:"error-message",children:[a.jsx("h2",{children:"Connection Error"}),a.jsx("p",{children:d}),a.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]})}):a.jsxs(QE,{role:e,children:[a.jsx(az,{}),n.pathname===`/dashboard/${e}`&&a.jsxs(a.Fragment,{children:[e==="admin"&&r?.admin&&a.jsx(NV,{data:r.admin}),e==="teacher"&&a.jsx(zV,{}),e==="student"&&a.jsx(PV,{}),e==="accountant"&&a.jsx(_V,{})]})]}):null},xe=({variant:e="primary",size:t="md",children:n,isLoading:r=!1,fullWidth:l=!1,className:o="",disabled:u,style:d,...h})=>{const{colors:m}=Qa(),p={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontFamily:"inherit",fontWeight:600,border:"none",borderRadius:"0.5rem",cursor:u||r?"not-allowed":"pointer",textDecoration:"none",position:"relative",opacity:u||r?.6:1,...d},g={sm:{padding:"0.5rem 1rem",fontSize:"0.875rem"},md:{padding:"0.75rem 1.5rem",fontSize:"1rem"},lg:{padding:"1rem 2rem",fontSize:"1.125rem"}},b={primary:{background:`linear-gradient(135deg, ${m.button} 0%, ${m.secondary} 100%)`,color:"white"},secondary:{background:m.background,color:m.text},danger:{background:"#e53e3e",color:"white"},success:{background:"#48bb78",color:"white"},outline:{background:"transparent",color:m.button,border:`2px solid ${m.button}`}},y={primary:{boxShadow:`0 5px 15px ${m.button}40`,background:`linear-gradient(135deg, ${m.buttonHover} 0%, ${m.secondary} 100%)`},secondary:{background:m.surface},danger:{background:"#c53030",boxShadow:"0 5px 15px rgba(229, 62, 62, 0.4)"},success:{background:"#38a169",boxShadow:"0 5px 15px rgba(72, 187, 120, 0.4)"},outline:{background:m.button,color:"white"}},[A,S]=x.useState(!1),w={...p,...g[t],...b[e],...A&&!u&&!r?y[e]:{},...l?{width:"100%"}:{}},E={width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%"};return a.jsx(a.Fragment,{children:a.jsxs("button",{className:o,style:w,disabled:u||r,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),...h,children:[r&&a.jsx("span",{style:E}),a.jsx("span",{style:{opacity:r?.7:1},children:n})]})})},ge=({children:e,variant:t="primary",size:n="md",rounded:r=!0,className:l="",style:o})=>{const u={pending:{backgroundColor:"rgba(234, 179, 8, 0.1)",color:"#facc15",border:"1px solid rgba(234, 179, 8, 0.2)"},approved:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ade80",border:"1px solid rgba(34, 197, 94, 0.2)"},active:{backgroundColor:"rgba(14, 165, 233, 0.1)",color:"#38bdf8",border:"1px solid rgba(14, 165, 233, 0.2)"},rejected:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)"},late:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#fb923c",border:"1px solid rgba(249, 115, 22, 0.2)"},absent:{backgroundColor:"rgba(244, 63, 94, 0.1)",color:"#fb7185",border:"1px solid rgba(244, 63, 94, 0.2)"},onLeave:{backgroundColor:"rgba(99, 102, 241, 0.1)",color:"#818cf8",border:"1px solid rgba(99, 102, 241, 0.2)"},excellent:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},good:{backgroundColor:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)"},average:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"},poor:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},high:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},medium:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"},low:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},passed:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},failed:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},paid:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},partial:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"}},d={primary:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none"},secondary:{background:"#f0f0f0",color:"#333",border:"none"},success:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ade80",border:"1px solid rgba(34, 197, 94, 0.2)"},danger:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)"},warning:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#fb923c",border:"1px solid rgba(249, 115, 22, 0.2)"},info:{backgroundColor:"rgba(14, 165, 233, 0.1)",color:"#38bdf8",border:"1px solid rgba(14, 165, 233, 0.2)"}},p={display:"inline-flex",alignItems:"center",fontWeight:500,whiteSpace:"nowrap",boxSizing:"border-box",...u[t]||d[t]||d.primary,...{sm:{padding:"0.125rem 0.625rem",fontSize:"0.75rem",borderRadius:r?"9999px":"0.25rem"},md:{padding:"0.125rem 0.625rem",fontSize:"0.75rem",borderRadius:r?"9999px":"0.375rem"},lg:{padding:"0.25rem 0.875rem",fontSize:"0.875rem",borderRadius:r?"9999px":"0.5rem"}}[n],...o};return a.jsx("span",{className:l,style:p,children:e})},$s={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},DM=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...$s,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.432 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),MM=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...$s,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6 18.25m0 0h12M10.56 2.25H13.5v1.5H10.56v-1.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9h1.5a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V12a3 3 0 0 1 3-3H6m12 0a42.415 42.415 0 0 0-12 0"})]}),kM=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...$s,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),NM=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...$s,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),zM=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...$s,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]}),$V=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...$s,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),LV=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...$s,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),Ue=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="View"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(DM,{size:n==="sm"?14:n==="md"?16:18})}),$r=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Print"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(MM,{size:n==="sm"?14:n==="md"?16:18})}),vt=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Edit"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(kM,{size:n==="sm"?14:n==="md"?16:18})}),Mt=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Delete"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(229, 62, 62, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#e53e3e"},children:a.jsx(NM,{size:n==="sm"?14:n==="md"?16:18})}),Br=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Approve"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(72, 187, 120, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#48bb78"},children:a.jsx(zM,{size:n==="sm"?14:n==="md"?16:18})}),ro=({onClick:e,variant:t="outline",size:n="md",disabled:r=!1,isLoading:l=!1,title:o="Add"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#3b82f6"},children:a.jsx($V,{size:n==="sm"?14:n==="md"?16:18})}),Gn=({onClick:e,variant:t="outline",size:n="md",disabled:r=!1,isLoading:l=!1,title:o="Back"})=>a.jsx(xe,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(LV,{size:n==="sm"?14:n==="md"?16:18})}),He=({isOpen:e,onClose:t,title:n,children:r,size:l="md",showCloseButton:o=!0,closeOnOverlayClick:u=!0,customMaxWidth:d})=>{if(x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const h=w=>{u&&w.target===w.currentTarget&&t()},m={sm:"400px",md:"600px",lg:"800px",xl:"1200px"},p={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},g={background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",width:"100%",maxWidth:d||m[l]},b={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e0e0e0"},y={margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},A={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",color:"#666",borderRadius:"0.25rem"},S={padding:"1.5rem",overflowY:"auto",flex:1};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .modal-body-scroll::-webkit-scrollbar {
          width: 6px;
        }
        .modal-body-scroll::-webkit-scrollbar-track {
          background: #f5f5f5;
        }
        .modal-body-scroll::-webkit-scrollbar-thumb {
          background: #d0d0d0;
          border-radius: 3px;
        }
        .modal-body-scroll::-webkit-scrollbar-thumb:hover {
          background: #b0b0b0;
        }
      `}),a.jsx("div",{style:p,onClick:h,children:a.jsxs("div",{style:g,children:[(n||o)&&a.jsxs("div",{style:b,children:[n&&a.jsx("h2",{style:y,children:n}),o&&a.jsx("button",{style:A,onClick:t,onMouseEnter:w=>{w.currentTarget.style.background="#f5f5f5",w.currentTarget.style.color="#333"},onMouseLeave:w=>{w.currentTarget.style.background="none",w.currentTarget.style.color="#666"},children:a.jsx(qa,{size:20})})]}),a.jsx("div",{style:S,className:"modal-body-scroll",children:r})]})})]})},Vi=({title:e,fields:t,sections:n,onSubmit:r,submitButtonText:l="Submit",submitButtonIcon:o,initialData:u={},onFieldChange:d,customSectionContent:h={}})=>{const{colors:m}=Qa(),p=()=>{const C={};return t.forEach(k=>{k.multiple?C[k.name]=u[k.name]??k.defaultValue??[]:C[k.name]=u[k.name]??k.defaultValue??""}),C},[g,b]=x.useState(p),[y,A]=x.useState({});bv.useEffect(()=>{if(Object.keys(u).length>0){const C={};t.forEach(k=>{if(k.multiple)C[k.name]=u[k.name]??k.defaultValue??[];else{const _=u[k.name];C[k.name]=_??k.defaultValue??""}}),console.log("Updating form data from initialData:",C),b(C)}},[u,t]);const S=(C,k)=>{b(_=>({..._,[C]:k})),d&&d(C,k),y[C]&&A(_=>{const $={..._};return delete $[C],$})},w=()=>{const C={};return t.forEach(k=>{if(k.required)if(k.multiple){const _=g[k.name];(!Array.isArray(_)||_.length===0)&&(C[k.name]=`${k.label} is required`)}else g[k.name]||(C[k.name]=`${k.label} is required`);k.type==="email"&&g[k.name]&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g[k.name])||(C[k.name]="Please enter a valid email address"))}),A(C),Object.keys(C).length===0},E=C=>{C.preventDefault(),w()&&r(g)},D=()=>{if(n&&n.length>0){const _=[];return n.forEach($=>{const V=t.filter(H=>$.fieldNames.includes(H.name)),R=h[$.title];if(V.length===0&&R){_.push({title:$.title,fields:[]});return}let G=[],J=!0;V.forEach((H,F)=>{H.thirdWidth||H.halfWidth?(G.push(H),(G.length===3||F===V.length-1||!V[F+1]?.thirdWidth&&!V[F+1]?.halfWidth)&&(_.push({title:J?$.title:void 0,fields:[...G]}),J=!1,G=[])):(G.length>0&&(_.push({title:J?$.title:void 0,fields:[...G]}),J=!1,G=[]),_.push({title:J?$.title:void 0,fields:[H]}),J=!1)}),G.length>0&&_.push({title:J?$.title:void 0,fields:G})}),_}const C=[];let k=[];return t.forEach((_,$)=>{if(_.thirdWidth||_.halfWidth){k.push(_);const V=t[$+1];(!V||!V.thirdWidth&&!V.halfWidth||k.length===3)&&(C.push({fields:[...k]}),k=[])}else k.length>0&&(C.push({fields:[...k]}),k=[]),C.push({fields:[_]})}),k.length>0&&C.push({fields:k}),C},[T,P]=x.useState(new Set),O=C=>{P(k=>new Set(k).add(C))},M=C=>{P(k=>{const _=new Set(k);return _.delete(C),_})},N=C=>{const k=!!y[C.name],_=T.has(C.name),$=`field-${C.name}`,V={padding:"0.625rem 0.75rem",borderWidth:"2px",borderStyle:"solid",borderColor:k?"#e53e3e":m.border,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",background:"white",width:"100%",boxSizing:"border-box"},R={outline:"none",borderColor:k?"#e53e3e":m.active},G={...V,..._?R:{}},J={fontWeight:500,color:m.text,fontSize:"0.85rem",marginBottom:"0.375rem"},H={color:"#e53e3e",fontSize:"0.8rem",marginTop:"0.25rem"},F={display:"flex",flexDirection:"column",gap:"0.375rem",flex:C.thirdWidth||C.halfWidth?"1":void 0},ne=()=>{switch(C.type){case"select":if(C.multiple){const oe=Array.isArray(g[C.name])?g[C.name]:[];return a.jsx("select",{id:$,multiple:!0,value:oe,onChange:ve=>{const Z=Array.from(ve.target.selectedOptions,he=>he.value);S(C.name,Z)},onFocus:()=>O(C.name),onBlur:()=>M(C.name),required:C.required,style:{...G,minHeight:"120px",padding:"0.5rem"},children:C.options?.map(ve=>a.jsx("option",{value:ve.value,children:ve.label},ve.value))})}else return a.jsxs("select",{id:$,value:g[C.name]||"",onChange:oe=>S(C.name,oe.target.value),onFocus:()=>O(C.name),onBlur:()=>M(C.name),required:C.required,disabled:C.disabled,style:{...G,...C.disabled?{opacity:.6,cursor:"not-allowed"}:{}},children:[a.jsx("option",{value:"",children:C.placeholder||`Select ${C.label}`}),Array.isArray(C.options)&&C.options.map(oe=>a.jsx("option",{value:oe.value,children:oe.label},oe.value))]});case"textarea":return a.jsx("textarea",{id:$,value:g[C.name]||"",onChange:oe=>S(C.name,oe.target.value),onFocus:()=>O(C.name),onBlur:()=>M(C.name),placeholder:C.placeholder,required:C.required,rows:C.rows||4,style:{...G,resize:"vertical",minHeight:"80px"}});default:return a.jsx("input",{id:$,type:C.type,value:g[C.name]||"",onChange:oe=>S(C.name,oe.target.value),onFocus:()=>O(C.name),onBlur:()=>M(C.name),placeholder:C.placeholder,required:C.required,disabled:C.disabled,min:C.min,max:C.max,style:{...G,...C.disabled?{opacity:.6,cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{}}})}};return a.jsxs("div",{style:F,children:[a.jsxs("label",{htmlFor:$,style:J,children:[C.label," ",C.required&&a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),ne(),k&&a.jsx("span",{style:H,children:y[C.name]})]},C.name)},B={padding:"1rem 2rem",paddingTop:"1rem",minHeight:"100vh",background:m.background},L={marginBottom:"1rem"},q={fontSize:"1.5rem",fontWeight:700,color:m.text,margin:0},U={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",maxWidth:"1200px",margin:"0 auto"},K={display:"flex",flexDirection:"column",gap:"1rem"},W={fontSize:"0.95rem",fontWeight:600,color:m.text,marginTop:"0.75rem",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.5px"},ee={display:"flex",gap:"1rem",width:"100%"},te=D();return a.jsxs("div",{style:B,children:[a.jsx("div",{style:L,children:a.jsx("h1",{style:q,children:e})}),a.jsx("div",{style:U,children:a.jsxs("form",{onSubmit:E,style:K,children:[te.map((C,k)=>{const _=C.title&&h[C.title],$=C.fields&&C.fields.length>0;return a.jsxs("div",{children:[C.title&&a.jsx("div",{style:{...W,marginTop:k===0?0:"1rem"},children:C.title}),_&&C.title&&a.jsx("div",{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:h[C.title]}),$&&($&&C.fields.length===1&&!C.fields[0].thirdWidth&&!C.fields[0].halfWidth?N(C.fields[0]):a.jsx("div",{style:ee,children:C.fields.map(V=>N(V))}))]},k)}),a.jsxs(xe,{type:"submit",variant:"primary",size:"md",fullWidth:!0,style:{marginTop:"0.75rem"},children:[o||a.jsx(zt,{size:16}),l]})]})})]})},nr=({isOpen:e,onClose:t,title:n,fields:r,sections:l,onSubmit:o,submitButtonText:u="Submit",submitButtonIcon:d,initialData:h={},onFieldChange:m,size:p="md",closeOnOverlayClick:g=!0})=>{const{colors:b}=Qa(),y=()=>{const F={};return r.forEach(ne=>{F[ne.name]=h[ne.name]??ne.defaultValue??""}),F},[A,S]=x.useState(y),[w,E]=x.useState({}),[D,T]=x.useState(new Set),P=x.useRef(e);x.useEffect(()=>{if(e&&!P.current)if(Object.keys(h).length>0){const F={};r.forEach(ne=>{F[ne.name]=h[ne.name]??ne.defaultValue??""}),S(F)}else S(y());!e&&P.current&&(S(y()),E({}),T(new Set)),P.current=e},[e]),x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const O=(F,ne)=>{const oe={...A,[F]:ne};S(oe),w[F]&&E(ve=>{const Z={...ve};return delete Z[F],Z}),m&&m(F,ne,oe)},M=()=>{const F={};return r.forEach(ne=>{ne.required&&!A[ne.name]&&(F[ne.name]=`${ne.label} is required`),ne.type==="email"&&A[ne.name]&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A[ne.name])||(F[ne.name]="Please enter a valid email address"))}),E(F),Object.keys(F).length===0},N=F=>{F.preventDefault(),M()&&o(A)},B=F=>{T(ne=>new Set(ne).add(F))},L=F=>{T(ne=>{const oe=new Set(ne);return oe.delete(F),oe})},q=()=>{if(l&&l.length>0){const oe=[];return l.forEach(ve=>{const Z=r.filter(re=>ve.fieldNames.includes(re.name));let he=[],be=!0;Z.forEach((re,Oe)=>{re.thirdWidth||re.halfWidth?(he.push(re),(he.length===3||Oe===Z.length-1||!Z[Oe+1]?.thirdWidth&&!Z[Oe+1]?.halfWidth)&&(oe.push({title:be?ve.title:void 0,fields:[...he]}),be=!1,he=[])):(he.length>0&&(oe.push({title:be?ve.title:void 0,fields:[...he]}),be=!1,he=[]),oe.push({title:be?ve.title:void 0,fields:[re]}),be=!1)}),he.length>0&&oe.push({title:be?ve.title:void 0,fields:he})}),oe}const F=[];let ne=[];return r.forEach((oe,ve)=>{if(oe.thirdWidth||oe.halfWidth){ne.push(oe);const Z=r[ve+1];(!Z||!Z.thirdWidth&&!Z.halfWidth||ne.length===3)&&(F.push({fields:[...ne]}),ne=[])}else ne.length>0&&(F.push({fields:[...ne]}),ne=[]),F.push({fields:[oe]})}),ne.length>0&&F.push({fields:ne}),F},U=F=>{const ne=!!w[F.name],oe=D.has(F.name),ve=`modal-field-${F.name}`,Z={padding:"0.625rem 0.75rem",borderWidth:"2px",borderStyle:"solid",borderColor:ne?"#e53e3e":b.border,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",background:"white",width:"100%",boxSizing:"border-box"},he={outline:"none",borderColor:ne?"#e53e3e":b.active},be={...Z,...oe?he:{}},re={fontWeight:500,color:b.text,fontSize:"0.85rem",marginBottom:"0.375rem"},Oe={color:"#e53e3e",fontSize:"0.8rem",marginTop:"0.25rem"},Q={display:"flex",flexDirection:"column",gap:"0.375rem",flex:F.thirdWidth||F.halfWidth?"1":void 0},ye=()=>{switch(F.type){case"select":return a.jsxs("select",{id:ve,value:A[F.name]||"",onChange:Ce=>O(F.name,Ce.target.value),onFocus:()=>B(F.name),onBlur:()=>L(F.name),required:F.required,style:be,children:[a.jsx("option",{value:"",children:F.placeholder||`Select ${F.label}`}),F.options?.map(Ce=>a.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))]});case"textarea":return a.jsx("textarea",{id:ve,value:A[F.name]||"",onChange:Ce=>O(F.name,Ce.target.value),onFocus:()=>B(F.name),onBlur:()=>L(F.name),placeholder:F.placeholder,required:F.required,rows:F.rows||4,style:{...be,resize:"vertical",minHeight:"80px"}});default:return a.jsx("input",{id:ve,type:F.type,value:A[F.name]||"",onChange:Ce=>O(F.name,Ce.target.value),onFocus:()=>B(F.name),onBlur:()=>L(F.name),placeholder:F.placeholder,required:F.required,min:F.min,max:F.max,style:be})}};return a.jsxs("div",{style:Q,children:[a.jsxs("label",{htmlFor:ve,style:re,children:[F.label," ",F.required&&a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),ye(),ne&&a.jsx("span",{style:Oe,children:w[F.name]})]},F.name)};if(!e)return null;const K=F=>{g&&F.target===F.currentTarget&&t()},W={sm:"400px",md:"600px",lg:"800px",xl:"1200px"},ee={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},te={background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",width:"100%",maxWidth:W[p]},C={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:`1px solid ${b.border}`},k={fontSize:"1.25rem",fontWeight:600,color:b.text,margin:0},_={background:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",color:b.textSecondary},$={padding:"1.5rem",overflowY:"auto",flex:1},V={display:"flex",flexDirection:"column",gap:"1.25rem"},R={fontSize:"1rem",fontWeight:600,color:b.text,marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:`2px solid ${b.border}`},G={display:"flex",gap:"1rem",alignItems:"flex-start"},J={display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1.5rem",borderTop:`1px solid ${b.border}`,background:"#f8f9fa"},H=q();return a.jsx(a.Fragment,{children:a.jsx("div",{style:ee,onClick:K,children:a.jsxs("div",{style:te,onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{style:C,children:[a.jsx("h2",{style:k,children:n}),a.jsx("button",{type:"button",onClick:t,style:_,onMouseEnter:F=>{F.currentTarget.style.background="#f0f0f0",F.currentTarget.style.color=b.text},onMouseLeave:F=>{F.currentTarget.style.background="transparent",F.currentTarget.style.color=b.textSecondary},children:a.jsx(qa,{size:20})})]}),a.jsx("div",{style:$,children:a.jsx("form",{id:"create-form-modal",onSubmit:N,style:V,children:H.map((F,ne)=>a.jsxs("div",{children:[F.title&&a.jsx("h3",{style:R,children:F.title}),F.fields&&F.fields.length>0&&a.jsx("div",{style:F.fields.some(oe=>oe.thirdWidth||oe.halfWidth)?G:{},children:F.fields.map(oe=>U(oe))})]},ne))})}),a.jsxs("div",{style:J,children:[a.jsx(xe,{type:"button",variant:"outline",size:"md",onClick:t,children:"Cancel"}),a.jsxs(xe,{type:"submit",form:"create-form-modal",variant:"primary",size:"md",children:[d||a.jsx(zt,{size:16}),u]})]})]})})})},Gt=({sections:e,title:t,columns:n=2})=>{const{colors:r}=Qa(),l={padding:"0.5rem 0"},o={marginBottom:"1.5rem"},u={marginBottom:"0.75rem",fontSize:"1rem",fontWeight:600,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},d={display:"flex",flexDirection:"column"},h={display:"block",fontSize:"0.8rem",color:"#666",marginBottom:"0.1rem"},m={margin:0,fontSize:"0.9rem",fontWeight:500},p={margin:0,fontSize:"0.9rem"},g=(y,A)=>{let S;y.spanFull?S="1 / -1":y.span&&y.span>1&&(S=`span ${y.span}`);const w={...d,gridColumn:S},E=y.icon,D=y.key||y.label||A;return a.jsxs("div",{style:w,children:[a.jsxs("label",{style:h,children:[E&&a.jsx(E,{size:14,style:{display:"inline",marginRight:"0.25rem"}}),y.label]}),y.renderAsBadge?a.jsx("div",{style:{display:"inline-block"},children:a.jsx(ge,{variant:y.renderAsBadge.variant,size:y.renderAsBadge.size||"sm",children:y.value})}):y.customRender?y.customRender(y.value):a.jsx("p",{style:typeof y.value=="string"&&y.value.length>50?p:m,children:y.value})]},D)},b=(y,A)=>{const S=y.icon,E={display:"grid",gridTemplateColumns:`repeat(${y.columns??n}, 1fr)`,gap:"0.25rem"};return a.jsxs("div",{style:o,children:[a.jsxs("h3",{style:u,children:[S&&a.jsx(S,{size:18}),y.title]}),y.customContent?y.customContent:a.jsx("div",{style:E,children:y.fields.map((D,T)=>g(D,T))})]},A)};return a.jsxs("div",{style:l,children:[t&&a.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:600,color:r.text},children:t}),e.map((y,A)=>b(y,A))]})},si=({columns:e,data:t,emptyMessage:n="No data found",emptyMessageColSpan:r,onRowClick:l,rowKey:o,className:u="",style:d})=>{const h=Array.isArray(t)?t:[],m=(y,A)=>o?o(y,A):y.id!==void 0?y.id:A,p=(y,A,S)=>{if(y.render){const w=y.accessor?y.accessor(A):A[y.key];return y.render(w,A,S)}return y.accessor?y.accessor(A):A[y.key]},g={textAlign:"left"},b={textAlign:"left"};return a.jsx("div",{className:`table-container ${u}`,style:d,children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsx("tr",{children:e.map(y=>a.jsx("th",{style:{...b,textAlign:y.align||"left",...y.width?{width:y.width}:{}},children:y.header},y.key))})}),a.jsx("tbody",{children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:r||e.length,style:{textAlign:"center",padding:"2rem",color:"#999"},children:n})}):h.map((y,A)=>a.jsx("tr",{onClick:()=>l?.(y,A),style:{cursor:l?"pointer":"default"},children:e.map(S=>a.jsx("td",{style:{...g,textAlign:S.align||"left"},children:p(S,y,A)},S.key))},m(y,A)))})]})})},je="http://localhost:5001/api";class UV extends Error{status;constructor(t,n){super(n),this.status=t,this.name="ApiError"}}const GV=()=>localStorage.getItem("auth_token");async function Se(e){if(!e.ok){let t;try{t=await e.json()}catch{t={error:e.statusText,message:e.statusText}}const n=t.message||t.error||t.errors?.[0]?.msg||e.statusText,r=new UV(e.status,n);throw r.errorData=t,r}return e.json()}async function Ae(e,t={}){const n=GV(),r={"Content-Type":"application/json",...t.headers};return n&&(r.Authorization=`Bearer ${n}`),fetch(e,{...t,headers:r})}const ue={students:{getAll:()=>Ae(`${je}/students`).then(Se),getById:e=>Ae(`${je}/students/${e}`).then(Se),create:e=>Ae(`${je}/students`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/students/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/students/${e}`,{method:"DELETE"}).then(Se),getByClass:e=>Ae(`${je}/students/class/${encodeURIComponent(e)}`).then(Se)},teachers:{getAll:()=>Ae(`${je}/teachers`).then(Se),getById:e=>Ae(`${je}/teachers/${e}`).then(Se),create:e=>Ae(`${je}/teachers`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/teachers/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/teachers/${e}`,{method:"DELETE"}).then(Se)},subjects:{getAll:()=>Ae(`${je}/subjects`).then(Se),getById:e=>Ae(`${je}/subjects/${e}`).then(Se),create:e=>Ae(`${je}/subjects`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/subjects/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/subjects/${e}`,{method:"DELETE"}).then(Se)},classes:{getAll:()=>Ae(`${je}/classes`).then(Se),getById:e=>Ae(`${je}/classes/${e}`).then(Se),create:e=>Ae(`${je}/classes`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/classes/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/classes/${e}`,{method:"DELETE"}).then(Se)},grades:{getAll:()=>Ae(`${je}/classes`).then(Se),getById:e=>Ae(`${je}/classes/${e}`).then(Se),create:e=>Ae(`${je}/classes`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/classes/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/classes/${e}`,{method:"DELETE"}).then(Se)},admissions:{getAll:()=>Ae(`${je}/admissions`).then(Se),getById:e=>Ae(`${je}/admissions/${e}`).then(Se),create:e=>Ae(`${je}/admissions`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/admissions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/admissions/${e}`,{method:"DELETE"}).then(Se),getByStatus:e=>Ae(`${je}/admissions/status/${e}`).then(Se)},exams:{getAll:()=>Ae(`${je}/exams`).then(Se),getById:e=>Ae(`${je}/exams/${e}`).then(Se),create:e=>Ae(`${je}/exams`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/exams/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/exams/${e}`,{method:"DELETE"}).then(Se)},examResults:{getAll:()=>Ae(`${je}/exams/results/all`).then(Se),getById:e=>Ae(`${je}/exams/results/${e}`).then(Se),getByExamId:e=>Ae(`${je}/exams/results/exam/${e}`).then(Se),create:e=>Ae(`${je}/exams/results`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/exams/results/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/exams/results/${e}`,{method:"DELETE"}).then(Se)},assignments:{getAll:()=>Ae(`${je}/assignments`).then(Se),getById:e=>Ae(`${je}/assignments/${e}`).then(Se),getByClass:e=>Ae(`${je}/assignments/class/${encodeURIComponent(e)}`).then(Se),create:e=>Ae(`${je}/assignments`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/assignments/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/assignments/${e}`,{method:"DELETE"}).then(Se)},assignmentSubmissions:{getAll:()=>Ae(`${je}/assignments/submissions/all`).then(Se),getById:e=>Ae(`${je}/assignments/submissions/${e}`).then(Se),getByAssignmentId:e=>Ae(`${je}/assignments/submissions/assignment/${e}`).then(Se),getByStudentId:e=>Ae(`${je}/assignments/submissions/student/${e}`).then(Se),create:e=>Ae(`${je}/assignments/submissions`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/assignments/submissions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/assignments/submissions/${e}`,{method:"DELETE"}).then(Se)},fees:{gradeFees:{getAll:()=>Ae(`${je}/fees`).then(Se),getById:e=>Ae(`${je}/fees/${e}`).then(Se),getByGrade:e=>Ae(`${je}/fees/grade/${encodeURIComponent(e)}`).then(Se),create:e=>Ae(`${je}/fees`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/fees/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/fees/${e}`,{method:"DELETE"}).then(Se)},collections:{getAll:()=>Ae(`${je}/fee-collections`).then(Se),getById:e=>Ae(`${je}/fee-collections/${e}`).then(Se),getByStudentId:e=>Ae(`${je}/fee-collections?studentId=${e}`).then(Se),create:e=>Ae(`${je}/fee-collections`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/fee-collections/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/fee-collections/${e}`,{method:"DELETE"}).then(Se)}},transactions:{getAll:()=>Ae(`${je}/transactions`).then(Se),getById:e=>Ae(`${je}/transactions/${e}`).then(Se),create:e=>Ae(`${je}/transactions`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/transactions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/transactions/${e}`,{method:"DELETE"}).then(Se)},expenses:{getAll:()=>Ae(`${je}/accounts/expenses`).then(Se),getById:e=>Ae(`${je}/accounts/expenses/${e}`).then(Se),create:e=>Ae(`${je}/accounts/expenses`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/accounts/expenses/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/accounts/expenses/${e}`,{method:"DELETE"}).then(Se)},payroll:{getAll:()=>Ae(`${je}/accounts/payroll`).then(Se),getById:e=>Ae(`${je}/accounts/payroll/${e}`).then(Se),create:e=>Ae(`${je}/accounts/payroll`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/accounts/payroll/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/accounts/payroll/${e}`,{method:"DELETE"}).then(Se)},attendance:{getAll:e=>{const t=new URLSearchParams;e?.date&&t.append("date",e.date),e?.class&&t.append("class",e.class),e?.studentId&&t.append("studentId",e.studentId);const n=t.toString();return Ae(`${je}/attendance${n?`?${n}`:""}`).then(Se)},getById:e=>Ae(`${je}/attendance/${e}`).then(Se),create:e=>Ae(`${je}/attendance`,{method:"POST",body:JSON.stringify(e)}).then(Se),createBulk:e=>Ae(`${je}/attendance/bulk`,{method:"POST",body:JSON.stringify({records:e})}).then(Se),update:(e,t)=>Ae(`${je}/attendance/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/attendance/${e}`,{method:"DELETE"}).then(Se)},users:{getAll:()=>Ae(`${je}/users`).then(Se),getById:e=>Ae(`${je}/users/${e}`).then(Se),create:e=>Ae(`${je}/users`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/users/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/users/${e}`,{method:"DELETE"}).then(Se)},masterData:{getAll:e=>{const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status);const n=t.toString();return Ae(`${je}/master-data${n?`?${n}`:""}`).then(Se)},getById:e=>Ae(`${je}/master-data/${e}`).then(Se),getByCode:(e,t)=>{const n=new URLSearchParams;t&&n.append("type",t);const r=n.toString();return Ae(`${je}/master-data/code/${e}${r?`?${r}`:""}`).then(Se)},create:e=>Ae(`${je}/master-data`,{method:"POST",body:JSON.stringify(e)}).then(Se),update:(e,t)=>Ae(`${je}/master-data/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Se),delete:e=>Ae(`${je}/master-data/${e}`,{method:"DELETE"}).then(Se)}},FV=()=>{const e=jt(),[t,n]=x.useState([]);x.useEffect(()=>{const w=async()=>{try{const D=await ue.teachers.getAll();D.data?.teachers?n(D.data.teachers):n([])}catch(D){console.error("Error loading teachers:",D),n([])}};w();const E=setInterval(()=>{w()},3e4);return()=>{clearInterval(E)}},[]);const[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState(!1),m=w=>w.toLowerCase()==="active"?"active":"rejected",p=w=>{if(!w)return"";try{const E=new Date(w);if(isNaN(E.getTime()))return w.toString();const D=E.getFullYear(),T=String(E.getMonth()+1).padStart(2,"0"),P=String(E.getDate()).padStart(2,"0");return`${D}-${T}-${P}`}catch{return w.toString()}},g=w=>{l(w),u(!0)},b=w=>{const E=w._id||w.teacherId||w.id;e(`/dashboard/admin/teachers/edit/${E}`)},y=w=>{l(w),h(!0)},A=async()=>{if(r)try{const w=r._id||r.teacherId||r.id;await ue.teachers.delete(w),alert(`Teacher ${r.name} deleted successfully`),h(!1),l(null);const E=await ue.teachers.getAll();E.data?.teachers&&n(E.data.teachers)}catch(w){console.error("Error deleting teacher:",w),alert("Failed to delete teacher. Please try again.")}};x.useEffect(()=>{const w=async()=>{try{const E=await ue.teachers.getAll();E.data?.teachers&&n(E.data.teachers)}catch(E){console.error("Error loading teachers:",E)}};return window.addEventListener("focus",w),()=>window.removeEventListener("focus",w)},[]);const S=[{key:"id",header:"ID",render:(w,E)=>E.teacherId||E._id||E.id||"N/A"},{key:"name",header:"Name",render:(w,E)=>a.jsx("span",{onClick:()=>e(`/dashboard/admin/teachers/${E._id||E.teacherId||E.id}`),style:{color:"#667eea",cursor:"pointer",fontWeight:500,textDecoration:"none"},onMouseEnter:D=>{D.currentTarget.style.textDecoration="underline"},onMouseLeave:D=>{D.currentTarget.style.textDecoration="none"},children:w||E.name||"N/A"})},{key:"email",header:"Email"},{key:"subject",header:"Subject"},{key:"phone",header:"Phone"},{key:"experience",header:"Experience"},{key:"status",header:"Status",render:w=>a.jsx(ge,{variant:m(w),size:"sm",children:w})},{key:"actions",header:"Actions",render:(w,E)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>g(E)}),a.jsx(vt,{size:"sm",onClick:()=>b(E)}),a.jsx(Mt,{size:"sm",onClick:()=>y(E)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Teachers"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/teachers/add"),children:[a.jsx(kf,{size:18}),"Add New Teacher"]})]}),a.jsx(si,{columns:S,data:t.slice(0,10),emptyMessage:"No teachers found"}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Teacher Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Basic Information",fields:[{label:"Name",value:r.name},{label:"Email",value:r.email,icon:Zr},{label:"Phone",value:r.phone,icon:Jr},{label:"Subject",value:r.subject,icon:Ot},{label:"Experience",value:r.experience,icon:yr},...r.qualification?[{label:"Qualification",value:r.qualification}]:[],...r.joinDate?[{label:"Join Date",value:p(r.joinDate),icon:$e}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:m(r.status),size:"sm"}},...r.address?[{label:"Address",value:r.address,icon:Rs,spanFull:!0}]:[]]}]})}),a.jsx(He,{isOpen:d,onClose:()=>{h(!1),l(null)},title:"Delete Teacher",size:"md",children:r&&a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#333"},children:["Are you sure you want to delete ",a.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>{h(!1),l(null)},children:"Cancel"}),a.jsxs(xe,{variant:"danger",size:"md",onClick:A,children:[a.jsx(Id,{size:18}),"Delete"]})]})]})})]})},ZE=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState({});x.useEffect(()=>{n&&t&&(async()=>{try{const h=await ue.teachers.getById(t);if(h.data?.teacher){const m=h.data.teacher;let p=0;if(m.experience){const g=m.experience.toString().match(/\d+/);g&&(p=parseInt(g[0])||0)}l({name:m.name||"",email:m.email||"",subject:m.subject||"",phone:m.phone||"",experience:p,qualification:m.qualification||"",address:m.address||"",city:m.city||"",country:m.country||""})}else console.error("Teacher not found"),alert("Teacher not found. Redirecting to teachers list."),e("/dashboard/admin/teachers")}catch(h){console.error("Error loading teacher:",h),alert("Failed to load teacher data. Please try again.")}})()},[t,n,e]);const o=[{name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Enter full name",thirdWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",thirdWidth:!0},{name:"subject",label:"Subject",type:"select",required:!0,thirdWidth:!0,options:[{value:"Mathematics",label:"Mathematics"},{value:"English",label:"English"},{value:"Science",label:"Science"},{value:"History",label:"History"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"}]},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",thirdWidth:!0},{name:"experience",label:"Experience (Years)",type:"number",required:!0,placeholder:"Enter years of experience",min:0,thirdWidth:!0},{name:"qualification",label:"Qualification",type:"text",placeholder:"e.g., M.Sc, B.Ed",thirdWidth:!0},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"city",label:"City",type:"text",placeholder:"Enter city",thirdWidth:!0},{name:"country",label:"Country",type:"text",placeholder:"Enter country",thirdWidth:!0}],u=async d=>{try{if(n&&t)await ue.teachers.update(t,{name:d.name,email:d.email,subject:d.subject,phone:d.phone,experience:`${d.experience} years`,qualification:d.qualification||void 0,address:d.address||void 0,city:d.city||void 0,country:d.country||void 0,status:d.status||"Active"})?(alert("Teacher updated successfully!"),e("/dashboard/admin/teachers")):alert("Failed to update teacher. Please try again.");else{const m=d.email.split("@")[0]||d.name.toLowerCase().replace(/\s+/g,"_"),p=Date.now(),g=`${m}_${p}`.substring(0,30),b="Teacher@123";let y,A;try{console.log("Creating user account for teacher:",{username:g,email:d.email,name:d.name}),y=await ue.users.create({username:g,email:d.email,password:b,name:d.name,role:"teacher"}),console.log("User created successfully:",y),A=y?.data?.user?._id||y?.data?.user?.id||y?.data?._id||y?._id}catch(E){if((E?.errorData?.message||E?.message||"").includes("already exists")||E?.status===400)try{if(((await ue.teachers.getAll())?.data?.teachers||[]).find(M=>M.email?.toLowerCase()===d.email.toLowerCase()))throw new Error(`A teacher with email ${d.email} already exists. Please use a different email or edit the existing teacher.`);try{const M=await ue.users.getAll(),B=(M?.data?.users||M?.data||[]).find(L=>L.email?.toLowerCase()===d.email.toLowerCase());if(B)if(B.role==="teacher")A=B._id||B.id,console.log("Using existing user account:",A);else throw new Error(`Email ${d.email} is already registered as a ${B.role}. Please use a different email.`);else throw new Error(`Email ${d.email} is already in use. Please use a different email.`)}catch{throw new Error(`Email ${d.email} is already in use. Please use a different email.`)}}catch(T){throw T}else{let T="User creation failed";throw E?.errorData?.message?T=E.errorData.message:E?.errorData?.error?T=typeof E.errorData.error=="string"?E.errorData.error:JSON.stringify(E.errorData.error):E?.errorData?.errors?Array.isArray(E.errorData.errors)?T=E.errorData.errors.map(P=>P.msg||P.message||P).join(", "):typeof E.errorData.errors=="object"&&(T=Object.entries(E.errorData.errors).map(([P,O])=>`${P}: ${O}`).join(", ")):E?.message&&(T=E.message),new Error(`Failed to create user account: ${T}`)}}if(!A)throw console.error("User response:",y),new Error("Failed to get user ID. Please try again.");console.log("Creating teacher with userId:",A);const S=await ue.teachers.create({userId:A,name:d.name,email:d.email,subject:d.subject,phone:d.phone,experience:`${d.experience} years`,qualification:d.qualification||void 0,address:d.address||void 0,city:d.city||void 0,country:d.country||void 0,status:d.status||"Active",joinDate:new Date().toISOString().split("T")[0]}),w=S?.data?.teacher?.name||S?.name||"Teacher";alert(`Teacher ${w} added successfully!`),e("/dashboard/admin/teachers")}}catch(h){console.error("Error saving teacher:",h),console.error("Full error object:",JSON.stringify(h,null,2));let m="Failed to save teacher. Please try again.";if(h?.message)m=h.message;else if(h?.errorData?.message)m=h.errorData.message;else if(h?.errorData?.error)m=typeof h.errorData.error=="string"?h.errorData.error:JSON.stringify(h.errorData.error);else if(h?.errorData?.errors){if(Array.isArray(h.errorData.errors))m=h.errorData.errors.map(p=>p.msg||p.message||p).join(", ");else if(typeof h.errorData.errors=="object"){const p=Object.entries(h.errorData.errors);p.length>0?m=p.map(([g,b])=>`${g.charAt(0).toUpperCase()+g.slice(1).replace(/([A-Z])/g," $1")}: ${b}`).join("; "):m=h.errorData.error||h.errorData.message||"Validation failed"}}else h?.error?m=typeof h.error=="string"?h.error:JSON.stringify(h.error):h?.statusText&&(m=h.statusText);console.error("Extracted error message:",m),alert(`Error: ${m}`)}};return a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/teachers"),title:"Back to Teachers"})}),a.jsx(Vi,{title:n?"Edit Teacher":"Add New Teacher",fields:o,onSubmit:u,submitButtonText:n?"Update Teacher":"Add Teacher",submitButtonIcon:a.jsx(zt,{size:16}),initialData:r},t||"new")]})},PM=({schedules:e,timeSlots:t,daysOfWeek:n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],onCellClick:r,cellHeight:l="80px"})=>{const[o,u]=x.useState("weekdays"),d=()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],h=o==="today"?e.filter(W=>W.day===d()):e,m=o==="today"?[d()]:n,g=t||["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],b=W=>{const[ee,te]=W.split(":").map(Number);return ee*60+(te||0)},y=(W,ee)=>h.find(te=>{if(te.day!==W)return!1;const C=b(ee);if(te.startTime&&te.endTime){const J=b(te.startTime),H=b(te.endTime);return C>=J&&C<H}const k=te.time.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/g);if(!k||k.length<2)return!1;const _=k[0],$=k[1],V=J=>{const[H,F]=J.split(/\s*(AM|PM)/),[ne,oe]=H.split(":").map(Number);let ve=ne;return F==="PM"&&ne!==12&&(ve+=12),F==="AM"&&ne===12&&(ve=0),ve*60+(oe||0)},R=V(_),G=V($);return C>=R&&C<G})||null,A={display:"flex",flexDirection:"column",width:"100%",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",overflow:"hidden"},S={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",background:"#f8f9fa",borderBottom:"2px solid #e0e0e0"},w={display:"flex",gap:"0.5rem",background:"white",borderRadius:"0.5rem",padding:"0.25rem",border:"1px solid #e0e0e0"},E=W=>({padding:"0.5rem 1rem",borderRadius:"0.375rem",border:"none",background:W?"#E6E6E6":"transparent",color:W?"#333":"#666",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"}),D={display:"grid",gridTemplateColumns:`120px repeat(${m.length}, 1fr)`,background:"#f8f9fa",borderBottom:"2px solid #e0e0e0"},T={padding:"0.75rem",fontSize:"0.85rem",fontWeight:600,color:"#333",textAlign:"center",borderRight:"1px solid #e0e0e0"},P={padding:"0.75rem",fontSize:"0.85rem",fontWeight:600,color:"#333",textAlign:"center",borderRight:"1px solid #e0e0e0",textTransform:"uppercase",letterSpacing:"0.5px"},O={display:"grid",gridTemplateColumns:`120px repeat(${m.length}, 1fr)`},M={padding:"0.5rem",fontSize:"0.75rem",color:"#666",textAlign:"center",borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",minHeight:l},N={padding:"0.25rem",borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #f0f0f0",minHeight:l,position:"relative",cursor:r?"pointer":"default"},B={...N,background:"#fafafa"},L={padding:"0.5rem",background:"#E6E6E6",color:"#333",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:500,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},q={fontWeight:600,marginBottom:"0.25rem"},U={fontSize:"0.7rem",opacity:.9,display:"flex",alignItems:"center",gap:"0.25rem"},K=W=>{const[ee,te]=W.split(":").map(Number),C=ee>=12?"PM":"AM";return`${ee>12?ee-12:ee===0?12:ee}:${te.toString().padStart(2,"0")} ${C}`};return a.jsxs("div",{style:A,children:[a.jsxs("div",{style:S,children:[a.jsx("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"#333"},children:"Schedule"}),a.jsxs("div",{style:w,children:[a.jsxs("button",{style:E(o==="today"),onClick:()=>u("today"),onMouseEnter:W=>{o!=="today"&&(W.currentTarget.style.background="#E6E6E6")},onMouseLeave:W=>{o!=="today"&&(W.currentTarget.style.background="transparent")},children:[a.jsx($e,{size:14}),"Today"]}),a.jsxs("button",{style:E(o==="weekdays"),onClick:()=>u("weekdays"),onMouseEnter:W=>{o!=="weekdays"&&(W.currentTarget.style.background="#E6E6E6")},onMouseLeave:W=>{o!=="weekdays"&&(W.currentTarget.style.background="transparent")},children:[a.jsx($e,{size:14}),"Weekdays"]})]})]}),a.jsxs("div",{style:D,children:[a.jsx("div",{style:T,children:"Time"}),m.map(W=>a.jsx("div",{style:P,children:W.substring(0,3)},W))]}),a.jsx("div",{style:O,children:g.map(W=>a.jsxs(bv.Fragment,{children:[a.jsx("div",{style:M,children:K(W)}),m.map(ee=>{const te=y(ee,W),C=te?N:B;return a.jsx("div",{style:C,onClick:()=>r?.(te,ee,W),onMouseEnter:k=>{r&&(k.currentTarget.style.background=te?"#E6E6E6":"#f5f5f5")},onMouseLeave:k=>{r&&(k.currentTarget.style.background=te?"transparent":"#fafafa")},children:te&&a.jsxs("div",{style:L,children:[a.jsxs("div",{style:q,children:[te.subject,te.subjectCode&&a.jsxs("span",{style:{fontSize:"0.65rem",opacity:.8,marginLeft:"0.25rem",fontWeight:400},children:["(",te.subjectCode,")"]})]}),te.class&&a.jsx("div",{style:{fontSize:"0.7rem",opacity:.9,marginBottom:"0.25rem"},children:te.class}),a.jsxs("div",{style:U,children:[a.jsx(We,{size:10}),te.time]}),te.room&&a.jsx("div",{style:{fontSize:"0.65rem",opacity:.8,marginTop:"0.25rem"},children:te.room})]})},`${ee}-${W}`)})]},W))})]})},qV=()=>{const{id:e}=Fn(),t=jt(),[n,r]=x.useState(null),[l,o]=x.useState([]),[u,d]=x.useState(["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"]),[h,m]=x.useState(!0);x.useEffect(()=>{e&&(async()=>{try{m(!0);const y=await ue.teachers.getById(e),A=y?.data?.teacher||y?.data||y;if(A){r(A);try{const S=await ue.subjects.getAll(),w=S?.data?.subjects||S?.data||S||[],E=Array.isArray(w)?w:[];console.log("All subjects loaded:",E.length),console.log("Teacher data:",{_id:A._id,id:A.id});const D=(A._id||A.id||"").toString(),T=E.filter(L=>{let q=!1;if(L.teacherAssignments&&Array.isArray(L.teacherAssignments)&&(q=L.teacherAssignments.some(U=>{if(U.teacherId){const K=typeof U.teacherId=="object"?(U.teacherId._id||U.teacherId.id||"").toString():U.teacherId.toString();return String(K)===String(D)}return!1})),!q&&L.teacherId){const U=typeof L.teacherId=="object"?(L.teacherId._id||L.teacherId.id||"").toString():L.teacherId.toString();q=String(U)===String(D)}return q&&console.log("Found matching subject:",L.name,"Teacher assigned via:",L.teacherAssignments?"teacherAssignments":"teacherId","with schedules:",L.schedule?.length||0),q});console.log("Teacher subjects found:",T.length);const P=[];let O=1;const M=L=>L?L.charAt(0).toUpperCase()+L.slice(1).toLowerCase():"";T.forEach(L=>{const q=Array.isArray(L.schedule)?L.schedule:[];q.length===0&&console.log(`Subject "${L.name}" has no schedules`),q.forEach(U=>{if(!U.day||!U.startTime||!U.endTime){console.warn("Invalid schedule entry:",U);return}if(U.teacherId){const k=typeof U.teacherId=="object"?(U.teacherId._id||U.teacherId.id||"").toString():U.teacherId.toString();if(String(k)!==String(D)){console.log(`Skipping schedule entry - assigned to different teacher: ${k} vs ${D}`);return}console.log(`Including schedule entry - assigned to this teacher: ${L.name} on ${U.day}`)}else console.log(`Including shared schedule entry: ${L.name} on ${U.day}`);let K="N/A";if(U.grade&&U.section){const k=U.grade.trim(),$=U.section.trim().replace(/^Section\s*/i,"");K=`${k.split(",")[0].trim()} Section ${$}`}else if(U.grade)K=U.grade.split(",")[0].trim();else{const k=Array.isArray(L.grades)?L.grades:[];k.length>0&&(K=k[0])}const W=M(U.day),ee=k=>{if(!k)return"";if(k.includes(":")){const[_,$]=k.split(":"),V=parseInt(_,10),R=V>=12?"PM":"AM";return`${V%12||12}:${$||"00"} ${R}`}return k},te=ee(U.startTime),C=ee(U.endTime);P.push({id:O++,day:W,time:`${te} - ${C}`,subject:L.name||"Unknown Subject",subjectCode:L.code||L.subjectCode||void 0,class:K,room:U.room||"N/A",startTime:U.startTime,endTime:U.endTime})})}),console.log("Total schedules built:",P.length),o(P);const N=new Set;P.forEach(L=>{if(L.startTime){const[q]=L.startTime.split(":"),U=parseInt(q,10);N.add(`${U.toString().padStart(2,"0")}:00`)}if(L.endTime){const[q]=L.endTime.split(":"),U=parseInt(q,10);N.add(`${U.toString().padStart(2,"0")}:00`)}});const B=Array.from(N).sort();if(B.length>0){const L=parseInt(B[0].split(":")[0],10),q=parseInt(B[B.length-1].split(":")[0],10),U=Math.max(7,L-1),K=Math.min(18,q+2),W=[];for(let ee=U;ee<=K;ee++)W.push(`${ee.toString().padStart(2,"0")}:00`);d(W)}else d(["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"])}catch(S){console.error("Error loading subjects:",S),o([])}}else r(null)}catch(y){console.error("Error loading teacher:",y),r(null)}finally{m(!1)}})()},[e]);const p=b=>b.toLowerCase()==="active"?"active":"rejected",g=b=>{if(!b)return"";try{const y=new Date(b);if(isNaN(y.getTime()))return b.toString();const A=y.getFullYear(),S=String(y.getMonth()+1).padStart(2,"0"),w=String(y.getDate()).padStart(2,"0");return`${A}-${S}-${w}`}catch{return b.toString()}};return h?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading teacher details..."})})}):n?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/teachers"),title:"Back to Teachers"}),a.jsx("h1",{children:n.name})]})}),a.jsx(Ee,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Gt,{columns:5,sections:[{title:"Teacher Information",fields:[{label:"Name",value:n.name},{label:"Email",value:n.email,icon:Zr},{label:"Phone",value:n.phone,icon:Jr},{label:"Subject",value:n.subject,icon:Ot},{label:"Experience",value:n.experience,icon:yr},...n.qualification?[{label:"Qualification",value:n.qualification}]:[],...n.joinDate?[{label:"Join Date",value:g(n.joinDate),icon:$e}]:[],{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},...n.city?[{label:"City",value:n.city}]:[],...n.country?[{label:"Country",value:n.country}]:[],...n.address?[{label:"Address",value:n.address,icon:Rs,spanFull:!0}]:[]]}]})}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#333"},children:"Teaching Schedule"}),l.length===0?a.jsx(Ee,{variant:"custom",style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No schedule assigned yet. Assign this teacher to subjects with schedules to see their teaching schedule here."})}):a.jsx(PM,{schedules:l,timeSlots:u,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cellHeight:"100px"})]})]}):a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/teachers"),title:"Back to Teachers"}),a.jsx("h1",{children:"Teacher Not Found"})]}),a.jsx("p",{children:"The teacher you're looking for doesn't exist."})]})},WV=()=>{const e=[{id:1,name:"John Smith",subject:"Mathematics",rating:4.8,students:125,classes:5,attendance:95,performance:92},{id:2,name:"Sarah Johnson",subject:"English",rating:4.7,students:110,classes:4,attendance:93,performance:89},{id:3,name:"Michael Brown",subject:"Science",rating:4.9,students:98,classes:4,attendance:97,performance:94},{id:4,name:"Emily Davis",subject:"History",rating:4.6,students:85,classes:3,attendance:91,performance:87},{id:5,name:"David Wilson",subject:"Physics",rating:4.8,students:75,classes:3,attendance:96,performance:91}],t=e.map(r=>({name:r.name.split(" ")[0],rating:r.rating,attendance:r.attendance,performance:r.performance})),n=[{month:"Jan",avgRating:4.5,avgPerformance:85},{month:"Feb",avgRating:4.6,avgPerformance:87},{month:"Mar",avgRating:4.7,avgPerformance:89},{month:"Apr",avgRating:4.8,avgPerformance:90},{month:"May",avgRating:4.8,avgPerformance:91},{month:"Jun",avgRating:4.9,avgPerformance:92}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Teacher Performance"})}),a.jsx("div",{className:"section-title",children:"Performance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Teacher Ratings & Performance"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"name"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"rating",fill:"#667eea",name:"Rating"}),a.jsx(bt,{dataKey:"performance",fill:"#764ba2",name:"Performance %"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Performance Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Vc,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(Fi,{type:"monotone",dataKey:"avgRating",stroke:"#667eea",name:"Avg Rating"}),a.jsx(Fi,{type:"monotone",dataKey:"avgPerformance",stroke:"#27ae60",name:"Avg Performance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Individual Teacher Performance"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Teacher"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Students"}),a.jsx("th",{children:"Classes"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Performance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"teacher-name-cell",children:a.jsx("strong",{children:r.name})})}),a.jsx("td",{children:r.subject}),a.jsx("td",{children:a.jsxs("div",{className:"rating-cell",children:[a.jsx(VP,{size:14,fill:"#f39c12",color:"#f39c12"}),a.jsx("span",{children:r.rating})]})}),a.jsx("td",{children:r.students}),a.jsx("td",{children:r.classes}),a.jsx("td",{children:a.jsxs(ge,{variant:"high",size:"sm",children:[r.attendance,"%"]})}),a.jsx("td",{children:a.jsxs(ge,{variant:"high",size:"sm",children:[r.performance,"%"]})}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Details",r.id)})})]},r.id))})]})})]})},HV=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(1),o=10;x.useEffect(()=>{const M=async()=>{try{const B=await ue.students.getAll();B.data?.students?n(B.data.students):n([])}catch(B){console.error("Error loading students:",B),n([])}};M();const N=setInterval(()=>{M()},3e4);return()=>{clearInterval(N)}},[]);const[u,d]=x.useState(null),[h,m]=x.useState(!1),p=M=>M.toLowerCase()==="active"?"active":"rejected",g=M=>{d(M),m(!0)},b=async M=>{const N=E.find(B=>String(B.id)===String(M));if(N&&confirm(`Are you sure you want to delete "${N.name}"?`))try{const B=N.mongoId||N._id||M;await ue.students.delete(B);const L=await ue.students.getAll();L.data?.students&&n(L.data.students),alert("Student deleted successfully!")}catch(B){console.error("Error deleting student:",B),alert("Failed to delete student. Please try again.")}},y=x.useMemo(()=>t.map(M=>({...M,id:M.studentId||M._id||M.id,mongoId:M._id||M.id})),[t]),A=Math.ceil(y.length/o),S=(r-1)*o,w=S+o,E=x.useMemo(()=>y.slice(S,w),[y,S,w]);x.useEffect(()=>{const M=Math.ceil(y.length/o)||1;r>M&&l(1)},[y.length,r,o]);const D=()=>{r>1&&(l(r-1),window.scrollTo({top:0,behavior:"smooth"}))},T=()=>{r<A&&(l(r+1),window.scrollTo({top:0,behavior:"smooth"}))},P=M=>{l(M),window.scrollTo({top:0,behavior:"smooth"})},O=[{key:"id",header:"Student ID",render:(M,N)=>a.jsx("span",{style:{color:"#3b82f6",cursor:"pointer",textDecoration:"underline",fontWeight:600},onClick:()=>e(`/dashboard/admin/students/${N.mongoId||N._id||N.id}`),onMouseEnter:B=>{B.currentTarget.style.color="#2563eb"},onMouseLeave:B=>{B.currentTarget.style.color="#3b82f6"},children:M||N.studentId||N.id||"N/A"})},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"class",header:"Class"},{key:"phone",header:"Phone"},{key:"parent",header:"Parent/Guardian"},{key:"status",header:"Status",render:M=>a.jsx(ge,{variant:p(M),size:"sm",children:M})},{key:"actions",header:"Actions",render:(M,N)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>g(N)}),a.jsx(vt,{size:"sm",onClick:()=>e(`/dashboard/admin/students/edit/${N.mongoId||N._id||N.id}`)}),a.jsx(Mt,{size:"sm",onClick:()=>b(N.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{children:[a.jsx("h1",{children:"All Students"}),a.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"0.5rem"},children:["Showing ",S+1,"-",Math.min(w,y.length)," of ",y.length," students"]})]})}),a.jsx(si,{columns:O,data:E,emptyMessage:"No students found"}),y.length>o&&a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem",padding:"1rem"},children:[a.jsxs(xe,{variant:"secondary",size:"md",onClick:D,disabled:r===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:r===1?.5:1,cursor:r===1?"not-allowed":"pointer"},children:[a.jsx(N5,{size:18}),"Previous"]}),a.jsx("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:(()=>{const M=[];if(A<=7)for(let N=1;N<=A;N++)M.push(N);else{M.push(1);let N=Math.max(2,r-1),B=Math.min(A-1,r+1);r<=3&&(B=Math.min(5,A-1)),r>=A-2&&(N=Math.max(2,A-4)),N>2&&M.push("...");for(let L=N;L<=B;L++)M.push(L);B<A-1&&M.push("..."),M.push(A)}return M.map((N,B)=>typeof N=="string"?a.jsx("span",{style:{padding:"0 0.25rem",color:"#666"},children:"..."},`ellipsis-${B}`):a.jsx("button",{onClick:()=>P(N),style:{padding:"0.5rem 0.75rem",border:"1px solid #ddd",borderRadius:"0.375rem",backgroundColor:r===N?"#3b82f6":"#fff",color:r===N?"#fff":"#333",cursor:"pointer",fontSize:"0.875rem",fontWeight:r===N?600:400,minWidth:"2.5rem"},onMouseEnter:L=>{r!==N&&(L.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:L=>{r!==N&&(L.currentTarget.style.backgroundColor="#fff")},children:N},N))})()}),a.jsxs(xe,{variant:"secondary",size:"md",onClick:T,disabled:r===A,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:r===A?.5:1,cursor:r===A?"not-allowed":"pointer"},children:["Next",a.jsx(z5,{size:18})]})]}),a.jsx(He,{isOpen:h,onClose:()=>{m(!1),d(null)},title:"Student Details",size:"lg",children:u&&a.jsx(Gt,{sections:[{title:"Student Information",fields:[{label:"Name",value:u.name},{label:"Email",value:u.email,icon:Zr},{label:"Phone",value:u.phone,icon:Jr},{label:"Class",value:u.class,icon:vr},...u.dateOfBirth?[{label:"Date of Birth",value:u.dateOfBirth,icon:$e}]:[],...u.admissionDate?[{label:"Admission Date",value:u.admissionDate,icon:$e}]:[],{label:"Status",value:u.status,renderAsBadge:{variant:p(u.status),size:"sm"}},...u.address?[{label:"Address",value:u.address,icon:Rs,spanFull:!0}]:[]]},{title:"Parent/Guardian Information",icon:$t,fields:[{label:"Parent/Guardian Name",value:u.parent},...u.parentPhone?[{label:"Parent Phone",value:u.parentPhone,icon:Jr}]:[],...u.parentEmail?[{label:"Parent Email",value:u.parentEmail,icon:Zr}]:[]]}]})})]})},JE=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState({}),[o,u]=x.useState([]),[d,h]=x.useState([]),[m,p]=x.useState([]),[g,b]=x.useState(""),[y,A]=x.useState(!0),S=M=>{if(!M)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(M))return M;const N=new Date(M);return isNaN(N.getTime())?"":N.toISOString().split("T")[0]}catch(N){return console.error("Error formatting date:",N),""}},w=M=>{if(!M)return"";const B=M.trim().match(/Grade\s+(\d+)/i);return B?`Grade ${B[1]}`:""},E=M=>{if(!Array.isArray(m)||!M)return[];const N=M.startsWith("Grade")?M:`Grade ${M}`;return m.filter(L=>L.status!=="Active"?!1:w(L.name||"")===N).map(L=>({value:L.section||"",label:`Section ${L.section||""} (${L.name||""}) - ${L.currentStudents||0}/${L.capacity||0} available`}))};x.useEffect(()=>{(async()=>{try{A(!0);const N=await ue.classes.getAll();N.data?.classes?p(N.data.classes):p([]);const B=new Set;(N.data?.classes||[]).filter(U=>U.status==="Active").forEach(U=>{const K=w(U.name||"");K&&B.add(K)});const q=Array.from(B).map(U=>{const K=U.match(/\d+/),W=K?parseInt(K[0]):0;return{grade:U,num:W}}).sort((U,K)=>U.num-K.num).map(({grade:U})=>({value:U,label:U}));u(q)}catch(N){console.error("Error loading classes:",N),u([]),p([])}finally{A(!1)}if(n&&t)try{const N=await ue.students.getById(t),B=N?.data?.student||N?.student||N||null;if(B){console.log("[EDIT STUDENT] Loaded student data:",B);const L=w(B.class||""),q=(B.section||"").trim();console.log("[EDIT STUDENT] Extracted:",{className:B.class,gradeLevel:L,section:q,studentSection:B.section});const U=S(B.dateOfBirth),K=S(B.admissionDate),W={studentId:B.studentId||B.id||"",name:B.name||"",email:B.email||"",gradeLevel:L||"",section:q||"",phone:B.phone||"",dateOfBirth:U,admissionDate:K,gender:B.gender||"",status:B.status||"Active",address:B.address||"",previousSchool:B.previousSchool||"",city:B.city||"",country:B.country||"",parentName:B.parent||"",parentPhone:B.parentPhone||"",parentEmail:B.parentEmail||""};console.log("[EDIT STUDENT] Setting initial data:",W),l(W),L&&b(L)}else console.error("[EDIT STUDENT] Student data not found in response:",N)}catch(N){console.error("Error loading student:",N)}})()},[t,n]),x.useEffect(()=>{if(g){const M=E(g);h(M),r.section&&M.length>0?M.some(B=>B.value===r.section)?console.log("[EDIT STUDENT] Section found in options:",r.section):console.log("[EDIT STUDENT] Section from initial data not found in options:",r.section,"Available:",M.map(B=>B.value)):r.section&&M.length===0&&console.log("[EDIT STUDENT] No sections available for grade:",g)}else h([])},[g,m,r.section]);const D=x.useMemo(()=>{const M=[];return n&&M.push({name:"studentId",label:"Student ID",type:"text",required:!1,placeholder:"Auto-generated",disabled:!0,thirdWidth:!0}),M.push({name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Enter full name",thirdWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",thirdWidth:!0},{name:"gradeLevel",label:"Grade Level",type:"select",required:!0,thirdWidth:!0,options:o,placeholder:y?"Loading grades...":"Select Grade Level"},{name:"section",label:"Section",type:"select",required:!0,thirdWidth:!0,options:d,placeholder:g?d.length>0?"Select Section":"No sections available":"Select Grade Level first",disabled:!g||d.length===0},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",thirdWidth:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0,thirdWidth:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0,thirdWidth:!0},{name:"gender",label:"Gender",type:"select",required:!0,thirdWidth:!0,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],placeholder:"Select Gender"},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"previousSchool",label:"Previous School",type:"text",placeholder:"Enter previous school name",thirdWidth:!0},{name:"city",label:"City",type:"text",placeholder:"Enter city",thirdWidth:!0},{name:"country",label:"Country",type:"text",placeholder:"Enter country",thirdWidth:!0},{name:"parentName",label:"Parent/Guardian Name",type:"text",required:!0,placeholder:"Enter parent/guardian name",thirdWidth:!0},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0,placeholder:"Enter parent phone number",thirdWidth:!0},{name:"parentEmail",label:"Parent Email",type:"email",placeholder:"Enter parent email",thirdWidth:!0},{name:"status",label:"Status",type:"select",required:!0,thirdWidth:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Graduated",label:"Graduated"},{value:"Transferred",label:"Transferred"}],placeholder:"Select Status"}),M},[o,d,y,g,n]),T=x.useMemo(()=>[{title:"Student Information",fieldNames:n?["studentId","name","email","gradeLevel","section","phone","dateOfBirth","admissionDate","gender","status","address","previousSchool","city","country"]:["name","email","gradeLevel","section","phone","dateOfBirth","admissionDate","gender","status","address","previousSchool","city","country"]},{title:"Parent/Guardian Information",fieldNames:["parentName","parentPhone","parentEmail"]}],[n]),P=(M,N)=>{M==="gradeLevel"?(b(N),l(B=>({...B,gradeLevel:N,section:""}))):l(B=>({...B,[M]:N}))},O=async M=>{try{const N=M.gradeLevel||"",B=M.section||"",L=N&&B?`${N} Section ${B}`:N;if(n&&t){const q=await ue.students.update(t,{name:M.name,email:M.email,class:L,section:B,phone:M.phone,parent:M.parentName,status:M.status||"Active",dateOfBirth:M.dateOfBirth,admissionDate:M.admissionDate,gender:M.gender,address:M.address||void 0,parentPhone:M.parentPhone,parentEmail:M.parentEmail||void 0,previousSchool:M.previousSchool||void 0});q?(alert("Student updated successfully!"),console.log("Updated student:",q),e("/dashboard/admin/students")):alert("Failed to update student. Please try again.")}else{const q=await ue.students.create({name:M.name,email:M.email,class:L,section:B,phone:M.phone,parent:M.parentName,status:M.status||"Active",dateOfBirth:M.dateOfBirth,admissionDate:M.admissionDate,gender:M.gender,address:M.address||void 0,parentPhone:M.parentPhone,parentEmail:M.parentEmail||void 0,previousSchool:M.previousSchool||void 0}),U=q?.data?.student?.name||q?.name||"Student";alert(`Student ${U} added successfully!`),console.log("New student created:",q),e("/dashboard/admin/students")}}catch(N){console.error("Error saving student:",N),alert("Failed to save student. Please try again.")}};return a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/students"),title:"Back to Students"})}),a.jsx(Vi,{title:n?"Edit Student":"Add New Student",fields:D,sections:T,onSubmit:O,submitButtonText:n?"Update Student":"Add Student",submitButtonIcon:a.jsx(zt,{size:16}),initialData:r,onFieldChange:P},t||"new")]})},KV=()=>{const{id:e}=Fn(),t=jt(),[n,r]=x.useState(null),[l,o]=x.useState([]),[u,d]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState(!0);x.useEffect(()=>{e&&(async()=>{try{g(!0);const A=await ue.students.getById(e),S=A?.data?.student||A?.data||A;if(S){r(S);const w=S.class||"",E=S.section||"",D=w.match(/Grade\s*(\d+)/i),T=D?`Grade ${D[1]}`:"";if(T)try{const P=await ue.subjects.getAll(),O=P?.data?.subjects||P?.data||P||[],N=(Array.isArray(O)?O:[]).filter(te=>{const k=(te.grades||[]).includes(T),$=(te.teacherAssignments||[]).some(V=>(V.gradeSections||[]).some(G=>G.grade===T&&(!E||G.sections?.includes(E))));return k||$});o(N);const B=[],L=new Set;let q=1;const U=te=>te?te.charAt(0).toUpperCase()+te.slice(1).toLowerCase():"";N.forEach(te=>{(Array.isArray(te.schedule)?te.schedule:[]).forEach(k=>{const _=(k.grade||"").trim(),$=(k.section||"").trim(),V=T.match(/\d+/)?.[0]||"",G=(_.match(/\d+/)?.[0]||"")===V||_===T||_===w||_&&w.includes(_)||_&&_.includes(T),J=!$||$===E||$.toUpperCase()===E.toUpperCase()||E&&$.includes(E)||E&&E.includes($);if(G&&J&&k.day&&k.startTime&&k.endTime){const H=U(k.day);L.add(k.startTime),L.add(k.endTime),B.push({id:q++,day:H,time:`${k.startTime} - ${k.endTime}`,subject:te.name,class:w,room:k.room||"N/A",startTime:k.startTime,endTime:k.endTime})}})});const K=Array.from(L).sort((te,C)=>{const[k,_]=te.split(":").map(Number),[$,V]=C.split(":").map(Number);return k*60+_-($*60+V)}),W=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],ee=K.length>0?K:W;console.log("[STUDENT SCHEDULE] Loaded schedules:",{studentGrade:T,studentSection:E,className:w,subjectsCount:N.length,schedulesCount:B.length,timeSlots:ee,subjects:N.map(te=>({name:te.name,scheduleCount:(te.schedule||[]).length,schedules:(te.schedule||[]).map(C=>({day:C.day,grade:C.grade,section:C.section,time:`${C.startTime}-${C.endTime}`}))}))}),d(B),m(ee)}catch(P){console.error("Error loading subjects and schedules:",P),o([]),d([])}}else r(null)}catch(A){console.error("Error loading student:",A),r(null)}finally{g(!1)}})()},[e]);const b=y=>y?.toLowerCase()==="active"?"active":"rejected";return p?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading student details..."})})}):n?a.jsxs("div",{className:"page-container",style:{paddingTop:"0.5rem"},children:[a.jsx("div",{style:{marginBottom:"0.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/students"),title:"Back to Students"})}),a.jsx(Ee,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Gt,{columns:8,sections:[{title:"Student Information",fields:[{label:"Student ID",value:n.studentId||n.id||"N/A"},{label:"Name",value:n.name},{label:"Gender",value:n.gender||"N/A"},{label:"Status",value:n.status||"Active",renderAsBadge:{variant:b(n.status),size:"sm"}},{label:"Class",value:n.class||"N/A",icon:vr},{label:"Section",value:n.section||"N/A"},...n.dateOfBirth?[{label:"Date of Birth",value:new Date(n.dateOfBirth).toLocaleDateString(),icon:$e}]:[],{label:"Phone",value:n.phone,icon:Jr},{label:"Email",value:n.email,icon:Zr},...n.admissionDate?[{label:"Admission Date",value:new Date(n.admissionDate).toLocaleDateString(),icon:$e,span:2}]:[],...n.address?[{label:"Address",value:n.address,icon:Rs}]:[],...n.previousSchool?[{label:"Previous School",value:n.previousSchool}]:[]]},{title:"Parent/Guardian Information",icon:$t,columns:5,fields:[{label:"Parent/Guardian Name",value:n.parent||"N/A"},...n.parentPhone?[{label:"Parent Phone",value:n.parentPhone,icon:Jr}]:[],...n.parentEmail?[{label:"Parent Email",value:n.parentEmail,icon:Zr}]:[]]}]})}),l.length>0&&a.jsxs(Ee,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:[a.jsxs("h2",{style:{marginBottom:"1rem",fontSize:"1.5rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ot,{size:20}),"Subjects (",l.length,")"]}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:l.map((y,A)=>a.jsxs(ge,{variant:"info",size:"md",children:[y.name," ",y.code&&`(${y.code})`]},y._id||y.id||A))})]}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:20}),"Class Schedule"]}),u.length>0?a.jsx(PM,{schedules:u,timeSlots:h,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cellHeight:"100px"}):a.jsx(Ee,{variant:"custom",style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No schedule available for this student. Assign subjects with schedules to this student's grade and section to see their class schedule here."})})]})]}):a.jsx("div",{className:"page-container",children:a.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[a.jsx("p",{children:"Student not found"}),a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/students"),title:"Back to Students"})]})})},VV=()=>{const e=[{id:1,name:"Alice Johnson",class:"Grade 10A",attendance:95,averageGrade:88,totalSubjects:6,completedAssignments:45,pendingAssignments:3},{id:2,name:"Bob Williams",class:"Grade 9B",attendance:92,averageGrade:85,totalSubjects:5,completedAssignments:38,pendingAssignments:5},{id:3,name:"Charlie Brown",class:"Grade 11A",attendance:98,averageGrade:91,totalSubjects:7,completedAssignments:52,pendingAssignments:2},{id:4,name:"Diana Prince",class:"Grade 10B",attendance:89,averageGrade:82,totalSubjects:6,completedAssignments:42,pendingAssignments:4}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Records"})}),a.jsx("div",{className:"section-title",children:"Individual Student Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Average Grade"}),a.jsx("th",{children:"Subjects"}),a.jsx("th",{children:"Completed Assignments"}),a.jsx("th",{children:"Pending Assignments"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.slice(0,10).map(t=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:t.name})}),a.jsx("td",{children:t.class}),a.jsx("td",{children:a.jsxs(ge,{variant:t.attendance>=90?"high":t.attendance>=80?"medium":"low",size:"sm",children:[t.attendance,"%"]})}),a.jsx("td",{children:a.jsxs(ge,{variant:t.averageGrade>=85?"high":t.averageGrade>=75?"medium":"low",size:"sm",children:[t.averageGrade,"%"]})}),a.jsx("td",{children:t.totalSubjects}),a.jsx("td",{children:t.completedAssignments}),a.jsx("td",{children:a.jsx(ge,{variant:"pending",size:"sm",children:t.pendingAssignments})}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Details",t.id)})})]},t.id))})]})})]})},YV=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(!1),[p,g]=x.useState(!0);x.useEffect(()=>{b()},[]);const b=async()=>{try{g(!0);const[O]=await Promise.all([ue.assignments.getAll()]),M={data:{submissions:[]}},N=O.data?.assignments||[],B=M.data?.submissions||M.data||[],q=N.map(U=>{const K=U._id||U.id,W=B.filter(k=>String(k.assignmentId)===String(K)),te=new Set(W.map(k=>k.studentId)).size,C=Math.max(te,25);return{id:K,title:U.title,subject:U.subject,class:U.class,assignedDate:U.assignedDate||U.createdAt||new Date().toISOString().split("T")[0],dueDate:U.dueDate,status:U.status,totalMarks:U.totalMarks,submittedBy:te,totalStudents:C,description:U.description||""}}).sort((U,K)=>{const W=new Date(U.assignedDate).getTime(),ee=new Date(K.assignedDate).getTime();return W-ee});t(q.slice(0,3))}catch(O){console.error("Error loading assignments:",O),t([])}finally{g(!1)}},y=O=>{switch(O.toLowerCase()){case"active":return"active";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},A=(O,M)=>Math.round(O/M*100),S=O=>{r(O),o(!0)},w=O=>{r(O),d(!0)},E=O=>{r(O),m(!0)},D=async()=>{if(n)try{await ue.assignments.delete(n.id),await b(),m(!1),r(null),alert("Assignment deleted successfully!")}catch(O){console.error("Error deleting assignment:",O),alert("Failed to delete assignment. Please try again.")}},T=async O=>{if(n)try{await ue.assignments.update(n.id,{title:O.title||n.title,subject:O.subject||n.subject,class:O.class||n.class,assignedDate:O.assignedDate||n.assignedDate,dueDate:O.dueDate||n.dueDate,description:O.description||n.description,status:O.status||n.status}),await b(),d(!1),r(null),alert("Assignment updated successfully!")}catch(M){console.error("Error updating assignment:",M),alert("Failed to update assignment. Please try again.")}},P=[{name:"title",label:"Assignment Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"assignedDate",label:"Assigned Date",type:"date",required:!0},{name:"dueDate",label:"Due Date",type:"date",required:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:4}];return p?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading assignments..."})})}):a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Assignments"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Submissions"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No assignments found"})}):e.map(O=>{const M=A(O.submittedBy,O.totalStudents),N=new Date(O.dueDate)<new Date&&O.status==="Active";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:O.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:O.description})]})}),a.jsx("td",{children:O.subject}),a.jsx("td",{children:O.class}),a.jsx("td",{children:O.assignedDate}),a.jsxs("td",{children:[a.jsx("div",{children:O.dueDate}),N&&a.jsx(ge,{variant:"rejected",size:"sm",style:{marginTop:"0.25rem"},children:"Overdue"})]}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsxs("strong",{children:[O.submittedBy," / ",O.totalStudents]}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:[M,"% submitted"]}),a.jsx("div",{style:{width:"100%",height:"4px",background:"#e0e0e0",borderRadius:"2px",marginTop:"0.5rem"},children:a.jsx("div",{style:{width:`${M}%`,height:"100%",background:M===100?"#22c55e":M>=50?"#f59e0b":"#ef4444",borderRadius:"2px"}})})]})}),a.jsx("td",{children:a.jsx(ge,{variant:y(O.status),size:"sm",children:O.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>S(O)}),a.jsx(vt,{size:"sm",onClick:()=>w(O)}),a.jsx(Mt,{size:"sm",onClick:()=>E(O)})]})})]},O.id)})})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Assignment Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Assignment Information",icon:nt,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject,icon:Ot},{label:"Class",value:n.class},{label:"Assigned Date",value:n.assignedDate,icon:$e},{label:"Due Date",value:n.dueDate,icon:We},{label:"Submissions",value:`${n.submittedBy} / ${n.totalStudents} (${A(n.submittedBy,n.totalStudents)}%)`},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0},...n.totalMarks?[{label:"Total Marks",value:n.totalMarks.toString()}]:[]]}]})}),a.jsx(nr,{isOpen:u,onClose:()=>{d(!1),r(null)},title:"Edit Assignment",fields:P,onSubmit:T,submitButtonText:"Update Assignment",initialData:n?{title:n.title,subject:n.subject,class:n.class,assignedDate:n.assignedDate,dueDate:n.dueDate,status:n.status,description:n.description}:{}}),a.jsx(He,{isOpen:h,onClose:()=>{m(!1),r(null)},title:"Delete Assignment",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone. All submissions for this assignment will also be deleted."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{m(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:D,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},XV=()=>{const[e,t]=x.useState([{id:1,title:"Mathematics Mid-Term Test",subject:"Mathematics",class:"Grade 10A",examDate:"2024-03-20",duration:"90 minutes",totalMarks:100,status:"Scheduled",conductedBy:"John Smith",description:"Covers chapters 1-5: Algebra, Geometry, and Trigonometry"},{id:2,title:"English Literature Test",subject:"English",class:"Grade 9B",examDate:"2024-03-18",duration:"60 minutes",totalMarks:50,status:"Completed",conductedBy:"Sarah Johnson",description:"Test on Shakespeare's Romeo and Juliet"},{id:3,title:"Science Practical Test",subject:"Science",class:"Grade 8A",examDate:"2024-03-25",duration:"120 minutes",totalMarks:100,status:"Scheduled",conductedBy:"Michael Brown",description:"Practical examination on Chemistry experiments"},{id:4,title:"History Quiz",subject:"History",class:"Grade 11A",examDate:"2024-03-15",duration:"45 minutes",totalMarks:50,status:"Completed",conductedBy:"Emily Davis",description:"Quiz on World War II and its aftermath"},{id:5,title:"Physics Unit Test",subject:"Physics",class:"Grade 12A",examDate:"2024-03-22",duration:"90 minutes",totalMarks:100,status:"Scheduled",conductedBy:"David Wilson",description:"Unit test on Mechanics and Thermodynamics"}]),[n,r]=x.useState(null),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(!1),p=T=>{switch(T.toLowerCase()){case"scheduled":return"pending";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},g=T=>{switch(T.toLowerCase()){case"scheduled":return a.jsx(We,{size:16});case"completed":return a.jsx(On,{size:16});case"cancelled":return a.jsx(Ii,{size:16});default:return a.jsx(We,{size:16})}},b=T=>{r(T),o(!0)},y=T=>{r(T),d(!0)},A=T=>{r(T),m(!0)},S=()=>{n&&(t(e.filter(T=>T.id!==n.id)),m(!1),r(null),alert("Test paper deleted successfully!"))},w=T=>{n&&(t(e.map(P=>P.id===n.id?{...P,title:T.title||P.title,subject:T.subject||P.subject,class:T.class||P.class,examDate:T.examDate||P.examDate,duration:T.duration||P.duration,totalMarks:parseInt(T.totalMarks)||P.totalMarks,status:T.status||P.status,description:T.description||P.description}:P)),d(!1),r(null),alert("Test paper updated successfully!"))},E=T=>{const P=window.open("","_blank");P&&(P.document.write(`
        <html>
          <head>
            <title>${T.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #333; }
              .info { margin: 10px 0; }
              .label { font-weight: bold; }
            </style>
          </head>
          <body>
            <h1>${T.title}</h1>
            <div class="info"><span class="label">Subject:</span> ${T.subject}</div>
            <div class="info"><span class="label">Class:</span> ${T.class}</div>
            <div class="info"><span class="label">Exam Date:</span> ${T.examDate}</div>
            <div class="info"><span class="label">Duration:</span> ${T.duration}</div>
            <div class="info"><span class="label">Total Marks:</span> ${T.totalMarks}</div>
            <div class="info"><span class="label">Description:</span> ${T.description}</div>
            <div class="info"><span class="label">Conducted By:</span> ${T.conductedBy}</div>
          </body>
        </html>
      `),P.document.close(),P.print())},D=[{name:"title",label:"Test Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"examDate",label:"Exam Date",type:"date",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 90 minutes"},{name:"totalMarks",label:"Total Marks",type:"number",required:!0,min:1},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Scheduled",label:"Scheduled"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:3}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Tests Papers"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Exam Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(T=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:T.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:T.description})]})}),a.jsx("td",{children:T.subject}),a.jsx("td",{children:T.class}),a.jsx("td",{children:T.examDate}),a.jsx("td",{children:T.duration}),a.jsx("td",{children:a.jsx("strong",{children:T.totalMarks})}),a.jsx("td",{children:T.conductedBy}),a.jsx("td",{children:a.jsxs(ge,{variant:p(T.status),size:"sm",children:[g(T.status),T.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>b(T)}),a.jsx(vt,{size:"sm",onClick:()=>y(T)}),a.jsx($r,{size:"sm",onClick:()=>E(T)}),a.jsx(Mt,{size:"sm",onClick:()=>A(T)})]})})]},T.id))})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Test Paper Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Test Information",icon:nt,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject,icon:Ot},{label:"Class",value:n.class},{label:"Exam Date",value:n.examDate,icon:$e},{label:"Duration",value:n.duration,icon:We},{label:"Total Marks",value:n.totalMarks.toString()},{label:"Conducted By",value:n.conductedBy},{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0}]}]})}),a.jsx(nr,{isOpen:u,onClose:()=>{d(!1),r(null)},title:"Edit Test Paper",fields:D,onSubmit:w,submitButtonText:"Update Test",initialData:n?{title:n.title,subject:n.subject,class:n.class,examDate:n.examDate,duration:n.duration,totalMarks:n.totalMarks.toString(),status:n.status,description:n.description}:{}}),a.jsx(He,{isOpen:h,onClose:()=>{m(!1),r(null)},title:"Delete Test Paper",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{m(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:S,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},QV=()=>{const[e,t]=x.useState([{id:1,title:"Mathematics Chapter 5 Quiz",subject:"Mathematics",class:"Grade 10A",quizDate:"2024-03-20",duration:"30 minutes",totalQuestions:20,totalMarks:20,status:"Active",conductedBy:"John Smith",description:"Quick quiz on algebraic expressions and equations",attemptsAllowed:2,passingMarks:12},{id:2,title:"English Vocabulary Quiz",subject:"English",class:"Grade 9B",quizDate:"2024-03-18",duration:"20 minutes",totalQuestions:15,totalMarks:15,status:"Active",conductedBy:"Sarah Johnson",description:"Test your knowledge of advanced vocabulary words",attemptsAllowed:1,passingMarks:10},{id:3,title:"Science Biology Quiz",subject:"Science",class:"Grade 8A",quizDate:"2024-03-25",duration:"25 minutes",totalQuestions:18,totalMarks:18,status:"Scheduled",conductedBy:"Michael Brown",description:"Quiz on cell structure and functions",attemptsAllowed:2,passingMarks:11},{id:4,title:"History World War II Quiz",subject:"History",class:"Grade 11A",quizDate:"2024-03-15",duration:"35 minutes",totalQuestions:25,totalMarks:25,status:"Completed",conductedBy:"Emily Davis",description:"Multiple choice questions on World War II events",attemptsAllowed:1,passingMarks:15},{id:5,title:"Physics Mechanics Quiz",subject:"Physics",class:"Grade 12A",quizDate:"2024-03-22",duration:"40 minutes",totalQuestions:22,totalMarks:22,status:"Scheduled",conductedBy:"David Wilson",description:"Quiz on Newton's laws and motion",attemptsAllowed:2,passingMarks:14}]),[n,r]=x.useState(null),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(!1),p=T=>{switch(T.toLowerCase()){case"active":return"active";case"scheduled":return"pending";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},g=T=>{switch(T.toLowerCase()){case"active":return a.jsx(On,{size:16});case"scheduled":return a.jsx(We,{size:16});case"completed":return a.jsx(On,{size:16});case"cancelled":return a.jsx(Ii,{size:16});default:return a.jsx(We,{size:16})}},b=T=>{r(T),o(!0)},y=T=>{r(T),d(!0)},A=T=>{r(T),m(!0)},S=()=>{n&&(t(e.filter(T=>T.id!==n.id)),m(!1),r(null),alert("Quiz deleted successfully!"))},w=T=>{n&&(t(e.map(P=>P.id===n.id?{...P,title:T.title||P.title,subject:T.subject||P.subject,class:T.class||P.class,quizDate:T.quizDate||P.quizDate,duration:T.duration||P.duration,totalQuestions:parseInt(T.totalQuestions)||P.totalQuestions,totalMarks:parseInt(T.totalMarks)||P.totalMarks,passingMarks:parseInt(T.passingMarks)||P.passingMarks,attemptsAllowed:parseInt(T.attemptsAllowed)||P.attemptsAllowed,status:T.status||P.status,description:T.description||P.description}:P)),d(!1),r(null),alert("Quiz updated successfully!"))},E=T=>{const P=window.open("","_blank");P&&(P.document.write(`
        <html>
          <head>
            <title>${T.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #333; }
              .info { margin: 10px 0; }
              .label { font-weight: bold; }
            </style>
          </head>
          <body>
            <h1>${T.title}</h1>
            <div class="info"><span class="label">Subject:</span> ${T.subject}</div>
            <div class="info"><span class="label">Class:</span> ${T.class}</div>
            <div class="info"><span class="label">Date:</span> ${T.quizDate}</div>
            <div class="info"><span class="label">Duration:</span> ${T.duration}</div>
            <div class="info"><span class="label">Total Questions:</span> ${T.totalQuestions}</div>
            <div class="info"><span class="label">Total Marks:</span> ${T.totalMarks}</div>
            <div class="info"><span class="label">Passing Marks:</span> ${T.passingMarks}</div>
            <div class="info"><span class="label">Description:</span> ${T.description}</div>
            <div class="info"><span class="label">Conducted By:</span> ${T.conductedBy}</div>
          </body>
        </html>
      `),P.document.close(),P.print())},D=[{name:"title",label:"Quiz Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"quizDate",label:"Quiz Date",type:"date",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 30 minutes"},{name:"totalQuestions",label:"Total Questions",type:"number",required:!0,min:1},{name:"totalMarks",label:"Total Marks",type:"number",required:!0,min:1},{name:"passingMarks",label:"Passing Marks",type:"number",required:!0,min:1},{name:"attemptsAllowed",label:"Attempts Allowed",type:"number",required:!0,min:1},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Scheduled",label:"Scheduled"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:3}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Quizzes"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Quiz Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Questions"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Passing Marks"}),a.jsx("th",{children:"Attempts"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(T=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:T.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:T.description})]})}),a.jsx("td",{children:T.subject}),a.jsx("td",{children:T.class}),a.jsx("td",{children:T.quizDate}),a.jsx("td",{children:T.duration}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(hP,{size:14,style:{color:"#666"}}),a.jsx("strong",{children:T.totalQuestions})]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(yr,{size:14,style:{color:"#666"}}),a.jsx("strong",{children:T.totalMarks})]})}),a.jsx("td",{children:a.jsxs(ge,{variant:"info",size:"sm",children:[T.passingMarks," / ",T.totalMarks]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx($t,{size:14,style:{color:"#666"}}),T.attemptsAllowed]})}),a.jsx("td",{children:T.conductedBy}),a.jsx("td",{children:a.jsxs(ge,{variant:p(T.status),size:"sm",children:[g(T.status),T.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>b(T)}),a.jsx(vt,{size:"sm",onClick:()=>y(T)}),a.jsx($r,{size:"sm",onClick:()=>E(T)}),a.jsx(Mt,{size:"sm",onClick:()=>A(T)})]})})]},T.id))})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Quiz Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Quiz Information",icon:Ot,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject},{label:"Class",value:n.class},{label:"Quiz Date",value:n.quizDate,icon:$e},{label:"Duration",value:n.duration,icon:We},{label:"Total Questions",value:n.totalQuestions.toString()},{label:"Total Marks",value:n.totalMarks.toString()},{label:"Passing Marks",value:`${n.passingMarks} / ${n.totalMarks}`},{label:"Attempts Allowed",value:n.attemptsAllowed.toString()},{label:"Conducted By",value:n.conductedBy},{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0}]}]})}),a.jsx(nr,{isOpen:u,onClose:()=>{d(!1),r(null)},title:"Edit Quiz",fields:D,onSubmit:w,submitButtonText:"Update Quiz",initialData:n?{title:n.title,subject:n.subject,class:n.class,quizDate:n.quizDate,duration:n.duration,totalQuestions:n.totalQuestions.toString(),totalMarks:n.totalMarks.toString(),passingMarks:n.passingMarks.toString(),attemptsAllowed:n.attemptsAllowed.toString(),status:n.status,description:n.description}:{}}),a.jsx(He,{isOpen:h,onClose:()=>{m(!1),r(null)},title:"Delete Quiz",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{m(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:S,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},ZV=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState([]),[m,p]=x.useState(!1);x.useEffect(()=>{const w=async()=>{try{const[D,T]=await Promise.all([ue.grades.getAll(),ue.students.getAll()]);let P=[];Array.isArray(T)?P=T:T?.data?.students?P=T.data.students:T?.data&&Array.isArray(T.data)?P=T.data:T?.students&&(P=T.students);const O=Array.isArray(P)?P.filter(M=>(M.status==="Active"||!M.status)&&M.class):[];if(D.data?.classes){const M=D.data.classes.map(N=>{const B=N.grade||N.name||"",L=N.section||"",U=O.filter(K=>{const W=(K.class||"").trim();if(!W)return!1;const ee=B.startsWith("Grade")?B:`Grade ${B}`;return W.startsWith(ee)?W.replace(ee,"").trim().toLowerCase()===L.toLowerCase():!1}).length;return{...N,id:N._id||N.code||N.id,name:N.grade||N.name||"Unknown",section:N.section||"",capacity:N.capacity||0,currentStudents:U,description:N.description||"",status:N.status||"Active",code:N.code||"",room:N.room||"",schedule:N.schedule||"",teacher:N.teacher||"",classId:N._id}});n(M)}else n([])}catch(D){console.error("Error loading grades:",D),n([])}};w();const E=setInterval(()=>{w()},3e4);return()=>{clearInterval(E)}},[]);const g=async w=>{l(w),u(!0),p(!0);try{const E=await ue.subjects.getAll(),D=E?.data?.subjects||E?.data||E||[],T=Array.isArray(D)?D:[],P=w.name||w.grade||"",O=T.filter(M=>(M.grades||[]).includes(P));h(O)}catch(E){console.error("Error loading subjects:",E),h([])}finally{p(!1)}},b=w=>{const E=w.classId||w._id||w.id;e(`/dashboard/admin/classes/edit/${E}`)},y=async w=>{if(window.confirm("Are you sure you want to delete this grade?"))try{await ue.grades.delete(String(w));const[E,D]=await Promise.all([ue.grades.getAll(),ue.students.getAll()]);let T=[];Array.isArray(D)?T=D:D?.data?.students?T=D.data.students:D?.data&&Array.isArray(D.data)?T=D.data:D?.students&&(T=D.students);const P=Array.isArray(T)?T.filter(O=>(O.status==="Active"||!O.status)&&O.class):[];if(E.data?.classes){const O=E.data.classes.map(M=>{const N=M.grade||M.name||"",B=M.section||"",q=P.filter(U=>{const K=(U.class||"").trim();if(!K)return!1;const W=N.startsWith("Grade")?N:`Grade ${N}`;return K.startsWith(W)?K.replace(W,"").trim().toLowerCase()===B.toLowerCase():!1}).length;return{...M,id:M._id||M.code||M.id,name:M.grade||M.name||"Unknown",section:M.section||"",capacity:M.capacity||0,currentStudents:q,description:M.description||"",status:M.status||"Active",code:M.code||"",room:M.room||"",schedule:M.schedule||"",teacher:M.teacher||"",classId:M._id}});n(O)}alert("Grade deleted successfully!")}catch(E){console.error("Error deleting grade:",E),alert("Failed to delete grade. Please try again.")}},A=w=>w==="Active"?"success":"danger",S=[{key:"name",header:"Grade",render:(w,E)=>a.jsx("strong",{children:E.name})},{key:"section",header:"Section",render:(w,E)=>a.jsxs(ge,{variant:"info",size:"sm",children:["Sec ",E.section]})},{key:"capacity",header:"Capacity"},{key:"currentStudents",header:"Current Students"},{key:"available",header:"Available",render:(w,E)=>{const D=E.capacity-E.currentStudents,T=E.currentStudents/E.capacity*100;return a.jsxs("div",{children:[a.jsx("span",{style:{color:D>0?"#10b981":"#ef4444"},children:D}),a.jsx("div",{style:{width:"60px",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",marginTop:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${T}%`,height:"100%",backgroundColor:T>90?"#ef4444":T>70?"#f59e0b":"#10b981"}})})]})}},{key:"description",header:"Description",render:(w,E)=>{const D=E.description||w||"";return a.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",maxWidth:"300px",display:"block"},children:D||"No description"})}},{key:"status",header:"Status",render:w=>a.jsx(ge,{variant:A(w),size:"sm",children:w})},{key:"actions",header:"Actions",render:(w,E)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>g(E)}),a.jsx(vt,{size:"sm",onClick:()=>b(E)}),a.jsx(Mt,{size:"sm",onClick:()=>y(E.classId||E._id||E.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Classes (Grades)"}),a.jsx(ro,{size:"md",onClick:()=>e("/dashboard/admin/classes/add"),title:"Add New Grade"})]}),a.jsx(si,{columns:S,data:t.slice(0,10),emptyMessage:"No grades found"}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Grade Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Grade Information",icon:vr,fields:[{label:"Grade Name",value:r.name,icon:vr},{label:"Section",value:`Section ${r.section}`,icon:Ot},{label:"Student Capacity",value:r.capacity.toString(),icon:$t},{label:"Current Students",value:r.currentStudents.toString(),icon:$t},{label:"Available Spots",value:(r.capacity-r.currentStudents).toString()},{label:"Status",value:r.status,renderAsBadge:{variant:A(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[],{label:"Assigned Subjects",value:m?"Loading subjects...":d.length===0?"No subjects assigned":d.map((w,E)=>`${E+1}. ${w.name}`).join(`
`),spanFull:!0,customRender:w=>m?a.jsx("div",{style:{color:"#6b7280"},children:"Loading subjects..."}):d.length===0?a.jsx("div",{style:{color:"#6b7280"},children:"No subjects assigned"}):a.jsx("div",{style:{lineHeight:"1.8"},children:d.map((E,D)=>a.jsxs("div",{style:{marginBottom:"0.25rem"},children:[D+1,". ",E.name," ",E.code&&`(${E.code})`]},E._id||E.id))})}]}]})})]})},e5=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState({}),[o,u]=x.useState(!1);x.useEffect(()=>{n&&t&&(async()=>{try{u(!0);const p=await ue.grades.getById(String(t));if(p.data?.class){const g=p.data.class;l({name:g.name||g.grade,code:g.code||"",section:g.section||"",capacity:(g.capacity||0).toString(),status:g.status||"Active",description:g.description||""})}}catch(p){console.error("Error loading grade:",p),alert("Failed to load grade data. Please try again.")}finally{u(!1)}})()},[t,n]);const d=[{name:"name",label:"Grade Name",type:"text",required:!0,placeholder:"e.g., Grade 1, Grade 2, Grade 10"},{name:"code",label:"Class Code",type:"text",required:!0,placeholder:"e.g., G1A, G2B, G10C"},{name:"section",label:"Section",type:"text",required:!0,placeholder:"Enter section (e.g., A, B, C)",thirdWidth:!0},{name:"capacity",label:"Student Capacity",type:"number",required:!0,placeholder:"30",min:1,thirdWidth:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active"},{name:"description",label:"Description",type:"textarea",placeholder:"Enter grade description",rows:3}],h=async m=>{try{if(n&&t){const p={name:m.name,code:m.code,section:m.section,capacity:parseInt(m.capacity)||30,description:m.description||"",status:m.status||"Active"};await ue.grades.update(String(t),p)?(alert("Grade updated successfully!"),e("/dashboard/admin/classes")):alert("Failed to update grade. Please try again.")}else{const p={name:m.name,code:m.code,section:m.section,capacity:parseInt(m.capacity)||30,description:m.description||"",status:m.status||"Active"};await ue.grades.create(p)?(alert("Grade created successfully!"),e("/dashboard/admin/classes")):alert("Failed to create grade. Please try again.")}}catch(p){console.error("Error saving grade:",p),alert("Failed to save grade. Please try again.")}};return o&&n?a.jsx("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading grade data..."})})}):a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/classes"),title:"Back to Classes"})}),a.jsx(Vi,{title:n?"Edit Grade":"Add New Grade",fields:d,onSubmit:h,submitButtonText:n?"Update Grade":"Create Grade",submitButtonIcon:a.jsx(zt,{size:16}),initialData:r},t||"new")]})},JV=({isOpen:e,onClose:t,title:n,message:r,type:l="warning",onConfirm:o,confirmText:u="OK",showCancel:d=!1,cancelText:h="Cancel"})=>{const m=()=>{switch(l){case"error":return"#e53e3e";case"info":return"#667eea";default:return"#ed8936"}},p=()=>{if(n)return n;switch(l){case"error":return"Error";case"info":return"Information";default:return"Warning"}};return a.jsx(He,{isOpen:e,onClose:t,title:p(),size:"md",closeOnOverlayClick:!o,children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",borderRadius:"50%",background:`${m()}15`,color:m()},children:a.jsx(t6,{size:24})}),a.jsx("div",{style:{flex:1},children:typeof r=="string"?a.jsx("div",{style:{whiteSpace:"pre-line",lineHeight:"1.6",color:"#333",fontSize:"0.95rem"},children:r}):r})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1.5rem"},children:[d&&a.jsx(xe,{variant:"outline",size:"md",onClick:t,children:h}),a.jsx(xe,{variant:l==="error"?"danger":"primary",size:"md",onClick:()=>{o&&o(),t()},children:u})]})]})})},eY=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState([]),[m,p]=x.useState([]),[g,b]=x.useState([]),[y,A]=x.useState([]),[S,w]=x.useState([]),[E,D]=x.useState({isOpen:!1,title:"",message:"",type:"warning"}),T=(C,k,_="warning")=>{D({isOpen:!0,title:C,message:k,type:_})};x.useEffect(()=>{const C=async()=>{try{const[_,$,V]=await Promise.all([ue.subjects.getAll(),ue.classes.getAll(),ue.masterData.getAll({type:"room",status:"Active"})]);_.data?.subjects?n(_.data.subjects):n([]),$.data?.classes?p($.data.classes):p([]),V.data?.masterData?A(V.data.masterData):A([])}catch(_){console.error("Error loading data:",_),n([]),p([]),A([])}};C();const k=setInterval(()=>{C()},3e4);return()=>{clearInterval(k)}},[]);const P=C=>{if(!C)return"active";const k=C.toLowerCase();return k==="active"?"active":k==="inactive"?"rejected":"active"},O=async C=>{const k=t.find(_=>(_._id||_.id||_.mongoId)===C);if(k&&confirm(`Are you sure you want to delete "${k.name}"?`))try{const _=k._id||k.id||k.mongoId||C;await ue.subjects.delete(_);const $=await ue.subjects.getAll();$.data?.subjects&&n($.data.subjects),T("Success","Subject deleted successfully!","info")}catch(_){console.error("Error deleting subject:",_),T("Error","Failed to delete subject. Please try again.","error")}},M=async C=>{console.log("[FRONTEND] handleManageSchedule - START",{subjectId:C._id||C.id,subjectName:C.name});let k=C;try{console.log("[FRONTEND] Fetching fresh subject from API...");const[R,G]=await Promise.all([ue.subjects.getById(C._id||C.id),ue.subjects.getAll()]);k=R.data?.subject||R.subject||R;const J=G.data?.subjects||G.subjects||[],H=k._id||k.id,F=J.filter(ne=>(ne._id||ne.id)!==H);w(F),console.log("[FRONTEND] Fresh subject received:",{subjectId:k._id||k.id,scheduleCount:k.schedule?.length||0,scheduleEntries:(k.schedule||[]).map(ne=>({day:ne.day,room:ne.room,slot:ne.slot,slotType:typeof ne.slot,grade:ne.grade,section:ne.section,startTime:ne.startTime,endTime:ne.endTime}))})}catch(R){console.error("[FRONTEND] Error loading fresh subject data:",R)}l(k);const _=[];if(k.teacherAssignments&&Array.isArray(k.teacherAssignments)&&k.teacherAssignments.length>0)k.teacherAssignments.forEach(R=>{if(R.teacherId){const G=typeof R.teacherId=="object"?R.teacherId:null;if(G){const J=G._id||G.id,H=G.name||"Unknown",F=G.subject||"N/A";_.push({value:String(J),label:`${H} (${F})`})}}});else if(k.teacherId){const R=typeof k.teacherId=="object"?k.teacherId:null;if(R){const G=R._id||R.id,J=R.name||"Unknown",H=R.subject||"N/A";_.push({value:String(G),label:`${J} (${H})`})}}if(_.length===0)try{const R=await ue.teachers.getAll();(R.data?.teachers||R.teachers||[]).forEach(J=>{const H=J._id||J.id,F=J.name||"Unknown",ne=J.subject||"N/A";_.push({value:String(H),label:`${F} (${ne})`})})}catch(R){console.error("Error loading all teachers:",R)}b(_);const $=new Map;(k.schedule||[]).forEach(R=>{const G=R.grade||(Array.isArray(R.grades)&&R.grades.length>0?R.grades[0]:""),J=R.teacherId?typeof R.teacherId=="object"?R.teacherId._id||R.teacherId.id:R.teacherId:"";let H="";R.slot!==void 0&&R.slot!==null&&R.slot!==""&&(H=String(R.slot).trim());const F=`${R.startTime||""}_${R.endTime||""}_${R.room||""}_${J}_${G}_${R.section||""}_${H}`;if($.has(F)){const ne=$.get(F),oe=R.day||R.days?.[0];oe&&!ne.days.includes(oe)&&ne.days.push(oe),R.slot!==void 0&&R.slot!==null&&R.slot!==""&&(ne.slot=String(R.slot).trim())}else{const ne=R.day||R.days?.[0]||"Monday";let oe="";if(R.slot!==void 0&&R.slot!==null&&R.slot!==""){const ve=typeof R.slot=="number"?R.slot:parseInt(String(R.slot),10);isNaN(ve)?oe=String(R.slot).trim():oe=String(ve)}$.set(F,{startTime:R.startTime||"09:00",endTime:R.endTime||"10:00",room:R.room||"",slot:oe,grade:G,section:R.section||(Array.isArray(R.sections)&&R.sections.length>0?R.sections[0]:""),teacherId:J,days:[ne]})}});const V=Array.from($.values()).map(R=>{let G="";if(R.slot!==void 0&&R.slot!==null&&R.slot!==""){const J=typeof R.slot=="number"?R.slot:parseInt(String(R.slot).trim(),10);!isNaN(J)&&J>=0?G=String(J):G=String(R.slot).trim()}return{...R,slot:G,days:R.days.sort((J,H)=>{const F=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return F.indexOf(J)-F.indexOf(H)})}});console.log("[FRONTEND] Converted schedule entries for UI:",V.map(R=>({room:R.room,slot:R.slot,slotType:typeof R.slot,grade:R.grade,section:R.section,days:R.days,startTime:R.startTime,endTime:R.endTime}))),h(V),u(!0),console.log("[FRONTEND] handleManageSchedule - END - Modal opened")},N=()=>{h([...d,{days:["Monday"],startTime:"09:00",endTime:"10:00",room:"",slot:"",grade:"",section:"",teacherId:""}])},B=C=>{const k=d[C],_=k.grade||(Array.isArray(k.grades)&&k.grades.length>0?k.grades[0]:""),$={days:Array.isArray(k.days)?[...k.days]:k.day?[k.day]:["Monday"],startTime:k.startTime||"09:00",endTime:k.endTime||"10:00",room:k.room||"",slot:k.slot!==void 0?k.slot:"",grade:_,section:k.section||(Array.isArray(k.sections)&&k.sections.length>0?k.sections[0]:""),teacherId:k.teacherId||""};h([...d,$])},L=C=>{h(d.filter((k,_)=>_!==C))},q=(C,k,_)=>{const $=[...d];$[C]={...$[C],[k]:_},h($)},U=(C,k)=>{const _=[...d],$=Array.isArray(_[C].days)?_[C].days:_[C].day?[_[C].day]:[];$.includes(k)?_[C].days=$.filter(V=>V!==k):_[C].days=[...$,k],_[C].day&&delete _[C].day,h(_)},K=(C,k)=>{const _=[...d];_[C].grade=k,_[C].section="",_[C].grades&&delete _[C].grades,h(_)},W=(C,k)=>{const _=[...d];_[C].section=k,h(_)},ee=async()=>{if(r){console.log("[FRONTEND] handleSaveSchedule - START",{subjectId:r._id||r.id,scheduleEntriesCount:d.length,scheduleEntries:d.map((C,k)=>({index:k,room:C.room,slot:C.slot,slotType:typeof C.slot,grade:C.grade,section:C.section,days:C.days,startTime:C.startTime,endTime:C.endTime}))});for(let C=0;C<d.length;C++){const k=d[C];if((Array.isArray(k.days)?k.days:k.day?[k.day]:[]).length===0){T("Validation Error",`Time Slot ${C+1} must have at least one day selected.`,"error");return}}try{const C=r._id||r.id;for(let $=0;$<d.length;$++){const V=d[$],R=V.grade||(Array.isArray(V.grades)&&V.grades.length>0?V.grades[0]:"");if(!V.room){T("Validation Error",`Time Slot ${$+1} must have a room selected.`,"error");return}if(!V.startTime){T("Validation Error",`Time Slot ${$+1} must have a start time.`,"error");return}if(!V.endTime){T("Validation Error",`Time Slot ${$+1} must have an end time.`,"error");return}if(!R){T("Validation Error",`Time Slot ${$+1} must have a grade selected.`,"error");return}if(!V.section){T("Validation Error",`Time Slot ${$+1} must have a section selected.`,"error");return}const G=Array.isArray(V.days)?V.days:V.day?[V.day]:[],J=V.slot!==void 0&&V.slot!==null&&V.slot!==""?String(V.slot).trim():"",H=V.teacherId?typeof V.teacherId=="object"?V.teacherId._id||V.teacherId.id:V.teacherId:null;if(J)for(const F of G){const ne=S.find(oe=>(oe.schedule||[]).some(Z=>{const he=Z.slot!==void 0&&Z.slot!==null&&Z.slot!==""?String(Z.slot).trim():"";return Z.room===V.room&&he===J&&Z.day===F}));if(ne){const oe=ne.code||ne.name||"Unknown Subject";T("Conflict Detected",`Time Slot ${$+1} conflicts with "${oe}" schedule:

 Room: ${V.room}
 Slot: ${J}
 Day: ${F}

Please select a different room, slot, or day to avoid conflicts.`,"warning");return}if(H){const oe=S.find(ve=>(ve.schedule||[]).some(he=>{const be=he.slot!==void 0&&he.slot!==null&&he.slot!==""?String(he.slot).trim():"",re=he.teacherId?typeof he.teacherId=="object"?he.teacherId._id||he.teacherId.id:he.teacherId:null;return re&&String(re)===String(H)&&be===J&&he.day===F}));if(oe){const ve=oe.code||oe.name||"Unknown Subject",Z=V.teacherId?typeof V.teacherId=="object"?V.teacherId.name:"Selected Teacher":"N/A";T("Teacher Conflict Detected",`Time Slot ${$+1} conflicts with teacher's existing schedule for "${ve}":

 Teacher: ${Z}
 Slot: ${J}
 Day: ${F}

A teacher cannot be scheduled for multiple subjects at the same time slot and day.

Please select a different slot, day, or teacher to avoid conflicts.`,"warning");return}}}}const k=[];d.forEach(($,V)=>{const R=Array.isArray($.days)?$.days:$.day?[$.day]:["Monday"],G=$.grade||(Array.isArray($.grades)&&$.grades.length>0?$.grades[0]:"");console.log(`[FRONTEND] Processing schedule entry ${V}:`,{rawSlot:$.slot,rawSlotType:typeof $.slot,days:R,room:$.room,grade:G,section:$.section}),R.forEach(J=>{const H=$.slot!==void 0&&$.slot!==null&&$.slot!==""?String($.slot).trim():void 0,F={day:J,startTime:$.startTime,endTime:$.endTime,room:$.room||"",slot:H,grade:G,section:$.section||"",teacherId:$.teacherId||void 0};console.log(`[FRONTEND] Created schedule entry for day ${J}:`,F),k.push(F)})}),console.log("[FRONTEND] Formatted schedule to send to backend:",k.map($=>({day:$.day,room:$.room,slot:$.slot,slotType:typeof $.slot,grade:$.grade,section:$.section}))),console.log("[FRONTEND] Sending update request to backend..."),await ue.subjects.update(C,{...r,schedule:k}),console.log("[FRONTEND] Update request completed");const _=await ue.subjects.getAll();_.data?.subjects&&n(_.data.subjects),T("Success","Schedule updated successfully!","info"),u(!1),l(null),h([])}catch(C){console.error("Error updating schedule:",C),T("Error","Failed to update schedule. Please try again.","error")}}},te=[{key:"id",header:"ID",render:(C,k)=>k.code||k._id||k.id||"N/A"},{key:"name",header:"Subject Name",render:C=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ot,{size:16,style:{color:"#667eea"}}),a.jsx("strong",{children:C})]})},{key:"code",header:"Code",render:C=>a.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.25rem",fontSize:"0.85rem",fontWeight:600,color:"#667eea"},children:C})},{key:"description",header:"Description",render:C=>a.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:C})},{key:"grades",header:"Grades",render:(C,k)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(vr,{size:14,style:{color:"#666"}}),a.jsx("strong",{children:k.grades?.length||0})]})},{key:"credits",header:"Credits",render:C=>a.jsx("strong",{children:C})},{key:"category",header:"Category"},{key:"assignedGrades",header:"Assigned Grades",render:(C,k)=>a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:k.grades&&k.grades.length>0?k.grades.map((_,$)=>a.jsx(ge,{variant:"info",size:"sm",children:_},$)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades assigned"})})},{key:"schedule",header:"Schedule",render:(C,k)=>{const _=k.schedule||[];return _.length===0?a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No schedule"}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[_.slice(0,2).map(($,V)=>a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666"},children:[$.day,": ",$.startTime," - ",$.endTime]},V)),_.length>2&&a.jsxs("span",{style:{fontSize:"0.7rem",color:"#999"},children:["+",_.length-2," more"]})]})}},{key:"status",header:"Status",render:C=>a.jsx(ge,{variant:P(C),size:"sm",children:C||"Active"})},{key:"actions",header:"Actions",render:(C,k)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>e(`/dashboard/admin/subjects/${k._id||k.id||k.mongoId}`)}),a.jsx(vt,{size:"sm",onClick:()=>e(`/dashboard/admin/subjects/edit/${k._id||k.id||k.mongoId}`)}),a.jsxs("button",{onClick:()=>M(k),style:{padding:"0.25rem 0.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},title:"Manage Schedule",children:[a.jsx(We,{size:12}),"Schedule"]}),a.jsx(Mt,{size:"sm",onClick:()=>O(k.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Subjects"}),a.jsx(ro,{size:"md",onClick:()=>e("/dashboard/admin/subjects/add"),title:"Add New Subject"})]}),a.jsx(si,{columns:te,data:t.slice(0,10),emptyMessage:"No subjects found"}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null),h([])},title:`Manage Schedule - ${r?.name||""}${r?.code?` (${r.code})`:""}`,size:"lg",customMaxWidth:"1000px",children:r&&a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#333"},children:"Time Schedule"}),a.jsxs("button",{onClick:N,style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:16}),"Add Time Slot"]})]}),d.length===0?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:'No schedule entries. Click "Add Time Slot" to create one.'}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:d.map((C,k)=>a.jsxs("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[a.jsxs("h4",{style:{fontSize:"0.9rem",fontWeight:600,color:"#374151"},children:["Time Slot ",k+1]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs("button",{onClick:()=>B(k),style:{padding:"0.25rem 0.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},title:"Copy this time slot",children:[a.jsx(P5,{size:12}),"Copy"]}),a.jsx("button",{onClick:()=>L(k),style:{padding:"0.25rem 0.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},children:"Remove"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"0.75rem",alignItems:"flex-start",justifyContent:"flex-start"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Days *"}),a.jsx("div",{style:{display:"flex",flexWrap:"nowrap",gap:"0.35rem",alignItems:"center"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(_=>{const $=_.substring(0,3),R=(Array.isArray(C.days)?C.days:C.day?[C.day]:[]).includes(_),G=C.slot!==void 0&&C.slot!==null&&C.slot!==""?String(C.slot):null,J=G&&d.some((he,be)=>be===k||he.room!==C.room||!he.slot||String(he.slot)!==G?!1:(Array.isArray(he.days)?he.days:he.day?[he.day]:[]).includes(_)),H=G&&S.some(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"";return re.room===C.room&&Oe===G&&re.day===_})),F=C.teacherId?typeof C.teacherId=="object"?C.teacherId._id||C.teacherId.id:C.teacherId:null,ne=G&&F&&S.some(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"",Q=re.teacherId?typeof re.teacherId=="object"?re.teacherId._id||re.teacherId.id:re.teacherId:null;return Q&&String(Q)===String(F)&&Oe===G&&re.day===_}));let oe=null;G&&(oe=S.find(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"";return re.room===C.room&&Oe===G&&re.day===_})),!oe&&F&&(oe=S.find(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"",Q=re.teacherId?typeof re.teacherId=="object"?re.teacherId._id||re.teacherId.id:re.teacherId:null;return Q&&String(Q)===String(F)&&Oe===G&&re.day===_}))));const ve=oe?oe.code||oe.name||"Unknown":null,Z=(J||H||ne)&&!R;return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.2rem",padding:"0.35rem 0.5rem",background:R?"#667eea":Z?"#f3f4f6":"#f7fafc",color:R?"white":Z?"#9ca3af":"#4a5568",border:`2px solid ${R?"#667eea":Z?"#d1d5db":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:Z?"not-allowed":"pointer",fontSize:"0.75rem",fontWeight:R?600:400,whiteSpace:"nowrap",flexShrink:0,opacity:Z?.6:1},children:[a.jsx("input",{type:"checkbox",checked:R,onChange:()=>{Z||U(k,_)},disabled:!!Z,style:{display:"none"}}),R&&a.jsx("span",{style:{fontSize:"0.65rem"},children:""}),$,Z&&ve&&a.jsxs("span",{style:{fontSize:"0.6rem",fontStyle:"italic",marginLeft:"0.2rem",color:"#dc2626"},children:["(",ve,")"]})]},_)})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Teacher"}),a.jsxs("select",{value:C.teacherId||"",onChange:_=>q(k,"teacherId",_.target.value),style:{width:"auto",minWidth:"126px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Teacher"}),g.map(_=>a.jsx("option",{value:_.value,children:_.label},_.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Grade *"}),a.jsxs("select",{value:C.grade||(Array.isArray(C.grades)&&C.grades.length>0?C.grades[0]:""),onChange:_=>K(k,_.target.value),style:{width:"auto",minWidth:"77px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),(()=>{const _=R=>{if(!R)return null;const G=R.match(/^(Grade\s+\d+)/i);return G?G[1]:null},$=new Map;return m.forEach(R=>{if(R.status==="Active"&&R.name){const G=_(R.name);G&&!$.has(G)&&$.set(G,G)}}),Array.from($.values()).sort((R,G)=>{const J=parseInt(R.match(/\d+/)?.[0]||"0"),H=parseInt(G.match(/\d+/)?.[0]||"0");return J-H}).map(R=>a.jsx("option",{value:R,children:R},R))})()]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"0.75rem",alignItems:"flex-start",justifyContent:"flex-start"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Room *"}),a.jsxs("select",{value:C.room||"",onChange:_=>{const $=_.target.value,V=[...d];if(V[k]={...V[k],room:$,slot:""},$){const R=y.find(G=>G.code===$||G._id===$||G.id===$);if(R&&R.data)if(R.data.timeSlots&&Array.isArray(R.data.timeSlots)&&R.data.timeSlots.length>0){const G=R.data.timeSlots.find(J=>J.startTime&&J.endTime);G&&(V[k].startTime=G.startTime,V[k].endTime=G.endTime,V[k].slot="0")}else R.data.startTime&&(V[k].startTime=R.data.startTime,V[k].endTime=R.data.endTime)}else V[k].startTime="09:00",V[k].endTime="10:00";h(V)},style:{width:"auto",minWidth:"150px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Room"}),y.map(_=>a.jsxs("option",{value:_.code,children:[_.name," (",_.code,")"]},_._id||_.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Slot"}),(()=>{if(!C.room)return a.jsx("div",{style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f3f4f6",color:"#9ca3af",fontSize:"0.875rem",textAlign:"center"},children:"Select Room First"});const _=y.find(F=>F.code===C.room||F._id===C.room||F.id===C.room);if(!_||!_.data?.timeSlots||!Array.isArray(_.data.timeSlots))return a.jsx("div",{style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f3f4f6",color:"#9ca3af",fontSize:"0.875rem",textAlign:"center"},children:"No Slots Available"});const $=_.data.timeSlots.filter(F=>F.startTime&&F.endTime),V=()=>{const F=new Set,ne=C.slot!==void 0&&C.slot!==null&&C.slot!==""?String(C.slot):null,oe=Array.isArray(C.days)?C.days:C.day?[C.day]:[];return d.forEach((ve,Z)=>{if(Z!==k&&ve.room===C.room&&ve.slot!==void 0&&ve.slot!==""){const he=String(ve.slot),be=Array.isArray(ve.days)?ve.days:ve.day?[ve.day]:[],re=oe.some(Oe=>be.includes(Oe));he!==ne&&re&&F.add(he)}}),F},R=(F,ne)=>{if(d.some((he,be)=>be===k||he.room!==C.room||!he.slot||String(he.slot)!==F?!1:(Array.isArray(he.days)?he.days:he.day?[he.day]:[]).includes(ne)))return!0;const ve=C.teacherId?typeof C.teacherId=="object"?C.teacherId._id||C.teacherId.id:C.teacherId:null;return!!(S.some(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"";return re.room===C.room&&Oe===F&&re.day===ne}))||ve&&S.some(be=>(be.schedule||[]).some(Oe=>{const Q=Oe.slot!==void 0&&Oe.slot!==null&&Oe.slot!==""?String(Oe.slot).trim():"",ye=Oe.teacherId?typeof Oe.teacherId=="object"?Oe.teacherId._id||Oe.teacherId.id:Oe.teacherId:null;return ye&&String(ye)===String(ve)&&Q===F&&Oe.day===ne})))},G=(F,ne)=>{const oe=S.find(Z=>(Z.schedule||[]).some(be=>{const re=be.slot!==void 0&&be.slot!==null&&be.slot!==""?String(be.slot).trim():"";return be.room===C.room&&re===F&&be.day===ne}));if(oe)return oe.code||oe.name||"Unknown";const ve=C.teacherId?typeof C.teacherId=="object"?C.teacherId._id||C.teacherId.id:C.teacherId:null;if(ve){const Z=S.find(he=>(he.schedule||[]).some(re=>{const Oe=re.slot!==void 0&&re.slot!==null&&re.slot!==""?String(re.slot).trim():"",Q=re.teacherId?typeof re.teacherId=="object"?re.teacherId._id||re.teacherId.id:re.teacherId:null;return Q&&String(Q)===String(ve)&&Oe===F&&re.day===ne}));if(Z)return Z.code||Z.name||"Unknown"}return null},J=V(),H=F=>{if(!F)return"";const[ne,oe]=F.split(":"),ve=parseInt(ne),Z=ve>=12?"PM":"AM";return`${ve%12||12}:${oe}${Z}`};return a.jsx("div",{children:a.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"0.25rem",padding:"0.25rem",alignItems:"flex-start",justifyContent:"flex-start"},children:$.map((F,ne)=>{const oe=String(ne);let ve="";if(C.slot!==void 0&&C.slot!==null&&C.slot!==""){const Oe=typeof C.slot=="number"?C.slot:parseInt(String(C.slot).trim(),10);!isNaN(Oe)&&Oe>=0?ve=String(Oe):ve=String(C.slot).trim()}const Z=ve===oe,he=Array.isArray(C.days)?C.days:C.day?[C.day]:[];let be=!1,re=null;if(he.length>0){for(const Oe of he)if(R(oe,Oe)){be=!0,re=G(oe,Oe);break}}else be=J.has(oe);return Z&&(be=!1,re=null),k===0&&ne<3&&console.log(`[FRONTEND] Radio Button Render - Entry ${k}, Slot ${ne}:`,{rawEntrySlot:C.slot,rawEntrySlotType:typeof C.slot,normalizedEntrySlot:ve,slotValue:oe,isSelected:Z,isUsed:be,entryRoom:C.room,entryGrade:C.grade}),a.jsxs("label",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.15rem",padding:"0.25rem 0.4rem",background:"transparent",color:Z?"#667eea":be?"#9ca3af":"#374151",border:"none",cursor:be?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:Z?600:400,opacity:be?.6:1,whiteSpace:"nowrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem"},children:[a.jsx("input",{type:"radio",name:`slot-${k}`,value:oe,checked:Z,disabled:be,onChange:()=>{if(!be){const Oe=[...d];if(Oe[k]={...Oe[k],slot:oe},_.data?.timeSlots&&Array.isArray(_.data.timeSlots)){const Q=_.data.timeSlots[ne];Q&&Q.startTime&&Q.endTime&&(Oe[k].startTime=Q.startTime,Oe[k].endTime=Q.endTime)}h(Oe)}},style:{margin:0,cursor:be?"not-allowed":"pointer"}}),a.jsx("span",{children:F.name||`Slot ${ne+1}`}),be&&a.jsx("span",{style:{fontSize:"0.65rem",fontStyle:"italic",color:"#dc2626"},children:re?`(Reserved by ${re})`:"(Reserved)"})]}),Z&&F.startTime&&F.endTime&&a.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:400,color:"#000000",marginTop:"0.1rem"},children:[H(F.startTime),"-",H(F.endTime)]})]},ne)})})})})()]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Section *"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:(()=>{const _=C.grade||(Array.isArray(C.grades)&&C.grades.length>0?C.grades[0]:"");if(!_)return a.jsx("span",{style:{fontSize:"0.85rem",color:"#9ca3af",fontStyle:"italic"},children:"Please select a grade first"});const $=F=>{if(!F)return null;const ne=F.match(/^(Grade\s+\d+)/i);return ne?ne[1]:null},V=_.startsWith("Grade")?_:`Grade ${_}`,R=m.filter(F=>F.status!=="Active"||!F.section?!1:$(F.name||"")===V).map(F=>F.section).filter(Boolean).sort(),J=Array.from(new Set(R)).filter(F=>F.toUpperCase()==="A"||F.toUpperCase()==="B"),H=C.section||"";return J.length>0?J.map(F=>{const ne=H===F;return a.jsxs("label",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",padding:"0.2rem 0.35rem",minWidth:"28px",height:"28px",background:ne?"#10b981":"#f7fafc",color:ne?"white":"#4a5568",border:`2px solid ${ne?"#10b981":"#e2e8f0"}`,borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:ne?600:400,lineHeight:"1"},children:[a.jsx("input",{type:"radio",name:`section-${k}`,checked:ne,onChange:()=>W(k,F),style:{display:"none"}}),ne&&a.jsx("span",{style:{fontSize:"0.7rem",lineHeight:"1"},children:""}),a.jsx("span",{style:{lineHeight:"1"},children:F})]},F)}):a.jsxs("span",{style:{fontSize:"0.85rem",color:"#9ca3af",fontStyle:"italic"},children:["No sections available for ",_]})})()})]})]})]})]},k))}),a.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[a.jsx("button",{onClick:()=>{u(!1),l(null),h([])},style:{padding:"0.5rem 1rem",background:"#e5e7eb",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:ee,style:{padding:"0.5rem 1rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Save Schedule"})]})]})}),a.jsx(JV,{isOpen:E.isOpen,onClose:()=>D({...E,isOpen:!1}),title:E.title,message:E.message,type:E.type})]})},tY=({teachers:e,allClasses:t,value:n,onChange:r})=>{const[l,o]=x.useState(n?.teacherId||""),[u,d]=x.useState(n?.gradeSections||[]),h=E=>{if(!E)return null;const D=E.match(/^(Grade\s+\d+)/i);return D?D[1]:null},m=E=>{if(!Array.isArray(t)||!E)return[];const D=E.startsWith("Grade")?E:`Grade ${E}`,T=t.filter(O=>O.status!=="Active"?!1:h(O.name||"")===D);return[...new Set(T.map(O=>O.section).filter(Boolean))].map(O=>({value:O,label:`Section ${O}`}))},p=()=>{if(!Array.isArray(t))return[];const E=new Map;return t.forEach(D=>{if(D.status==="Active"&&D.name){const T=h(D.name);T&&!E.has(T)&&E.set(T,T)}}),Array.from(E.values()).sort((D,T)=>{const P=parseInt(D.match(/\d+/)?.[0]||"0"),O=parseInt(T.match(/\d+/)?.[0]||"0");return P-O}).map(D=>({value:D,label:D}))},g=E=>{if(o(E),E){const D={teacherId:E,gradeSections:u.length>0?u:[]};r?.(D)}else r?.(null)},b=()=>{const E=[...u,{grade:"",sections:[]}];d(E),l&&r?.({teacherId:l,gradeSections:E})},y=E=>{const D=u.filter((T,P)=>P!==E);d(D),l&&r?.({teacherId:l,gradeSections:D})},A=(E,D)=>{const T=[...u];T[E]={grade:D,sections:[]},d(T),l&&r?.({teacherId:l,gradeSections:T})},S=(E,D)=>{const T=[...u],P=T[E].sections||[];P.includes(D)?T[E].sections=P.filter(O=>O!==D):T[E].sections=[...P,D],d(T),l&&r?.({teacherId:l,gradeSections:T})},w=p();return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr auto auto 0.5fr 2fr",gap:"1rem",alignItems:"flex-end"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Select Teacher *"}),a.jsxs("select",{value:l,onChange:E=>g(E.target.value),style:{width:"100%",padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select a teacher"}),e.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),a.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",paddingBottom:"0.5rem"},children:a.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",whiteSpace:"nowrap"},children:"Select Grade *"})}),a.jsxs("button",{type:"button",onClick:b,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,whiteSpace:"nowrap",height:"fit-content"},children:[a.jsx($i,{size:16}),"Add Grade"]}),l&&u.length>0&&u[0]&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:u[0].grade,onChange:E=>A(0,E.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),w.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),l&&u.length>0&&u[0]?.grade&&(()=>{const E=m(u[0].grade);return E.length>0?a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:E.map(D=>{const T=u[0].sections.includes(D.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:T?"#667eea":"#f7fafc",color:T?"white":"#4a5568",border:`2px solid ${T?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:T?600:400},children:[a.jsx("input",{type:"checkbox",checked:T,onChange:()=>S(0,D.value),style:{display:"none"}}),T&&a.jsx(fc,{size:14}),D.label]},D.value)})})]}):null})()]}),l&&u.length>1&&a.jsx("div",{children:u.slice(1).map((E,D)=>{const T=D+1,P=E.grade?m(E.grade):[];return a.jsx("div",{style:{padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",marginBottom:"1rem",background:"white"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[a.jsxs("div",{style:{flex:.5},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:E.grade,onChange:O=>A(T,O.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),w.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))]})]}),E.grade&&P.length>0&&a.jsxs("div",{style:{flex:2},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:P.map(O=>{const M=E.sections.includes(O.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:M?"#667eea":"#f7fafc",color:M?"white":"#4a5568",border:`2px solid ${M?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:M?600:400},children:[a.jsx("input",{type:"checkbox",checked:M,onChange:()=>S(T,O.value),style:{display:"none"}}),M&&a.jsx(fc,{size:14}),O.label]},O.value)})})]}),a.jsx("button",{type:"button",onClick:()=>y(T),style:{padding:"0.5rem",background:"#fed7d7",color:"#c53030",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Remove this grade",children:a.jsx(qa,{size:16})})]})},T)})}),l&&u.length===0&&a.jsx("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem",textAlign:"center",color:"#718096",fontSize:"0.9rem"},children:'Click "Add Grade" to assign this teacher to specific grades and sections'})]})},t5=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState({}),[o,u]=x.useState([]),[d,h]=x.useState([]),[m,p]=x.useState([]),[g,b]=x.useState([{teacherId:"",gradeSections:[]}]),[y,A]=x.useState(!0);x.useEffect(()=>{A(!0);const D=async()=>{try{const O=await ue.grades.getAll();if(O.data?.classes){const W=new Map,ee=k=>{if(!k)return null;const _=k.match(/^(Grade\s+\d+)/i);return _?_[1]:null};O.data.classes.forEach(k=>{const _=ee(k.name||"")||"Unknown";if(!W.has(_)){const $=O.data.classes.filter(V=>(ee(V.name||"")||"Unknown")===_);W.set(_,{id:_,name:_,status:$[0]?.status||"Active"})}});const C=Array.from(W.values()).filter(k=>k.status==="Active").sort((k,_)=>{const $=parseInt(k.name.match(/\d+/)?.[0]||"0"),V=parseInt(_.name.match(/\d+/)?.[0]||"0");return $-V}).map(k=>({value:k.id,label:k.name}));u(C)}const M=await ue.teachers.getAll(),N=M?.data?.teachers||M?.data||M||[],L=(Array.isArray(N)?N:[]).filter(W=>W.status==="Active"||!W.status).map(W=>({value:W._id||W.id,label:`${W.name} (${W.subject||"N/A"})`}));h(L);const q=await ue.classes.getAll(),U=q?.data?.classes||q?.data||q||[],K=Array.isArray(U)?U:[];p(K)}catch(O){console.error("Error loading data:",O)}},T=async()=>{if(typeof t!="string"||t.trim()===""){console.log("Skipping subject load - no valid ID",{isEditMode:n,id:t,idType:typeof t});return}if(!n){console.log("Skipping subject load - not in edit mode",{isEditMode:n,id:t});return}try{console.log("Loading subject with ID:",t);const O=await ue.subjects.getById(t);console.log("Subject response:",O);const M=O?.data?.subject||O?.data||O;if(M){let N="";M.teacherId&&(typeof M.teacherId=="object"&&M.teacherId._id?N=M.teacherId._id.toString():typeof M.teacherId=="string"?N=M.teacherId:N=M.teacherId.toString());const B=Array.isArray(M.grades)?M.grades:[],L=M.credits!=null?String(M.credits):"0",q=[];if(M.teacherAssignments&&Array.isArray(M.teacherAssignments)&&M.teacherAssignments.length>0)M.teacherAssignments.forEach(K=>{if(K.teacherId){const W=typeof K.teacherId=="object"?K.teacherId._id||K.teacherId.id:K.teacherId,ee=Array.isArray(K.gradeSections)?K.gradeSections.filter(te=>te&&te.grade&&te.grade.trim()!=="").map(te=>({grade:te.grade,sections:Array.isArray(te.sections)?te.sections.filter(C=>C&&C.trim()!==""):[]})):[];q.push({teacherId:String(W),gradeSections:ee})}}),b(q.length>0?q:[{teacherId:"",gradeSections:[]}]);else if(N&&B.length>0){const K=new Map;B.forEach(W=>{const ee=W.match(/^(Grade \d+)/i);if(ee){const te=ee[1],C=W.replace(te,"").trim();K.has(te)||K.set(te,[]),C&&K.get(te).push(C)}else K.has(W)||K.set(W,[])}),q.push({teacherId:N,gradeSections:Array.from(K.entries()).map(([W,ee])=>({grade:W,sections:ee.length>0?ee:[]}))}),b(q)}else b([{teacherId:"",gradeSections:[]}]);const U={name:M.name||"",code:M.code||"",category:M.category||"",level:M.level||"",credits:L,description:M.description||"",grades:B,teacherId:N,status:M.status||"Active"};console.log("Setting initial data:",U),l(U)}else console.error("Subject not found in response")}catch(O){if(n&&t){console.error("Error loading subject:",O);const M=O?.errorData?.message||O?.message||"Failed to load subject data";alert(`Failed to load subject: ${M}`)}else console.log("Not loading subject (not in edit mode)")}};(async()=>{try{await D(),await T()}finally{A(!1)}})()},[t,n]);const S=x.useMemo(()=>[{name:"name",label:"Subject Name",type:"text",required:!0,placeholder:"e.g., Mathematics, English, Science",halfWidth:!0},{name:"code",label:"Subject Code",type:"text",required:!0,placeholder:"e.g., MATH, ENG, SCI",halfWidth:!0},{name:"category",label:"Category",type:"select",required:!0,options:[{value:"Core",label:"Core Subject"},{value:"Elective",label:"Elective Subject"},{value:"Language",label:"Language"},{value:"Science",label:"Science"},{value:"Arts",label:"Arts"},{value:"Physical Education",label:"Physical Education"}],halfWidth:!0},{name:"level",label:"Level",type:"select",required:!0,options:[{value:"Elementary",label:"Elementary"},{value:"Middle School",label:"Middle School"},{value:"High School",label:"High School"},{value:"Advanced",label:"Advanced"}],halfWidth:!0},{name:"credits",label:"Credits",type:"number",required:!0,placeholder:"3",min:1,max:5,halfWidth:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active",halfWidth:!0},{name:"description",label:"Description",type:"textarea",placeholder:"Enter subject description",rows:4}],[d,o]),w=[{title:"Subject Information",fieldNames:["name","code","category","level"]},{title:"Additional Details",fieldNames:["credits","status","description"]},{title:"Assignments",fieldNames:[]}],E=async D=>{try{let T=[];const P=[],O=g.filter(B=>B.teacherId&&B.teacherId.trim()!=="");O.forEach(B=>{B.teacherId&&(P.push(String(B.teacherId)),B.gradeSections.forEach(L=>{L.grade&&L.grade.trim()!==""&&(L.sections&&L.sections.length>0?L.sections.forEach(q=>{if(q&&q.trim()!==""){const U=`${L.grade}${q}`;T.includes(U)||T.push(U)}}):T.includes(L.grade)||T.push(L.grade))}))});const M=O.map(B=>{const L=B.gradeSections.filter(q=>q.grade&&q.grade.trim()!=="");return L.length>0?{teacherId:String(B.teacherId),gradeSections:L.map(q=>({grade:q.grade,sections:(q.sections||[]).filter(U=>U&&U.trim()!=="")}))}:null}).filter(B=>B!==null),N={name:D.name,code:D.code,category:D.category,level:D.level,credits:parseInt(D.credits)||0,description:D.description||"",grades:T,status:D.status||"Active"};if(N.teacherAssignments=M,P.length>0?N.teacherId=P[0]:N.teacherId=null,console.log("Submitting subject data:",N),n&&t){const B=await ue.subjects.update(t,N);if(B){const L=B?.data?.subject?.name||D.name||"Subject";alert(`Subject "${L}" updated successfully!`),console.log("Subject updated:",B)}}else{const B=await ue.subjects.create(N),L=B?.data?.subject?.name||B?.name||"Subject";alert(`Subject "${L}" created successfully!`),console.log("New subject created:",B)}e("/dashboard/admin/subjects")}catch(T){console.error("Error saving subject:",T);const P=T?.errorData?.message||T?.message||"Failed to save subject. Please try again.";alert(`Failed to save subject: ${P}`)}};return y?a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading subject data..."})})]}):a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx(Vi,{title:n?"Edit Subject":"Add New Subject",fields:S,sections:w,onSubmit:E,submitButtonText:n?"Update Subject":"Create Subject",submitButtonIcon:a.jsx(zt,{size:18}),initialData:r,customSectionContent:{Assignments:a.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1rem"},children:[g.map((D,T)=>a.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#333",margin:0},children:T===0?"First Teacher":T===1?"Second Teacher":T===2?"Third Teacher":`Teacher ${T+1}`}),a.jsx("button",{type:"button",onClick:()=>{const P=g.filter((O,M)=>M!==T);P.length===0?b([{teacherId:"",gradeSections:[]}]):b(P)},style:{padding:"0.25rem 0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Remove Teacher"})]}),a.jsx(tY,{teachers:d.filter(P=>!g.map(M=>M.teacherId).filter((M,N)=>N!==T&&M).includes(P.value)),allClasses:m,value:D,onChange:P=>{const O=[...g];O[T]=P||{teacherId:"",gradeSections:[]},b(O)}})]},T)),a.jsxs("button",{type:"button",onClick:()=>{b([...g,{teacherId:"",gradeSections:[]}])},style:{padding:"0.75rem 1.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{children:"+"}),"Add Another Teacher"]})]})}},`${t||"new"}-${JSON.stringify(r)}`)]})},nY=()=>{const{id:e}=Fn(),t=jt(),[n,r]=x.useState(!1),[l,o]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState([]),[b,y]=x.useState([]);x.useEffect(()=>{if(typeof e!="string"||e.trim()===""){console.log("Skipping subject load - no valid ID",{id:e,idType:typeof e});return}(async()=>{try{console.log("Loading subject with ID:",e);const B=await ue.subjects.getById(e);if(B?.data?.subject){const L=B.data.subject;m(L),A(L,b)}else console.error("Subject not found in response:",B),m(null)}catch(B){console.error("Error loading subject:",B);const L=B?.errorData?.message||B?.message||"Failed to load subject";console.error("Subject loading error details:",L),m(null)}})()},[e]);const A=(N,B)=>{const L=[];if(N.teacherAssignments&&Array.isArray(N.teacherAssignments))N.teacherAssignments.forEach((q,U)=>{if(q.teacherId){const K=typeof q.teacherId=="object"?q.teacherId:B.find(W=>(W._id||W.id)===q.teacherId);if(K){const W=[];q.gradeSections&&Array.isArray(q.gradeSections)&&q.gradeSections.forEach(ee=>{ee.sections&&ee.sections.length>0?ee.sections.forEach(te=>{W.push(`${ee.grade}${te}`)}):W.push(ee.grade)}),L.push({id:U+1,subjectId:N._id||N.id,teacherId:K._id||K.id,teacherName:K.name||"Unknown",teacherEmail:K.email||"N/A",experience:K.experience||"N/A",status:K.status||"Active",grades:W})}}});else if(N.teacherId){const q=typeof N.teacherId=="object"?N.teacherId:B.find(U=>(U._id||U.id)===N.teacherId);q&&L.push({id:1,subjectId:N._id||N.id,teacherId:q._id||q.id,teacherName:q.name||"Unknown",teacherEmail:q.email||"N/A",experience:q.experience||"N/A",status:q.status||"Active",grades:N.grades||[]})}g(L)};x.useEffect(()=>{h&&b.length>0&&A(h,b)},[h,b.length]);const[S,w]=x.useState([]),[E,D]=x.useState([]);if(x.useEffect(()=>{(async()=>{try{const B=await ue.teachers.getAll();if(B.data?.teachers){const L=Array.isArray(B.data.teachers)?B.data.teachers.filter(q=>q!=null):[];if(y(L),h){const q=L.filter(U=>{if(!U)return!1;const K=U._id||U.id||U.mongoId;return!p.some(W=>String(W.teacherId)===String(K))});w(q)}else w(L)}else y([]),w([])}catch(B){console.error("Error loading teachers:",B),y([]),w([])}})()},[h,p.length]),x.useEffect(()=>{(async()=>{try{const B=await ue.grades.getAll();if(B.data?.classes){const L=new Map;B.data.classes.forEach(K=>{const W=K.grade||"Unknown";if(!L.has(W)){const ee=B.data.classes.filter(te=>(te.grade||"Unknown")===W);L.set(W,{id:W,name:W,section:"",capacity:0,currentStudents:0,description:"",status:ee[0]?.status||"Active"})}});const U=Array.from(L.values()).filter(K=>K.status==="Active").map(K=>({value:K.id,label:K.name}));D(U)}}catch(B){console.error("Error loading grades:",B)}})()},[]),!h)return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx("p",{children:"Loading subject details..."}),e&&typeof e=="string"&&e.trim()!==""&&a.jsx("p",{style:{fontSize:"0.875rem",color:"#999",marginTop:"0.5rem"},children:"If this message persists, the subject may not exist."})]})]});const T=[{name:"teacher",label:"Select Teacher",type:"select",required:!0,options:S.filter(N=>N!=null).map(N=>({value:(N._id||N.id||N.mongoId||"").toString(),label:`${N.name||"Unknown"} (${N.experience||"N/A"})`}))},{name:"grades",label:"Assign to Grades",type:"select",required:!0,multiple:!0,placeholder:"Select grades this teacher will teach",options:E.filter(N=>h.grades?.includes(N.value))}],P=[{name:"grades",label:"Assign to Grades",type:"select",required:!0,multiple:!0,placeholder:"Select grades this teacher will teach",options:E.filter(N=>h.grades?.includes(N.value))}],O=N=>{if(!h)return;const B=N.teacher,L=S.find(q=>String(q._id||q.id||q.mongoId)===String(B));if(L){const q=Array.isArray(N.grades)?N.grades:[],U={subjectId:h._id||h.id||h.mongoId,teacherId:L._id||L.id||L.mongoId,teacherName:L.name,teacherEmail:L.email||"N/A",experience:L.experience||"N/A",status:L.status||"Active",grades:q,id:Date.now()};g(K=>[...K,U]),r(!1),alert(`Teacher ${L.name} assigned successfully to ${q.join(", ")}!`)}},M=N=>{if(!u)return;const B=Array.isArray(N.grades)?N.grades:[],L={...u,grades:B};L&&(g(q=>q.map(U=>U.id===L.id?L:U)),o(!1),d(null),alert(`Grades updated successfully for ${L.teacherName}!`))};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>t("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx("div",{className:"page-header",style:{marginBottom:"2rem"},children:a.jsxs("h1",{style:{fontSize:"0.875rem"},children:["Subject Details: ",h.name]})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem",marginBottom:"2rem"},children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Ot,{size:28}),value:h.name,label:"Subject Name",color:"#667eea",fontSize:.65}),a.jsx(Ee,{variant:"stat",icon:a.jsx($t,{size:28}),value:p.length,label:"Assigned Teachers",color:"#48bb78",fontSize:.65}),a.jsx(Ee,{variant:"stat",icon:a.jsx(EP,{size:28}),value:h.category,label:"Category",color:"#ed8936",fontSize:.65}),a.jsx(Ee,{variant:"stat",icon:a.jsx(vr,{size:28}),value:h.credits,label:"Credits",color:"#9f7aea",fontSize:.65})]}),a.jsx(Ee,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Gt,{columns:6,sections:[{title:"Subject Information",icon:Ot,fields:[{label:"Subject Code",value:h.code||"N/A",icon:XP},{label:"Category",value:h.category||"N/A",renderAsBadge:{variant:"info",size:"sm"}},{label:"Level",value:h.level||"N/A",icon:yr},{label:"Credits",value:(h.credits!=null?h.credits:0).toString(),icon:yr},{label:"Status",value:h.status||"Active",renderAsBadge:{variant:h.status?.toLowerCase()==="active"?"success":"secondary",size:"sm"}},{label:"Description",value:h.description||"No description available",icon:nt},{label:"Assigned Grades",value:h.grades&&h.grades.length>0?h.grades.join(", "):"No grades assigned",icon:vr,spanFull:!0}]},...h.schedule&&h.schedule.length>0?[{title:"Schedule",icon:We,fields:[],customContent:(()=>{const N=new Map;h.schedule.forEach(K=>{const W=K.grade||"Unknown",ee=`${K.startTime||""}_${K.endTime||""}_${K.room||""}_${K.section||""}`;N.has(W)||N.set(W,new Map);const te=N.get(W);if(te.has(ee)){const C=te.get(ee),k=K.day||K.days?.[0];k&&!C.days.includes(k)&&C.days.push(k)}else{const C=K.day||K.days?.[0]||"Monday";te.set(ee,{days:[C],startTime:K.startTime||"",endTime:K.endTime||"",room:K.room||"",grade:W,section:K.section||""})}});const B=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],L={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},q=K=>{const W=K.match(/\d+/);return W?parseInt(W[0],10):999},U=Array.from(N.keys()).sort((K,W)=>q(K)-q(W));return a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:U.map(K=>{const W=N.get(K),ee=Array.from(W.values());return ee.sort((te,C)=>te.section<C.section?-1:te.section>C.section?1:0),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("h4",{style:{margin:0,fontSize:"0.9rem",fontWeight:600,color:"#333",marginBottom:"0.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:K}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",paddingLeft:"0.5rem"},children:ee.map((te,C)=>{const _=te.days.sort((V,R)=>B.indexOf(V)-B.indexOf(R)).map(V=>`${L[V]||V.substring(0,3)} `).join(", "),$=`${te.startTime} - ${te.endTime}${te.room?` (Room: ${te.room})`:""}${te.section?` | Section: ${te.section}`:""}`;return a.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[a.jsxs("label",{style:{display:"block",fontSize:"0.8rem",color:"#666",marginBottom:"0.2rem"},children:[a.jsx($e,{size:14,style:{display:"inline",marginRight:"0.25rem"}}),_]}),a.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:500},children:$})]},C)})})]},K)})})})()}]:[]]})}),a.jsxs(Ee,{variant:"custom",style:{padding:"1.5rem",fontSize:"1em"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx("h2",{className:"section-title",style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},children:"Assigned Teachers"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p.map(N=>{const B=(h.schedule||[]).filter(W=>{if(!W.teacherId)return!1;const ee=typeof W.teacherId=="object"?(W.teacherId._id||W.teacherId.id||"").toString():W.teacherId.toString();return String(ee)===String(N.teacherId)}),L=new Map;B.forEach(W=>{const ee=`${W.startTime||""}_${W.endTime||""}_${W.room||""}_${W.grade||""}_${W.section||""}`;if(L.has(ee)){const te=L.get(ee),C=W.day||W.days?.[0];C&&!te.days.includes(C)&&te.days.push(C)}else{const te=W.day||W.days?.[0]||"Monday";L.set(ee,{days:[te],startTime:W.startTime||"",endTime:W.endTime||"",room:W.room||"",grade:W.grade||"",section:W.section||""})}});const q=Array.from(L.values()),U=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],K={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"};return a.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"1rem",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[a.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#333"},children:N.teacherName}),a.jsx(ge,{variant:N.status.toLowerCase()==="active"?"success":"secondary",size:"sm",children:N.status})]}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsxs("span",{style:{fontSize:"0.85rem",color:"#666"},children:["Email: ",N.teacherEmail]}),a.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:""}),a.jsxs("span",{style:{fontSize:"0.85rem",color:"#666"},children:["Experience: ",N.experience]})]}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{fontSize:"0.85rem",color:"#666",marginRight:"0.25rem"},children:"Grades:"}),N.grades&&N.grades.length>0?N.grades.map((W,ee)=>a.jsx(ge,{variant:"info",size:"sm",children:W},ee)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades"})]})]}),q.length>0?a.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[a.jsxs("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.9rem",fontWeight:600,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14}),"Teaching Schedule"]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:q.map((W,ee)=>{const C=W.days.sort((_,$)=>U.indexOf(_)-U.indexOf($)).map(_=>`${K[_]||_.substring(0,3)} `).join(", "),k=`${W.startTime} - ${W.endTime}${W.room?` (Room: ${W.room})`:""}${W.grade?` | Grade: ${W.grade}`:""}${W.section?` | Section: ${W.section}`:""}`;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:"0.5rem",backgroundColor:"white",borderRadius:"4px",border:"1px solid #e5e7eb"},children:[a.jsxs("label",{style:{display:"block",fontSize:"0.75rem",color:"#666",marginBottom:"0.2rem",fontWeight:500},children:[a.jsx($e,{size:12,style:{display:"inline",marginRight:"0.25rem"}}),C]}),a.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:500,color:"#333"},children:k})]},ee)})})]}):a.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:a.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#999",fontStyle:"italic"},children:"No schedule assigned yet for this teacher."})})]},N.id)}),p.length===0&&a.jsx("div",{style:{textAlign:"center",color:"#999",padding:"2rem",fontSize:"0.9rem"},children:'No teachers assigned yet. Click "Assign Teacher" to add one.'})]})]}),a.jsx(nr,{isOpen:n,onClose:()=>r(!1),title:"Assign Teacher to Subject",fields:T,onSubmit:O,submitButtonText:"Assign Teacher",submitButtonIcon:a.jsx(fc,{size:18}),size:"md"}),a.jsx(nr,{isOpen:l,onClose:()=>{o(!1),d(null)},title:`Edit Grades for ${u?.teacherName||"Teacher"}`,fields:P,onSubmit:M,submitButtonText:"Update Grades",submitButtonIcon:a.jsx(fc,{size:18}),size:"md",initialData:u?{grades:u.grades}:{}})]})},rY=()=>{const[e]=D5(),t=e.get("date"),n=e.get("class"),[r,l]=x.useState(n||""),[o,u]=x.useState(t||new Date().toISOString().split("T")[0]);x.useEffect(()=>{t&&u(t),n&&l(decodeURIComponent(n))},[t,n]);const[d,h]=x.useState([]),[m,p]=x.useState([]),[g,b]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const P=await ue.classes.getAll();if(P.data?.classes){const M=P.data.classes.filter(N=>N.status==="Active").map(N=>({value:N._id||N.id,label:`${N.name} (${N.code})`}));p(M)}}catch(P){console.error("Error loading class options:",P),p([])}})()},[]);const y=async()=>{if(!r||!o){h([]);return}try{b(!0);const T=await ue.classes.getById(r),P=T.data?.class||T.class||T,O=P.name||"",M=P.code||"",N=P.section||"";console.log("[ATTENDANCE] Loading students for class:",{className:O,classCode:M,classSection:N,selectedClass:r});const B=await ue.students.getAll(),L=B.data?.students||B.students||[];console.log("[ATTENDANCE] All students loaded:",L.length),L.length>0&&console.log("[ATTENDANCE] Sample student structure:",{firstStudent:L[0],keys:Object.keys(L[0]||{}),has_id:!!L[0]?._id,hasId:!!L[0]?.id,hasStudentId:!!L[0]?.studentId});const q=N?`${O} Section ${N}`:O,U=L.filter(k=>{const _=(k.class||"").trim(),$=(k.section||"").trim(),V=O.split(" ").slice(0,2).join(" ");console.log("[ATTENDANCE] Checking student:",{studentName:k.name,studentClass:_,studentSection:$,className:O,fullClassName:q,classSection:N,gradeFromClassName:V});const R=_===q,G=_===O,J=_.includes(V)&&N&&$===N,F=R||G||J||_===V&&$===N;return F&&console.log("[ATTENDANCE]  Student matched:",k.name),F});console.log("[ATTENDANCE] Filtered students for class:",U.length,U.map(k=>({id:k.studentId||k._id||k.id,name:k.name,class:k.class})));const K=await ue.attendance.getAll({date:o,class:q}),ee=(K.data?.attendance||K.attendance||[])[0],te=new Map;ee&&ee.students&&Array.isArray(ee.students)&&ee.students.forEach(k=>{const _=k.studentId?._id||k.studentId||k.studentId?.toString();if(_){let $="absent";const V=(k.status||"").toLowerCase();V==="present"?$="present":V==="absent"?$="absent":V==="late"?$="late":V==="excused"&&($="leave"),te.set(String(_),{status:$,remarks:k.remarks})}}),console.log("[ATTENDANCE] Existing attendance document:",{found:!!ee,studentsCount:ee?.students?.length||0,mappedCount:te.size});const C=U.map(k=>{const _=k.studentId||k.id||"N/A";let $=k._id;!$&&k.id&&typeof k.id=="object"&&k.id._id?$=k.id._id:!$&&k.id&&!k.studentId&&($=k.id),console.log("[ATTENDANCE] Student mapping:",{name:k.name,studentId:_,_id:k._id,id:k.id,extractedMongoId:$,allKeys:Object.keys(k)}),$||console.error("[ATTENDANCE] No MongoDB _id found for student:",k);const V=te.get(String($));return{id:_,mongoId:$||"",name:k.name,status:V?.status||"present",existingAttendanceId:ee?._id||ee?.id}});console.log("[ATTENDANCE] Students with attendance:",C.length),h(C)}catch(T){console.error("[ATTENDANCE] Error loading students:",T),h([]),alert("Failed to load students. Please check the class selection and try again.")}finally{b(!1)}},A=(T,P)=>{h(O=>O.map(M=>String(M.id)===String(T)?{...M,status:P}:M))},S=T=>d.filter(P=>P.status===T).length,w=T=>{switch(T){case"present":return"Present";case"absent":return"Absent";case"late":return"Late";case"leave":return"Excused";default:return"Absent"}},E=async()=>{if(!r||!o){alert("Please select a class and date");return}if(d.length===0){alert("No students to mark attendance for. Please load students first.");return}let T="",P=[];try{b(!0);const O=await ue.classes.getById(r),M=O.data?.class||O.class||O,N=M.name||"",B=M.section||"";T=B?`${N} Section ${B}`:N,console.log("[ATTENDANCE] Saving attendance for:",d.length,"students"),console.log("[ATTENDANCE] Class details:",{gradeName:N,section:B,className:T});const L=d.filter(_=>!_.mongoId);if(L.length>0){alert(`Error: ${L.length} student(s) are missing MongoDB IDs. Please reload the students.`);return}P=d.map(_=>({studentId:_.mongoId,status:w(_.status),remarks:"On time"}));const q=P.filter(_=>!_.studentId||!/^[0-9a-fA-F]{24}$/.test(_.studentId));if(q.length>0){console.error("[ATTENDANCE] Invalid student IDs found:",q),alert(`Error: ${q.length} student(s) have invalid MongoDB IDs. Please reload the students.`);return}const U={class:T,date:o,students:P};console.log("[ATTENDANCE] Saving attendance document:",{class:T,date:o,studentsCount:P.length,studentsArray:P.map(_=>({studentId:_.studentId,status:_.status}))});const K=d[0]?.existingAttendanceId;let W;if(K){console.log("[ATTENDANCE] Updating existing attendance:",K);const _={students:P};W=await ue.attendance.update(K,_)}else console.log("[ATTENDANCE] Creating new attendance"),W=await ue.attendance.create(U);console.log("[ATTENDANCE] Save response:",W);const ee=S("present"),te=S("absent"),C=S("late"),k=S("leave");alert(`Attendance marked successfully!
Present: ${ee}
Absent: ${te}
Late: ${C}
On Leave: ${k}`),await y()}catch(O){console.error("[ATTENDANCE] Error saving attendance:",O),console.error("[ATTENDANCE] Error type:",typeof O),console.error("[ATTENDANCE] Error constructor:",O?.constructor?.name),console.error("[ATTENDANCE] Error keys:",Object.keys(O||{})),console.error("[ATTENDANCE] Error details:",{message:O?.message,status:O?.status,name:O?.name,response:O?.response,data:O?.data,errorData:O?.errorData,stack:O?.stack});let M="Failed to save attendance. Please try again.";if(O?.message?M=O.message:O?.errorData?.message?M=O.errorData.message:O?.errorData?.error?M=O.errorData.error:O?.response?.data?.message?M=O.response.data.message:O?.data?.message?M=O.data.message:typeof O=="string"?M=O:O?.toString&&(M=O.toString()),console.error("[ATTENDANCE] Final error message:",M),(M.includes("already marked")||O?.status===400&&M.includes("already"))&&T&&P.length>0){console.log("[ATTENDANCE] Duplicate detected, fetching existing attendance to update...");try{const N=await ue.attendance.getAll({date:o,class:T}),L=(N.data?.attendance||N.attendance||[])[0];if(L&&L._id){console.log("[ATTENDANCE] Found existing attendance, updating:",L._id);const q={students:P},U=await ue.attendance.update(L._id,q);console.log("[ATTENDANCE] Update response:",U);const K=S("present"),W=S("absent"),ee=S("late"),te=S("leave");alert(`Attendance updated successfully!
Present: ${K}
Absent: ${W}
Late: ${ee}
On Leave: ${te}`),await y();return}else console.error("[ATTENDANCE] Existing attendance not found, cannot update")}catch(N){console.error("[ATTENDANCE] Retry also failed:",N),console.error("[ATTENDANCE] Retry error details:",{message:N?.message,status:N?.status,errorData:N?.errorData})}}else M.includes("already marked")&&(!T||P.length===0)&&console.error("[ATTENDANCE] Cannot retry: missing className or studentsArray");alert(`Error: ${M}`)}finally{b(!1)}},D=T=>{switch(T){case"present":return"approved";case"absent":return"absent";case"late":return"late";case"leave":return"onLeave";default:return"pending"}};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Mark Attendance"})}),a.jsx(Ee,{variant:"custom",className:"filter-card",children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[a.jsxs("div",{className:"filter-group",style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{children:"Select Class:"}),a.jsxs("select",{value:r,onChange:T=>l(T.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"},children:[a.jsx("option",{value:"",children:"Select Class"}),m.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))]})]}),a.jsxs("div",{className:"filter-group",style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{children:"Date:"}),a.jsx("input",{type:"date",value:o,onChange:T=>u(T.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"}})]}),a.jsx("div",{style:{marginBottom:"0"},children:a.jsxs(xe,{onClick:y,variant:"primary",size:"md",disabled:!r||!o||g,children:[a.jsx($e,{size:18,style:{marginRight:"0.5rem"}}),"Apply"]})})]})}),a.jsx(Ee,{variant:"custom",style:{marginBottom:"1.5rem"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-around",padding:"1rem"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#10b981"},children:S("present")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Present"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#f87171"},children:S("absent")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Absent"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#fb923c"},children:S("late")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Late"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#818cf8"},children:S("leave")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"On Leave"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#333"},children:d.length}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Total"})]})]})}),a.jsxs(Ee,{variant:"custom",children:[a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Late"}),a.jsx("th",{children:"Leave"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:g?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem"},children:"Loading students..."})}):d.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem",color:"#666"},children:r&&o?'No students found for this class. Please click "Apply" to load students.':'Please select a class and date, then click "Apply" to load students.'})}):d.map(T=>a.jsxs("tr",{children:[a.jsx("td",{children:T.studentId||T.id||"N/A"}),a.jsx("td",{children:a.jsx("strong",{children:T.name})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${T.id}`,checked:T.status==="present",onChange:()=>A(T.id,"present"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${T.id}`,checked:T.status==="absent",onChange:()=>A(T.id,"absent"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${T.id}`,checked:T.status==="late",onChange:()=>A(T.id,"late"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${T.id}`,checked:T.status==="leave",onChange:()=>A(T.id,"leave"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx(ge,{variant:D(T.status),size:"sm",children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})})]},T.id))})]})}),a.jsx("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"flex-end"},children:a.jsxs(xe,{onClick:E,variant:"primary",size:"md",children:[a.jsx(zt,{size:18}),"Save Attendance"]})})]})]})},aY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[l,o]=x.useState(null);x.useEffect(()=>{(async()=>{try{r(!0);const p=await ue.attendance.getAll(),g=p.data?.attendance||p.attendance||[];t(g)}catch(p){console.error("Error loading attendance:",p),o(p.message||"Failed to load attendance data")}finally{r(!1)}})()},[]);const u=x.useMemo(()=>{let m=0,p=0,g=0,b=0;e.forEach(w=>{w.students?.forEach(E=>{E.status==="Present"?m++:E.status==="Absent"?p++:E.status==="Late"?g++:E.status==="Excused"&&b++})});const y=m+p+g+b,A=y>0?(m/y*100).toFixed(1):"0.0",S=e.length;return{totalPresent:m,totalAbsent:p,totalLate:g,totalExcused:b,averageAttendance:A,totalDays:S}},[e]),d=x.useMemo(()=>e.map(m=>{const p=m.students?.length||0,g=m.students?.filter(E=>E.status==="Present").length||0,b=m.students?.filter(E=>E.status==="Absent").length||0,y=m.students?.filter(E=>E.status==="Late").length||0,A=m.students?.filter(E=>E.status==="Excused").length||0,S=p>0?Math.round((g+y+A)/p*100):0,w=new Date(m.date);return{id:m._id,date:w.toLocaleDateString("en-GB"),dateObj:w,class:m.class,total:p,present:g,absent:b,late:y,excused:A,percentage:S}}).sort((m,p)=>p.dateObj.getTime()-m.dateObj.getTime()).slice(0,10).map(({dateObj:m,...p})=>p),[e]),h=x.useMemo(()=>{const m=new Map;e.forEach(b=>{m.has(b.class)||m.set(b.class,{present:0,total:0});const y=m.get(b.class);b.students?.forEach(A=>{y.total++,(A.status==="Present"||A.status==="Late"||A.status==="Excused")&&y.present++})});const p=b=>{const y=b.match(/Grade\s+(\d+)/i);return y?parseInt(y[1],10):999},g=b=>{const y=b.match(/Section\s+([A-Z])/i);return y?y[1].toUpperCase():"Z"};return Array.from(m.entries()).map(([b,y])=>({class:b,attendance:y.total>0?Math.round(y.present/y.total*100):0,gradeNumber:p(b),section:g(b)})).sort((b,y)=>b.gradeNumber!==y.gradeNumber?b.gradeNumber-y.gradeNumber:b.section.localeCompare(y.section)).map(({gradeNumber:b,section:y,...A})=>A)},[e]);return n?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"View Attendance"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading attendance data..."})})]}):l?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"View Attendance"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#e74c3c"},children:a.jsxs("p",{children:["Error: ",l]})})]}):a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"View Attendance"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx($e,{size:18}),"Filter Records"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(On,{size:24}),label:"Total Present",value:u.totalPresent.toLocaleString(),color:"#27ae60"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Ii,{size:24}),label:"Total Absent",value:u.totalAbsent.toLocaleString(),color:"#e74c3c"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:24}),label:"Average Attendance",value:`${u.averageAttendance}%`,color:"#3498db"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($e,{size:24}),label:"Total Days",value:u.totalDays,color:"#9b59b6"})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsx("div",{className:"charts-container",children:a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Attendance by Class"}),h.length>0?a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:h,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"class"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"attendance",fill:"#667eea",name:"Attendance %"})]})}):a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:a.jsx("p",{children:"No class data available"})})]})}),a.jsx("div",{className:"section-title",children:"Recent Attendance Records"}),a.jsx("div",{className:"table-container",children:d.length>0?a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:d.map(m=>a.jsxs("tr",{children:[a.jsx("td",{children:m.date}),a.jsx("td",{children:m.class}),a.jsx("td",{children:m.total}),a.jsx("td",{children:a.jsx(ge,{variant:"success",size:"sm",children:m.present})}),a.jsx("td",{children:a.jsx(ge,{variant:"absent",size:"sm",children:m.absent})}),a.jsx("td",{children:a.jsxs(ge,{variant:m.percentage>=90?"high":m.percentage>=80?"medium":"low",size:"sm",children:[m.percentage,"%"]})}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Details",m.id)})})]},m.id))})]}):a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:a.jsx("p",{children:"No attendance records found"})})})]})},iY=()=>{const e=[{id:1,name:"Alice Johnson",class:"Grade 10A",totalDays:120,present:115,absent:5,percentage:95.8,status:"Good"},{id:2,name:"Bob Williams",class:"Grade 9B",totalDays:120,present:108,absent:12,percentage:90,status:"Good"},{id:3,name:"Charlie Brown",class:"Grade 11A",totalDays:120,present:118,absent:2,percentage:98.3,status:"Excellent"},{id:4,name:"Diana Prince",class:"Grade 10B",totalDays:120,present:105,absent:15,percentage:87.5,status:"Warning"},{id:5,name:"Edward Lee",class:"Grade 12A",totalDays:120,present:110,absent:10,percentage:91.7,status:"Good"}],t=[{name:"Excellent (95%+)",value:45,color:"#27ae60"},{name:"Good (85-94%)",value:35,color:"#3498db"},{name:"Warning (75-84%)",value:15,color:"#f39c12"},{name:"Critical (<75%)",value:5,color:"#e74c3c"}],n=[{month:"Jan",avgAttendance:90},{month:"Feb",avgAttendance:92},{month:"Mar",avgAttendance:93},{month:"Apr",avgAttendance:94},{month:"May",avgAttendance:95},{month:"Jun",avgAttendance:96}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Attendance Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Attendance"}),a.jsx("p",{children:"93.6%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(uP,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Students at Risk"}),a.jsx("p",{children:"12"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Improvement Rate"}),a.jsx("p",{children:"+2.5%"})]})]})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Attendance Status Distribution"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Yc,{children:[a.jsx(no,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:r=>`${r.name} ${(r.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((r,l)=>a.jsx(ii,{fill:r.color},`cell-${l}`))}),a.jsx(gt,{})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Attendance Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"avgAttendance",fill:"#667eea",name:"Avg Attendance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Individual Student Attendance"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total Days"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.name})}),a.jsx("td",{children:r.class}),a.jsx("td",{children:r.totalDays}),a.jsx("td",{children:r.present}),a.jsx("td",{children:r.absent}),a.jsx("td",{children:a.jsxs(ge,{variant:r.percentage>=95?"high":r.percentage>=85?"medium":"low",size:"sm",children:[r.percentage,"%"]})}),a.jsx("td",{children:a.jsx(ge,{variant:r.status.toLowerCase()==="excellent"?"excellent":r.status.toLowerCase()==="good"?"good":r.status.toLowerCase()==="warning"?"warning":"danger",size:"sm",children:r.status})}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Report",r.id)})})]},r.id))})]})})]})},sY=()=>{const e=jt(),[t,n]=x.useState("2024-03-15"),[r,l]=x.useState("2024-03-15"),[o,u]=x.useState(!1),[d,h]=x.useState(null),p=[{date:"2024-03-15",classes:[{class:"Grade 9A",present:28,absent:2,total:30,percentage:93.3},{class:"Grade 9B",present:25,absent:3,total:28,percentage:89.3},{class:"Grade 10A",present:23,absent:2,total:25,percentage:92},{class:"Grade 10B",present:24,absent:1,total:25,percentage:96}],totalPresent:100,totalAbsent:8,totalStudents:108,overallPercentage:92.6},{date:"2024-03-14",classes:[{class:"Grade 9A",present:29,absent:1,total:30,percentage:96.7},{class:"Grade 9B",present:27,absent:1,total:28,percentage:96.4},{class:"Grade 10A",present:24,absent:1,total:25,percentage:96},{class:"Grade 10B",present:25,absent:0,total:25,percentage:100}],totalPresent:105,totalAbsent:3,totalStudents:108,overallPercentage:97.2},{date:"2024-03-13",classes:[{class:"Grade 9A",present:27,absent:3,total:30,percentage:90},{class:"Grade 9B",present:26,absent:2,total:28,percentage:92.9},{class:"Grade 10A",present:22,absent:3,total:25,percentage:88},{class:"Grade 10B",present:23,absent:2,total:25,percentage:92}],totalPresent:98,totalAbsent:10,totalStudents:108,overallPercentage:90.7}].find(A=>A.date===r),g=()=>{l(t)},b=A=>{h(A),u(!0)},y=A=>{e(`/dashboard/admin/attendance/mark?date=${r}&class=${encodeURIComponent(A)}`)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Daily Attendance Reports"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.jsxs("label",{htmlFor:"date-selector",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:[a.jsx($e,{size:18}),"Select Date:"]}),a.jsx("input",{id:"date-selector",type:"date",value:t,onChange:A=>n(A.target.value),style:{padding:"0.5rem 0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),a.jsx(xe,{variant:"primary",size:"md",onClick:g,children:"Apply"})]})]}),p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",gap:"1.5rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($t,{size:20,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Total"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#333"},children:p.totalStudents})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(On,{size:20,style:{color:"#22c55e"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Present"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#22c55e"},children:p.totalPresent})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ii,{size:20,style:{color:"#ef4444"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Absent"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ef4444"},children:p.totalAbsent})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:20,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Overall"}),a.jsxs(ge,{variant:p.overallPercentage>=90?"high":p.overallPercentage>=80?"medium":"low",size:"md",children:[p.overallPercentage,"%"]})]})]})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:p.classes.map((A,S)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:A.class})}),a.jsx("td",{children:A.total}),a.jsx("td",{children:a.jsx(ge,{variant:"success",size:"sm",children:A.present})}),a.jsx("td",{children:a.jsx(ge,{variant:"absent",size:"sm",children:A.absent})}),a.jsx("td",{children:a.jsxs(ge,{variant:A.percentage>=90?"high":A.percentage>=80?"medium":"low",size:"sm",children:[A.percentage,"%"]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>b(A)}),a.jsx(vt,{size:"sm",onClick:()=>y(A.class)})]})})]},S))})]})})]}):a.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[a.jsx($e,{size:48,style:{marginBottom:"1rem",opacity:.5}}),a.jsx("p",{style:{fontSize:"1.1rem",margin:0},children:"No attendance data found for the selected date."})]}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),h(null)},title:"Attendance Details",size:"lg",children:d&&a.jsx(Gt,{sections:[{title:"Class Information",fields:[{label:"Class",value:d.class,icon:$t},{label:"Date",value:r,icon:$e}]},{title:"Attendance Statistics",fields:[{label:"Total Students",value:d.total.toString(),icon:$t},{label:"Present",value:d.present.toString(),icon:On,badge:{variant:"success",text:`${d.present} students`}},{label:"Absent",value:d.absent.toString(),icon:Ii,badge:{variant:"absent",text:`${d.absent} students`}},{label:"Attendance Percentage",value:`${d.percentage}%`,badge:{variant:d.percentage>=90?"success":d.percentage>=80?"warning":"danger",text:`${d.percentage}%`}}]}]})})]})},lY=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(null),[o,u]=x.useState(!1);x.useEffect(()=>{const S=async()=>{try{const E=await ue.exams.getAll();E.data?.exams?n(E.data.exams):n([])}catch(E){console.error("Error loading exams:",E),n([])}};S();const w=setInterval(()=>{S()},3e4);return()=>{clearInterval(w)}},[]);const d=S=>S.toLowerCase()==="completed"?"approved":S.toLowerCase()==="scheduled"?"pending":"active",h=async S=>{try{const w=await ue.exams.getById(S);w.data?.exam&&(l(w.data.exam),u(!0))}catch(w){console.error("Error loading exam:",w)}},m=S=>{e(`/dashboard/admin/exams/edit/${S}`)},p=async S=>{const w=t.find(E=>E.id===S);if(w&&confirm(`Are you sure you want to delete "${w.name}"?`))try{await ue.exams.delete(S);const E=await ue.exams.getAll();E.data?.exams&&n(E.data.exams),alert("Exam deleted successfully!")}catch(E){console.error("Error deleting exam:",E),alert("Failed to delete exam. Please try again.")}},[g,b]=x.useState([]);x.useEffect(()=>{(async()=>{try{const w=await ue.teachers.getAll();w.data?.teachers&&b(w.data.teachers)}catch(w){console.error("Error loading teachers:",w)}})()},[]);const y=S=>{const w=g.find(E=>E.id===S);return w?w.name:`Teacher #${S}`},A=[{key:"id",header:"ID"},{key:"name",header:"Exam Name",render:S=>a.jsx("strong",{children:S})},{key:"subject",header:"Subject"},{key:"grades",header:"Grades",render:(S,w)=>a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:w.grades&&w.grades.length>0?w.grades.map((E,D)=>a.jsx(ge,{variant:"info",size:"sm",children:E},D)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades"})})},{key:"date",header:"Date",render:S=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:14,style:{color:"#666"}}),S]})},{key:"time",header:"Time",render:S=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),S]})},{key:"duration",header:"Duration"},{key:"sections",header:"Sections",render:(S,w)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(vr,{size:14,style:{color:"#666"}}),w.sections?.length||0]})},{key:"totalMarks",header:"Total Marks",render:S=>a.jsx("strong",{children:S})},{key:"status",header:"Status",render:S=>a.jsx(ge,{variant:d(S),size:"sm",children:S})},{key:"actions",header:"Actions",render:(S,w)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[a.jsx(Ue,{size:"sm",onClick:()=>h(w.id)}),a.jsx(vt,{size:"sm",onClick:()=>m(w.id)}),a.jsx(xe,{variant:"primary",size:"sm",onClick:()=>e(`/dashboard/admin/exams/grade/${w.id}`),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Grade"}),a.jsx(Mt,{size:"sm",onClick:()=>p(w.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Exams"}),a.jsx(ro,{size:"md",onClick:()=>e("/dashboard/admin/exams/create"),title:"Create New Exam"})]}),a.jsx(si,{columns:A,data:t.slice(0,10),emptyMessage:"No exams found"}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Exam Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Exam Information",icon:Ot,fields:[{label:"Exam Name",value:r.name},{label:"Subject",value:r.subject},{label:"Date",value:r.date,icon:$e},{label:"Time",value:r.time,icon:We},{label:"Duration",value:r.duration},{label:"Total Marks",value:r.totalMarks.toString()},...r.passingMarks?[{label:"Passing Marks",value:r.passingMarks.toString()}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:d(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[]]},{title:"Assigned Grades",fields:[{label:"Grades",value:r.grades&&r.grades.length>0?r.grades.map((S,w)=>a.jsx(ge,{variant:"info",size:"sm",style:{marginRight:"0.25rem"},children:S},w)):"No grades assigned",spanFull:!0}]},{title:"Exam Sections",icon:nt,fields:r.sections&&r.sections.length>0?r.sections.map((S,w)=>({label:S.name,value:`${S.marks} marks${S.description?` - ${S.description}`:""}`,spanFull:!0})):[{label:"Sections",value:"No sections defined",spanFull:!0}]},{title:"Grade Assignments",icon:$t,fields:r.gradeAssignments&&r.gradeAssignments.length>0?r.gradeAssignments.map((S,w)=>({label:S.grade,value:y(S.teacherId),spanFull:!1})):[{label:"Assignments",value:"No grade assignments",spanFull:!0}]}]})})]})},n5=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState([{id:1,name:"Section A",description:"",marks:0}]),[o,u]=x.useState([]),[d,h]=x.useState({});x.useEffect(()=>{n&&t&&(async()=>{const $=await ue.exams.getById(parseInt(t));if($.data?.exam){const V=$.data.exam;h({name:V.name,subject:V.subject,classes:V.classes||V.grades||[],date:V.date,time:V.time,duration:V.duration,totalMarks:V.totalMarks.toString(),passingMarks:V.passingMarks?.toString()||"",description:V.description||""}),V.sections&&V.sections.length>0&&l(V.sections),V.gradeAssignments&&V.gradeAssignments.length>0&&u(V.gradeAssignments)}})()},[t,n]);const[m,p]=x.useState(!1),[g,b]=x.useState(!1),[y,A]=x.useState({}),[S,w]=x.useState({}),[E,D]=x.useState([]),[T,P]=x.useState([]),[O,M]=x.useState([]),[N,B]=x.useState([]);x.useEffect(()=>{(async()=>{try{const $=await ue.students.getAll();if($.data?.students){const V=$.data.students,R=Array.from(new Set(V.map(G=>G.class))).sort().map(G=>({value:String(G),label:String(G)}));D(R)}}catch($){console.error("Error loading classes:",$)}})()},[]),x.useEffect(()=>{(async()=>{try{const $=await ue.subjects.getAll();$.data?.subjects&&P($.data.subjects)}catch($){console.error("Error loading subjects:",$)}})()},[]),x.useEffect(()=>{(async()=>{try{const $=await ue.teachers.getAll();$.data?.teachers&&M($.data.teachers)}catch($){console.error("Error loading teachers:",$)}})()},[]),x.useEffect(()=>{(async()=>{try{const $=await ue.grades.getAll();if($.data?.classes){const V=new Map;$.data.classes.forEach(J=>{const H=J.grade||"Unknown";if(!V.has(H)){const F=$.data.classes.filter(ne=>(ne.grade||"Unknown")===H);V.set(H,{id:H,name:H,status:F[0]?.status||"Active",section:"",capacity:0,currentStudents:0,description:""})}});const G=Array.from(V.values()).filter(J=>J.status==="Active"&&J.id&&J.name).map(J=>({value:String(J.id),label:String(J.name)}));B(G)}}catch($){console.error("Error loading grades:",$)}})()},[]);const L=x.useMemo(()=>[{name:"name",label:"Exam Name",type:"text",required:!0,placeholder:"e.g., Mid-Term Exam, Final Exam"},{name:"subject",label:"Subject",type:"select",required:!0,options:T.map(_=>({value:_.name,label:`${_.name} (${_.code})`}))},{name:"classes",label:"Assign to Classes",type:"select",required:!0,multiple:!0,placeholder:"Select specific classes (e.g., Grade 1 Sec A, Grade 2 Sec B)",options:E},{name:"date",label:"Exam Date",type:"date",required:!0,halfWidth:!0},{name:"time",label:"Exam Time",type:"time",required:!0,halfWidth:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 2 hours, 90 minutes",halfWidth:!0},{name:"totalMarks",label:"Total Marks",type:"number",required:!0,placeholder:"100",min:0,halfWidth:!0},{name:"passingMarks",label:"Passing Marks",type:"number",placeholder:"e.g., 40",min:0},{name:"description",label:"Description",type:"textarea",placeholder:"Enter exam description or instructions",rows:4}],[T,E]),q=x.useMemo(()=>[{title:"Exam Information",fieldNames:["name","subject","classes","date","time","duration","totalMarks","passingMarks","description"]}],[]),U=()=>{A({name:"",description:"",marks:0}),p(!0)},K=()=>{if(y.name&&y.marks){const _={id:r.length+1,name:y.name,description:y.description||"",marks:typeof y.marks=="number"?y.marks:parseInt(y.marks)||0};l([...r,_]),p(!1),A({})}},W=_=>{l(r.filter($=>$.id!==_))},ee=()=>{w({grade:"",teacherId:void 0}),b(!0)},te=()=>{if(S.grade&&S.teacherId){const _={grade:S.grade,teacherId:typeof S.teacherId=="number"?S.teacherId:parseInt(S.teacherId)||0};u([...o,_]),b(!1),w({})}},C=_=>{u(o.filter($=>$.grade!==_))},k=async _=>{if(r.length===0){alert("Please add at least one exam section!");return}const $=r.reduce((J,H)=>J+H.marks,0),V=parseInt(_.totalMarks)||0;if($!==V&&!confirm(`Section marks total (${$}) doesn't match total marks (${V}). Continue anyway?`))return;const R=Array.isArray(_.classes)?_.classes:[];if(R.length===0){alert("Please select at least one class!");return}const G=Array.from(new Set(R.map(J=>{const H=J.match(/Grade\s+(\d+)/i);return H?`Grade ${H[1]}`:""}).filter(Boolean)));if(n&&t){const J=await ue.exams.update(parseInt(t),{name:_.name,subject:_.subject,grades:G,classes:R,date:_.date,time:_.time,duration:_.duration,totalMarks:V,passingMarks:_.passingMarks?parseInt(_.passingMarks):void 0,description:_.description||"",sections:r,gradeAssignments:o});if(J){const H=J?.data?.exam?.name||J?.name||"Exam";alert(`Exam "${H}" updated successfully!`),e("/dashboard/admin/exams")}}else{const J=await ue.exams.create({name:_.name,subject:_.subject,grades:G,classes:R,date:_.date,time:_.time,duration:_.duration,totalMarks:V,passingMarks:_.passingMarks?parseInt(_.passingMarks):void 0,description:_.description||"",sections:r,gradeAssignments:o,status:"Scheduled"}),H=J?.data?.exam?.name||J?.name||"Exam";alert(`Exam "${H}" created successfully!`),e("/dashboard/admin/exams")}};return a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/exams"),title:"Back to Exams"})}),a.jsx(Vi,{title:n?"Edit Exam":"Create New Exam",fields:L,sections:q,onSubmit:k,submitButtonText:n?"Update Exam":"Create Exam",submitButtonIcon:a.jsx(zt,{size:18}),initialData:d}),a.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600},children:"Exam Sections"}),a.jsxs(xe,{variant:"primary",size:"sm",onClick:U,children:[a.jsx($i,{size:16}),"Add Section"]})]}),r.length>0?a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[r.map(_=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"#f7f7f7",borderRadius:"0.375rem",border:"1px solid #e0e0e0"},children:[a.jsxs("div",{children:[a.jsx("strong",{style:{fontSize:"0.9rem"},children:_.name}),_.description&&a.jsx("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.25rem"},children:_.description}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.25rem"},children:["Marks: ",a.jsx("strong",{children:_.marks})]})]}),a.jsx(xe,{variant:"outline",size:"sm",onClick:()=>W(_.id),style:{color:"#e53e3e",borderColor:"#e53e3e"},children:a.jsx(qa,{size:14})})]},_.id)),a.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#e6f3ff",borderRadius:"0.25rem"},children:a.jsxs("strong",{style:{fontSize:"0.85rem"},children:["Total Section Marks: ",r.reduce((_,$)=>_+$.marks,0)]})})]}):a.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'No sections added yet. Click "Add Section" to add one.'})]}),a.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600},children:"Grade Assignments (Grading Teachers)"}),a.jsxs(xe,{variant:"primary",size:"sm",onClick:ee,children:[a.jsx($i,{size:16}),"Assign Teacher"]})]}),o.length>0?a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:o.map((_,$)=>{const V=O.find(R=>R.id===_.teacherId);return a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"#f7f7f7",borderRadius:"0.375rem",border:"1px solid #e0e0e0"},children:[a.jsxs("div",{children:[a.jsx("strong",{style:{fontSize:"0.9rem"},children:_.grade}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.25rem"},children:["Teacher: ",V?.name||"Unknown"]})]}),a.jsx(xe,{variant:"outline",size:"sm",onClick:()=>C(_.grade),style:{color:"#e53e3e",borderColor:"#e53e3e"},children:a.jsx(qa,{size:14})})]},$)})}):a.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'No grade assignments yet. Click "Assign Teacher" to add one.'})]}),a.jsx(He,{isOpen:m,onClose:()=>p(!1),title:"Add Exam Section",size:"md",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Section Name *"}),a.jsx("input",{type:"text",value:y.name||"",onChange:_=>A({...y,name:_.target.value}),placeholder:"e.g., Section A: Multiple Choice",style:{width:"100%",padding:"0.625rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem"}})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Description"}),a.jsx("textarea",{value:y.description||"",onChange:_=>A({...y,description:_.target.value}),placeholder:"Section description or instructions",rows:3,style:{width:"100%",padding:"0.625rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem",resize:"vertical"}})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Marks *"}),a.jsx("input",{type:"number",value:y.marks||"",onChange:_=>A({...y,marks:parseInt(_.target.value)||0}),placeholder:"20",min:0,style:{width:"100%",padding:"0.625rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem"}})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>p(!1),children:"Cancel"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:K,children:[a.jsx(zt,{size:16}),"Add Section"]})]})]})}),a.jsx(He,{isOpen:g,onClose:()=>b(!1),title:"Assign Teacher to Grade",size:"md",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Grade *"}),a.jsxs("select",{value:S.grade||"",onChange:_=>w({...S,grade:_.target.value}),style:{width:"100%",padding:"0.625rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),N.map(_=>a.jsx("option",{value:_.value,children:_.label},_.value))]})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Teacher *"}),a.jsxs("select",{value:S.teacherId||"",onChange:_=>w({...S,teacherId:parseInt(_.target.value)||void 0}),style:{width:"100%",padding:"0.625rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Teacher"}),O.map(_=>a.jsxs("option",{value:_.id,children:[_.name," (",_.experience,")"]},_.id))]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>b(!1),children:"Cancel"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:te,children:[a.jsx(zt,{size:16}),"Assign"]})]})]})})]})},r5=()=>{const{id:e,role:t}=Fn(),n=jt(),r=Wr(),l=t||(r.pathname.includes("/teacher/")?"teacher":"admin"),[o,u]=x.useState(),[d,h]=x.useState([]),[m,p]=x.useState({}),[g,b]=x.useState(null),[y,A]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e){const P=await ue.exams.getById(parseInt(e));if(P.data?.exam){const O=P.data.exam;if(u(O),O)try{const M=await ue.students.getAll();if(!M.data?.students){h([]);return}const N=M.data.students;let B=[];O.classes&&O.classes.length>0?B=N.filter(q=>O.classes.includes(q.class)):B=N.filter(q=>O.grades.some(U=>{const K=U.replace("Grade","").trim(),W=q.class.match(/Grade\s+(\d+)/i);return W?W[1]===K:!1})),h(B);const L=null;if(!(L&&L.studentGrades)){const q={};B.forEach(U=>{q[String(U.id)]={studentId:U.id,studentName:U.name,class:U.class,sectionGrades:O.sections.map(K=>({sectionId:K.id,sectionName:K.name,marksObtained:0,maxMarks:K.marks})),totalMarks:0,percentage:0,grade:"F",status:"Failed"}}),p(q)}}catch(M){console.error("Error loading students:",M),h([])}}}})()},[e]);const S=x.useCallback((T,P,O)=>{p(M=>{const N=M[String(T)];if(!N)return M;const B=o?.sections.find(k=>k.id===P);if(!B)return M;const L=B.marks,q=Math.min(Math.max(0,O),L),U=N.sectionGrades.map(k=>k.sectionId===P?{...k,marksObtained:q}:k),K=U.reduce((k,_)=>k+_.marksObtained,0),W=o?K/o.totalMarks*100:0,ee=W>=90?"A+":W>=80?"A":W>=70?"B":W>=60?"C":W>=50?"D":"F",te=o?.passingMarks?o.passingMarks/(o.totalMarks||100)*100:50,C=W>=te?"Passed":"Failed";return{...M,[String(T)]:{...N,sectionGrades:U,totalMarks:K,percentage:Math.round(W*100)/100,grade:ee,status:C}}})},[o]),w=()=>{o&&(alert("Grades saved successfully!"),n(`/dashboard/${l}/exams`))},E=T=>{b(T),A(!0)},D=T=>T==="A+"||T==="A"?"excellent":T==="B"?"good":T==="C"?"average":"poor";return o?a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx(Gn,{size:"md",onClick:()=>n(`/dashboard/${l}/exams`),title:"Back to Exams"}),a.jsxs("div",{children:[a.jsxs("h1",{children:["Grade Exam: ",o.name]}),a.jsxs("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:[o.subject," - ",o.date," | Total Marks: ",o.totalMarks]})]})]}),a.jsxs(xe,{variant:"primary",onClick:w,children:[a.jsx(zt,{size:18}),"Save All Grades"]})]}),a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem",padding:"1rem",marginBottom:"1.5rem"},children:[a.jsx("h3",{style:{margin:"0 0 0.75rem 0",fontSize:"1rem",fontWeight:600},children:"Exam Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:o.sections.map(T=>a.jsxs(ge,{variant:"info",size:"sm",children:[T.name," (",T.marks," marks)"]},T.id))})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),o.sections.map(T=>a.jsxs("th",{children:[T.name,a.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:400,color:"#999"},children:["(Max: ",T.marks,")"]})]},T.id)),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Percentage"}),a.jsx("th",{children:"Grade"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:d.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7+o.sections.length,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No students enrolled in this exam"})}):d.map(T=>{const P=m[String(T.id)];return P?a.jsxs("tr",{children:[a.jsx("td",{children:T.id}),a.jsx("td",{children:a.jsx("strong",{children:T.name})}),a.jsx("td",{children:T.class}),o.sections.map(O=>{const M=P.sectionGrades.find(N=>N.sectionId===O.id);return a.jsx("td",{children:a.jsx("input",{type:"number",min:"0",max:O.marks,value:M?.marksObtained||0,onChange:N=>{const B=N.target.value;if(B===""||B==="-")S(String(T.id),O.id,0);else{const L=parseFloat(B);isNaN(L)||S(String(T.id),O.id,L)}},onBlur:N=>{const B=parseFloat(N.target.value)||0;S(String(T.id),O.id,B)},style:{width:"60px",padding:"0.375rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem",textAlign:"center"}})},O.id)}),a.jsx("td",{children:a.jsxs("strong",{children:[P.totalMarks," / ",o.totalMarks]})}),a.jsxs("td",{children:[P.percentage.toFixed(1),"%"]}),a.jsx("td",{children:a.jsx(ge,{variant:D(P.grade),size:"sm",children:P.grade})}),a.jsx("td",{children:a.jsx(ge,{variant:P.status==="Passed"?"success":"danger",size:"sm",children:P.status})}),a.jsx("td",{children:a.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>E(T),children:[a.jsx(ea,{size:14}),"View"]})})]},T.id):null})})]})}),a.jsx(He,{isOpen:y,onClose:()=>{A(!1),b(null)},title:"Student Details",size:"lg",children:g&&m[String(g.id)]&&a.jsx(Gt,{sections:[{title:"Student Information",icon:ea,fields:[{label:"Name",value:g.name},{label:"Class",value:g.class},{label:"Email",value:g.email}]},{title:"Exam Grades",icon:Ot,fields:[...o.sections.map(T=>{const O=m[String(g.id)]?.sectionGrades.find(M=>M.sectionId===T.id);return{label:T.name,value:`${O?.marksObtained||0} / ${T.marks}`}}),{label:"Total Marks",value:`${m[String(g.id)].totalMarks} / ${o.totalMarks}`},{label:"Percentage",value:`${m[String(g.id)].percentage.toFixed(1)}%`},{label:"Grade",value:m[String(g.id)].grade,renderAsBadge:{variant:D(m[String(g.id)].grade),size:"sm"}},{label:"Status",value:m[String(g.id)].status,renderAsBadge:{variant:m[String(g.id)].status==="Passed"?"success":"danger",size:"sm"}}]}]})})]}):a.jsx("div",{className:"page-container",children:a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx("p",{children:"Exam not found"}),a.jsx(xe,{variant:"primary",onClick:()=>n(`/dashboard/${l}/exams`),children:"Back to Exams"})]})})},oY=()=>{const e=[{id:1,examName:"Mid-Term Exam - Mathematics",class:"Grade 10A",totalStudents:25,passed:22,failed:3,averageScore:78.5,highestScore:95,lowestScore:42},{id:2,examName:"Final Exam - English",class:"Grade 9B",totalStudents:28,passed:26,failed:2,averageScore:82.3,highestScore:98,lowestScore:55},{id:3,examName:"Quiz Test - Science",class:"Grade 11A",totalStudents:22,passed:20,failed:2,averageScore:85.7,highestScore:100,lowestScore:60}],t=[{id:1,name:"Alice Johnson",exam:"Mid-Term Exam - Mathematics",score:88,totalMarks:100,percentage:88,grade:"A",status:"Passed"},{id:2,name:"Bob Williams",exam:"Final Exam - English",score:75,totalMarks:100,percentage:75,grade:"B",status:"Passed"},{id:3,name:"Charlie Brown",exam:"Quiz Test - Science",score:92,totalMarks:100,percentage:92,grade:"A+",status:"Passed"},{id:4,name:"Diana Prince",exam:"Mid-Term Exam - Mathematics",score:65,totalMarks:100,percentage:65,grade:"C",status:"Passed"},{id:5,name:"Edward Lee",exam:"Final Exam - English",score:45,totalMarks:100,percentage:45,grade:"F",status:"Failed"}],n=e.map(l=>({name:l.examName.split("-")[1].trim(),average:l.averageScore,passed:l.passed,failed:l.failed})),r=[{grade:"A+",count:12},{grade:"A",count:25},{grade:"B",count:18},{grade:"C",count:15},{grade:"F",count:5}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Exam Results"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(yr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Exams"}),a.jsx("p",{children:"15"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Score"}),a.jsx("p",{children:"81.8%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx($t,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Students"}),a.jsx("p",{children:"150"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(yr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Pass Rate"}),a.jsx("p",{children:"92.5%"})]})]})]}),a.jsx("div",{className:"section-title",children:"Results Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Exam Performance"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"name"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"average",fill:"#667eea",name:"Avg Score %"}),a.jsx(bt,{dataKey:"passed",fill:"#27ae60",name:"Passed"}),a.jsx(bt,{dataKey:"failed",fill:"#e74c3c",name:"Failed"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Grade Distribution"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:r,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"grade"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"count",fill:"#764ba2",name:"Students"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Exam Results Summary"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Exam Name"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Passed"}),a.jsx("th",{children:"Failed"}),a.jsx("th",{children:"Average Score"}),a.jsx("th",{children:"Highest Score"}),a.jsx("th",{children:"Lowest Score"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(l=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:l.examName})}),a.jsx("td",{children:l.class}),a.jsx("td",{children:l.totalStudents}),a.jsx("td",{children:a.jsx(ge,{variant:"passed",size:"sm",children:l.passed})}),a.jsx("td",{children:a.jsx(ge,{variant:"failed",size:"sm",children:l.failed})}),a.jsxs("td",{children:[l.averageScore,"%"]}),a.jsx("td",{children:l.highestScore}),a.jsx("td",{children:l.lowestScore}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Details",l.id)})})]},l.id))})]})}),a.jsx("div",{className:"section-title",children:"Individual Student Results"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Exam"}),a.jsx("th",{children:"Score"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Percentage"}),a.jsx("th",{children:"Grade"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.map(l=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:l.name})}),a.jsx("td",{children:l.exam}),a.jsx("td",{children:l.score}),a.jsx("td",{children:l.totalMarks}),a.jsxs("td",{children:[l.percentage,"%"]}),a.jsx("td",{children:a.jsx(ge,{variant:l.grade==="A+"||l.grade==="A"?"excellent":l.grade==="B"?"good":l.grade==="C"?"average":"poor",size:"sm",children:l.grade})}),a.jsx("td",{children:a.jsx(ge,{variant:l.status.toLowerCase()==="passed"?"success":"danger",size:"sm",children:l.status})}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",l.id)})})]},l.id))})]})})]})},cY="scholyman_transactions",a5=()=>{try{const e=localStorage.getItem(cY);if(e)return JSON.parse(e)}catch(e){console.error("Error reading transactions from storage:",e)}return[]},i5=()=>{const[e,t]=x.useState([]);x.useEffect(()=>{const h=a5();t(h);const m=()=>{t(a5())};return window.addEventListener("storage",m),()=>{window.removeEventListener("storage",m)}},[]);const n=h=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(h)}`,r=e.filter(h=>h.type==="Income"&&h.status==="Completed").reduce((h,m)=>h+Math.abs(m.amount),0),l=e.filter(h=>{const m=new Date(h.date),p=new Date;return h.type==="Income"&&h.status==="Completed"&&m.getMonth()===p.getMonth()&&m.getFullYear()===p.getFullYear()}).reduce((h,m)=>h+Math.abs(m.amount),0),o=e.filter(h=>h.status==="Pending").reduce((h,m)=>h+Math.abs(m.amount),0),u=e.filter(h=>h.type==="Expense"&&h.status==="Completed").reduce((h,m)=>h+Math.abs(m.amount),0),d=e.sort((h,m)=>{const p=new Date(`${h.date} ${h.time}`);return new Date(`${m.date} ${m.time}`).getTime()-p.getTime()}).slice(0,5);return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Accounts Overview"})}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:24}),value:n(r),label:"Total Revenue",color:"#27ae60"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:24}),value:n(l),label:"Monthly Income",color:"#3498db"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:24}),value:n(o),label:"Pending Payments",color:"#f39c12"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Dv,{size:24}),value:n(u),label:"Total Expenses",color:"#e74c3c"})]}),a.jsx("div",{className:"section-title",children:"Recent Transactions"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Student/Description"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:d.length>0?d.map(h=>a.jsxs("tr",{children:[a.jsxs("td",{children:["#",h.id]}),a.jsx("td",{children:a.jsx(ge,{variant:h.type==="Income"?"success":"danger",size:"sm",children:h.type})}),a.jsxs("td",{className:h.type==="Expense"?"amount-expense":"amount-income",children:[h.type==="Income"?"+":"",n(Math.abs(h.amount))]}),a.jsxs("td",{children:[a.jsx("div",{children:h.description}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:h.category})]}),a.jsxs("td",{children:[a.jsx("div",{children:h.date}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:h.time})]}),a.jsx("td",{children:a.jsx(ge,{variant:h.status.toLowerCase()==="completed"?"success":h.status.toLowerCase()==="pending"?"pending":"danger",size:"sm",children:h.status})})]},h.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No transactions found. Transactions will appear here as you add expenses, collect fees, or process payroll."})})})]})})]})},uY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!1),[l,o]=x.useState(null),[u,d]=x.useState({grade:"",tuitionFee:"",admissionFee:""}),[h,m]=x.useState({});x.useEffect(()=>{p();const P=setInterval(()=>{p()},3e4);return()=>{clearInterval(P)}},[]);const p=async()=>{try{const P=await ue.fees.gradeFees.getAll();if(P.data?.fees){const O=P.data.fees;t(O.sort((M,N)=>{const B=parseInt(M.grade.replace("Grade","").trim())||0,L=parseInt(N.grade.replace("Grade","").trim())||0;return B-L}))}else t([])}catch(P){console.error("Error loading fees:",P),t([])}},g=P=>{P?(o(P),d({grade:P.grade,tuitionFee:P.tuitionFee.toString(),admissionFee:P.admissionFee.toString()})):(o(null),d({grade:"",tuitionFee:"",admissionFee:""})),m({}),r(!0)},b=()=>{r(!1),o(null),d({grade:"",tuitionFee:"",admissionFee:""}),m({})},y=()=>{const P={};if(u.grade.trim()||(P.grade="Grade is required"),!u.tuitionFee.trim())P.tuitionFee="Tuition fee is required";else{const O=parseFloat(u.tuitionFee);(isNaN(O)||O<0)&&(P.tuitionFee="Tuition fee must be a valid positive number")}if(!u.admissionFee.trim())P.admissionFee="Admission fee is required";else{const O=parseFloat(u.admissionFee);(isNaN(O)||O<0)&&(P.admissionFee="Admission fee must be a valid positive number")}return l||e.find(M=>M.grade===u.grade)&&(P.grade="Fee for this grade already exists. Please edit the existing one."),m(P),Object.keys(P).length===0},A=async()=>{if(!y())return;const P={grade:u.grade.trim(),tuitionFee:parseFloat(u.tuitionFee),admissionFee:parseFloat(u.admissionFee)};try{if(l){const O=l._id||l.id;await ue.fees.gradeFees.update(O,P),alert(`Fee for ${P.grade} updated successfully!`)}else await ue.fees.gradeFees.create(P),alert(`Fee for ${P.grade} created successfully!`);b(),await p()}catch(O){console.error("Error saving fee:",O),console.error("Error details:",{message:O?.message,error:O?.error,status:O?.status,stack:O?.stack});let M="Unknown error occurred";O?.message?M=O.message:O?.error?M=typeof O.error=="string"?O.error:JSON.stringify(O.error):O?.response?.data?.error?M=O.response.data.error:O?.response?.data?.message&&(M=O.response.data.message),alert(`Failed to save fee:

${M}

Please check the browser console for more details.`)}},S=async P=>{if(confirm(`Are you sure you want to delete the fee structure for ${P.grade}?`))try{const O=P._id||P.id;await ue.fees.gradeFees.delete(O),alert(`Fee for ${P.grade} deleted successfully!`),await p()}catch(O){console.error("Error deleting fee:",O);const M=O?.message||O?.error||"Unknown error";alert(`Failed to delete fee: ${M}`)}},w=P=>{if(!P)return"";const M=P.trim().match(/Grade\s+(\d+)/i);return M?`Grade ${M[1]}`:""},[E,D]=x.useState([]);x.useEffect(()=>{(async()=>{try{const O=await ue.classes.getAll();if(O.data?.classes){const M=O.data.classes,N=new Set;M.forEach(q=>{if(q.status==="Active"&&q.name){const U=w(q.name);U&&N.add(U)}});const L=Array.from(N).sort((q,U)=>{const K=parseInt(q.replace("Grade","").trim())||0,W=parseInt(U.replace("Grade","").trim())||0;return K-W}).map(q=>({value:q,label:q}));D(L)}else D([])}catch(O){console.error("Error loading grades from classes:",O),D([])}})()},[]);const T=[{key:"grade",header:"Grade"},{key:"tuitionFee",header:"Tuition Fee",render:P=>`Rs ${P.toLocaleString()}`},{key:"admissionFee",header:"Admission Fee",render:P=>`Rs ${P.toLocaleString()}`},{key:"actions",header:"Actions",render:(P,O)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>g(O),children:[a.jsx(Bd,{size:14}),"Edit"]}),a.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>S(O),style:{color:"#e53e3e",borderColor:"#e53e3e"},children:[a.jsx(Id,{size:14}),"Delete"]})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Fee Management"}),a.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"Manage tuition fees and admission fees for different grades"})]}),a.jsxs(xe,{variant:"primary",onClick:()=>g(),children:[a.jsx($i,{size:18}),"Add Fee Structure"]})]}),e.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsx(Nt,{size:48,style:{color:"#999",marginBottom:"1rem"}}),a.jsx("p",{style:{color:"#666",fontSize:"1rem"},children:"No fee structures configured yet."}),a.jsx("p",{style:{color:"#999",fontSize:"0.9rem",marginTop:"0.5rem"},children:'Click "Add Fee Structure" to create fees for different grades.'})]}):a.jsx(si,{columns:T,data:e,emptyMessage:"No fee structures found"}),a.jsx(He,{isOpen:n,onClose:b,title:l?`Edit Fee Structure: ${l.grade}`:"Add Fee Structure",size:"md",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Grade ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsxs("select",{value:u.grade,onChange:P=>d({...u,grade:P.target.value}),disabled:!!l,style:{width:"100%",padding:"0.625rem",border:`1px solid ${h.grade?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem",backgroundColor:l?"#f5f5f5":"white",cursor:l?"not-allowed":"pointer"},children:[a.jsx("option",{value:"",children:"Select Grade"}),E.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]}),h.grade&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:h.grade})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Tuition Fee (Rs) ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"number",value:u.tuitionFee,onChange:P=>d({...u,tuitionFee:P.target.value}),placeholder:"e.g., 200, 300, 500",min:"0",step:"0.01",style:{width:"100%",padding:"0.625rem",border:`1px solid ${h.tuitionFee?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem"}}),h.tuitionFee&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:h.tuitionFee})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Admission Fee (Rs) ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"number",value:u.admissionFee,onChange:P=>d({...u,admissionFee:P.target.value}),placeholder:"e.g., 500, 1000, 2000",min:"0",step:"0.01",style:{width:"100%",padding:"0.625rem",border:`1px solid ${h.admissionFee?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem"}}),h.admissionFee&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:h.admissionFee})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",marginTop:"2rem"},children:[a.jsxs(xe,{variant:"outline",size:"md",onClick:b,children:[a.jsx(qa,{size:18}),"Cancel"]}),a.jsxs(xe,{variant:"primary",size:"md",onClick:A,children:[a.jsx(zt,{size:18}),l?"Update":"Create"," Fee Structure"]})]})]})})]})},Es=async(e,t)=>{try{const n={...e,createdBy:t||"admin"},r=await ue.transactions.create(n);return r?.data?.transaction||r?.data||r}catch(n){return console.warn("Transaction creation failed (optional feature):",n?.message||n),null}},s5=()=>{Fn();const[e,t]=x.useState([]),[n,r]=x.useState(null),[l,o]=x.useState(!1);x.useEffect(()=>{const h=async()=>{try{const p=await ue.transactions.getAll();p?.data?.transactions&&Array.isArray(p.data.transactions)?t(p.data.transactions):Array.isArray(p)?t(p):(console.error("api.transactions.getAll did not return an array:",p),t([]))}catch(p){console.error("Error loading transactions:",p),t([])}};h();const m=setInterval(()=>{h()},3e4);return()=>{clearInterval(m)}},[]);const u=h=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(h)}`,d=x.useMemo(()=>{const h=e.filter(y=>y.type==="Income"&&y.status==="Completed").reduce((y,A)=>y+Math.abs(A.amount),0),m=e.filter(y=>y.type==="Expense"&&y.status==="Completed").reduce((y,A)=>y+Math.abs(A.amount),0),p=new Date,g=e.filter(y=>{const A=new Date(y.date);return y.type==="Income"&&y.status==="Completed"&&A.getMonth()===p.getMonth()&&A.getFullYear()===p.getFullYear()}).reduce((y,A)=>y+Math.abs(A.amount),0),b=e.filter(y=>y.status==="Pending").reduce((y,A)=>y+Math.abs(A.amount),0);return{totalIncome:h,totalExpenses:m,thisMonthIncome:g,pendingAmount:b}},[e]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Transactions"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Ay,{size:18}),"Filter Transactions"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Gp,{size:24}),value:u(d.totalIncome),label:"Total Income",color:"#22c55e"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Up,{size:24}),value:u(d.totalExpenses),label:"Total Expenses",color:"#ef4444"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Gp,{size:24}),value:u(d.thisMonthIncome),label:"This Month",color:"#667eea"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Up,{size:24}),value:u(d.pendingAmount),label:"Pending",color:"#f59e0b"})]}),a.jsx("div",{className:"section-title",children:"All Transactions"}),a.jsx(si,{columns:[{key:"transactionId",header:"Transaction ID",render:(h,m)=>a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,color:"#667eea"},children:m.transactionId||m.id||m._id||"N/A"}),m.expenseId&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Expense: ",typeof m.expenseId=="object"&&m.expenseId?.expenseId?`#${m.expenseId.expenseId}`:`#${m.expenseId}`]}),m.feeId&&a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:typeof m.feeId=="object"&&m.feeId?.studentId?.studentId?`Student: ${m.feeId.studentId.studentId}`:typeof m.feeId=="object"&&m.feeId?.receiptNumber?`Receipt: ${m.feeId.receiptNumber}`:typeof m.feeId=="object"&&m.feeId?._id?`Fee: ${m.feeId._id}`:`Fee: ${m.feeId}`}),m.payrollId&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Payroll: ",typeof m.payrollId=="object"&&m.payrollId?.payrollId?`#${m.payrollId.payrollId}`:typeof m.payrollId=="object"&&m.payrollId?.employeeId?.teacherId?`Teacher: ${m.payrollId.employeeId.teacherId}`:`#${m.payrollId}`]})]})},{key:"date",header:"Date & Time",render:(h,m)=>a.jsxs("div",{children:[a.jsx("div",{children:m.date}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:m.time})]})},{key:"type",header:"Type",render:(h,m)=>a.jsxs(ge,{variant:m.type==="Income"?"success":"danger",size:"sm",children:[m.type==="Income"?a.jsx(Gp,{size:14}):a.jsx(Up,{size:14}),m.type]})},{key:"category",header:"Category"},{key:"description",header:"Description",render:(h,m)=>a.jsxs("div",{children:[a.jsx("div",{children:m.description}),m.paymentMethod&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Payment Method: ",m.paymentMethod]})]})},{key:"amount",header:"Amount",render:(h,m)=>a.jsxs("span",{style:{color:m.type==="Income"?"#22c55e":"#ef4444",fontWeight:600},children:[m.type==="Income"?"+":"",u(Math.abs(m.amount))]})},{key:"status",header:"Status",render:(h,m)=>a.jsx(ge,{variant:m.status.toLowerCase()==="completed"?"success":m.status.toLowerCase()==="pending"?"pending":"danger",size:"sm",children:m.status})},{key:"createdBy",header:"Created By",render:(h,m)=>a.jsx(ge,{variant:m.createdBy==="admin"?"info":m.createdBy==="accountant"?"success":"warning",size:"sm",children:m.createdBy?m.createdBy.charAt(0).toUpperCase()+m.createdBy.slice(1):"Admin"})},{key:"actions",header:"Actions",render:(h,m)=>a.jsx(Ue,{size:"sm",onClick:()=>{r(m),o(!0)}})}],data:e,emptyMessage:"No transactions found"}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Transaction Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Transaction Information",icon:Nt,fields:[{label:"Transaction ID",value:n.transactionId||n.id||n._id||"N/A"},{label:"Type",value:n.type,renderAsBadge:{variant:n.type==="Income"?"success":"rejected",size:"sm"}},{label:"Category",value:n.category},{label:"Description",value:n.description,spanFull:!0},{label:"Amount",value:u(Math.abs(n.amount)),icon:Nt},{label:"Date",value:n.date,icon:$e},{label:"Time",value:n.time,icon:We},{label:"Status",value:n.status,renderAsBadge:{variant:n.status==="Completed"?"success":"pending",size:"sm"}},...n.paymentMethod?[{label:"Payment Method",value:n.paymentMethod}]:[],...n.referenceId?[{label:"Reference ID",value:n.referenceId}]:[],...n.createdBy?[{label:"Created By",value:n.createdBy.charAt(0).toUpperCase()+n.createdBy.slice(1)}]:[]]}]})})]})},l5=()=>{const{role:e}=Fn(),[t,n]=x.useState(""),[r,l]=x.useState("all"),[o,u]=x.useState("all"),[d,h]=x.useState(1),m=10,[p,g]=x.useState(!1),[b,y]=x.useState(null),[A,S]=x.useState(!1),[w,E]=x.useState(null),D=Q=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(Q)}`,[T,P]=x.useState([]);x.useEffect(()=>{P([{value:"Tuition Fee",label:"Tuition Fee"},{value:"Admission Fee",label:"Admission Fee"},{value:"Registration Fee",label:"Registration Fee"},{value:"Exam Fee",label:"Exam Fee"},{value:"Library Fee",label:"Library Fee"},{value:"Sports Fee",label:"Sports Fee"},{value:"Other",label:"Other"}])},[]);const[O,M]=x.useState([]),[N,B]=x.useState(!0);x.useEffect(()=>{L();const Q=setInterval(()=>{L()},3e4);return()=>{clearInterval(Q)}},[]);const L=async()=>{try{B(!0);const Q=await ue.fees.collections.getAll();if(Q.data?.collections){const ye=Q.data.collections;if(console.log("Loaded fee collections:",ye),Array.isArray(ye)){const Ce=ye.map(Me=>{const Ge=Me.studentId||{},Ft=Ge?.name||Me.studentName||"Unknown",fn=Ge?.studentId||Ge?._id?.toString()||Me.studentId?.toString()||"Unknown",_n=Ge?.parent||Me.parentName||"-",xn=Ge?.class||Me.class||"-";return{...Me,id:Me._id||Me.id,studentId:fn,studentName:Ft,parentName:_n,cnic:Ge?.cnic||Me.cnic||"-",class:xn,collectedDate:Me.paymentDate?new Date(Me.paymentDate).toISOString().split("T")[0]:Me.collectedDate||"-",status:Me.status||"Unpaid",paidAmount:Me.paidAmount||0,amount:Me.amount||0,feeType:Me.feeType||"Tuition",paymentMethod:Me.paymentMethod||"Cash"}});M(Ce)}else console.error("Fee collections data is not an array:",ye),M([])}else M([])}catch(Q){console.error("Error loading fee collections:",Q),console.error("Error details:",{message:Q?.message,error:Q?.error,status:Q?.status,url:Q?.url}),Q?.status!==404&&console.warn("Fee collections endpoint returned error:",Q),M([])}finally{B(!1)}},q=x.useMemo(()=>Array.isArray(O)?Array.from(new Set(O.map(ye=>ye.class).filter(Boolean))).sort():[],[O]),[U,K]=x.useState([]);x.useEffect(()=>{(async()=>{try{const ye=await ue.students.getAll();if(ye.data?.students){const Me=ye.data.students.map(Ge=>{const Ft=(Ge.studentId||Ge._id||Ge.id||"").toString();return{value:Ge._id||Ge.id||Ge.studentId,label:`${Ge.name||"Unknown"} (${Ft}) - ${Ge.class||"N/A"}`}});K(Me)}}catch(ye){console.error("Error loading students:",ye),K([])}})()},[]);const W=x.useMemo(()=>Array.isArray(O)?O.filter(Q=>{const ye=t.toLowerCase(),Ce=!t||Q.studentName&&Q.studentName.toLowerCase().includes(ye)||Q.studentId&&Q.studentId.toLowerCase().includes(ye)||Q.parentName&&Q.parentName.toLowerCase().includes(ye)||Q.cnic&&Q.cnic.toLowerCase().includes(ye),Me=r==="all"||Q.status&&Q.status.toLowerCase()===r.toLowerCase(),Ge=o==="all"||Q.class&&Q.class===o;return Ce&&Me&&Ge}):(console.warn("Collections is not an array:",O),[]),[O,t,r,o]),ee=Math.ceil(W.length/m),te=(d-1)*m,C=te+m,k=x.useMemo(()=>W.slice(te,C),[W,te,C]);x.useEffect(()=>{const Q=Math.ceil(W.length/m)||1;d>Q&&h(1)},[W.length,d,m]);const _=()=>{d>1&&(h(d-1),window.scrollTo({top:0,behavior:"smooth"}))},$=()=>{d<ee&&(h(d+1),window.scrollTo({top:0,behavior:"smooth"}))},V=Q=>{h(Q),window.scrollTo({top:0,behavior:"smooth"})},R=x.useMemo(()=>Array.isArray(O)?O.filter(Q=>(Q.status||"").toLowerCase()==="paid").reduce((Q,ye)=>Q+(ye.paidAmount||ye.amount||0),0):0,[O]),G=x.useMemo(()=>{if(!Array.isArray(O))return 0;const Q=new Date().toISOString().split("T")[0];return O.filter(ye=>(ye.collectedDate||(ye.paymentDate?new Date(ye.paymentDate).toISOString().split("T")[0]:""))===Q&&(ye.status||"").toLowerCase()==="paid").reduce((ye,Ce)=>ye+(Ce.paidAmount||Ce.amount||0),0)},[O]),J=x.useMemo(()=>Array.isArray(O)?O.length:0,[O]),H=x.useMemo(()=>Array.isArray(O)?O.filter(Q=>{const ye=(Q.status||"").toLowerCase();return ye==="unpaid"||ye==="partial"}).reduce((Q,ye)=>{const Ce=ye.amount||0,Me=ye.paidAmount||0;return Q+(Ce-Me)},0):0,[O]),F=Q=>{if(!Q)return"pending";switch(Q.toLowerCase()){case"paid":return"approved";case"unpaid":return"rejected";case"partial":return"pending";case"partial paid":return"pending";case"dues":return"late";default:return"pending"}},ne=Q=>{const ye=Q.match(/Grade\s+(\d+)/i);return ye?`Grade ${ye[1]}`:""},oe=async(Q,ye)=>{if(!Q)return 0;try{const Me=(await ue.fees.gradeFees.getByGrade(Q))?.data?.fee||null;return Me?ye==="Tuition Fee"?Me.tuitionFee:ye==="Admission Fee"?Me.admissionFee:0:0}catch(Ce){return console.error("Error fetching fee:",Ce),0}},ve=x.useMemo(()=>{const Q=[];if(!b)Q.push({name:"studentId",label:"Student",type:"select",required:!0,options:U,placeholder:"Select Student",halfWidth:!0});else{const ye=b.amount||0,Ce=b.paidAmount||0,Me=ye-Ce;Q.push({name:"studentId",label:"Student",type:"text",required:!1,disabled:!0,placeholder:`${b.studentName} (${b.studentId}) - ${b.class}`,halfWidth:!0}),Q.push({name:"totalAmount",label:"Total Fee Amount",type:"number",required:!1,disabled:!0,placeholder:D(ye),halfWidth:!0}),Q.push({name:"paidAmount",label:"Already Paid",type:"number",required:!1,disabled:!0,placeholder:D(Ce),halfWidth:!0}),Q.push({name:"remainingAmount",label:"Remaining Amount",type:"number",required:!1,disabled:!0,placeholder:D(Me),halfWidth:!0}),Q.push({name:"paymentType",label:"Payment Type",type:"select",required:!0,options:[{value:"full",label:"Full Payment (Pay Remaining Amount)"},{value:"partial",label:"Partial Payment (Enter Custom Amount)"}],placeholder:"Select Payment Type",defaultValue:"full",halfWidth:!0})}return[...Q,{name:"feeType",label:"Fee Type",type:b?"text":"select",required:!0,disabled:!!b,options:b?void 0:T,placeholder:b?b.feeType||"Fee Type":"Select Fee Type",halfWidth:!0},{name:"amount",label:b?"Payment Amount":"Amount",type:"number",required:!0,placeholder:b?"Enter payment amount (for partial payment)":"Enter amount (will auto-fill for Tuition/Admission fees)",min:0,halfWidth:!0},{name:"paymentMethod",label:"Payment Method",type:"select",required:!0,options:[{value:"Cash",label:"Cash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Credit Card",label:"Credit Card"},{value:"Cheque",label:"Cheque"},{value:"Online Payment",label:"Online Payment"}],placeholder:"Select Payment Method",defaultValue:"Cash",halfWidth:!0},{name:"collectedDate",label:"Collection Date",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0],halfWidth:!0}]},[U,T,b]),Z=async(Q,ye,Ce)=>{if(Q==="studentId"||Q==="feeType"){const Me=Q==="studentId"?ye:Ce.studentId,Ge=Q==="feeType"?ye:Ce.feeType;if(Me&&Ge&&(Ge==="Tuition Fee"||Ge==="Admission Fee")){const _n=((await ue.students.getAll())?.data?.students||[]).find(xn=>(xn.studentId||xn._id||xn.id).toString()===Me);if(_n){const xn=ne(_n.class),ra=await oe(xn,Ge);ra>0&&setTimeout(()=>{const it=document.querySelector("#modal-field-amount");if(it&&it.value!==ra.toString()){const qn=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set;qn&&qn.call(it,ra.toString());const Sr=new Event("input",{bubbles:!0});it.dispatchEvent(Sr)}},10)}}}},he=()=>{const Q=new Date().toISOString().split("T")[0];if(b){const ye=b.amount||0,Ce=b.paidAmount||0,Me=ye-Ce;let Ge=b.feeType;return Ge==="Tuition"?Ge="Tuition Fee":Ge==="Admission"&&(Ge="Admission Fee"),{studentId:`${b.studentName} (${b.studentId}) - ${b.class}`,totalAmount:ye.toString(),paidAmount:Ce.toString(),remainingAmount:Me.toString(),amount:Me>0?Me.toString():"0",feeType:Ge||b.feeType,paymentMethod:b.paymentMethod||"Cash",collectedDate:b.collectedDate||Q,paymentType:"full"}}return{paymentMethod:"Cash",collectedDate:Q,paymentType:"full"}},be=async Q=>{try{let ye;if(b)ye={id:b.studentId,_id:b._id,studentId:b.studentId,name:b.studentName,class:b.class,parent:b.parentName};else if(ye=((await ue.students.getAll())?.data?.students||[]).find(hn=>(hn.studentId||hn._id||hn.id).toString()===Q.studentId),!ye){alert("Student not found. Please select a valid student.");return}let Ce=parseFloat(Q.amount)||0;const Me=b?b.amount||0:parseFloat(Q.totalAmount||"0"),Ge=b&&b.paidAmount||0,Ft=Me-Ge;if(Q.paymentType==="full")Ce=Ft;else if(Q.paymentType==="partial"){if(Ce<=0){alert("Please enter a valid payment amount.");return}if(Ce>Ft){alert(`Payment amount (${D(Ce)}) cannot exceed remaining amount (${D(Ft)}).`);return}}if(!b&&(Q.feeType==="Tuition Fee"||Q.feeType==="Admission Fee")&&Ce===0){const Ie=ne(ye.class);if(Ce=await oe(Ie,Q.feeType),Ce===0){alert(`Fee structure not found for ${Ie}. Please configure it in Fee Management first.`);return}}if(Ce<=0){alert("Please enter a valid payment amount.");return}const _n=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),xn=b?.studentName||ye.name,ra=b?.class||ye.class,it=b?.studentId||ye.id.toString(),qn=Ge+Ce,Sr=qn>=Me?"Paid":qn>0?"Partial":"Unpaid",we=b?b._id||b.id:void 0;try{await Es({type:"Income",category:"Fee Collection",description:`${Q.feeType} - ${xn} (${ra})${Sr==="Partial"?" - Partial Payment":""}`,amount:Ce,date:Q.collectedDate,time:_n,status:"Completed",paymentMethod:Q.paymentMethod,feeId:we,referenceId:`fee-${it}`},e||"admin"),console.log("Transaction entry created successfully")}catch(Ie){console.warn("Failed to create transaction entry (this is optional):",Ie?.message||Ie)}if(b){const Ie=b._id||b.id;await ue.fees.collections.update(Ie,{paidAmount:qn,status:Sr,paymentMethod:Q.paymentMethod,paymentDate:Q.collectedDate?new Date(Q.collectedDate).toISOString():new Date().toISOString(),remarks:b.remarks||`${Q.feeType} payment - ${Sr}`});const Wn=Sr==="Paid"?`Full payment of ${D(Ce)} processed successfully for ${xn}. Total: ${D(qn)}/${D(Me)}`:`Partial payment of ${D(Ce)} processed successfully for ${xn}. Total paid: ${D(qn)}/${D(Me)}. Remaining: ${D(Me-qn)}`;alert(Wn)}else{const hn=((await ue.students.getAll())?.data?.students||[]).find(bn=>(bn.studentId||bn._id||bn.id).toString()===it);if(!hn){alert("Student not found. Please try again.");return}const Ls=hn._id||hn.id,li=await ue.fees.collections.create({studentId:Ls,feeType:Q.feeType,amount:Ce,paymentDate:Q.collectedDate?new Date(Q.collectedDate).toISOString():new Date().toISOString(),paymentMethod:Q.paymentMethod,status:"Paid",paidAmount:Ce}),Yi=li?.data?.collection?.amount||li?.amount||Ce;alert(`Payment of ${D(Yi)} collected successfully for ${xn}`)}await L(),g(!1),y(null)}catch(ye){console.error("Error submitting payment:",ye);let Ce="Failed to process payment. Please try again.";ye?.message?Ce=ye.message:ye?.errorData?.error?Ce=ye.errorData.error:ye?.errorData?.message&&(Ce=ye.errorData.message),alert(`Error: ${Ce}`)}},re=Q=>{y(Q),g(!0)},Oe=()=>{y(null),g(!0)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Fees Collection"}),a.jsxs("button",{className:"btn-primary",onClick:Oe,children:[a.jsx($a,{size:18}),"Collect Fee"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Collected"}),a.jsx("p",{children:D(R)})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(On,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Today's Collection"}),a.jsx("p",{children:D(G)})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx($a,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Transactions"}),a.jsx("p",{children:J})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(We,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Pending Collection"}),a.jsx("p",{children:D(H)})]})]})]}),a.jsx(Ee,{variant:"custom",style:{marginBottom:"1.5rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"flex-end"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"250px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(_5,{size:16}),"Search (Name, ID, Parent, CNIC)"]}),a.jsx("input",{type:"text",placeholder:"Search by student name, ID, parent name, or CNIC...",value:t,onChange:Q=>n(Q.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"},onFocus:Q=>Q.target.style.borderColor="#667eea",onBlur:Q=>Q.target.style.borderColor="#e0e0e0"})]}),a.jsxs("div",{style:{minWidth:"180px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(Ay,{size:16}),"Payment Status"]}),a.jsxs("select",{value:r,onChange:Q=>l(Q.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},onFocus:Q=>Q.target.style.borderColor="#667eea",onBlur:Q=>Q.target.style.borderColor="#e0e0e0",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"unpaid",children:"Unpaid"}),a.jsx("option",{value:"partial paid",children:"Partial Paid"}),a.jsx("option",{value:"dues",children:"Dues"})]})]}),a.jsxs("div",{style:{minWidth:"180px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(Ay,{size:16}),"Class"]}),a.jsxs("select",{value:o,onChange:Q=>u(Q.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},onFocus:Q=>Q.target.style.borderColor="#667eea",onBlur:Q=>Q.target.style.borderColor="#e0e0e0",children:[a.jsx("option",{value:"all",children:"All Classes"}),q.map(Q=>a.jsx("option",{value:Q,children:Q},Q))]})]})]})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("div",{className:"section-title",style:{margin:0},children:"Fee Collection Entries"}),W.length>0&&a.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",te+1,"-",Math.min(C,W.length)," of ",W.length," entries"]})]}),N?a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#999"},children:"Loading fee collections..."}):a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Parent Name"}),a.jsx("th",{children:"CNIC"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Fee Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Payment Method"}),a.jsx("th",{children:"Collection Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:!Array.isArray(W)||W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:11,style:{textAlign:"center",padding:"2rem",color:"#999"},children:!Array.isArray(O)||O.length===0?'No fee collection records found. Click "Collect Fee" to add a new payment.':"No fee collection records found matching your filters."})}):k.map(Q=>a.jsxs("tr",{children:[a.jsx("td",{children:Q.studentId}),a.jsx("td",{children:a.jsx("strong",{children:Q.studentName})}),a.jsx("td",{children:Q.parentName}),a.jsx("td",{children:Q.cnic||"-"}),a.jsx("td",{children:Q.class}),a.jsx("td",{children:Q.feeType}),a.jsx("td",{children:D(Q.amount)}),a.jsx("td",{children:Q.paymentMethod}),a.jsx("td",{children:Q.collectedDate}),a.jsx("td",{children:a.jsx(ge,{variant:F(Q.status||"paid"),size:"sm",children:Q.status||"Paid"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>{E(Q),S(!0)}}),(Q.status||"Unpaid").toLowerCase()!=="paid"&&a.jsxs(xe,{variant:"primary",size:"sm",onClick:()=>re(Q),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(Nt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]})]})})]},Q.id))})]})}),W.length>m&&a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem",padding:"1rem"},children:[a.jsxs(xe,{variant:"secondary",size:"md",onClick:_,disabled:d===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:d===1?.5:1,cursor:d===1?"not-allowed":"pointer"},children:[a.jsx(N5,{size:18}),"Previous"]}),a.jsx("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:(()=>{const Q=[];if(ee<=7)for(let ye=1;ye<=ee;ye++)Q.push(ye);else{Q.push(1);let ye=Math.max(2,d-1),Ce=Math.min(ee-1,d+1);d<=3&&(Ce=Math.min(5,ee-1)),d>=ee-2&&(ye=Math.max(2,ee-4)),ye>2&&Q.push("...");for(let Me=ye;Me<=Ce;Me++)Q.push(Me);Ce<ee-1&&Q.push("..."),Q.push(ee)}return Q.map((ye,Ce)=>typeof ye=="string"?a.jsx("span",{style:{padding:"0 0.25rem",color:"#666"},children:"..."},`ellipsis-${Ce}`):a.jsx("button",{onClick:()=>V(ye),style:{padding:"0.5rem 0.75rem",border:"1px solid #ddd",borderRadius:"0.375rem",backgroundColor:d===ye?"#3b82f6":"#fff",color:d===ye?"#fff":"#333",cursor:"pointer",fontSize:"0.875rem",fontWeight:d===ye?600:400,minWidth:"2.5rem"},onMouseEnter:Me=>{d!==ye&&(Me.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:Me=>{d!==ye&&(Me.currentTarget.style.backgroundColor="#fff")},children:ye},ye))})()}),a.jsxs(xe,{variant:"secondary",size:"md",onClick:$,disabled:d===ee,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:d===ee?.5:1,cursor:d===ee?"not-allowed":"pointer"},children:["Next",a.jsx(z5,{size:18})]})]}),a.jsx(nr,{isOpen:p,onClose:()=>{g(!1),y(null)},title:b?"Pay Fee":"Collect Fee Payment",fields:ve,onSubmit:be,submitButtonText:b?"Pay Amount":"Collect Payment",submitButtonIcon:a.jsx($a,{size:16}),initialData:he(),onFieldChange:Z,size:"lg"}),a.jsx(He,{isOpen:A,onClose:()=>{S(!1),E(null)},title:"Fee Receipt",size:"lg",children:w&&a.jsxs("div",{children:[a.jsx(Gt,{sections:[{title:"Receipt Information",icon:Nt,fields:[{label:"Student Name",value:w.studentName,icon:ea},{label:"Parent Name",value:w.parentName},{label:"Student ID",value:w.studentId},{label:"Class",value:w.class},{label:"Fee Type",value:w.feeType},{label:"Amount",value:D(w.amount),icon:Nt},{label:"Collection Date",value:w.collectedDate,icon:$e},{label:"Payment Method",value:w.paymentMethod||"N/A"},{label:"Status",value:w.status,renderAsBadge:{variant:F(w.status),size:"sm"}},...w.cnic?[{label:"CNIC",value:w.cnic}]:[]]}]}),a.jsx("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f5f5f5",borderRadius:"0.5rem"},children:a.jsx("button",{onClick:()=>{const Q=window.open("","_blank");Q&&w&&(Q.document.write(`
                      <html>
                        <head>
                          <title>Fee Receipt - ${w.studentName}</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; }
                            h1 { color: #333; text-align: center; }
                            .receipt-info { margin: 15px 0; }
                            .label { font-weight: bold; }
                            .amount { font-size: 1.5em; font-weight: bold; color: #22c55e; text-align: center; margin: 20px 0; }
                            hr { border: 1px solid #ddd; margin: 20px 0; }
                          </style>
                        </head>
                        <body>
                          <h1>Fee Receipt</h1>
                          <hr>
                          <div class="receipt-info"><span class="label">Student Name:</span> ${w.studentName}</div>
                          <div class="receipt-info"><span class="label">Parent Name:</span> ${w.parentName}</div>
                          <div class="receipt-info"><span class="label">Student ID:</span> ${w.studentId}</div>
                          <div class="receipt-info"><span class="label">Class:</span> ${w.class}</div>
                          <div class="receipt-info"><span class="label">Fee Type:</span> ${w.feeType}</div>
                          <div class="amount">Amount: ${D(w.amount)}</div>
                          <hr>
                          <div class="receipt-info"><span class="label">Collection Date:</span> ${w.collectedDate}</div>
                          <div class="receipt-info"><span class="label">Payment Method:</span> ${w.paymentMethod||"N/A"}</div>
                          <div class="receipt-info"><span class="label">Status:</span> ${w.status}</div>
                        </body>
                      </html>
                    `),Q.document.close(),Q.print())},style:{width:"100%",padding:"0.75rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:500},children:"Print Receipt"})})]})})]})},o5=()=>{Fn();const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[l,o]=x.useState(!1),[u,d]=x.useState(null),h=C=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(C)}`,[m,p]=x.useState([{id:1,teacherName:"John Smith",employeeId:"T001",department:"Mathematics",baseSalary:5e3,allowances:500,deductions:200,netSalary:5300,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5300},{id:2,teacherName:"Sarah Johnson",employeeId:"T002",department:"Science",baseSalary:5200,allowances:600,deductions:150,netSalary:5650,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5650},{id:3,teacherName:"Michael Brown",employeeId:"T003",department:"English",baseSalary:4800,allowances:400,deductions:180,netSalary:5020,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5020},{id:4,teacherName:"Emily Davis",employeeId:"T004",department:"History",baseSalary:4900,allowances:450,deductions:0,netSalary:5350,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5350},{id:5,teacherName:"David Wilson",employeeId:"T005",department:"Physics",baseSalary:5100,allowances:550,deductions:0,netSalary:5650,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5650},{id:6,teacherName:"Lisa Anderson",employeeId:"T006",department:"Chemistry",baseSalary:4950,allowances:500,deductions:190,netSalary:5260,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Pending",paidAmount:0}]),g=[{month:"Jan",total:32e3},{month:"Feb",total:32500},{month:"Mar",total:33e3},{month:"Apr",total:32800},{month:"May",total:33200},{month:"Jun",total:33e3}],b=[{department:"Mathematics",amount:15e3,percentage:25},{department:"Science",amount:18e3,percentage:30},{department:"English",amount:12e3,percentage:20},{department:"History",amount:8e3,percentage:13},{department:"Other",amount:7e3,percentage:12}],y=C=>{const k=C.paidAmount||0;return k===0?"Pending":k>=C.netSalary?"Paid":"Partial Paid"},A=x.useMemo(()=>m.map(C=>({...C,status:y(C)})),[m]),S=A.reduce((C,k)=>C+k.netSalary,0),w=A.filter(C=>C.status==="Paid").length,E=A.filter(C=>C.status==="Pending"||C.status==="Partial Paid").length,D=["#667eea","#f093fb","#4facfe","#00f2fe","#43e97b"],T=C=>{switch(C.toLowerCase()){case"paid":return"approved";case"partial paid":return"pending";case"pending":return"pending";case"failed":return"rejected";default:return"pending"}},[P,O]=x.useState({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),[M,N]=x.useState({}),B=()=>{if(!u)return;const C={};if((!P.amount||parseFloat(P.amount)<=0)&&(C.amount="Please enter a valid payment amount"),P.paymentMethod||(C.paymentMethod="Please select a payment method"),P.paymentDate||(C.paymentDate="Please select a payment date"),Object.keys(C).length>0){N(C);return}const k=parseFloat(P.amount),$=(u.paidAmount||0)+k,V=$>=u.netSalary?"Paid":"Partial Paid",G=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});Es({type:"Expense",category:"Salaries",description:`Teacher Payroll - ${u.teacherName} (${u.department}) - Payment ${k>0?`(${h(k)})`:""}`,amount:-k,date:P.paymentDate,time:G,status:"Completed",paymentMethod:P.paymentMethod,payrollId:u.id,referenceId:`payroll-${u.id}`}),p(H=>H.map(F=>F.id===u.id?{...F,paidAmount:$,paymentMethod:P.paymentMethod,paymentDate:P.paymentDate,status:V}:F));const J=$>=u.netSalary?`Full payment of ${h(k)} processed for ${u.teacherName}. Status: Paid`:`Partial payment of ${h(k)} processed for ${u.teacherName}. Total paid: ${h($)} / ${h(u.netSalary)}. Status: Partial Paid`;alert(J),O({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({}),t(!1),d(null)},L=C=>{d(C);const k=C.netSalary-(C.paidAmount||0);O({amount:k>0?k.toString():"",paymentMethod:C.paymentMethod,paymentDate:C.paymentDate}),N({}),t(!0)},q=C=>{d(C),r(!0)},U=C=>{d(C),o(!0)},K=C=>{const k=window.open("","_blank");if(k){const _=C.paidAmount||0,$=C.netSalary-_;k.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Payroll Slip - ${C.teacherName}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                padding: 2rem;
                max-width: 800px;
                margin: 0 auto;
              }
              .header {
                text-align: center;
                border-bottom: 2px solid #333;
                padding-bottom: 1rem;
                margin-bottom: 2rem;
              }
              .header h1 {
                margin: 0;
                color: #333;
              }
              .header p {
                margin: 0.5rem 0;
                color: #666;
              }
              .section {
                margin-bottom: 2rem;
              }
              .section h2 {
                color: #667eea;
                border-bottom: 1px solid #e0e0e0;
                padding-bottom: 0.5rem;
                margin-bottom: 1rem;
              }
              .info-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                margin-bottom: 1rem;
              }
              .info-item {
                display: flex;
                justify-content: space-between;
                padding: 0.5rem 0;
                border-bottom: 1px solid #f0f0f0;
              }
              .info-label {
                font-weight: 600;
                color: #666;
              }
              .info-value {
                color: #333;
              }
              .salary-breakdown {
                background: #f8f9fa;
                padding: 1rem;
                border-radius: 0.5rem;
                margin-top: 1rem;
              }
              .total {
                font-size: 1.2rem;
                font-weight: 700;
                color: #667eea;
                margin-top: 1rem;
                padding-top: 1rem;
                border-top: 2px solid #667eea;
              }
              .footer {
                margin-top: 3rem;
                text-align: center;
                color: #666;
                font-size: 0.875rem;
              }
              @media print {
                body {
                  padding: 1rem;
                }
                .no-print {
                  display: none;
                }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>SCHOLYMAN SCHOOL</h1>
              <p>Payroll Slip</p>
              <p>${new Date().toLocaleDateString()}</p>
            </div>
            
            <div class="section">
              <h2>Employee Information</h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Employee Name:</span>
                  <span class="info-value">${C.teacherName}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Employee ID:</span>
                  <span class="info-value">${C.employeeId}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Department:</span>
                  <span class="info-value">${C.department}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Payment Date:</span>
                  <span class="info-value">${C.paymentDate}</span>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Salary Breakdown</h2>
              <div class="salary-breakdown">
                <div class="info-item">
                  <span class="info-label">Base Salary:</span>
                  <span class="info-value">${h(C.baseSalary)}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Allowances:</span>
                  <span class="info-value" style="color: #10b981;">+${h(C.allowances)}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Deductions:</span>
                  <span class="info-value" style="color: #ef4444;">-${h(C.deductions)}</span>
                </div>
                <div class="total">
                  <div class="info-item">
                    <span class="info-label">Net Salary:</span>
                    <span class="info-value">${h(C.netSalary)}</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Payment Information</h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Payment Method:</span>
                  <span class="info-value">${C.paymentMethod}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Status:</span>
                  <span class="info-value">${C.status}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Amount Paid:</span>
                  <span class="info-value">${h(_)}</span>
                </div>
                ${$>0?`
                <div class="info-item">
                  <span class="info-label">Remaining:</span>
                  <span class="info-value" style="color: #ef4444;">${h($)}</span>
                </div>
                `:""}
              </div>
            </div>

            <div class="footer">
              <p>This is a computer-generated document. No signature required.</p>
              <p>Generated on ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),k.document.close(),k.focus(),setTimeout(()=>{k.print()},250)}},W=[{name:"baseSalary",label:"Base Salary",type:"number",required:!0,placeholder:"Enter base salary",min:0},{name:"allowances",label:"Allowances",type:"number",required:!0,placeholder:"Enter allowances",min:0},{name:"deductions",label:"Deductions",type:"number",required:!0,placeholder:"Enter deductions",min:0},{name:"paymentMethod",label:"Payment Method",type:"select",required:!0,options:[{value:"Bank Transfer",label:"Bank Transfer"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Online Payment",label:"Online Payment"}],placeholder:"Select Payment Method"}],ee=()=>u?{baseSalary:u.baseSalary.toString(),allowances:u.allowances.toString(),deductions:u.deductions.toString(),paymentMethod:u.paymentMethod}:{},te=C=>{if(u){const k=parseFloat(C.baseSalary),_=parseFloat(C.allowances),$=parseFloat(C.deductions),V=k+_-$;p(R=>R.map(G=>G.id===u.id?{...G,baseSalary:k,allowances:_,deductions:$,netSalary:V,paymentMethod:C.paymentMethod}:G)),alert(`Payroll record updated successfully for ${u.teacherName}`),o(!1),d(null)}};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Teacher Payroll"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Nt,{size:18}),"Process Payroll"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:24}),value:h(S),label:"Total Payroll",color:"#667eea"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($t,{size:24}),value:m.length.toString(),label:"Total Teachers",color:"#10b981"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(On,{size:24}),value:w.toString(),label:"Paid",color:"#22c55e"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:24}),value:E.toString(),label:"Pending",color:"#f59e0b"})]}),a.jsx("div",{className:"section-title",children:"Payroll Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Payroll Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:g,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:C=>h(Number(C))}),a.jsx(At,{}),a.jsx(bt,{dataKey:"total",fill:"#667eea",name:"Total Payroll"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Payroll by Department"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Yc,{children:[a.jsx(no,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({department:C,percentage:k})=>`${C}: ${k}%`,outerRadius:100,fill:"#8884d8",dataKey:"amount",children:b.map((C,k)=>a.jsx(ii,{fill:D[k%D.length]},`cell-${k}`))}),a.jsx(gt,{formatter:C=>h(Number(C))})]})})]})]}),a.jsx("div",{className:"section-title",children:"Payroll Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Teacher Name"}),a.jsx("th",{children:"Employee ID"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Base Salary"}),a.jsx("th",{children:"Allowances"}),a.jsx("th",{children:"Deductions"}),a.jsx("th",{children:"Net Salary"}),a.jsx("th",{children:"Payment Date"}),a.jsx("th",{children:"Payment Method"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:A.slice(0,10).map(C=>{const k=C.paidAmount||0,_=C.netSalary-k,$=C.status==="Paid";return a.jsxs("tr",{children:[a.jsx("td",{children:C.id}),a.jsx("td",{children:a.jsx("strong",{children:C.teacherName})}),a.jsx("td",{children:C.employeeId}),a.jsx("td",{children:C.department}),a.jsx("td",{children:h(C.baseSalary)}),a.jsxs("td",{style:{color:"#10b981"},children:["+",h(C.allowances)]}),a.jsxs("td",{style:{color:"#ef4444"},children:["-",h(C.deductions)]}),a.jsxs("td",{children:[a.jsx("strong",{children:h(C.netSalary)}),k>0&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:["Paid: ",h(k),_>0&&a.jsxs("span",{style:{color:"#ef4444"},children:[" | Remaining: ",h(_)]})]})]}),a.jsx("td",{children:C.paymentDate}),a.jsx("td",{children:C.paymentMethod}),a.jsx("td",{children:a.jsx(ge,{variant:T(C.status),size:"sm",children:C.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>q(C)}),a.jsx(vt,{size:"sm",onClick:()=>U(C)}),a.jsx($r,{size:"sm",onClick:()=>K(C)}),!$&&a.jsxs(xe,{variant:"primary",size:"sm",onClick:()=>L(C),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(Nt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]})]})})]},C.id)})})]})}),a.jsx(He,{isOpen:e,onClose:()=>{t(!1),d(null),O({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({})},title:u?`Pay Salary - ${u.teacherName}`:"Process Payment",size:"lg",children:u&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(102, 126, 234, 0.2)"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Salary Information:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:["Net Salary: ",a.jsx("strong",{children:h(u.netSalary)})]}),a.jsxs("div",{children:["Already Paid: ",a.jsx("strong",{children:h(u.paidAmount||0)})]}),a.jsxs("div",{style:{color:u.netSalary-(u.paidAmount||0)>0?"#ef4444":"#10b981",marginTop:"0.25rem"},children:["Remaining: ",a.jsx("strong",{children:h(u.netSalary-(u.paidAmount||0))})]})]})]}),a.jsxs("form",{onSubmit:C=>{C.preventDefault(),B()},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Amount *"}),a.jsx("input",{type:"number",value:P.amount,onChange:C=>{O({...P,amount:C.target.value}),M.amount&&N({...M,amount:""})},placeholder:"Enter payment amount",min:"0",step:"0.01",required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.amount?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"}}),M.amount&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.amount})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Method *"}),a.jsxs("select",{value:P.paymentMethod,onChange:C=>{O({...P,paymentMethod:C.target.value}),M.paymentMethod&&N({...M,paymentMethod:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.paymentMethod?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"Select Payment Method"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Cheque",children:"Cheque"}),a.jsx("option",{value:"Online Payment",children:"Online Payment"})]}),M.paymentMethod&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.paymentMethod})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Date *"}),a.jsx("input",{type:"date",value:P.paymentDate,onChange:C=>{O({...P,paymentDate:C.target.value}),M.paymentDate&&N({...M,paymentDate:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.paymentDate?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),M.paymentDate&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.paymentDate})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(xe,{type:"button",variant:"outline",size:"md",onClick:()=>{t(!1),d(null),O({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({})},children:"Cancel"}),a.jsxs(xe,{type:"submit",variant:"primary",size:"md",children:[a.jsx($a,{size:16,style:{marginRight:"0.5rem"}}),"Process Payment"]})]})]})]})}),a.jsx(He,{isOpen:n,onClose:()=>{r(!1),d(null)},title:"Payroll Details",size:"lg",children:u&&a.jsx(Gt,{sections:[{title:"Employee Information",icon:ea,fields:[{label:"Teacher Name",value:u.teacherName,icon:ea},{label:"Employee ID",value:u.employeeId},{label:"Department",value:u.department,icon:Bi}]},{title:"Salary Breakdown",icon:Nt,fields:[{label:"Base Salary",value:h(u.baseSalary),icon:Nt},{label:"Allowances",value:h(u.allowances),badge:{variant:"success",text:`+${h(u.allowances)}`}},{label:"Deductions",value:h(u.deductions),badge:{variant:"rejected",text:`-${h(u.deductions)}`}},{label:"Net Salary",value:h(u.netSalary),badge:{variant:"info",text:h(u.netSalary)}}]},{title:"Payment Information",icon:$a,fields:[{label:"Payment Date",value:u.paymentDate,icon:$e},{label:"Payment Method",value:u.paymentMethod,icon:$a},{label:"Amount Paid",value:h(u.paidAmount||0),icon:Nt},{label:"Remaining Amount",value:h(u.netSalary-(u.paidAmount||0)),badge:{variant:u.netSalary-(u.paidAmount||0)>0?"rejected":"success",text:h(u.netSalary-(u.paidAmount||0))}},{label:"Status",value:u.status,badge:{variant:T(u.status),text:u.status}}]}]})}),a.jsx(nr,{isOpen:l,onClose:()=>{o(!1),d(null)},title:u?`Edit Payroll - ${u.teacherName}`:"Edit Payroll",fields:W,onSubmit:te,submitButtonText:"Update Payroll",submitButtonIcon:a.jsx(nt,{size:16}),initialData:ee(),size:"lg"})]})},c5=()=>{const{role:e}=Fn(),[t,n]=x.useState([]),[r,l]=x.useState(!1),[o,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1),[g,b]=x.useState(!1),[y,A]=x.useState(null),[S,w]=x.useState({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),[E,D]=x.useState({});x.useEffect(()=>{const H=async()=>{try{const ne=await ue.expenses.getAll();Array.isArray(ne)?n(ne):(console.error("api.expenses.getAll did not return an array:",ne),n([]))}catch(ne){console.error("Error loading expenses:",ne),n([])}};H();const F=setInterval(()=>{H()},3e4);return()=>{clearInterval(F)}},[]);const T=H=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(H)}`,P=H=>{const F=H.paidAmount||0;return F===0?"Pending":F>=H.amount?"Paid":"Partial Paid"},O=x.useMemo(()=>t.map(H=>({...H,status:P(H)})),[t]),M=x.useMemo(()=>{const H=new Map,F={Salaries:"#e74c3c",Utilities:"#3498db",Supplies:"#f39c12",Maintenance:"#27ae60",Equipment:"#9b59b6",Transportation:"#1abc9c",Other:"#95a5a6"};return O.forEach(ne=>{const oe=H.get(ne.category)||0;H.set(ne.category,oe+ne.amount)}),Array.from(H.entries()).map(([ne,oe])=>({category:ne,amount:oe,color:F[ne]||"#95a5a6"}))},[O]),N=x.useMemo(()=>{const H=new Map,F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];O.forEach(ve=>{const Z=new Date(ve.date),he=`${F[Z.getMonth()]} ${Z.getFullYear()}`,be=H.get(he)||0;H.set(he,be+ve.amount)});const ne=new Date,oe=[];for(let ve=5;ve>=0;ve--){const Z=new Date(ne.getFullYear(),ne.getMonth()-ve,1),he=`${F[Z.getMonth()]} ${Z.getFullYear()}`;oe.push({month:F[Z.getMonth()],expenses:H.get(he)||0})}return oe},[O]),B=O.reduce((H,F)=>H+F.amount,0),L=O.filter(H=>H.status==="Paid").reduce((H,F)=>H+F.amount,0),q=O.filter(H=>H.status==="Pending"||H.status==="Partial Paid").reduce((H,F)=>H+F.amount,0),U=x.useMemo(()=>{const H=new Date,F=H.getMonth(),ne=H.getFullYear();return O.filter(oe=>{const ve=new Date(oe.date);return ve.getMonth()===F&&ve.getFullYear()===ne}).reduce((oe,ve)=>oe+ve.amount,0)},[O]),K=H=>{switch(H.toLowerCase()){case"paid":return"approved";case"partial paid":return"pending";case"pending":return"pending";case"rejected":return"rejected";default:return"pending"}},W=[{name:"category",label:"Category",type:"select",required:!0,options:[{value:"Salaries",label:"Salaries"},{value:"Utilities",label:"Utilities"},{value:"Supplies",label:"Supplies"},{value:"Maintenance",label:"Maintenance"},{value:"Equipment",label:"Equipment"},{value:"Transportation",label:"Transportation"},{value:"Other",label:"Other"}],placeholder:"Select Category"},{name:"description",label:"Description",type:"text",required:!0,placeholder:"Enter expense description"},{name:"amount",label:"Amount",type:"number",required:!0,placeholder:"Enter amount",min:0},{name:"vendor",label:"Vendor",type:"text",required:!0,placeholder:"Enter vendor name"},{name:"date",label:"Date",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Paid",label:"Paid"},{value:"Pending",label:"Pending"},{value:"Rejected",label:"Rejected"}],placeholder:"Select Status",defaultValue:"Pending"}],ee=W,te=()=>y?{category:y.category,description:y.description,amount:y.amount.toString(),vendor:y.vendor,date:y.date,status:y.status}:{},C=async H=>{try{const F={category:H.category,description:H.description,amount:parseFloat(H.amount),vendor:H.vendor,date:H.date,status:H.status||"pending",paidAmount:H.status==="Paid"?parseFloat(H.amount):0},ne=await ue.expenses.create(F),oe=ne?.data?.expense||ne?.data||ne;if(H.status==="Paid"){const he=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Es({type:"Expense",category:H.category,description:H.description,amount:-parseFloat(H.amount),date:H.date,time:he,status:"Completed",expenseId:oe?.id||oe?._id,referenceId:`expense-${oe?.id||oe?._id}`},e||"admin")}catch(be){console.error("Error creating transaction for expense:",be)}}const ve=await ue.expenses.getAll();Array.isArray(ve)?n(ve):ve?.data&&Array.isArray(ve.data)&&n(ve.data),alert(`Expense of ${T(oe?.amount||parseFloat(H.amount))} added successfully`),l(!1)}catch(F){console.error("Error adding expense:",F),alert("Failed to add expense. Please try again.")}},k=async H=>{if(y)try{const F=y.status==="Paid",ne=H.status==="Paid",oe=parseFloat(H.amount),ve={category:H.category,description:H.description,amount:oe,vendor:H.vendor,date:H.date,status:H.status||y.status,paidAmount:ne?oe:y.paidAmount||0};if(await ue.expenses.update(y.id,ve),!F&&ne){const be=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Es({type:"Expense",category:H.category,description:H.description,amount:-oe,date:H.date,time:be,status:"Completed",expenseId:y.id,referenceId:`expense-${y.id}`},e||"admin")}catch(re){console.error("Error creating transaction for expense:",re)}}const Z=await ue.expenses.getAll();Array.isArray(Z)?n(Z):Z?.data&&Array.isArray(Z.data)&&n(Z.data),alert("Expense updated successfully"),h(!1),A(null)}catch(F){console.error("Error updating expense:",F),alert("Failed to update expense. Please try again.")}},_=async()=>{if(y)try{await ue.expenses.delete(y.id);const H=await ue.expenses.getAll();Array.isArray(H)?n(H):H?.data&&Array.isArray(H.data)&&n(H.data),alert("Expense deleted successfully"),p(!1),A(null)}catch(H){console.error("Error deleting expense:",H),alert("Failed to delete expense. Please try again.")}},$=H=>{A(H),u(!0)},V=H=>{A(H),h(!0)},R=H=>{A(H),p(!0)},G=H=>{A(H);const F=H.amount-(H.paidAmount||0);w({amount:F>0?F.toString():"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),D({}),b(!0)},J=async()=>{if(!y)return;const H={};if(!S.amount||parseFloat(S.amount)<=0)H.amount="Please enter a valid payment amount";else{const F=parseFloat(S.amount),ne=y.paidAmount||0;ne+F>y.amount&&(H.amount=`Payment amount cannot exceed remaining amount of ${T(y.amount-ne)}`)}if(S.paymentMethod||(H.paymentMethod="Please select a payment method"),S.paymentDate||(H.paymentDate="Please select a payment date"),Object.keys(H).length>0){D(H);return}try{const F=parseFloat(S.amount),oe=(y.paidAmount||0)+F,ve=oe>=y.amount?"Paid":"Partial Paid",he=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Es({type:"Expense",category:y.category,description:`${y.description} - Payment ${F>0?`(${T(F)})`:""}`,amount:-F,date:S.paymentDate,time:he,status:"Completed",paymentMethod:S.paymentMethod,expenseId:y.id,referenceId:`expense-${y.id}`},e||"admin")}catch(Oe){console.error("Error creating transaction for payment:",Oe)}await ue.expenses.update(y.id,{paidAmount:oe,status:ve,date:S.paymentDate});const be=await ue.expenses.getAll();Array.isArray(be)?n(be):be?.data&&Array.isArray(be.data)&&n(be.data);const re=oe>=y.amount?`Full payment of ${T(F)} processed successfully for ${y.description}. Status: Paid`:`Partial payment of ${T(F)} processed successfully for ${y.description}. Total paid: ${T(oe)} / ${T(y.amount)}. Status: Partial Paid`;alert(re),w({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),D({}),b(!1),A(null)}catch(F){console.error("Error processing payment:",F),alert("Failed to process payment. Please try again.")}};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Expenses"}),a.jsxs("button",{className:"btn-primary",onClick:()=>l(!0),children:[a.jsx(nt,{size:18}),"Add Expense"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Dv,{size:24}),value:T(B),label:"Total Expenses",color:"#e74c3c"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:24}),value:T(L),label:"Paid",color:"#27ae60"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:24}),value:T(q),label:"Pending",color:"#f39c12"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($e,{size:24}),value:T(U),label:"This Month",color:"#3498db"})]}),a.jsx("div",{className:"section-title",children:"Expense Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Expenses by Category"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:M,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"category"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:H=>T(Number(H))}),a.jsx(At,{}),a.jsx(bt,{dataKey:"amount",fill:"#667eea",name:"Amount"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Expenses Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Vc,{data:N,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:H=>T(Number(H))}),a.jsx(At,{}),a.jsx(Fi,{type:"monotone",dataKey:"expenses",stroke:"#e74c3c",name:"Expenses",strokeWidth:2})]})})]})]}),a.jsx("div",{className:"section-title",children:"Expense Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Vendor"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:O.slice(0,10).map(H=>{const F=H.paidAmount||0,ne=H.amount-F,oe=H.status==="Paid";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(ge,{variant:"info",size:"sm",children:H.category})}),a.jsx("td",{children:H.description}),a.jsxs("td",{children:[a.jsx("strong",{children:T(H.amount)}),F>0&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:["Paid: ",T(F),ne>0&&a.jsxs("span",{style:{color:"#ef4444"},children:[" | Remaining: ",T(ne)]})]})]}),a.jsx("td",{children:H.vendor}),a.jsx("td",{children:H.date}),a.jsx("td",{children:a.jsx(ge,{variant:K(H.status),size:"sm",children:H.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>$(H)}),a.jsx(vt,{size:"sm",onClick:()=>V(H)}),!oe&&a.jsxs(xe,{variant:"primary",size:"sm",onClick:()=>G(H),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(Nt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]}),a.jsx(Mt,{size:"sm",onClick:()=>R(H)})]})})]},H.id)})})]})}),a.jsx(nr,{isOpen:r,onClose:()=>l(!1),title:"Add New Expense",fields:W,onSubmit:C,submitButtonText:"Add Expense",submitButtonIcon:a.jsx(nt,{size:16}),size:"lg"}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),A(null)},title:"Expense Details",size:"lg",children:y&&a.jsx(Gt,{sections:[{title:"Expense Information",icon:Nt,fields:[{label:"Category",value:y.category,badge:{variant:"info",text:y.category}},{label:"Description",value:y.description,icon:nt,spanFull:!0},{label:"Amount",value:T(y.amount),icon:Nt},{label:"Vendor",value:y.vendor,icon:Bi},{label:"Date",value:y.date,icon:$e},{label:"Amount Paid",value:T(y.paidAmount||0),icon:Nt},{label:"Remaining Amount",value:T(y.amount-(y.paidAmount||0)),badge:{variant:y.amount-(y.paidAmount||0)>0?"rejected":"success",text:T(y.amount-(y.paidAmount||0))}},{label:"Status",value:y.status,badge:{variant:K(y.status),text:y.status}}]}]})}),a.jsx(nr,{isOpen:d,onClose:()=>{h(!1),A(null)},title:y?`Edit Expense - ${y.description}`:"Edit Expense",fields:ee,onSubmit:k,submitButtonText:"Update Expense",submitButtonIcon:a.jsx(nt,{size:16}),initialData:te(),size:"lg"}),a.jsx(He,{isOpen:m,onClose:()=>{p(!1),A(null)},title:"Delete Expense",size:"md",children:y&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to delete this expense?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Expense Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",y.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Description:"})," ",y.description]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Amount:"})," ",T(y.amount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Vendor:"})," ",y.vendor]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{p(!1),A(null)},style:{padding:"0.75rem 1.5rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",background:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:_,style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",background:"#ef4444",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500},children:"Delete Expense"})]})]})}),a.jsx(He,{isOpen:g,onClose:()=>{b(!1),A(null),w({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),D({})},title:y?`Pay Expense - ${y.description}`:"Process Payment",size:"lg",children:y&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(102, 126, 234, 0.2)"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Expense Information:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",y.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Description:"})," ",y.description]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Total Amount:"})," ",T(y.amount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Already Paid:"})," ",T(y.paidAmount||0)]}),a.jsxs("div",{style:{color:y.amount-(y.paidAmount||0)>0?"#ef4444":"#10b981",marginTop:"0.25rem"},children:[a.jsx("strong",{children:"Remaining:"})," ",T(y.amount-(y.paidAmount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Vendor:"})," ",y.vendor]})]})]}),a.jsxs("form",{onSubmit:H=>{H.preventDefault(),J()},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Amount *"}),a.jsx("input",{type:"number",value:S.amount,onChange:H=>{w({...S,amount:H.target.value}),E.amount&&D({...E,amount:""})},placeholder:"Enter payment amount",min:"0",step:"0.01",required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${E.amount?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"}}),E.amount&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:E.amount})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Method *"}),a.jsxs("select",{value:S.paymentMethod,onChange:H=>{w({...S,paymentMethod:H.target.value}),E.paymentMethod&&D({...E,paymentMethod:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${E.paymentMethod?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"Select Payment Method"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Cheque",children:"Cheque"}),a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Online Payment",children:"Online Payment"})]}),E.paymentMethod&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:E.paymentMethod})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Date *"}),a.jsx("input",{type:"date",value:S.paymentDate,onChange:H=>{w({...S,paymentDate:H.target.value}),E.paymentDate&&D({...E,paymentDate:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${E.paymentDate?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),E.paymentDate&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:E.paymentDate})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(xe,{type:"button",variant:"outline",size:"md",onClick:()=>{b(!1),A(null),w({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),D({})},children:"Cancel"}),a.jsxs(xe,{type:"submit",variant:"primary",size:"md",children:[a.jsx($a,{size:16,style:{marginRight:"0.5rem"}}),"Process Payment"]})]})]})]})})]})},u5=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),[l,o]=x.useState([]);x.useEffect(()=>{const g=async()=>{try{const S=await ue.fees.collections.getAll();Array.isArray(S)?t(S):S?.data&&Array.isArray(S.data)?t(S.data):S?.feeCollections&&Array.isArray(S.feeCollections)?t(S.feeCollections):t([])}catch(S){console.error("Error loading fee collections:",S),t([])}},b=async()=>{try{const S=await ue.expenses.getAll();Array.isArray(S)?r(S):S?.data&&Array.isArray(S.data)?r(S.data):r([])}catch(S){console.error("Error loading expenses:",S),r([])}},y=async()=>{try{const S=await ue.transactions.getAll();Array.isArray(S)?o(S):S?.data&&Array.isArray(S.data)?o(S.data):S?.transactions&&Array.isArray(S.transactions)?o(S.transactions):o([])}catch(S){console.error("Error loading transactions:",S),o([])}};g(),b(),y();const A=setInterval(()=>{g(),b(),y()},3e4);return()=>{clearInterval(A)}},[]);const u=g=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(g)}`,d=x.useMemo(()=>{const g=e.filter(E=>E.status?.toLowerCase()==="paid"||E.paymentStatus?.toLowerCase()==="paid").reduce((E,D)=>E+(D.amount||0),0),b=l.filter(E=>E.type==="Income"&&E.amount>0).reduce((E,D)=>E+Math.abs(D.amount||0),0),y=g+b,A=n.reduce((E,D)=>E+(D.amount||0),0),S=y-A,w=y>0?(S/y*100).toFixed(1):"0.0";return{totalRevenue:y,totalExpenses:A,netProfit:S,profitMargin:`${w}%`}},[e,n,l]),h=[{month:"January",revenue:45e3,expenses:35e3,profit:1e4},{month:"February",revenue:48e3,expenses:38e3,profit:1e4},{month:"March",revenue:5e4,expenses:42e3,profit:8e3},{month:"April",revenue:52e3,expenses:4e4,profit:12e3},{month:"May",revenue:51e3,expenses:41e3,profit:1e4},{month:"June",revenue:53e3,expenses:43e3,profit:1e4}],m=[{category:"Fees Collection",amount:25e4,percentage:85},{category:"Other Income",amount:45e3,percentage:15}],p=[{category:"Salaries",amount:15e4,percentage:60},{category:"Utilities",amount:3e4,percentage:12},{category:"Supplies",amount:25e3,percentage:10},{category:"Maintenance",amount:2e4,percentage:8},{category:"Other",amount:25e3,percentage:10}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Account Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Nt,{size:24}),value:u(d.totalRevenue),label:"Total Revenue",color:"#27ae60"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Dv,{size:24}),value:u(d.totalExpenses),label:"Total Expenses",color:"#e74c3c"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:24}),value:u(d.netProfit),label:"Net Profit",color:d.netProfit>=0?"#667eea":"#e74c3c"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Nl,{size:24}),value:d.profitMargin,label:"Profit Margin",color:parseFloat(d.profitMargin)>=0?"#9b59b6":"#e74c3c"})]}),a.jsx("div",{className:"section-title",children:"Financial Reports"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Revenue vs Expenses (6 Months)"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(kV,{data:h,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:g=>u(Number(g))}),a.jsx(At,{}),a.jsx(mv,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#27ae60",fill:"#27ae60",fillOpacity:.6,name:"Revenue"}),a.jsx(mv,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#e74c3c",fill:"#e74c3c",fillOpacity:.6,name:"Expenses"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Profit Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Vc,{data:h,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:g=>u(Number(g))}),a.jsx(At,{}),a.jsx(Fi,{type:"monotone",dataKey:"profit",stroke:"#667eea",name:"Profit",strokeWidth:2})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Revenue Breakdown"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:m,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"category"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:g=>u(Number(g))}),a.jsx(At,{}),a.jsx(bt,{dataKey:"amount",fill:"#27ae60",name:"Amount"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Expense Breakdown"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:p,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"category"}),a.jsx(Bt,{}),a.jsx(gt,{formatter:g=>u(Number(g))}),a.jsx(At,{}),a.jsx(bt,{dataKey:"amount",fill:"#e74c3c",name:"Amount"})]})})]})]}),a.jsxs("div",{className:"reports-tables",children:[a.jsxs("div",{className:"table-container",children:[a.jsx("h3",{children:"Revenue Summary"}),a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:m.map((g,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:g.category}),a.jsx("td",{children:u(g.amount)}),a.jsxs("td",{children:[g.percentage,"%"]})]},b))})]})]}),a.jsxs("div",{className:"table-container",children:[a.jsx("h3",{children:"Expense Summary"}),a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:p.map((g,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:g.category}),a.jsx("td",{children:u(g.amount)}),a.jsxs("td",{children:[g.percentage,"%"]})]},b))})]})]})]})]})},dY=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1),[g,b]=x.useState(!1),[y,A]=x.useState({section:""}),[S,w]=x.useState([]),[E,D]=x.useState("all");x.useEffect(()=>{const C=async()=>{try{const $=await ue.admissions.getAll();if($.data?.admissions){const V=$.data.admissions.map(R=>({...R,displayId:R.admissionId||R._id||R.id}));n(V)}else n([])}catch($){console.error("Error loading admissions:",$),n([])}},k=async()=>{try{const $=await ue.classes.getAll();$.data?.classes?w($.data.classes):w([])}catch($){console.error("Error loading classes:",$),w([])}};C(),k();const _=setInterval(()=>{C(),k()},3e4);return()=>{clearInterval(_)}},[]);const T=C=>{switch(C){case"Approved":return a.jsx(On,{size:16});case"Rejected":return a.jsx(Ii,{size:16});default:return a.jsx(We,{size:16})}},P=C=>{const k=C.match(/Grade\s+(\d+)/i);return k?`Grade ${k[1]}`:C},O=C=>{if(!C)return"";const _=C.trim().match(/Grade\s+(\d+)/i);return _?`Grade ${_[1]}`:""},M=C=>{if(!Array.isArray(S)||!C)return[];const k=C.startsWith("Grade")?C:`Grade ${C}`;return S.filter($=>$.status!=="Active"?!1:O($.name||"")===k).map($=>({value:$.section||"",label:`Section ${$.section||""} (${$.name||""}) - ${$.currentStudents||0}/${$.capacity||0} available`}))},N=C=>{l(C),u(!0)},B=C=>{l(C);const k=C.section?.replace("Sec ","").trim()||"";A({section:k}),p(!0)},L=async C=>{if(r)try{const k=C.section?.replace("Sec ","").trim()||C.section,_=r._id||r.id;await ue.admissions.update(_,{section:k}),alert(`Section ${k} assigned successfully! You can now approve this admission.`),p(!1),l(null),A({section:""});const $=await ue.admissions.getAll();$.data?.admissions&&n($.data.admissions)}catch(k){console.error("Error saving section:",k),alert("Failed to assign section. Please try again.")}},q=C=>{if(!C.section){alert("Please assign a section to this student before approving. Use the Edit button to assign a section.");return}l(C),b(!0)},U=async()=>{if(r){if(!r.section){alert("Please assign a section to this student before approving. Use the Edit button to assign a section.");return}try{const C=P(r.class),k=C.startsWith("Grade")?C:`Grade ${C}`,_=r.section.replace("Sec ","").trim(),$=S.find(we=>we.status!=="Active"?!1:O(we.name||"")===k&&we.section===_);if(!$){alert(`No active class found for ${k} Section ${_}. Please check the classes list.`);return}if($.currentStudents>=$.capacity){alert(`Class ${$.name} is at full capacity (${$.capacity}/${$.capacity}). Cannot admit more students.`);return}const V=`${k}${_}`,R=r._id||r.id;try{await ue.admissions.update(R,{status:"Approved"})}catch(we){throw new Error(`Failed to update admission status: ${we?.message||we?.error||"Unknown error"}`)}let G=r.email.split("@")[0]||"";G=G.replace(/[^a-zA-Z0-9_]/g,"_");const J=Date.now();let H=G.length>=3?G:`student_${J}`;G.length>=3&&(H=`${G}_${J.toString().slice(-6)}`),H.length<3&&(H=`student_${J}`),H.length>30&&(H=H.substring(0,24)+"_"+J.toString().slice(-5));const F="Student@123",ne=r.name||(r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.firstName||r.lastName||"Student");let oe;try{oe=await ue.users.create({username:H,email:r.email,password:F,name:ne,role:"student"})}catch(we){let Ie="User may already exist or validation failed";throw we?.message?Ie=we.message:we?.errorData?.message?Ie=we.errorData.message:we?.errorData?.error?Ie=we.errorData.error:we?.errorData?.errors&&Array.isArray(we.errorData.errors)?Ie=we.errorData.errors.map(Wn=>Wn.msg||Wn.message||Wn).join(", "):we?.error&&(Ie=typeof we.error=="string"?we.error:JSON.stringify(we.error)),console.error("User creation error details:",{username:H,email:r.email,error:Ie,status:we?.status,errorData:we?.errorData,fullError:we}),new Error(`Failed to create user account: ${Ie}`)}const ve=oe,Z=ve?.data?.user?._id||ve?.data?.user?.id||ve?.data?._id||ve?._id;if(!Z)throw console.error("User response:",oe),new Error("Failed to get user ID from created user account");const he=r.name||(r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.firstName||r.lastName||"Unknown"),be=r.dateOfBirth?r.dateOfBirth instanceof Date?r.dateOfBirth.toISOString():typeof r.dateOfBirth=="string"?r.dateOfBirth:new Date(r.dateOfBirth).toISOString():void 0,re=r.admissionDate?r.admissionDate instanceof Date?r.admissionDate.toISOString():typeof r.admissionDate=="string"?r.admissionDate:new Date(r.admissionDate).toISOString():new Date().toISOString(),Oe={userId:Z,name:he,email:r.email,class:V,section:_,phone:r.phone,parent:r.parentName,status:"Active",dateOfBirth:be,admissionDate:re,address:r.address||void 0,parentPhone:r.parentPhone,parentEmail:r.parentEmail||void 0,gender:r.gender,previousSchool:r.previousSchool||void 0};let Q;try{console.log("Creating student with data:",Oe),Q=await ue.students.create(Oe),console.log("Student created successfully:",Q)}catch(we){let Ie="Student may already exist or missing required fields";we?.errorData?.error?Ie=we.errorData.error:we?.errorData?.message?Ie=we.errorData.message:we?.message?Ie=we.message:we?.errorData?.errors&&Array.isArray(we.errorData.errors)?Ie=we.errorData.errors.map(hn=>hn.msg||hn.message||hn).join(", "):we?.error&&(Ie=typeof we.error=="string"?we.error:JSON.stringify(we.error)),console.error("Student creation error details:",{errorMessage:Ie,status:we?.status,errorData:we?.errorData,errorDataString:JSON.stringify(we?.errorData,null,2),errorResponse:we?.response,fullError:we,studentData:Oe});let Wn=Ie;if(we?.errorData){const hn=we.errorData.error||we.errorData.message;if(hn&&hn!=="Error creating student"&&(Wn=hn),we.errorData.errors&&Array.isArray(we.errorData.errors)){const Ls=we.errorData.errors.map(li=>li.msg||li.message||li).join(", ");Ls&&(Wn=Ls)}}throw alert(`Failed to create student: ${Wn}

Please check the console for more details.`),new Error(`Failed to create student: ${Wn}`)}try{await ue.classes.update($.id,{currentStudents:$.currentStudents+1})}catch(we){console.warn("Failed to update class capacity:",we)}const ye=Q,Ce=ye?.data?.student||ye?.data||ye,Me=Ce?.studentId,Ge=Ce?._id;if(!Ge)throw console.error("Student response:",Q),new Error("Failed to get student MongoDB ID from created student. Student may not have been created properly.");Me||console.warn("Student custom ID (studentId) not found, but MongoDB ID exists:",Ge);try{await ue.admissions.update(R,{studentId:Ge})}catch(we){console.warn("Failed to link student to admission:",we)}let Ft=0,fn=0;try{const Ie=(await ue.fees.gradeFees.getByGrade(C))?.data?.fee||null;Ft=Ie?.admissionFee||5e3,fn=Ie?.tuitionFee||3e3,console.log(`Fee amounts for ${C}: Admission=${Ft}, Tuition=${fn}`)}catch(we){console.warn("Failed to get fee amounts for grade:",C,we),Ft=5e3,fn=3e3,console.log(`Using default fee amounts: Admission=${Ft}, Tuition=${fn}`)}const _n=new Date,xn=_n.toISOString(),ra=_n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{const we={studentId:Ge,feeType:"Admission",amount:Ft,paymentDate:xn,paymentMethod:"Cash",status:"Unpaid",paidAmount:0,remarks:`Admission fee for ${r.name} - ${V}`};console.log("Creating admission fee collection with data:",we);const Ie=await ue.fees.collections.create(we);console.log("Admission fee collection created successfully:",Ie)}catch(we){let Ie="Unknown error";we?.message?Ie=we.message:we?.errorData?.error?Ie=we.errorData.error:we?.errorData?.message&&(Ie=we.errorData.message),console.error("Failed to create admission fee collection:",{error:Ie,errorData:we?.errorData,fullError:we}),alert(`Warning: Admission fee entry could not be created automatically. Error: ${Ie}. Please create it manually.`)}try{const we={studentId:Ge,feeType:"Tuition",amount:fn,paymentDate:xn,paymentMethod:"Cash",status:"Unpaid",paidAmount:0,remarks:`Monthly tuition fee for ${r.name} - ${V}`};console.log("Creating tuition fee collection with data:",we);const Ie=await ue.fees.collections.create(we);console.log("Tuition fee collection created successfully:",Ie)}catch(we){let Ie="Unknown error";we?.message?Ie=we.message:we?.errorData?.error?Ie=we.errorData.error:we?.errorData?.message&&(Ie=we.errorData.message),console.error("Failed to create tuition fee collection:",{error:Ie,errorData:we?.errorData,fullError:we}),alert(`Warning: Tuition fee entry could not be created automatically. Error: ${Ie}. Please create it manually.`)}if(Ft>0)try{await Es({type:"Income",category:"Fee Collection",description:`Admission Fee - ${r.name} (${V})`,amount:Ft,date:_n.toISOString().split("T")[0],time:ra,status:"Pending",paymentMethod:"Pending",referenceId:`admission-${r._id||r.id}`},"admin")}catch(we){console.warn("Failed to create transaction for admission fee:",we)}if(fn>0)try{await Es({type:"Income",category:"Fee Collection",description:`Tuition Fee - ${r.name} (${V})`,amount:fn,date:_n.toISOString().split("T")[0],time:ra,status:"Pending",paymentMethod:"Pending",referenceId:`tuition-${r._id||r.id}`},"admin")}catch(we){console.warn("Failed to create transaction for tuition fee:",we)}let it=`Admission approved successfully!

Student Details:
- Name: ${r.name}
- Student ID: ${Me||"N/A"}
- Class: ${V}
- Email: ${r.email}
- Default Password: Student@123

`;Ft>0||fn>0?(it+=`Fee Entries Created:
`,Ft>0&&(it+=`- Admission Fee: Rs ${Ft.toLocaleString()}
`),fn>0&&(it+=`- Tuition Fee: Rs ${fn.toLocaleString()}
`),it+=`
Fee entries are available in the Fee Collection list.
`):it+=`
Note: No fee structure found for ${C}. Please configure fees in Fee Management.
`,it+=`
The student has been added to the Students List.`,alert(it);const qn=await ue.admissions.getAll();qn.data?.admissions&&n(qn.data.admissions);const Sr=await ue.classes.getAll();Sr.data?.classes&&w(Sr.data.classes),b(!1),l(null)}catch(C){console.error("Error approving admission:",C),console.error("Error details:",{message:C?.message,error:C?.error,status:C?.status,stack:C?.stack});let k="Unknown error occurred";C?.message?k=C.message:C?.error?k=typeof C.error=="string"?C.error:JSON.stringify(C.error):C?.response?.data?.error?k=C.response.data.error:C?.response?.data?.message&&(k=C.response.data.message),alert(`Failed to approve admission:

${k}

Please check the browser console for more details.`)}}},K=C=>{l(C),h(!0)},W=async()=>{if(r)try{const C=r._id||r.id;await ue.admissions.update(C,{status:"Rejected"}),alert(`Admission application for ${r.name} has been rejected.`),h(!1),l(null);const k=await ue.admissions.getAll();k.data?.admissions&&n(k.data.admissions)}catch(C){console.error("Error rejecting admission:",C),alert("Failed to reject admission. Please try again.")}},ee=x.useMemo(()=>E==="all"?t:t.filter(C=>(C.status?.toLowerCase()||"")===E),[t,E]),te=x.useMemo(()=>({all:t.length,pending:t.filter(C=>C.status?.toLowerCase()==="pending").length,approved:t.filter(C=>C.status?.toLowerCase()==="approved").length,rejected:t.filter(C=>C.status?.toLowerCase()==="rejected").length}),[t]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Admission Applications"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/admissions/new"),children:[a.jsx(kf,{size:18,style:{marginRight:"0.5rem"}}),"New Admission"]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #e5e7eb",paddingBottom:0},children:[a.jsxs("button",{onClick:()=>D("all"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:E==="all"?"3px solid #667eea":"3px solid transparent",color:E==="all"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:E==="all"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:C=>{E!=="all"&&(C.currentTarget.style.color="#667eea",C.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:C=>{E!=="all"&&(C.currentTarget.style.color="#6b7280",C.currentTarget.style.background="transparent")},children:["All (",te.all,")"]}),a.jsxs("button",{onClick:()=>D("pending"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:E==="pending"?"3px solid #667eea":"3px solid transparent",color:E==="pending"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:E==="pending"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:C=>{E!=="pending"&&(C.currentTarget.style.color="#667eea",C.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:C=>{E!=="pending"&&(C.currentTarget.style.color="#6b7280",C.currentTarget.style.background="transparent")},children:[a.jsx(We,{size:16}),"Pending (",te.pending,")"]}),a.jsxs("button",{onClick:()=>D("approved"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:E==="approved"?"3px solid #667eea":"3px solid transparent",color:E==="approved"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:E==="approved"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:C=>{E!=="approved"&&(C.currentTarget.style.color="#667eea",C.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:C=>{E!=="approved"&&(C.currentTarget.style.color="#6b7280",C.currentTarget.style.background="transparent")},children:[a.jsx(On,{size:16}),"Approved (",te.approved,")"]}),a.jsxs("button",{onClick:()=>D("rejected"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:E==="rejected"?"3px solid #667eea":"3px solid transparent",color:E==="rejected"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:E==="rejected"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:C=>{E!=="rejected"&&(C.currentTarget.style.color="#667eea",C.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:C=>{E!=="rejected"&&(C.currentTarget.style.color="#6b7280",C.currentTarget.style.background="transparent")},children:[a.jsx(Ii,{size:16}),"Rejected (",te.rejected,")"]})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Grade Level"}),a.jsx("th",{children:"Section"}),a.jsx("th",{children:"Applied Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:ee.slice(0,10).map(C=>a.jsxs("tr",{children:[a.jsx("td",{children:C.admissionId||C.displayId||C._id||C.id||"N/A"}),a.jsx("td",{children:a.jsx("strong",{children:C.name})}),a.jsx("td",{children:C.email}),a.jsx("td",{children:P(C.class)}),a.jsx("td",{children:C.section?a.jsx(ge,{variant:"info",size:"sm",children:C.section.replace("Sec ","")}):a.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Not assigned"})}),a.jsx("td",{children:C.appliedDate}),a.jsx("td",{children:a.jsxs(ge,{variant:C.status.toLowerCase()==="approved"?"approved":C.status.toLowerCase()==="pending"?"pending":"rejected",size:"sm",children:[T(C.status),C.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>N(C)}),C.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx(xe,{variant:"outline",size:"sm",onClick:()=>B(C),style:{padding:"0.375rem",minWidth:"auto"},children:a.jsx(Bd,{size:14})}),a.jsx(Br,{size:"sm",onClick:()=>q(C)}),a.jsx(Mt,{size:"sm",onClick:()=>K(C)})]})]})})]},C._id||C.id))})]})}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Admission Application Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Student Information",fields:[{label:"Name",value:r.name},{label:"Email",value:r.email},{label:"Phone",value:r.phone},{label:"Grade Level",value:P(r.class)},{label:"Section",value:r.section?r.section.replace("Sec ",""):"Not assigned"},{label:"Date of Birth",value:r.dateOfBirth},{label:"Gender",value:r.gender},{label:"Admission Date",value:r.admissionDate},...r.address?[{label:"Address",value:r.address,spanFull:!0}]:[],...r.previousSchool?[{label:"Previous School",value:r.previousSchool}]:[]]},{title:"Parent/Guardian Information",fields:[{label:"Parent/Guardian Name",value:r.parentName},{label:"Parent Phone",value:r.parentPhone},...r.parentEmail?[{label:"Parent Email",value:r.parentEmail}]:[]]},{title:"Application Information",fields:[{label:"Applied Date",value:r.appliedDate},{label:"Status",value:r.status,badge:{variant:r.status.toLowerCase()==="approved"?"approved":r.status.toLowerCase()==="pending"?"pending":"rejected",text:r.status}}]}]})}),a.jsx(He,{isOpen:d,onClose:()=>{h(!1),l(null)},title:"Reject Admission Application",size:"md",children:r&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to reject this admission application?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Application Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Class:"})," ",r.class]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Applied Date:"})," ",r.appliedDate]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>{h(!1),l(null)},children:"Cancel"}),a.jsx(xe,{variant:"danger",size:"md",onClick:W,children:"Reject Application"})]})]})}),a.jsx(nr,{isOpen:m,onClose:()=>{p(!1),l(null),A({section:""})},title:r?`Assign Section: ${r.name}`:"Assign Section",fields:x.useMemo(()=>{if(!r)return[];const C=P(r.class);return[{name:"section",label:"Section",type:"select",required:!0,options:M(C),placeholder:"Select Section"}]},[r,S]),onSubmit:L,submitButtonText:"Assign Section",submitButtonIcon:a.jsx(zt,{size:16}),initialData:y,size:"md"}),a.jsx(He,{isOpen:g,onClose:()=>{b(!1),l(null)},title:"Approve Admission Application",size:"md",children:r&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to approve this admission application?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(39, 174, 96, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Application Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Grade:"})," ",P(r.class)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Section:"})," ",r.section||"Not assigned"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Applied Date:"})," ",r.appliedDate]})]})]}),r.section&&a.jsxs("div",{style:{padding:"1rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem",fontSize:"0.85rem"},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem"},children:"What will happen:"}),a.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#666"},children:[a.jsx("li",{children:"Student will be added to Students List"}),a.jsx("li",{children:"Admission Fee entry will be created in Fee Collection"}),a.jsx("li",{children:"Tuition Fee entry will be created in Fee Collection"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>{b(!1),l(null)},children:"Cancel"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:U,disabled:!r.section,children:[a.jsx(On,{size:18,style:{marginRight:"0.5rem"}}),"Approve Application"]})]})]})})]})},fY=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(!0),o=m=>{if(!m)return"";const g=m.trim().match(/Grade\s+(\d+)/i);return g?`Grade ${g[1]}`:""};x.useEffect(()=>{(async()=>{try{l(!0);const p=await ue.classes.getAll();if(p.data?.classes){const g=p.data.classes,b=new Set;g.filter(A=>A.status==="Active").forEach(A=>{const S=o(A.name||"");S&&b.add(S)});const y=Array.from(b).map(A=>{const S=A.match(/\d+/),w=S?parseInt(S[0]):0;return{grade:A,num:w}}).sort((A,S)=>A.num-S.num).map(({grade:A})=>({value:A,label:A}));n(y)}else n([])}catch(p){console.error("Error loading grade levels:",p),n([])}finally{l(!1)}})()},[]);const u=[{name:"firstName",label:"First Name",type:"text",required:!0,placeholder:"Enter first name",halfWidth:!0},{name:"lastName",label:"Last Name",type:"text",required:!0,placeholder:"Enter last name",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",halfWidth:!0},{name:"class",label:"Grade Level",type:"select",required:!0,options:t,placeholder:r?"Loading grades...":"Select Grade (Section will be assigned during approval)",halfWidth:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0,halfWidth:!0},{name:"gender",label:"Gender",type:"select",required:!0,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],halfWidth:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0,halfWidth:!0},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"previousSchool",label:"Previous School",type:"text",placeholder:"Enter previous school name"},{name:"parentName",label:"Parent/Guardian Name",type:"text",required:!0,placeholder:"Enter parent/guardian name"},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0,placeholder:"Enter parent phone number",halfWidth:!0},{name:"parentEmail",label:"Parent Email",type:"email",placeholder:"Enter parent email",halfWidth:!0}],d=[{title:"Student Information",fieldNames:["firstName","lastName","email","phone","class","dateOfBirth","gender","admissionDate","address","previousSchool"]},{title:"Parent/Guardian Information",fieldNames:["parentName","parentPhone","parentEmail"]}],h=async m=>{try{const p=await ue.admissions.create({firstName:m.firstName,lastName:m.lastName,email:m.email,phone:m.phone,class:m.class,dateOfBirth:m.dateOfBirth,gender:m.gender,admissionDate:m.admissionDate,address:m.address||void 0,previousSchool:m.previousSchool||void 0,parentName:m.parentName,parentPhone:m.parentPhone,parentEmail:m.parentEmail||void 0}),g=`${m.firstName} ${m.lastName}`;alert(`Admission application submitted successfully! Application for ${g} is now pending approval.`),console.log("Admission data:",m),console.log("New admission created:",p),e("/dashboard/admin/admissions")}catch(p){console.error("Error submitting admission:",p),alert("Failed to submit admission application. Please try again.")}};return a.jsxs("div",{style:{padding:"1rem"},children:[a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/admissions"),title:"Back to Admissions"}),a.jsx(Vi,{title:"New Admission",fields:u,sections:d,onSubmit:h,submitButtonText:"Submit Application",submitButtonIcon:a.jsx(zt,{size:18})})]})},hY=()=>{const e=[{id:1,reportName:"Monthly Admission Report",period:"March 2024",totalApplications:18,approved:15,rejected:3,generatedDate:"2024-03-31"},{id:2,reportName:"Quarterly Admission Summary",period:"Q1 2024",totalApplications:55,approved:47,rejected:8,generatedDate:"2024-03-31"},{id:3,reportName:"Class-wise Admission Report",period:"March 2024",totalApplications:18,approved:15,rejected:3,generatedDate:"2024-03-30"}],t=[{class:"Grade 9",applications:12,approved:10},{class:"Grade 10",applications:15,approved:13},{class:"Grade 11",applications:10,approved:9},{class:"Grade 12",applications:8,approved:7}],n=[{month:"Jan",applications:12,approved:10},{month:"Feb",applications:15,approved:12},{month:"Mar",applications:18,approved:15},{month:"Apr",applications:20,approved:17},{month:"May",applications:22,approved:19},{month:"Jun",applications:25,approved:22}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Admission Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate New Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Applications"}),a.jsx("p",{children:"112"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(On,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Approval Rate"}),a.jsx("p",{children:"83.9%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Nl,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"18"})]})]})]}),a.jsx("div",{className:"section-title",children:"Admission Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Class-wise Applications"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"class"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"applications",fill:"#667eea",name:"Applications"}),a.jsx(bt,{dataKey:"approved",fill:"#27ae60",name:"Approved"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Admission Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Vc,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(Fi,{type:"monotone",dataKey:"applications",stroke:"#667eea",name:"Applications",strokeWidth:2}),a.jsx(Fi,{type:"monotone",dataKey:"approved",stroke:"#27ae60",name:"Approved",strokeWidth:2})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Applications"}),a.jsx("th",{children:"Approved"}),a.jsx("th",{children:"Rejected"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalApplications}),a.jsx("td",{children:a.jsx(ge,{variant:"passed",size:"sm",children:r.approved})}),a.jsx("td",{children:a.jsx(ge,{variant:"failed",size:"sm",children:r.rejected})}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx($r,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},mY=()=>{const e=[{title:"Academic Reports",icon:a.jsx(nt,{size:24}),description:"View student academic performance and grades",count:12,color:"#667eea"},{title:"Attendance Reports",icon:a.jsx(Nl,{size:24}),description:"Track attendance statistics and trends",count:8,color:"#764ba2"},{title:"Financial Reports",icon:a.jsx(tr,{size:24}),description:"Financial summaries and transactions",count:15,color:"#f093fb"},{title:"Student Reports",icon:a.jsx(vr,{size:24}),description:"Individual student progress reports",count:150,color:"#4facfe"},{title:"Teacher Reports",icon:a.jsx($t,{size:24}),description:"Teacher performance and activity reports",count:25,color:"#27ae60"},{title:"Custom Reports",icon:a.jsx(R5,{size:24}),description:"Create and manage custom reports",count:5,color:"#e74c3c"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Reports"}),a.jsxs(xe,{variant:"primary",size:"md",children:[a.jsx(SP,{size:18}),"Generate New Report"]})]}),a.jsx("div",{className:"reports-grid",children:e.map(t=>a.jsxs(Ee,{variant:"custom",className:"report-card",children:[a.jsx("div",{className:"report-icon",style:{color:t.color},children:t.icon}),a.jsxs("div",{className:"report-content",children:[a.jsx("h3",{children:t.title}),a.jsx("p",{children:t.description}),a.jsx("div",{className:"report-count",children:a.jsxs("span",{children:[t.count," Reports"]})})]}),a.jsx(xe,{variant:"outline",size:"sm",children:"View Reports"})]},t.title))})]})},pY=()=>{const e=[{id:1,reportName:"Semester 1 Academic Report",period:"2024 Q1",totalStudents:150,averageGrade:85.5,topPerformers:25,generatedDate:"2024-03-31"},{id:2,reportName:"Subject-wise Performance",period:"March 2024",totalStudents:150,averageGrade:83.2,topPerformers:30,generatedDate:"2024-03-30"},{id:3,reportName:"Class-wise Academic Summary",period:"2024 Q1",totalStudents:150,averageGrade:84.8,topPerformers:28,generatedDate:"2024-03-29"}],t=[{subject:"Mathematics",average:85,passRate:92},{subject:"English",average:82,passRate:88},{subject:"Science",average:87,passRate:95},{subject:"History",average:80,passRate:85}],n=[{grade:"A+",count:25},{grade:"A",count:40},{grade:"B",count:35},{grade:"C",count:30},{grade:"D",count:15},{grade:"F",count:5}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Academic Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Ot,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(yr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Grade"}),a.jsx("p",{children:"84.5%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Top Performers"}),a.jsx("p",{children:"83"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"12"})]})]})]}),a.jsx("div",{className:"section-title",children:"Academic Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Subject Performance"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"subject"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"average",fill:"#667eea",name:"Avg Grade %"}),a.jsx(bt,{dataKey:"passRate",fill:"#27ae60",name:"Pass Rate %"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Grade Distribution"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"grade"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"count",fill:"#764ba2",name:"Students"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Academic Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Average Grade"}),a.jsx("th",{children:"Top Performers"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalStudents}),a.jsxs("td",{children:[r.averageGrade,"%"]}),a.jsx("td",{children:r.topPerformers}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx($r,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},gY=()=>{const e=[{id:1,reportName:"Monthly Attendance Report",period:"March 2024",totalDays:22,averageAttendance:93.5,totalStudents:150,generatedDate:"2024-03-31"},{id:2,reportName:"Class-wise Attendance",period:"March 2024",totalDays:22,averageAttendance:94.2,totalStudents:150,generatedDate:"2024-03-30"},{id:3,reportName:"Student Attendance Summary",period:"Q1 2024",totalDays:65,averageAttendance:92.8,totalStudents:150,generatedDate:"2024-03-29"}],t=[{month:"Jan",attendance:90},{month:"Feb",attendance:92},{month:"Mar",attendance:93.5},{month:"Apr",attendance:94},{month:"May",attendance:95},{month:"Jun",attendance:96}],n=[{class:"Grade 9A",attendance:94},{class:"Grade 9B",attendance:92},{class:"Grade 10A",attendance:95},{class:"Grade 10B",attendance:93},{class:"Grade 11A",attendance:96},{class:"Grade 12A",attendance:94}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Attendance Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(On,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"32"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(tr,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Attendance"}),a.jsx("p",{children:"93.5%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(We,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Days"}),a.jsx("p",{children:"120"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"8"})]})]})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Attendance Trend"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Vc,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"month"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(Fi,{type:"monotone",dataKey:"attendance",stroke:"#667eea",name:"Attendance %",strokeWidth:2})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Class-wise Attendance"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:n,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"class"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"attendance",fill:"#27ae60",name:"Attendance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Attendance Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Days"}),a.jsx("th",{children:"Average Attendance"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalDays}),a.jsxs("td",{children:[r.averageAttendance,"%"]}),a.jsx("td",{children:r.totalStudents}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx($r,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},yY=()=>{const e=jt(),[t,n]=x.useState(null),[r,l]=x.useState(!1),[o,u]=x.useState([]),d=10;x.useEffect(()=>{h();const E=setInterval(()=>{h()},3e4);return()=>{clearInterval(E)}},[]);const h=async()=>{try{const E=await ue.users.getAll();E.data?.users&&u(E.data.users.map(D=>({id:D._id||D.id,name:D.name,email:D.email,role:D.role,status:D.isActive?"Active":"Inactive",lastLogin:D.lastLogin?new Date(D.lastLogin).toISOString().split("T")[0]:void 0,phone:D.phone||"",joinDate:D.createdAt?new Date(D.createdAt).toISOString().split("T")[0]:void 0})))}catch(E){console.error("Error loading users:",E),u([])}},m=[{category:"Dashboard",permissions:[{name:"View Dashboard",admin:!0,teacher:!0,accountant:!0,student:!0},{name:"View Statistics",admin:!0,teacher:!0,accountant:!0,student:!1}]},{category:"Students",permissions:[{name:"View Students",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Add Students",admin:!0,teacher:!1,accountant:!1,student:!1},{name:"Edit Students",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Delete Students",admin:!0,teacher:!1,accountant:!1,student:!1}]},{category:"Teachers",permissions:[{name:"View Teachers",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Add Teachers",admin:!0,teacher:!1,accountant:!1,student:!1},{name:"Edit Teachers",admin:!0,teacher:!1,accountant:!1,student:!1}]},{category:"Accounts",permissions:[{name:"View Accounts",admin:!0,teacher:!1,accountant:!0,student:!1},{name:"Manage Fees",admin:!0,teacher:!1,accountant:!0,student:!1},{name:"Manage Expenses",admin:!0,teacher:!1,accountant:!0,student:!1}]},{category:"Reports",permissions:[{name:"View Reports",admin:!0,teacher:!0,accountant:!0,student:!0},{name:"Generate Reports",admin:!0,teacher:!0,accountant:!0,student:!1},{name:"Export Reports",admin:!0,teacher:!0,accountant:!0,student:!1}]}],p=E=>{const D=E.toLowerCase();return m.map(T=>({category:T.category,permissions:T.permissions.filter(P=>P[D]).map(P=>P.name)})).filter(T=>T.permissions.length>0)},g=E=>{n(E),l(!0)},b=E=>{e(`/dashboard/admin/users/edit/${E}`)},y=async E=>{const D=o.find(T=>T.id===E);if(D&&confirm(`Are you sure you want to delete "${D.name}"? This action cannot be undone.`))try{await ue.users.delete(E),alert("User deleted successfully!"),await h()}catch(T){console.error("Error deleting user:",T),alert("Failed to delete user. Please try again.")}},A=E=>{switch(E){case"Admin":return"#e74c3c";case"Teacher":return"#3498db";case"Accountant":return"#27ae60";case"Student":return"#f39c12";default:return"#95a5a6"}},S=E=>E==="Active"?a.jsx(hc,{size:16}):a.jsx(o6,{size:16}),w=[{key:"id",header:"ID"},{key:"name",header:"Name",render:E=>a.jsx("strong",{children:E})},{key:"email",header:"Email"},{key:"role",header:"Role",render:(E,D)=>a.jsx(ge,{variant:"info",size:"sm",style:{backgroundColor:A(D.role)+"20",color:A(D.role)},children:D.role})},{key:"status",header:"Status",render:(E,D)=>a.jsxs(ge,{variant:D.status.toLowerCase()==="active"?"active":"pending",size:"sm",children:[S(D.status),D.status]})},{key:"lastLogin",header:"Last Login"},{key:"actions",header:"Actions",render:(E,D)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>g(D)}),a.jsx(vt,{size:"sm",onClick:()=>b(D.id)}),a.jsx(Mt,{size:"sm",onClick:()=>y(D.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"User Management"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/users/add"),children:[a.jsx(kf,{size:18}),"Add New User"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(HS,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Users"}),a.jsx("p",{children:"125"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(hc,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Active Users"}),a.jsx("p",{children:"118"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Nd,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Online Now"}),a.jsx("p",{children:"45"})]})]})]}),a.jsx(si,{columns:w,data:o.slice(0,d),emptyMessage:"No users found"}),a.jsx(He,{isOpen:r,onClose:()=>{l(!1),n(null)},title:"User Profile Details",size:"lg",children:t&&a.jsx(Gt,{sections:[{title:"Basic Information",fields:[{label:"Name",value:t.name},{label:"Email",value:t.email,icon:Zr},...t.phone?[{label:"Phone",value:t.phone,icon:Jr}]:[],...t.joinDate?[{label:"Join Date",value:t.joinDate,icon:$e}]:[],{label:"Role",value:t.role,renderAsBadge:{variant:t.role==="Admin"?"danger":t.role==="Teacher"?"info":t.role==="Accountant"?"success":"warning",size:"sm"}},{label:"Status",value:t.status,renderAsBadge:{variant:t.status==="Active"?"active":"rejected",size:"sm"}},{label:"Last Login",value:t.lastLogin}]},{title:"Role & Permissions",icon:HS,fields:[],customContent:a.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"0.5rem",padding:"1rem"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("strong",{style:{color:"#333"},children:"Role:"})," ",a.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",backgroundColor:A(t.role)+"20",color:A(t.role)},children:t.role})]}),a.jsxs("div",{children:[a.jsx("strong",{style:{color:"#333",display:"block",marginBottom:"0.75rem"},children:"Permissions:"}),p(t.role).map(E=>a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#555",marginBottom:"0.5rem"},children:E.category}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:E.permissions.map((D,T)=>a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"white",borderRadius:"0.25rem",fontSize:"0.75rem",border:"1px solid #e5e7eb"},children:[a.jsx(On,{size:14,style:{color:"#10b981"}}),a.jsx("span",{children:D})]},T))})]},E.category))]})]})}]})})]})},vY=()=>{const e=jt(),{id:t}=Fn(),n=!!t,[r,l]=x.useState({}),[o,u]=x.useState(!1);x.useEffect(()=>{n&&t&&(async()=>{try{u(!0);const p=await ue.users.getById(t);if(p.data?.user){const g=p.data.user;l({firstName:g.name?.split(" ")[0]||"",lastName:g.name?.split(" ").slice(1).join(" ")||"",email:g.email||"",phone:g.phone||"",role:g.role||""})}}catch(p){console.error("Error loading user:",p),alert("Failed to load user data.")}finally{u(!1)}})()},[t,n]);const d=[{name:"firstName",label:"First Name",type:"text",required:!0,placeholder:"Enter first name",halfWidth:!0},{name:"lastName",label:"Last Name",type:"text",required:!0,placeholder:"Enter last name",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter phone number",halfWidth:!0},{name:"role",label:"Role",type:"select",required:!0,options:[{value:"Admin",label:"Admin"},{value:"Teacher",label:"Teacher"},{value:"Accountant",label:"Accountant"},{value:"Student",label:"Student"}]},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",min:6,halfWidth:!0},{name:"confirmPassword",label:"Confirm Password",type:"password",required:!0,placeholder:"Confirm password",min:6,halfWidth:!0}],h=async m=>{try{if(n&&t){if(m.password&&m.password!==m.confirmPassword){alert("Passwords do not match!");return}const p={name:`${m.firstName} ${m.lastName}`.trim(),email:m.email,phone:m.phone||void 0,role:m.role};m.password&&(p.password=m.password),await ue.users.update(t,p),alert("User updated successfully!"),e("/dashboard/admin/users")}else{if(m.password!==m.confirmPassword){alert("Passwords do not match!");return}const p={name:`${m.firstName} ${m.lastName}`.trim(),email:m.email,phone:m.phone||void 0,role:m.role,password:m.password};await ue.users.create(p),alert("User added successfully!"),e("/dashboard/admin/users")}}catch(p){console.error("Error saving user:",p);const g=p?.message||"Failed to save user. Please try again.";alert(g)}};return o?a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading user data..."})}):a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Gn,{size:"md",onClick:()=>e("/dashboard/admin/users"),title:"Back to Users"})}),a.jsx(Vi,{title:n?"Edit User":"Add New User",fields:d.map(m=>n&&m.name==="password"?{...m,required:!1}:m),onSubmit:h,submitButtonText:n?"Update User":"Add User",submitButtonIcon:a.jsx(zt,{size:18}),initialData:r},t||"new")]})},_M=x.memo(()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!1),l=x.useMemo(()=>[{id:1,user:"John Admin",action:"Created new user",target:"Sarah Teacher",timestamp:"2024-03-15 10:30 AM",ip:"192.168.1.100"},{id:2,user:"Sarah Teacher",action:"Graded assignments",target:"Grade 10A",timestamp:"2024-03-15 09:15 AM",ip:"192.168.1.101"},{id:3,user:"Mike Accountant",action:"Processed fee payment",target:"Alice Johnson",timestamp:"2024-03-15 08:45 AM",ip:"192.168.1.102"},{id:4,user:"John Admin",action:"Updated student record",target:"Bob Williams",timestamp:"2024-03-14 04:20 PM",ip:"192.168.1.100"},{id:5,user:"Sarah Teacher",action:"Marked attendance",target:"Grade 10A",timestamp:"2024-03-14 02:30 PM",ip:"192.168.1.101"}],[]),o=x.useCallback(u=>{const d=l.find(h=>h.id===u);d&&(t(d),r(!0))},[l]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"User Activity"}),a.jsxs(xe,{variant:"primary",size:"md",children:[a.jsx(nt,{size:18}),"Export Logs"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Nd,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Activities"}),a.jsx("p",{children:"1,245"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(ea,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Active Users"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(We,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Today's Activities"}),a.jsx("p",{children:"125"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(nt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Log Entries"}),a.jsx("p",{children:"5,680"})]})]})]}),a.jsx("div",{className:"section-title",children:"Recent Activity Log"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User"}),a.jsx("th",{children:"Action"}),a.jsx("th",{children:"Target"}),a.jsx("th",{children:"Timestamp"}),a.jsx("th",{children:"IP Address"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:l.map(u=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:u.user})}),a.jsx("td",{children:u.action}),a.jsx("td",{children:u.target}),a.jsx("td",{children:u.timestamp}),a.jsx("td",{children:u.ip}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>o(u.id)})})]},u.id))})]})}),a.jsx(He,{isOpen:n,onClose:()=>{r(!1),t(null)},title:"Activity Details",size:"md",children:e&&a.jsx(Gt,{sections:[{title:"Activity Information",icon:Nd,fields:[{label:"User",value:e.user,icon:ea},{label:"Action",value:e.action,icon:Nd},{label:"Target",value:e.target,icon:hc},{label:"Timestamp",value:e.timestamp,icon:$e},{label:"IP Address",value:e.ip,icon:OP}]}]})})]})});_M.displayName="UserActivity";const xY=()=>{const e=[{id:1,name:"Main Campus",code:"MAIN-001",address:"123 Education Street, City Center",phone:"+1234567890",email:"main@school.com",students:450,teachers:35,status:"Active",established:"2020-01-15"},{id:2,name:"North Branch",code:"NORTH-002",address:"456 Learning Avenue, North District",phone:"+1234567891",email:"north@school.com",students:320,teachers:25,status:"Active",established:"2021-03-20"},{id:3,name:"South Branch",code:"SOUTH-003",address:"789 Knowledge Road, South Area",phone:"+1234567892",email:"south@school.com",students:280,teachers:22,status:"Active",established:"2022-06-10"},{id:4,name:"East Branch",code:"EAST-004",address:"321 Wisdom Lane, East Side",phone:"+1234567893",email:"east@school.com",students:195,teachers:18,status:"Active",established:"2023-01-05"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Multi Branch Management"}),a.jsxs(xe,{variant:"primary",size:"md",children:[a.jsx($i,{size:18}),"Add New Branch"]})]}),a.jsx("div",{className:"branches-grid",children:e.slice(0,10).map(t=>a.jsxs(Ee,{variant:"custom",className:"branch-card",children:[a.jsxs("div",{className:"branch-header",children:[a.jsx("div",{className:"branch-icon",children:a.jsx(Bi,{size:24})}),a.jsxs("div",{className:"branch-title",children:[a.jsx("h3",{children:t.name}),a.jsx("span",{className:"branch-code",children:t.code})]}),a.jsx(ge,{variant:t.status.toLowerCase()==="active"?"success":"secondary",size:"sm",children:t.status})]}),a.jsxs("div",{className:"branch-details",children:[a.jsxs("div",{className:"detail-item",children:[a.jsx(Rs,{size:16}),a.jsx("span",{children:t.address})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx(Jr,{size:16}),a.jsx("span",{children:t.phone})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx(Zr,{size:16}),a.jsx("span",{children:t.email})]})]}),a.jsxs("div",{className:"branch-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx($t,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.students}),a.jsx("span",{className:"stat-label",children:"Students"})]})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx($t,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.teachers}),a.jsx("span",{className:"stat-label",children:"Teachers"})]})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx(tr,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.established}),a.jsx("span",{className:"stat-label",children:"Established"})]})]})]}),a.jsxs("div",{className:"branch-actions",children:[a.jsx(vt,{size:"sm",onClick:()=>console.log("Settings",t.id)}),a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",t.id)})]})]},t.id))})]})},bY=()=>{const e=[{name:"name",label:"Branch Name",type:"text",required:!0,placeholder:"Enter branch name",halfWidth:!0},{name:"code",label:"Branch Code",type:"text",required:!0,placeholder:"e.g., MAIN-001",halfWidth:!0},{name:"address",label:"Address",type:"textarea",required:!0,placeholder:"Enter branch address",rows:3},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"establishedDate",label:"Established Date",type:"date",required:!0},{name:"principalName",label:"Principal Name",type:"text",required:!0,placeholder:"Enter principal name"},{name:"principalEmail",label:"Principal Email",type:"email",placeholder:"Enter principal email",halfWidth:!0},{name:"principalPhone",label:"Principal Phone",type:"tel",placeholder:"Enter principal phone",halfWidth:!0}],t=[{title:"Branch Information",fieldNames:["name","code","address","phone","email","establishedDate"]},{title:"Principal Information",fieldNames:["principalName","principalEmail","principalPhone"]}],n=r=>{alert("Branch added successfully!"),console.log("Branch data:",r)};return a.jsx(Vi,{title:"Add New Branch",fields:e,sections:t,onSubmit:n,submitButtonText:"Add Branch",submitButtonIcon:a.jsx(zt,{size:18})})},jY=()=>{const e=[{id:1,name:"Main Campus",code:"MAIN-001",settings:{maxStudents:500,maxTeachers:40,workingHours:"8:00 AM - 4:00 PM",timezone:"UTC-5",language:"English"}},{id:2,name:"North Branch",code:"NORTH-002",settings:{maxStudents:350,maxTeachers:30,workingHours:"8:00 AM - 4:00 PM",timezone:"UTC-5",language:"English"}}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Branch Settings"})}),a.jsx("div",{className:"branches-settings",children:e.map(t=>a.jsxs("div",{className:"universal-card branch-settings-card",children:[a.jsxs("div",{className:"branch-settings-header",children:[a.jsxs("div",{className:"branch-info",children:[a.jsx(Bi,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:t.name}),a.jsx("span",{className:"branch-code",children:t.code})]})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(zt,{size:18}),"Save Settings"]})]}),a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Max Students"}),a.jsx("input",{type:"number",defaultValue:t.settings.maxStudents,min:"0"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Max Teachers"}),a.jsx("input",{type:"number",defaultValue:t.settings.maxTeachers,min:"0"})]})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Working Hours"}),a.jsx("input",{type:"text",defaultValue:t.settings.workingHours,placeholder:"e.g., 8:00 AM - 4:00 PM"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Timezone"}),a.jsxs("select",{defaultValue:t.settings.timezone,children:[a.jsx("option",{value:"UTC-5",children:"UTC-5"}),a.jsx("option",{value:"UTC-6",children:"UTC-6"}),a.jsx("option",{value:"UTC-7",children:"UTC-7"}),a.jsx("option",{value:"UTC-8",children:"UTC-8"})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Language"}),a.jsxs("select",{defaultValue:t.settings.language,children:[a.jsx("option",{value:"English",children:"English"}),a.jsx("option",{value:"Spanish",children:"Spanish"}),a.jsx("option",{value:"French",children:"French"})]})]})]})]},t.id))})]})},SY=()=>{const e=[{id:1,studentName:"Alice Johnson",fromBranch:"Main Campus",toBranch:"North Branch",transferDate:"2024-03-15",reason:"Family relocation",status:"Pending"},{id:2,studentName:"Bob Williams",fromBranch:"North Branch",toBranch:"South Branch",transferDate:"2024-03-10",reason:"Academic preference",status:"Approved"},{id:3,studentName:"Charlie Brown",fromBranch:"South Branch",toBranch:"Main Campus",transferDate:"2024-03-05",reason:"Better facilities",status:"Completed"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Branch Transfer"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Yz,{size:18}),"New Transfer Request"]})]}),a.jsx("div",{className:"section-title",children:"Transfer Requests"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"From Branch"}),a.jsx("th",{children:"To Branch"}),a.jsx("th",{children:"Transfer Date"}),a.jsx("th",{children:"Reason"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:t.studentName})}),a.jsx("td",{children:a.jsxs("div",{className:"branch-info-small",children:[a.jsx(Bi,{size:14}),t.fromBranch]})}),a.jsx("td",{children:a.jsxs("div",{className:"branch-info-small",children:[a.jsx(Bi,{size:14}),t.toBranch]})}),a.jsx("td",{children:t.transferDate}),a.jsx("td",{children:t.reason}),a.jsx("td",{children:a.jsx(ge,{variant:t.status.toLowerCase()==="approved"?"approved":t.status.toLowerCase()==="pending"?"pending":"rejected",size:"sm",children:t.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx(Br,{size:"sm",onClick:()=>console.log("Approve",t.id)}),a.jsx(Mt,{size:"sm",onClick:()=>console.log("Reject",t.id)})]}),a.jsx(Ue,{size:"sm",onClick:()=>console.log("View",t.id)})]})})]},t.id))})]})})]})},AY=()=>{const e=[{branch:"Main Campus",students:450,teachers:35,revenue:15e4},{branch:"North Branch",students:320,teachers:25,revenue:11e4},{branch:"South Branch",students:280,teachers:22,revenue:95e3},{branch:"East Branch",students:195,teachers:18,revenue:65e3}],t=[{name:"Main Campus",value:450,color:"#667eea"},{name:"North Branch",value:320,color:"#764ba2"},{name:"South Branch",value:280,color:"#f093fb"},{name:"East Branch",value:195,color:"#4facfe"}],n=r=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(r)}`;return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Branch Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(nt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(Bi,{size:28}),value:"4",label:"Total Branches",color:"#667eea"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($t,{size:28}),value:"1,245",label:"Total Students",color:"#48bb78"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($t,{size:28}),value:"100",label:"Total Teachers",color:"#ed8936"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:28}),value:n(42e4),label:"Total Revenue",color:"#9f7aea"})]}),a.jsx("div",{className:"section-title",children:"Branch Analytics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[a.jsxs(Ee,{variant:"custom",children:[a.jsx("h3",{style:{margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600},children:"Student Distribution by Branch"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Yc,{children:[a.jsx(no,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:r=>`${r.name} ${(r.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((r,l)=>a.jsx(ii,{fill:r.color},`cell-${l}`))}),a.jsx(gt,{})]})})]}),a.jsxs(Ee,{variant:"custom",children:[a.jsx("h3",{style:{margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600},children:"Branch Comparison"}),a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:e,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"branch"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"students",fill:"#667eea",name:"Students"}),a.jsx(bt,{dataKey:"teachers",fill:"#27ae60",name:"Teachers"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Branch Statistics"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Branch"}),a.jsx("th",{children:"Students"}),a.jsx("th",{children:"Teachers"}),a.jsx("th",{children:"Revenue"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map((r,l)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.branch})}),a.jsx("td",{children:r.students}),a.jsx("td",{children:r.teachers}),a.jsx("td",{children:n(r.revenue)}),a.jsx("td",{children:a.jsx(Ue,{size:"sm",onClick:()=>console.log("View Report",r.id||l)})})]},l))})]})})]})},wY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(""),[p,g]=x.useState([]);x.useEffect(()=>{const D=async()=>{try{const P=await ue.students.getAll();P.data?.students?t(P.data.students):t([])}catch(P){console.error("Error loading students:",P),t([])}};D();const T=setInterval(()=>{D()},3e4);return()=>{clearInterval(T)}},[]),x.useEffect(()=>{(async()=>{try{const T=await ue.classes.getAll();if(T.data?.classes){const P=T.data.classes.filter(O=>O.status==="Active").map(O=>({value:O._id||O.code||O.id,label:`${O.name} (${O.code})`}));g(P)}}catch(T){console.error("Error loading classes:",T)}})()},[]);const b=e.filter(D=>D.name.toLowerCase().includes(h.toLowerCase())||D.email.toLowerCase().includes(h.toLowerCase())||D.class.toLowerCase().includes(h.toLowerCase())),y=D=>D.toLowerCase()==="active"?"active":"rejected",A=D=>{r(D),o(!0)},S=D=>{r(D),d(!0)},w=async D=>{if(n)try{if(await ue.students.update(n.id,{name:D.name||n.name,email:D.email||n.email,phone:D.phone||n.phone,class:D.class||n.class,parent:D.parent||n.parent,parentPhone:D.parentPhone||n.parentPhone,parentEmail:D.parentEmail||n.parentEmail,address:D.address||n.address,dateOfBirth:D.dateOfBirth||n.dateOfBirth,admissionDate:D.admissionDate||n.admissionDate,status:D.status||n.status})){alert("Student updated successfully!"),d(!1),r(null);const P=await ue.students.getAll(),O=P?.data?.students||P||[];Array.isArray(O)&&t(O)}}catch(T){console.error("Error updating student:",T),alert("Failed to update student. Please try again.")}},E=[{name:"name",label:"Full Name",type:"text",required:!0},{name:"email",label:"Email Address",type:"email",required:!0},{name:"phone",label:"Phone Number",type:"tel",required:!0},{name:"class",label:"Class",type:"select",options:p,required:!0},{name:"parent",label:"Parent/Guardian Name",type:"text",required:!0},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0},{name:"parentEmail",label:"Parent Email",type:"email"},{name:"address",label:"Address",type:"text",spanFull:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0},{name:"status",label:"Status",type:"select",options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],required:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"My Students"}),a.jsx("div",{className:"header-actions",children:a.jsxs("div",{className:"search-box",children:[a.jsx(_5,{size:18}),a.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:D=>m(D.target.value)})]})})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Phone"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem"},children:"No students found"})}):b.map(D=>a.jsxs("tr",{children:[a.jsx("td",{children:D.id}),a.jsx("td",{children:a.jsx("strong",{children:D.name})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Zr,{size:14,style:{color:"#666"}}),D.email]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Jr,{size:14,style:{color:"#666"}}),D.phone]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(vr,{size:14,style:{color:"#666"}}),D.class]})}),a.jsx("td",{children:a.jsx(ge,{variant:y(D.status),size:"sm",children:D.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>A(D)}),a.jsx(vt,{size:"sm",onClick:()=>S(D)})]})})]},D.id))})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Student Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Student Information",icon:$t,fields:[{label:"Name",value:n.name},{label:"Email",value:n.email,icon:Zr},{label:"Phone",value:n.phone,icon:Jr},{label:"Class",value:n.class,icon:vr},{label:"Date of Birth",value:n.dateOfBirth,icon:$e},{label:"Admission Date",value:n.admissionDate,icon:$e},{label:"Address",value:n.address,icon:Rs,spanFull:!0},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}}]},{title:"Parent/Guardian Information",icon:$t,fields:[{label:"Parent Name",value:n.parent},{label:"Parent Phone",value:n.parentPhone,icon:Jr},{label:"Parent Email",value:n.parentEmail,icon:Zr}]}]})}),a.jsx(nr,{isOpen:u,onClose:()=>{d(!1),r(null)},title:"Update Student",fields:E,onSubmit:w,submitButtonText:"Update Student",initialData:n||{}})]})},EY=()=>{const[e]=D5(),t=e.get("date"),n=e.get("class"),[r,l]=x.useState(n||""),[o,u]=x.useState(t||new Date().toISOString().split("T")[0]),[d,h]=x.useState([]),[m,p]=x.useState(!1),[g,b]=x.useState([]);x.useEffect(()=>{(async()=>{try{const D=await ue.classes.getAll();if(D.data?.classes){const P=D.data.classes.filter(O=>O.status==="Active").map(O=>({value:O.id,label:`${O.name} (${O.code})`}));b(P)}}catch(D){console.error("Error loading classes:",D)}})()},[]),x.useEffect(()=>{t&&u(t),n&&l(decodeURIComponent(n))},[t,n]),x.useEffect(()=>{r&&(async()=>{try{const D=await ue.students.getAll();if(D.data?.students){const T=D.data.students,O=(await ue.classes.getById(r)).data?.class?.name||r,N=T.filter(B=>B.class===O||B.class===r).map(B=>({...B,status:"absent"}));h(N)}}catch(D){console.error("Error loading students:",D)}})()},[r]);const y=(E,D)=>{h(T=>T.map(P=>P.id===E?{...P,status:D}:P))},A=()=>{if(!r||!o){alert("Please select both class and date");return}p(!0),setTimeout(()=>{alert("Attendance saved successfully!"),p(!1)},1e3)},S={total:d.length,present:d.filter(E=>E.status==="present").length,absent:d.filter(E=>E.status==="absent").length,late:d.filter(E=>E.status==="late").length,leave:d.filter(E=>E.status==="leave").length},w=S.total>0?((S.present+S.late+S.leave)/S.total*100).toFixed(1):"0";return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Mark Attendance"})}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Select Class"}),a.jsxs("select",{value:r,onChange:E=>l(E.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"},children:[a.jsx("option",{value:"",children:"Select a class"}),g.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]}),a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Select Date"}),a.jsx("input",{type:"date",value:o,onChange:E=>u(E.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"}})]})]}),r&&d.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"dashboard-grid",style:{marginBottom:"2rem"},children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(hc,{size:28}),value:S.total.toString(),label:"Total Students",color:"#667eea"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(On,{size:28}),value:S.present.toString(),label:"Present",color:"#48bb78"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(Ii,{size:28}),value:S.absent.toString(),label:"Absent",color:"#e53e3e"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(We,{size:28}),value:S.late.toString(),label:"Late",color:"#ed8936"}),a.jsx(Ee,{variant:"stat",icon:a.jsx($e,{size:28}),value:`${w}%`,label:"Attendance %",color:"#9f7aea"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Late"}),a.jsx("th",{children:"Leave"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:d.map(E=>a.jsxs("tr",{children:[a.jsx("td",{children:E.id}),a.jsx("td",{children:a.jsx("strong",{children:E.name})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${E.id}`,checked:E.status==="present",onChange:()=>y(Number(E.id)||0,"present")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${E.id}`,checked:E.status==="absent",onChange:()=>y(Number(E.id)||0,"absent")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${E.id}`,checked:E.status==="late",onChange:()=>y(Number(E.id)||0,"late")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${E.id}`,checked:E.status==="leave",onChange:()=>y(Number(E.id)||0,"leave")})}),a.jsx("td",{children:a.jsx(ge,{variant:E.status==="present"?"approved":E.status==="absent"?"absent":E.status==="late"?"late":"onLeave",size:"sm",children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})})]},E.id))})]})}),a.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:a.jsxs(xe,{variant:"primary",onClick:A,disabled:m,children:[a.jsx(zt,{size:18,style:{marginRight:"0.5rem"}}),m?"Saving...":"Save Attendance"]})})]}),r&&d.length===0&&a.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#666"},children:"No students found in this class"}),!r&&a.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#666"},children:"Please select a class to mark attendance"})]})},TY=()=>{const e=[{id:3,title:"Science Project - Solar System",subject:"Science",class:"Grade 8A",assignedDate:"2024-03-08",dueDate:"2024-03-25",status:"Active",submittedBy:18,totalStudents:25,description:"Create a model of the solar system with all planets"},{id:1,title:"Mathematics Homework - Chapter 5",subject:"Mathematics",class:"Grade 10A",assignedDate:"2024-03-10",dueDate:"2024-03-20",status:"Active",submittedBy:25,totalStudents:30,description:"Complete exercises 1-10 from Chapter 5"},{id:2,title:"English Essay - Descriptive Writing",subject:"English",class:"Grade 9B",assignedDate:"2024-03-12",dueDate:"2024-03-22",status:"Active",submittedBy:20,totalStudents:28,description:"Write a 500-word descriptive essay about your favorite place"}].sort((N,B)=>{const L=new Date(N.assignedDate).getTime(),q=new Date(B.assignedDate).getTime();return L-q}),[t,n]=x.useState(e),[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1),[g,b]=x.useState(!1),[y,A]=x.useState([]);x.useEffect(()=>{(async()=>{try{const B=await ue.classes.getAll();if(B.data?.classes){const L=B.data.classes.filter(q=>q.status==="Active").map(q=>({value:q.id,label:`${q.name} (${q.code})`}));A(L)}}catch(B){console.error("Error loading classes:",B)}})()},[]);const S=N=>N.toLowerCase()==="active"?"active":"pending",w=N=>{l(N),u(!0)},E=N=>{l(N),p(!0)},D=N=>{l(N),b(!0)},T=()=>{r&&(n(t.filter(N=>N.id!==r.id)),b(!1),l(null),alert("Assignment deleted successfully!"))},P=N=>{const B={id:t.length>0?Math.max(...t.map(q=>q.id))+1:1,title:N.title,subject:N.subject,class:N.class,assignedDate:N.assignedDate,dueDate:N.dueDate,status:"Active",submittedBy:0,totalStudents:parseInt(N.totalStudents)||0,description:N.description||""},L=[...t,B].sort((q,U)=>{const K=new Date(q.assignedDate).getTime(),W=new Date(U.assignedDate).getTime();return K-W}).slice(0,3);n(L),h(!1),alert("Assignment created successfully!")},O=N=>{r&&(n(t.map(B=>B.id===r.id?{...B,title:N.title||B.title,subject:N.subject||B.subject,class:N.class||B.class,assignedDate:N.assignedDate||B.assignedDate,dueDate:N.dueDate||B.dueDate,description:N.description||B.description}:B)),p(!1),l(null),alert("Assignment updated successfully!"))},M=[{name:"title",label:"Assignment Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"select",options:y,required:!0},{name:"assignedDate",label:"Assigned Date",type:"date",required:!0},{name:"dueDate",label:"Due Date",type:"date",required:!0},{name:"totalStudents",label:"Total Students",type:"number",required:!0},{name:"description",label:"Description",type:"textarea",spanFull:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"My Assignments"}),a.jsx(ro,{size:"md",onClick:()=>h(!0),title:"Create New Assignment"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Submissions"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"2rem"},children:"No assignments found"})}):t.slice(0,3).map(N=>a.jsxs("tr",{children:[a.jsx("td",{children:N.id}),a.jsx("td",{children:a.jsx("strong",{children:N.title})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ot,{size:14,style:{color:"#666"}}),N.subject]})}),a.jsx("td",{children:N.class}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:14,style:{color:"#666"}}),N.assignedDate]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),N.dueDate]})}),a.jsxs("td",{children:[N.submittedBy," / ",N.totalStudents]}),a.jsx("td",{children:a.jsx(ge,{variant:S(N.status),size:"sm",children:N.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>w(N)}),a.jsx(vt,{size:"sm",onClick:()=>E(N)}),a.jsx(Mt,{size:"sm",onClick:()=>D(N)})]})})]},N.id))})]})}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Assignment Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Assignment Information",icon:nt,fields:[{label:"Title",value:r.title},{label:"Subject",value:r.subject,icon:Ot},{label:"Class",value:r.class},{label:"Assigned Date",value:r.assignedDate,icon:$e},{label:"Due Date",value:r.dueDate,icon:We},{label:"Submissions",value:`${r.submittedBy} / ${r.totalStudents}`},{label:"Status",value:r.status,renderAsBadge:{variant:S(r.status),size:"sm"}},{label:"Description",value:r.description,spanFull:!0}]}]})}),a.jsx(nr,{isOpen:d,onClose:()=>h(!1),title:"Create New Assignment",fields:M,onSubmit:P,submitButtonText:"Create Assignment"}),a.jsx(nr,{isOpen:m,onClose:()=>{p(!1),l(null)},title:"Edit Assignment",fields:M,onSubmit:O,submitButtonText:"Update Assignment",initialData:r||{}}),a.jsx(He,{isOpen:g,onClose:()=>{b(!1),l(null)},title:"Delete Assignment",size:"md",children:r&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',r.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{b(!1),l(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:T,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},CY=()=>{const e=jt(),[t,n]=x.useState([]),[r,l]=x.useState(null),[o,u]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1);x.useEffect(()=>{const O=async()=>{try{const N=await ue.exams.getAll();N.data?.exams?n(N.data.exams):n([])}catch(N){console.error("Error loading exams:",N),n([])}};O();const M=setInterval(()=>{O()},3e4);return()=>{clearInterval(M)}},[]);const g=O=>O.toLowerCase()==="completed"?"approved":O.toLowerCase()==="scheduled"?"pending":"active",b=O=>{l(O),u(!0)},y=O=>{e(`/dashboard/teacher/exams/grade/${O}`)},A=async O=>{const M={id:t.length>0?Math.max(...t.map(B=>typeof B.id=="number"?B.id:Number(B.id)||0))+1:1,name:O.name,subject:O.subject,grades:Array.isArray(O.grades)?O.grades:[O.grades],classes:Array.isArray(O.grades)?O.grades:[O.grades],date:O.date,time:O.time,duration:O.duration,totalMarks:parseInt(O.totalMarks),passingMarks:O.passingMarks?parseInt(O.passingMarks):void 0,description:O.description||"",sections:[],gradeAssignments:[],status:"Scheduled",createdAt:new Date().toISOString().split("T")[0]};await ue.exams.create(M);const N=await ue.exams.getAll();N.data?.exams&&n(N.data.exams),h(!1),alert("Exam created successfully!")},[S,w]=x.useState([]),[E,D]=x.useState([]);x.useEffect(()=>{(async()=>{try{const M=await ue.subjects.getAll();M.data?.subjects&&w(M.data.subjects)}catch(M){console.error("Error loading subjects:",M)}})()},[]),x.useEffect(()=>{(async()=>{try{const M=await ue.grades.getAll();if(M.data?.classes){const N=new Map;M.data.classes.forEach(q=>{const U=q.grade||"Unknown";if(!N.has(U)){const K=M.data.classes.filter(W=>(W.grade||"Unknown")===U);N.set(U,{id:U,name:U,status:K[0]?.status||"Active",section:"",capacity:0,currentStudents:0,description:""})}});const L=Array.from(N.values()).filter(q=>q.status==="Active"&&q.id&&q.name).map(q=>({value:String(q.id),label:String(q.name)}));D(L)}}catch(M){console.error("Error loading grades:",M)}})()},[]);const T=S.map(O=>({value:O.name,label:O.name})),P=[{name:"name",label:"Exam Name",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"select",options:T,required:!0},{name:"grades",label:"Grades",type:"select",multiple:!0,options:E,required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"time",label:"Time",type:"time",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 2 hours"},{name:"totalMarks",label:"Total Marks",type:"number",required:!0},{name:"passingMarks",label:"Passing Marks",type:"number"},{name:"description",label:"Description",type:"textarea",spanFull:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Exams & Results"}),a.jsx(ro,{size:"md",onClick:()=>h(!0),title:"Create New Exam"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Exam Name"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Grades"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Time"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem"},children:"No exams found"})}):t.map(O=>a.jsxs("tr",{children:[a.jsx("td",{children:O.id}),a.jsx("td",{children:a.jsx("strong",{children:O.name})}),a.jsx("td",{children:O.subject}),a.jsx("td",{children:a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:O.grades&&O.grades.length>0?O.grades.map((M,N)=>a.jsx(ge,{variant:"info",size:"sm",children:M},N)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades"})})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:14,style:{color:"#666"}}),O.date]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),O.time]})}),a.jsx("td",{children:O.duration}),a.jsx("td",{children:a.jsx("strong",{children:O.totalMarks})}),a.jsx("td",{children:a.jsx(ge,{variant:g(O.status),size:"sm",children:O.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[a.jsx(Ue,{size:"sm",onClick:()=>b(O)}),a.jsx(xe,{variant:"primary",size:"sm",onClick:()=>y(typeof O.id=="number"?O.id:Number(O.id)||0),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Grade"})]})})]},O.id))})]})}),a.jsx(He,{isOpen:o,onClose:()=>{u(!1),l(null)},title:"Exam Details",size:"lg",children:r&&a.jsx(Gt,{sections:[{title:"Exam Information",icon:Ot,fields:[{label:"Exam Name",value:r.name},{label:"Subject",value:r.subject},{label:"Date",value:r.date,icon:$e},{label:"Time",value:r.time,icon:We},{label:"Duration",value:r.duration},{label:"Total Marks",value:r.totalMarks.toString()},...r.passingMarks?[{label:"Passing Marks",value:r.passingMarks.toString()}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:g(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[]]},{title:"Assigned Grades",fields:[{label:"Grades",value:r.grades&&r.grades.length>0?r.grades.map((O,M)=>a.jsx(ge,{variant:"info",size:"sm",style:{marginRight:"0.25rem"},children:O},M)):"No grades assigned",spanFull:!0}]}]})}),a.jsx(nr,{isOpen:d,onClose:()=>h(!1),title:"Create New Exam",fields:P,onSubmit:A,submitButtonText:"Create Exam"})]})},OY=()=>{const e=[{id:1,day:"Monday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:2,day:"Monday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9B",room:"Room 102",students:28},{id:3,day:"Monday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11A",room:"Room 201",students:22},{id:4,day:"Tuesday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10B",room:"Room 103",students:24},{id:5,day:"Tuesday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9A",room:"Room 104",students:26},{id:6,day:"Wednesday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:7,day:"Wednesday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11B",room:"Room 202",students:23},{id:8,day:"Thursday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10B",room:"Room 103",students:24},{id:9,day:"Thursday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9A",room:"Room 104",students:26},{id:10,day:"Friday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:11,day:"Friday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11A",room:"Room 201",students:22}],n=["Monday","Tuesday","Wednesday","Thursday","Friday"].map(r=>({day:r,items:e.filter(l=>l.day===r)}));return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Timetable"})}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map(({day:r,items:l})=>a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#333",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},children:r}),l.length===0?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#999",background:"rgba(255, 255, 255, 0.7)",borderRadius:"0.5rem",border:"1px solid #e0e0e0"},children:"No classes scheduled"}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:l.map(o=>a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},onMouseEnter:u=>{u.currentTarget.style.boxShadow="0 12px 40px 0 rgba(31, 38, 135, 0.25)"},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 8px 32px 0 rgba(31, 38, 135, 0.15)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[a.jsx(Ot,{size:24,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600,color:"#333"},children:o.subject}),a.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.9rem",color:"#666"},children:o.class})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:16,style:{color:"#666"}}),a.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:o.time})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Rs,{size:16,style:{color:"#666"}}),a.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:o.room})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($t,{size:16,style:{color:"#666"}}),a.jsxs("span",{style:{fontSize:"0.9rem",color:"#666"},children:[o.students," Students"]})]})]})]},o.id))})]},r))})]})},DY=()=>{const e=[{id:1,name:"Mathematics 101",teacher:"Dr. Smith",schedule:"Mon, Wed, Fri - 9:00 AM",credits:3,grade:"A"},{id:2,name:"Physics 201",teacher:"Prof. Johnson",schedule:"Tue, Thu - 2:00 PM",credits:4,grade:"B+"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Courses"})}),a.jsx("div",{className:"courses-grid",children:e.map(t=>a.jsxs(Ee,{variant:"custom",className:"course-card",children:[a.jsxs("div",{className:"course-header",children:[a.jsx(Ot,{size:24,style:{color:"#667eea"}}),a.jsx("h3",{children:t.name})]}),a.jsxs("div",{className:"course-details",children:[a.jsxs("div",{className:"course-detail-item",children:[a.jsx(ea,{size:18}),a.jsx("span",{children:t.teacher})]}),a.jsxs("div",{className:"course-detail-item",children:[a.jsx($e,{size:18}),a.jsx("span",{children:t.schedule})]}),a.jsxs("div",{className:"course-detail-item",children:[a.jsx(We,{size:18}),a.jsxs("span",{children:[t.credits," Credits"]})]}),a.jsx("div",{className:"course-grade",children:a.jsxs(ge,{variant:"success",size:"sm",children:["Grade: ",t.grade]})})]})]},t.id))})]})},MY=()=>{const e=[{subject:"Mathematics",grade:92,letter:"A"},{subject:"Physics",grade:88,letter:"B+"},{subject:"Chemistry",grade:95,letter:"A"},{subject:"English",grade:85,letter:"B"}],t=e.map(n=>({subject:n.subject,grade:n.grade}));return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Grades"})}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(Ee,{variant:"stat",icon:a.jsx(yr,{size:28}),value:"90%",label:"Overall Average",color:"#667eea"}),a.jsx(Ee,{variant:"stat",icon:a.jsx(tr,{size:28}),value:"A-",label:"Current GPA",color:"#48bb78"})]}),a.jsx("h3",{className:"section-title",children:"Subject Grades"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Grade"}),a.jsx("th",{children:"Letter Grade"})]})}),a.jsx("tbody",{children:e.map((n,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:n.subject}),a.jsxs("td",{children:[n.grade,"%"]}),a.jsx("td",{children:a.jsx(ge,{variant:"success",size:"sm",children:n.letter})})]},r))})]})}),a.jsx("h3",{className:"section-title",children:"Grade Distribution"}),a.jsx("div",{className:"charts-container",children:a.jsx("div",{className:"chart-card",children:a.jsx(pt,{width:"100%",height:300,children:a.jsxs(Dn,{data:t,children:[a.jsx(_t,{strokeDasharray:"3 3"}),a.jsx(Rt,{dataKey:"subject"}),a.jsx(Bt,{}),a.jsx(gt,{}),a.jsx(At,{}),a.jsx(bt,{dataKey:"grade",fill:"#667eea"})]})})})})]})},d5=1,kY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[l,o]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const A=await ue.students.getAll();if(!A.data?.students){t([]);return}const w=A.data.students.find(B=>B.id===d5),D=(await ue.exams.getAll()).data?.exams||[],T=[],P=w?.class||"",O=P.match(/Grade\s+(\d+)/)?.[1]?`Grade ${P.match(/Grade\s+(\d+)/)?.[1]}`:"",N=D.filter(B=>B.classes&&B.classes.length>0?B.classes.includes(P):B.grades&&B.grades.length>0?B.grades.some(L=>{const q=L.match(/Grade\s+(\d+)/)?.[1],U=O.match(/Grade\s+(\d+)/)?.[1];return q===U}):!1).map(B=>{const L=T.find(K=>K.examId===B.id),q=L?.studentGrades.find(K=>K.studentId===d5);let U="Scheduled";return q?U="Graded":(L&&L.studentGrades.length>0||B.status==="Completed")&&(U="Submitted"),{exam:B,status:U,studentGrade:q,examResult:L}});N.sort((B,L)=>{const q=new Date(B.exam.date).getTime();return new Date(L.exam.date).getTime()-q}),t(N)}catch(A){console.error("Error loading papers:",A),t([])}})()},[]);const u=y=>{switch(y.toLowerCase()){case"scheduled":return"pending";case"submitted":return"info";case"graded":return"approved";default:return"pending"}},d=y=>{switch(y.toLowerCase()){case"scheduled":return a.jsx(We,{size:16});case"submitted":return a.jsx(We,{size:16});case"graded":return a.jsx(On,{size:16});default:return a.jsx(We,{size:16})}},[h,m]=x.useState([]);x.useEffect(()=>{(async()=>{try{const A=await ue.teachers.getAll();A.data?.teachers&&Array.isArray(A.data.teachers)&&m(A.data.teachers)}catch(A){console.error("Error loading teachers:",A)}})()},[]);const p=y=>{if(y.gradeAssignments&&y.gradeAssignments.length>0){const A=y.gradeAssignments[0]?.teacherId;if(A){const S=h.find(w=>w.id===A);if(S)return S.name}return"Teacher"}return"Not Assigned"},g=y=>{r(y),o(!0)},b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Papers"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Exam Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Marks Obtained"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No papers found. Papers will appear here when exams are assigned to your class."})}):e.map(y=>{const{exam:A,status:S,studentGrade:w}=y;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:A.name}),A.description&&a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:A.description})]})}),a.jsx("td",{children:A.subject}),a.jsx("td",{children:A.grades.join(", ")}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:14,style:{color:"#666"}}),b(A.date)]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),A.duration]})}),a.jsx("td",{children:a.jsx("strong",{children:A.totalMarks})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(ea,{size:14,style:{color:"#666"}}),p(A)]})}),a.jsx("td",{children:a.jsxs(ge,{variant:u(S),size:"sm",children:[d(S),S]})}),a.jsx("td",{children:w?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(yr,{size:14,style:{color:"#22c55e"}}),a.jsxs("strong",{style:{color:"#22c55e"},children:[w.totalMarks," / ",A.totalMarks]}),a.jsx(ge,{variant:"success",size:"sm",children:w.grade})]}):a.jsx("span",{style:{color:"#999"},children:"-"})}),a.jsx("td",{children:a.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:a.jsx(Ue,{size:"sm",onClick:()=>g(y)})})})]},A.id)})})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Paper Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Exam Information",icon:nt,fields:[{label:"Title",value:n.exam.name},{label:"Subject",value:n.exam.subject},{label:"Date",value:b(n.exam.date),icon:$e},{label:"Time",value:n.exam.time,icon:We},{label:"Duration",value:n.exam.duration},{label:"Total Marks",value:n.exam.totalMarks.toString()},...n.exam.passingMarks?[{label:"Passing Marks",value:n.exam.passingMarks.toString()}]:[],{label:"Status",value:n.status,renderAsBadge:{variant:u(n.status),size:"sm"}},...n.exam.description?[{label:"Description",value:n.exam.description,spanFull:!0}]:[]]},...n.studentGrade?[{title:"Your Results",icon:yr,fields:[{label:"Total Marks",value:`${n.studentGrade.totalMarks} / ${n.exam.totalMarks}`},{label:"Percentage",value:`${n.studentGrade.percentage}%`},{label:"Grade",value:n.studentGrade.grade,renderAsBadge:{variant:"success",size:"sm"}},{label:"Status",value:n.studentGrade.status,renderAsBadge:{variant:n.studentGrade.status==="Passed"?"success":"danger",size:"sm"}},...n.studentGrade.remarks?[{label:"Remarks",value:n.studentGrade.remarks,spanFull:!0}]:[],...n.studentGrade.gradedAt?[{label:"Graded On",value:b(n.studentGrade.gradedAt),icon:$e}]:[]]},...n.studentGrade.sectionGrades&&n.studentGrade.sectionGrades.length>0?[{title:"Section-wise Marks",icon:nt,fields:n.studentGrade.sectionGrades.map(y=>({label:y.sectionName,value:`${y.marksObtained} / ${y.maxMarks}`,spanFull:!0}))}]:[]]:[],...n.exam.sections&&n.exam.sections.length>0?[{title:"Exam Sections",icon:nt,fields:n.exam.sections.map(y=>({label:y.name,value:`${y.marks} marks${y.description?` - ${y.description}`:""}`,spanFull:!0}))}]:[]]})})]})},NY=1,zY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(""),[p,g]=x.useState(null),b=async()=>{try{const O=await ue.students.getAll();if(O.data?.students){const N=O.data.students.find(K=>K.id===NY);if(g(N||null),!N)return;const L=[].filter(K=>K.class===N.class),q=[],U=L.map(K=>{const W=q.find(te=>te.assignmentId===K.id);let ee="Pending";if(W)W.status==="Graded"?ee="Graded":ee=W.status==="Late"?"Overdue":"Submitted";else{const te=new Date(K.dueDate),C=new Date;C.setHours(0,0,0,0),te<C&&K.status==="Active"&&(ee="Overdue")}return{assignment:K,status:ee,submission:W}});U.sort((K,W)=>{const ee=new Date(K.assignment.dueDate).getTime(),te=new Date(W.assignment.dueDate).getTime();return ee-te}),t(U)}else t([])}catch(O){console.error("Error loading assignments:",O),t([])}};x.useEffect(()=>{b()},[]);const y=O=>{switch(O.toLowerCase()){case"pending":return"pending";case"submitted":return"info";case"graded":return"approved";case"overdue":return"rejected";default:return"pending"}},A=O=>{switch(O.toLowerCase()){case"pending":return a.jsx(We,{size:16});case"submitted":return a.jsx($d,{size:16});case"graded":return a.jsx(On,{size:16});case"overdue":return a.jsx(We,{size:16});default:return a.jsx(We,{size:16})}},S=async O=>{try{const M=await ue.teachers.getAll();if(M.data?.teachers){const B=M.data.teachers.find(L=>L.id===O.assignedBy);return B?B.name:"Teacher"}}catch(M){console.error("Error loading teachers:",M)}return"Teacher"},w=O=>{r(O),o(!0)},E=O=>{r(O),m(O.submission?.submissionText||""),d(!0)},D=()=>{if(!(!n||!p)){if(!h.trim()){alert("Please enter your answer before submitting.");return}alert("Assignment submitted successfully!"),d(!1),m(""),r(null),b()}},T=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=O=>{const M=new Date(O),N=new Date;N.setHours(0,0,0,0);const B=M.getTime()-N.getTime();return Math.ceil(B/(1e3*60*60*24))};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Assignments"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Days Remaining"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Assigned By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Marks Obtained"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No assignments found. Assignments will appear here when teachers assign work to your class."})}):e.map(O=>{const{assignment:M,status:N,submission:B}=O,L=P(M.dueDate),q=L<0&&N!=="Graded";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:M.title}),M.description&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:[M.description.substring(0,60),"..."]})]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ot,{size:14,style:{color:"#666"}}),M.subject]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx($e,{size:14,style:{color:"#666"}}),T(M.assignedDate)]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),T(M.dueDate)]})}),a.jsx("td",{children:q?a.jsxs(ge,{variant:"rejected",size:"sm",children:[Math.abs(L)," days overdue"]}):L===0?a.jsx(ge,{variant:"pending",size:"sm",children:"Due today"}):a.jsxs("span",{style:{color:L<=3?"#f59e0b":"#666"},children:[L," days"]})}),a.jsx("td",{children:a.jsx("strong",{children:M.totalMarks||"N/A"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(ea,{size:14,style:{color:"#666"}}),S(M)]})}),a.jsx("td",{children:a.jsxs(ge,{variant:y(N),size:"sm",children:[A(N),N]})}),a.jsx("td",{children:B&&B.marksObtained!==void 0?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(yr,{size:14,style:{color:"#22c55e"}}),a.jsxs("strong",{style:{color:"#22c55e"},children:[B.marksObtained," / ",B.totalMarks||M.totalMarks||"N/A"]}),B.grade&&a.jsx(ge,{variant:"success",size:"sm",children:B.grade})]}):a.jsx("span",{style:{color:"#999"},children:"-"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ue,{size:"sm",onClick:()=>w(O)}),(N==="Pending"||N==="Overdue"||N==="Submitted")&&a.jsxs(xe,{variant:"primary",size:"sm",onClick:()=>E(O),style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem"},children:[a.jsx(WS,{size:12,style:{marginRight:"0.25rem"}}),N==="Submitted"?"Edit":"Submit"]})]})})]},M.id)})})]})}),a.jsx(He,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Assignment Details",size:"lg",children:n&&a.jsx(Gt,{sections:[{title:"Assignment Information",icon:nt,fields:[{label:"Title",value:n.assignment.title},{label:"Subject",value:n.assignment.subject,icon:Ot},{label:"Class",value:n.assignment.class},{label:"Assigned Date",value:T(n.assignment.assignedDate),icon:$e},{label:"Due Date",value:T(n.assignment.dueDate),icon:We},{label:"Total Marks",value:(n.assignment.totalMarks||"N/A").toString()},{label:"Assigned By",value:S(n.assignment),icon:ea},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}},{label:"Description",value:n.assignment.description,spanFull:!0}]},...n.submission?[{title:"Your Submission",icon:$d,fields:[{label:"Submitted On",value:T(n.submission.submittedAt),icon:$e},{label:"Status",value:n.submission.status,renderAsBadge:{variant:y(n.submission.status),size:"sm"}},...n.submission.submissionText?[{label:"Submission Text",value:n.submission.submissionText,spanFull:!0}]:[],...n.submission.submittedFile?[{label:"Submitted File",value:n.submission.submittedFile,spanFull:!0}]:[]]},...n.submission.status==="Graded"?[{title:"Grading Results",icon:yr,fields:[{label:"Marks Obtained",value:`${n.submission.marksObtained} / ${n.submission.totalMarks||n.assignment.totalMarks||"N/A"}`},...n.submission.grade?[{label:"Grade",value:n.submission.grade,renderAsBadge:{variant:"success",size:"sm"}}]:[],...n.submission.feedback?[{label:"Feedback",value:n.submission.feedback,spanFull:!0}]:[],...n.submission.gradedAt?[{label:"Graded On",value:T(n.submission.gradedAt),icon:$e}]:[]]}]:[]]:[]]})}),a.jsx(He,{isOpen:u,onClose:()=>{d(!1),m(""),r(null)},title:n?`Submit Assignment: ${n.assignment.title}`:"Submit Assignment",size:"lg",children:n&&a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"0.5rem"},children:[a.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"1rem",fontWeight:600},children:"Assignment Details"}),a.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Subject:"})," ",n.assignment.subject]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Due Date:"})," ",T(n.assignment.dueDate)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Total Marks:"})," ",n.assignment.totalMarks||"N/A"]})]})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem"},children:"Assignment Question/Description:"}),a.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",color:"#333",whiteSpace:"pre-wrap",minHeight:"60px"},children:n.assignment.description})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem"},children:["Your Answer: ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("textarea",{value:h,onChange:O=>m(O.target.value),placeholder:"Write your answer here...",style:{width:"100%",minHeight:"200px",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",resize:"vertical"}}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:[h.length," characters"]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(xe,{variant:"outline",size:"md",onClick:()=>{d(!1),m(""),r(null)},children:"Cancel"}),a.jsxs(xe,{variant:"primary",size:"md",onClick:D,disabled:!h.trim(),children:[a.jsx(WS,{size:18,style:{marginRight:"0.5rem"}}),"Submit Assignment"]})]})]})})]})};x.createContext(void 0);const PY=()=>{const{colors:e,updateColor:t,resetTheme:n}=Qa(),[r,l]=x.useState(e),[o,u]=x.useState(!1);x.useEffect(()=>{l(e)},[e]);const d=(L,q)=>{l(U=>({...U,[L]:q})),t(L,q)},h=()=>{u(!0),setTimeout(()=>u(!1),2e3)},m=()=>{n(),l({primary:"#667eea",secondary:"#764ba2",accent:"#667eea",background:"#f5f5f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",border:"#e0e0e0",hover:"#5568d3",active:"#667eea",navbar:"#ffffff",sidebar:"#ffffff",button:"#667eea",buttonHover:"#5568d3",buttonActive:"#4a5bc4"})},p=[{title:"Primary Colors",colors:[{key:"primary",label:"Primary",description:"Main brand color"},{key:"secondary",label:"Secondary",description:"Secondary brand color"},{key:"accent",label:"Accent",description:"Accent color"}]},{title:"Background Colors",colors:[{key:"background",label:"Background",description:"Main background"},{key:"surface",label:"Surface",description:"Card/surface background"},{key:"navbar",label:"Navbar",description:"Top navbar background"},{key:"sidebar",label:"Sidebar",description:"Sidebar background"}]},{title:"Text Colors",colors:[{key:"text",label:"Text",description:"Primary text color"},{key:"textSecondary",label:"Text Secondary",description:"Secondary text color"}]},{title:"Button Colors",colors:[{key:"button",label:"Button",description:"Button background"},{key:"buttonHover",label:"Button Hover",description:"Button hover state"},{key:"buttonActive",label:"Button Active",description:"Button active state"}]},{title:"Interactive Colors",colors:[{key:"hover",label:"Hover",description:"Hover state color"},{key:"active",label:"Active",description:"Active state color"},{key:"border",label:"Border",description:"Border color"}]}],g={padding:"2rem",maxWidth:"1200px",margin:"0 auto"},b={display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},y={fontSize:"2rem",fontWeight:600,color:"#333",margin:0},A={display:"flex",gap:"1rem",marginBottom:"2rem"},S={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},w={fontSize:"1.25rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},E={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"},D={display:"flex",flexDirection:"column",gap:"0.5rem"},T={fontSize:"0.875rem",fontWeight:600,color:"#333"},P={fontSize:"0.75rem",color:"#666"},O={display:"flex",alignItems:"center",gap:"0.75rem"},M={width:"50px",height:"50px",borderRadius:"0.5rem",border:"2px solid #e0e0e0",cursor:"pointer"},N={flex:1,padding:"0.5rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.875rem"},B={padding:"0.75rem 1rem",background:"#48bb78",color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:600};return a.jsxs("div",{style:g,children:[a.jsxs("div",{style:b,children:[a.jsx(_P,{size:32,style:{color:e.primary}}),a.jsx("h1",{style:y,children:"Theme Settings"})]}),o&&a.jsx("div",{style:B,children:"Theme saved successfully!"}),a.jsxs("div",{style:A,children:[a.jsxs(xe,{variant:"primary",onClick:h,children:[a.jsx(zt,{size:18,style:{marginRight:"0.5rem"}}),"Save Theme"]}),a.jsxs(xe,{variant:"secondary",onClick:m,children:[a.jsx($P,{size:18,style:{marginRight:"0.5rem"}}),"Reset to Default"]})]}),p.map(L=>a.jsxs("div",{style:S,children:[a.jsx("h2",{style:w,children:L.title}),a.jsx("div",{style:E,children:L.colors.map(q=>a.jsxs("div",{style:D,children:[a.jsx("label",{style:T,children:q.label}),a.jsx("p",{style:P,children:q.description}),a.jsxs("div",{style:O,children:[a.jsx("div",{style:{...M,background:r[q.key]},onClick:()=>{document.getElementById(`color-${q.key}`)?.click()}}),a.jsx("input",{id:`color-${q.key}`,type:"color",value:r[q.key],onChange:U=>d(q.key,U.target.value),style:N}),a.jsx("input",{type:"text",value:r[q.key],onChange:U=>d(q.key,U.target.value),style:N,placeholder:"#667eea"})]})]},q.key))})]},L.title))]})},_Y=()=>{const[e,t]=x.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},r={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},l={marginBottom:"2rem"},o={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},u={fontSize:"1rem",color:"#666",margin:0},d={marginBottom:"3rem"},h={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},m={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},p={marginBottom:"2rem"},g={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},b={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},y={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"};return a.jsxs("div",{style:r,children:[a.jsxs("div",{style:l,children:[a.jsx("h1",{style:o,children:"Button Component Examples"}),a.jsxs("p",{style:u,children:["Reusable Button component from ",a.jsx("code",{children:"components/Button"})," folder"]})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Button Variants"}),a.jsxs(Ee,{variant:"custom",style:m,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Primary Button"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",children:[a.jsx(zt,{size:18}),"Primary Button"]}),a.jsx(xe,{variant:"primary",disabled:!0,children:"Primary Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="primary">
  <Save size={18} />
  Primary Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Secondary Button"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"secondary",children:[a.jsx(Bd,{size:18}),"Secondary Button"]}),a.jsx(xe,{variant:"secondary",disabled:!0,children:"Secondary Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="secondary">
  <Edit size={18} />
  Secondary Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Danger Button"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"danger",children:[a.jsx(Id,{size:18}),"Danger Button"]}),a.jsx(xe,{variant:"danger",disabled:!0,children:"Danger Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="danger">
  <Trash2 size={18} />
  Danger Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Success Button"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"success",children:[a.jsx(fc,{size:18}),"Success Button"]}),a.jsx(xe,{variant:"success",disabled:!0,children:"Success Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="success">
  <Check size={18} />
  Success Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Outline Button"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"outline",children:[a.jsx(qS,{size:18}),"Outline Button"]}),a.jsx(xe,{variant:"outline",disabled:!0,children:"Outline Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="outline">
  <Download size={18} />
  Outline Button
</Button>`})]})]})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Button Sizes"}),a.jsxs(Ee,{variant:"custom",style:m,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Small (sm)"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",size:"sm",children:[a.jsx($i,{size:14}),"Small Button"]}),a.jsx(xe,{variant:"secondary",size:"sm",children:"Small Secondary"}),a.jsx(xe,{variant:"danger",size:"sm",children:"Small Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="sm">
  <Plus size={14} />
  Small Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Medium (md) - Default"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",size:"md",children:[a.jsx(zt,{size:18}),"Medium Button"]}),a.jsx(xe,{variant:"secondary",size:"md",children:"Medium Secondary"}),a.jsx(xe,{variant:"danger",size:"md",children:"Medium Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="md">
  <Save size={18} />
  Medium Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Large (lg)"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",size:"lg",children:[a.jsx($d,{size:20}),"Large Button"]}),a.jsx(xe,{variant:"secondary",size:"lg",children:"Large Secondary"}),a.jsx(xe,{variant:"danger",size:"lg",children:"Large Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="lg">
  <Upload size={20} />
  Large Button
</Button>`})]})]})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Button States"}),a.jsxs(Ee,{variant:"custom",style:m,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Loading State"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",isLoading:e,onClick:n,children:[a.jsx(zt,{size:18}),e?"Loading...":"Click to Load"]}),a.jsx(xe,{variant:"secondary",isLoading:e,children:"Secondary Loading"}),a.jsx(xe,{variant:"danger",isLoading:e,children:"Danger Loading"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" isLoading={isLoading}>
  <Save size={18} />
  Loading Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Disabled State"}),a.jsxs("div",{style:b,children:[a.jsx(xe,{variant:"primary",disabled:!0,children:"Disabled Primary"}),a.jsx(xe,{variant:"secondary",disabled:!0,children:"Disabled Secondary"}),a.jsx(xe,{variant:"danger",disabled:!0,children:"Disabled Danger"}),a.jsx(xe,{variant:"success",disabled:!0,children:"Disabled Success"}),a.jsx(xe,{variant:"outline",disabled:!0,children:"Disabled Outline"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" disabled>
  Disabled Button
</Button>`})]})]})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Full Width Buttons"}),a.jsx(Ee,{variant:"custom",style:m,children:a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Full Width Button"}),a.jsxs("div",{style:{width:"100%",maxWidth:"600px"},children:[a.jsxs(xe,{variant:"primary",fullWidth:!0,style:{marginBottom:"1rem"},children:[a.jsx(zt,{size:18}),"Full Width Primary"]}),a.jsx(xe,{variant:"secondary",fullWidth:!0,style:{marginBottom:"1rem"},children:"Full Width Secondary"}),a.jsx(xe,{variant:"danger",fullWidth:!0,children:"Full Width Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" fullWidth>
  <Save size={18} />
  Full Width Button
</Button>`})]})})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Common Usage Examples"}),a.jsxs(Ee,{variant:"custom",style:m,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Form Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",children:[a.jsx(zt,{size:18}),"Save"]}),a.jsx(xe,{variant:"secondary",children:"Cancel"}),a.jsx(xe,{variant:"outline",children:"Reset"})]})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Table Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",size:"sm",children:[a.jsx(Bd,{size:14}),"Edit"]}),a.jsxs(xe,{variant:"danger",size:"sm",children:[a.jsx(Id,{size:14}),"Delete"]}),a.jsxs(xe,{variant:"outline",size:"sm",children:[a.jsx(qa,{size:14}),"Cancel"]})]})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Page Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(xe,{variant:"primary",size:"md",children:[a.jsx($i,{size:18}),"Add New"]}),a.jsxs(xe,{variant:"secondary",size:"md",children:[a.jsx(qS,{size:18}),"Export"]}),a.jsxs(xe,{variant:"outline",size:"md",children:[a.jsx($d,{size:18}),"Import"]})]})]})]})]}),a.jsxs("div",{style:d,children:[a.jsx("h2",{style:h,children:"Component Props"}),a.jsxs(Ee,{variant:"custom",style:m,children:[a.jsx("div",{style:y,children:`interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  children: ReactNode;
  isLoading?: boolean;
  fullWidth?: boolean;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Button style variant (default: 'primary')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Button size (default: 'md')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"children:"})," Button content (text, icons, etc.)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"isLoading:"})," Shows loading spinner (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"fullWidth:"})," Makes button full width (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"disabled:"})," Disables the button (inherited from HTMLButtonElement)"]})]})]})]})]})]})},RY=()=>{const e={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},t={marginBottom:"2rem"},n={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},r={fontSize:"1rem",color:"#666",margin:0},l={marginBottom:"3rem"},o={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},u={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},d={marginBottom:"2rem"},h={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},m={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},p={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"};return a.jsxs("div",{style:e,children:[a.jsxs("div",{style:t,children:[a.jsx("h1",{style:n,children:"Badge Component Examples"}),a.jsxs("p",{style:r,children:["Reusable Badge component from ",a.jsx("code",{children:"components/Badge"})," folder"]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Status Badges"}),a.jsx(Ee,{variant:"custom",style:u,children:a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Status Variants"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",children:"Pending"}),a.jsx(ge,{variant:"approved",children:"Approved"}),a.jsx(ge,{variant:"active",children:"Active"}),a.jsx(ge,{variant:"rejected",children:"Rejected"}),a.jsx(ge,{variant:"late",children:"Late"}),a.jsx(ge,{variant:"absent",children:"Absent"}),a.jsx(ge,{variant:"onLeave",children:"On Leave"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending">Pending</Badge>
<Badge variant="approved">Approved</Badge>
<Badge variant="active">Active</Badge>
<Badge variant="rejected">Rejected</Badge>
<Badge variant="late">Late</Badge>
<Badge variant="absent">Absent</Badge>
<Badge variant="onLeave">On Leave</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Standard Variants"}),a.jsx(Ee,{variant:"custom",style:u,children:a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Basic Variants"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"primary",children:"Primary"}),a.jsx(ge,{variant:"secondary",children:"Secondary"}),a.jsx(ge,{variant:"success",children:"Success"}),a.jsx(ge,{variant:"danger",children:"Danger"}),a.jsx(ge,{variant:"warning",children:"Warning"}),a.jsx(ge,{variant:"info",children:"Info"})]}),a.jsx("div",{style:p,children:`<Badge variant="primary">Primary</Badge>
<Badge variant="secondary">Secondary</Badge>
<Badge variant="success">Success</Badge>
<Badge variant="danger">Danger</Badge>
<Badge variant="warning">Warning</Badge>
<Badge variant="info">Info</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Badge Sizes"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Small (sm)"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",size:"sm",children:"Pending"}),a.jsx(ge,{variant:"approved",size:"sm",children:"Approved"}),a.jsx(ge,{variant:"active",size:"sm",children:"Active"}),a.jsx(ge,{variant:"rejected",size:"sm",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="sm">Pending</Badge>
<Badge variant="approved" size="sm">Approved</Badge>
<Badge variant="active" size="sm">Active</Badge>
<Badge variant="rejected" size="sm">Rejected</Badge>`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Medium (md) - Default"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",size:"md",children:"Pending"}),a.jsx(ge,{variant:"approved",size:"md",children:"Approved"}),a.jsx(ge,{variant:"active",size:"md",children:"Active"}),a.jsx(ge,{variant:"rejected",size:"md",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="md">Pending</Badge>
<Badge variant="approved" size="md">Approved</Badge>
<Badge variant="active" size="md">Active</Badge>
<Badge variant="rejected" size="md">Rejected</Badge>`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Large (lg)"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",size:"lg",children:"Pending"}),a.jsx(ge,{variant:"approved",size:"lg",children:"Approved"}),a.jsx(ge,{variant:"active",size:"lg",children:"Active"}),a.jsx(ge,{variant:"rejected",size:"lg",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="lg">Pending</Badge>
<Badge variant="approved" size="lg">Approved</Badge>
<Badge variant="active" size="lg">Active</Badge>
<Badge variant="rejected" size="lg">Rejected</Badge>`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Rounded Badges"}),a.jsx(Ee,{variant:"custom",style:u,children:a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Rounded Status Badges"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",rounded:!0,children:"Pending"}),a.jsx(ge,{variant:"approved",rounded:!0,children:"Approved"}),a.jsx(ge,{variant:"active",rounded:!0,children:"Active"}),a.jsx(ge,{variant:"rejected",rounded:!0,children:"Rejected"}),a.jsx(ge,{variant:"late",rounded:!0,children:"Late"}),a.jsx(ge,{variant:"absent",rounded:!0,children:"Absent"}),a.jsx(ge,{variant:"onLeave",rounded:!0,children:"On Leave"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" rounded>Pending</Badge>
<Badge variant="approved" rounded>Approved</Badge>
<Badge variant="active" rounded>Active</Badge>
<Badge variant="rejected" rounded>Rejected</Badge>
<Badge variant="late" rounded>Late</Badge>
<Badge variant="absent" rounded>Absent</Badge>
<Badge variant="onLeave" rounded>On Leave</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Common Usage Examples"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Attendance Status"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"active",children:"Present"}),a.jsx(ge,{variant:"absent",children:"Absent"}),a.jsx(ge,{variant:"late",children:"Late"}),a.jsx(ge,{variant:"onLeave",children:"On Leave"})]})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Application Status"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"pending",children:"Pending"}),a.jsx(ge,{variant:"approved",children:"Approved"}),a.jsx(ge,{variant:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Record Status"}),a.jsxs("div",{style:m,children:[a.jsx(ge,{variant:"active",children:"Active"}),a.jsx(ge,{variant:"secondary",children:"Inactive"}),a.jsx(ge,{variant:"warning",children:"Pending Review"})]})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Component Props"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsx("div",{style:p,children:`interface BadgeProps {
  children: ReactNode;
  variant?: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 
           'pending' | 'approved' | 'active' | 'rejected' | 'late' | 'absent' | 'onLeave';
  size?: 'sm' | 'md' | 'lg';
  rounded?: boolean;
  className?: string;
  style?: CSSProperties;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Badge style variant (default: 'primary')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Badge size (default: 'md')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"rounded:"})," Makes badge fully rounded (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"children:"})," Badge content (text)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"className:"})," Additional CSS classes"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"style:"})," Inline styles"]})]})]})]})]})]})},BY=()=>{const e={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},t={marginBottom:"2rem"},n={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},r={fontSize:"1rem",color:"#666",margin:0},l={marginBottom:"3rem"},o={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},u={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},d={marginBottom:"2rem"},h={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},m={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},p={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"},g={display:"flex",flexWrap:"wrap",gap:"2rem",alignItems:"center",padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem"},b={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"};return a.jsxs("div",{style:e,children:[a.jsxs("div",{style:t,children:[a.jsx("h1",{style:n,children:"Icon Button Component Examples"}),a.jsxs("p",{style:r,children:["Reusable Icon Button components from ",a.jsx("code",{children:"components/Button/iconbuttons"})," folder"]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Available Icons"}),a.jsx(Ee,{variant:"custom",style:u,children:a.jsxs("div",{style:g,children:[a.jsxs("div",{style:b,children:[a.jsx(DM,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"ViewIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(MM,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"PrintIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(kM,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"EditIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(NM,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"DeleteIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(zM,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"ApproveIcon"})]})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Buttons"}),a.jsx(Ee,{variant:"custom",style:u,children:a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Basic Icon Buttons"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{onClick:()=>alert("View clicked")}),a.jsx($r,{onClick:()=>alert("Print clicked")}),a.jsx(vt,{onClick:()=>alert("Edit clicked")}),a.jsx(Mt,{onClick:()=>alert("Delete clicked")}),a.jsx(Br,{onClick:()=>alert("Approve clicked")})]}),a.jsx("div",{style:p,children:`<ViewButton onClick={() => handleView()} />
<PrintButton onClick={() => handlePrint()} />
<EditButton onClick={() => handleEdit()} />
<DeleteButton onClick={() => handleDelete()} />
<ApproveButton onClick={() => handleApprove()} />`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button Sizes"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Small (sm)"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{size:"sm",onClick:()=>{}}),a.jsx($r,{size:"sm",onClick:()=>{}}),a.jsx(vt,{size:"sm",onClick:()=>{}}),a.jsx(Mt,{size:"sm",onClick:()=>{}}),a.jsx(Br,{size:"sm",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="sm" onClick={handleClick} />
<EditButton size="sm" onClick={handleClick} />
<DeleteButton size="sm" onClick={handleClick} />`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Medium (md)"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{size:"md",onClick:()=>{}}),a.jsx($r,{size:"md",onClick:()=>{}}),a.jsx(vt,{size:"md",onClick:()=>{}}),a.jsx(Mt,{size:"md",onClick:()=>{}}),a.jsx(Br,{size:"md",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="md" onClick={handleClick} />
<EditButton size="md" onClick={handleClick} />
<DeleteButton size="md" onClick={handleClick} />`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Large (lg)"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{size:"lg",onClick:()=>{}}),a.jsx($r,{size:"lg",onClick:()=>{}}),a.jsx(vt,{size:"lg",onClick:()=>{}}),a.jsx(Mt,{size:"lg",onClick:()=>{}}),a.jsx(Br,{size:"lg",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="lg" onClick={handleClick} />
<EditButton size="lg" onClick={handleClick} />
<DeleteButton size="lg" onClick={handleClick} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button Variants"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"View Button Variants"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{variant:"primary",onClick:()=>{}}),a.jsx(Ue,{variant:"secondary",onClick:()=>{}}),a.jsx(Ue,{variant:"outline",onClick:()=>{}})]})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Edit Button Variants"}),a.jsxs("div",{style:m,children:[a.jsx(vt,{variant:"primary",onClick:()=>{}}),a.jsx(vt,{variant:"secondary",onClick:()=>{}}),a.jsx(vt,{variant:"outline",onClick:()=>{}})]})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Delete Button Variants"}),a.jsxs("div",{style:m,children:[a.jsx(Mt,{variant:"danger",onClick:()=>{}}),a.jsx(Mt,{variant:"outline",onClick:()=>{}}),a.jsx(Mt,{variant:"secondary",onClick:()=>{}})]})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Approve Button Variants"}),a.jsxs("div",{style:m,children:[a.jsx(Br,{variant:"success",onClick:()=>{}}),a.jsx(Br,{variant:"primary",onClick:()=>{}}),a.jsx(Br,{variant:"outline",onClick:()=>{}})]})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button States"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Disabled State"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{disabled:!0,onClick:()=>{}}),a.jsx(vt,{disabled:!0,onClick:()=>{}}),a.jsx(Mt,{disabled:!0,onClick:()=>{}}),a.jsx(Br,{disabled:!0,onClick:()=>{}}),a.jsx($r,{disabled:!0,onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton disabled onClick={handleClick} />
<EditButton disabled onClick={handleClick} />
<DeleteButton disabled onClick={handleClick} />`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Loading State"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{isLoading:!0,onClick:()=>{}}),a.jsx(vt,{isLoading:!0,onClick:()=>{}}),a.jsx(Mt,{isLoading:!0,onClick:()=>{}}),a.jsx(Br,{isLoading:!0,onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton isLoading onClick={handleClick} />
<EditButton isLoading onClick={handleClick} />
<DeleteButton isLoading onClick={handleClick} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Common Usage Examples"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Table Row Actions"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{size:"sm",onClick:()=>{},title:"View Details"}),a.jsx(vt,{size:"sm",onClick:()=>{},title:"Edit Record"}),a.jsx(Mt,{size:"sm",onClick:()=>{},title:"Delete Record"}),a.jsx(Br,{size:"sm",onClick:()=>{},title:"Approve"})]}),a.jsx("div",{style:p,children:`// In a table row
<ViewButton size="sm" onClick={() => viewRecord(id)} />
<EditButton size="sm" onClick={() => editRecord(id)} />
<DeleteButton size="sm" onClick={() => deleteRecord(id)} />
<ApproveButton size="sm" onClick={() => approveRecord(id)} />`})]}),a.jsxs("div",{style:d,children:[a.jsx("div",{style:h,children:"Card Actions"}),a.jsxs("div",{style:m,children:[a.jsx(Ue,{size:"md",onClick:()=>{}}),a.jsx($r,{size:"md",onClick:()=>{}}),a.jsx(vt,{size:"md",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`// In a card component
<ViewButton size="md" onClick={handleView} />
<PrintButton size="md" onClick={handlePrint} />
<EditButton size="md" onClick={handleEdit} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Component Props"}),a.jsxs(Ee,{variant:"custom",style:u,children:[a.jsx("div",{style:p,children:`interface IconButtonProps {
  onClick?: () => void;
  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  isLoading?: boolean;
  title?: string;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"onClick:"})," Click handler function"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Button style variant (default varies by button type)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Button size (default: 'sm')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"disabled:"})," Disables the button (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"isLoading:"})," Shows loading spinner (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"title:"})," Tooltip text (default: button name)"]})]})]})]})]})]})},IY=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),[l,o]=x.useState(!1),[u,d]=x.useState(!1),[h,m]=x.useState(!1),[p,g]=x.useState(null),[b,y]=x.useState(!1),[A,S]=x.useState([{name:"Slot 1",startTime:"",endTime:""}]);x.useEffect(()=>{w()},[]),x.useEffect(()=>{const k=e.filter(_=>_.type==="room");r(k)},[e]);const w=async()=>{y(!0);try{const k=await ue.masterData.getAll({type:"room"});k.data?.masterData?t(k.data.masterData):t([])}catch(k){console.error("Error loading master data:",k),t([])}finally{y(!1)}},E=()=>{g({type:"room",code:"",name:"",data:{},status:"Active"}),S([{name:"Slot 1",startTime:"",endTime:""}]),o(!0)},D=k=>{if(g(k),k.data?.timeSlots&&Array.isArray(k.data.timeSlots)&&k.data.timeSlots.length>0){const _=k.data.timeSlots.map(($,V)=>typeof $=="string"?{name:`Slot ${V+1}`,startTime:"",endTime:""}:{name:$.name||`Slot ${V+1}`,startTime:$.startTime||"",endTime:$.endTime||""});S(_.length>0?_:[{name:"Slot 1",startTime:"",endTime:""}])}else k.data?.startTime&&k.data?.endTime?S([{name:"Slot 1",startTime:k.data.startTime,endTime:k.data.endTime}]):S([{name:"Slot 1",startTime:"",endTime:""}]);d(!0)},T=k=>{g(k),m(!0)},P=async()=>{if(p)try{const k=p._id||p.id;if(!k){alert("Invalid entry ID");return}await ue.masterData.delete(k),await w(),m(!1),g(null),alert("Entry deleted successfully!")}catch(k){console.error("Error deleting entry:",k),alert("Failed to delete entry. Please try again.")}},[O,M]=x.useState({});x.useEffect(()=>{u&&p?M(q()):l&&M({status:"Active"})},[u,l,p]);const N=(k,_)=>{M({...O,[k]:_})},B=async k=>{k&&k.preventDefault();try{const _=O;if(!_.code||!_.code.trim()){alert("Code is required");return}if(!_.name||!_.name.trim()){alert("Name is required");return}const $={};if(_.building&&_.building.trim()&&($.building=_.building.trim()),_.floor&&_.floor.toString().trim()){const G=parseInt(_.floor);isNaN(G)||($.floor=G)}if(_.capacity&&_.capacity.toString().trim()){const G=parseInt(_.capacity);isNaN(G)||($.capacity=G)}const V=A.map((G,J)=>({name:G.name||`Slot ${J+1}`,startTime:G.startTime,endTime:G.endTime})).filter(G=>G.startTime&&G.endTime);V.length>0&&($.timeSlots=V,$.startTime=V[0].startTime,$.endTime=V[0].endTime);const R={type:"room",code:_.code.trim(),name:_.name.trim(),data:$,status:_.status||"Active"};if(u&&p){const G=p._id||p.id;if(!G){alert("Invalid entry ID");return}await ue.masterData.update(G,R),alert("Entry updated successfully!")}else await ue.masterData.create(R),alert("Entry created successfully!");await w(),o(!1),d(!1),g(null),S([{name:"Slot 1",startTime:"",endTime:""}])}catch(_){console.error("Error saving entry:",_);let $="Failed to save entry. Please try again.";_?.errorData?$=_.errorData.message||_.errorData.error||$:_?.message&&($=_.message),alert(`Error: ${$}`)}},L=()=>[{name:"code",label:"Code *",type:"text",placeholder:"e.g., ROM01",required:!0},{name:"name",label:"Name *",type:"text",placeholder:"e.g., Room 101",required:!0},{name:"building",label:"Building",type:"text",placeholder:"e.g., Main Building"},{name:"floor",label:"Floor",type:"number",placeholder:"e.g., 1, 2, 3"},{name:"capacity",label:"Capacity",type:"number",placeholder:"e.g., 30"},{name:"status",label:"Status *",type:"select",options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active"}],q=()=>p?{code:p.code,name:p.name,status:p.status,building:p.data.building||"",floor:p.data.floor?.toString()||"",capacity:p.data.capacity?.toString()||""}:{},U=()=>{const k=A.length+1;S([...A,{name:`Slot ${k}`,startTime:"",endTime:""}])},K=k=>{if(A.length>1){const $=A.filter((V,R)=>R!==k).map((V,R)=>({...V,name:`Slot ${R+1}`}));S($)}},W=(k,_,$)=>{const V=[...A];V[k]={...V[k],[_]:$},S(V)},ee=k=>{const _=A[k],$=_.endTime||"";let V="";if(_.startTime&&_.endTime){const[F,ne]=_.startTime.split(":").map(Number),[oe,ve]=_.endTime.split(":").map(Number),Z=F*60+ne,be=oe*60+ve-Z,[re,Oe]=$.split(":").map(Number),ye=re*60+Oe+be,Ce=Math.floor(ye/60)%24,Me=ye%60;V=`${String(Ce).padStart(2,"0")}:${String(Me).padStart(2,"0")}`}const G={name:`Slot ${k+2}`,startTime:$,endTime:V},J=[...A];J.splice(k+1,0,G);const H=J.map((F,ne)=>({...F,name:`Slot ${ne+1}`}));S(H)},te=k=>{if(!k)return"";const[_,$]=k.split(":"),V=parseInt(_),R=V>=12?"pm":"am";return`${V===0?12:V>12?V-12:V}:${$||"00"}${R}`},C=()=>[{key:"code",header:"Code",render:k=>a.jsx("span",{style:{fontWeight:600,color:"#667eea"},children:k})},{key:"name",header:"Name"},{key:"building",header:"Building",render:(k,_)=>_.data?.building||"N/A"},{key:"floor",header:"Floor",render:(k,_)=>_.data?.floor||"N/A"},{key:"capacity",header:"Capacity",render:(k,_)=>_.data?.capacity||"N/A"},{key:"timeSlot",header:"Time Slot",render:(k,_)=>a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:(()=>{if(_.data?.timeSlots&&Array.isArray(_.data.timeSlots)&&_.data.timeSlots.length>0){const R=_.data.timeSlots.filter(G=>G.startTime&&G.endTime);if(R.length>0)return R.map((G,J)=>{const H=te(G.startTime),F=te(G.endTime);return a.jsxs("span",{style:{fontSize:"0.8rem",color:"#666",fontWeight:500},children:[H,"-",F]},J)})}const $=_.data?.startTime,V=_.data?.endTime;return $&&V?a.jsxs("span",{style:{fontSize:"0.8rem",color:"#666",fontWeight:500},children:[te($),"-",te(V)]}):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999",fontStyle:"italic"},children:"N/A"})})()})},{key:"status",header:"Status",render:k=>a.jsx(ge,{variant:k==="Active"?"success":"secondary",size:"sm",children:k})},{key:"actions",header:"Actions",render:(k,_)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(vt,{size:"sm",onClick:()=>D(_)}),a.jsx(Mt,{size:"sm",onClick:()=>T(_)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Master Data Management"}),a.jsx(ro,{size:"md",onClick:E,title:"Add New Room"})]}),b?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#666"},children:"Loading..."}):a.jsx(si,{columns:C(),data:n.slice(0,10),emptyMessage:"No rooms found"}),a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:l||u?"flex":"none",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:()=>{o(!1),d(!1),g(null),S([{name:"Slot 1",startTime:"",endTime:""}])},children:a.jsxs("div",{style:{background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"auto",display:"flex",flexDirection:"column",width:"100%",maxWidth:"700px"},onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e0e0e0"},children:[a.jsxs("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},children:[u?"Edit":"Add"," Room"]}),a.jsx("button",{type:"button",onClick:()=>{o(!1),d(!1),g(null),S([{name:"Slot 1",startTime:"",endTime:""}])},style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(qa,{size:20})})]}),a.jsx("div",{style:{padding:"1.5rem"},children:a.jsx("form",{onSubmit:B,children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:(()=>{const k=L(),_=[];let $=[];return k.forEach(V=>{$.push(V),$.length===3&&(_.push([...$]),$=[])}),$.length>0&&_.push($),_.map((V,R)=>a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${V.length}, 1fr)`,gap:"1rem"},children:V.map(G=>a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontWeight:500,fontSize:"0.85rem"},children:G.label}),G.type==="select"?a.jsxs("select",{value:O[G.name]||G.defaultValue||"",onChange:J=>N(G.name,J.target.value),required:G.required,style:{padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:G.placeholder||`Select ${G.label}`}),G.options?.map(J=>a.jsx("option",{value:J.value,children:J.label},J.value))]}):a.jsx("input",{type:G.type,value:O[G.name]||"",onChange:J=>N(G.name,J.target.value),placeholder:G.placeholder,required:G.required,min:G.min,style:{padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"}})]},G.name))},R))})()}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e2e8f0"},children:"Time Slots"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(()=>{const k=[];for(let _=0;_<A.length;_+=2)k.push(A.slice(_,_+2));return k.map((_,$)=>a.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:_.map((V,R)=>{const G=$*2+R;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",background:"#f7fafc"},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#667eea",marginBottom:"0.25rem"},children:V.name||`Slot ${G+1}`}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto auto",gap:"0.5rem",alignItems:"flex-end"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:500,fontSize:"0.75rem"},children:"Start Time"}),a.jsx("input",{type:"time",value:V.startTime,onChange:J=>W(G,"startTime",J.target.value),style:{width:"100%",padding:"0.4rem 0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.8rem"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:500,fontSize:"0.75rem"},children:"End Time"}),a.jsx("input",{type:"time",value:V.endTime,onChange:J=>W(G,"endTime",J.target.value),style:{width:"100%",padding:"0.4rem 0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.8rem"}})]}),a.jsx("button",{type:"button",onClick:()=>ee(G),style:{padding:"0.4rem",background:"#e0e7ff",color:"#667eea",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Copy this time slot",children:a.jsx(P5,{size:14})}),a.jsx("button",{type:"button",onClick:()=>K(G),disabled:A.length===1,style:{padding:"0.4rem",background:A.length===1?"#e2e8f0":"#fed7d7",color:A.length===1?"#9ca3af":"#c53030",border:"none",borderRadius:"0.5rem",cursor:A.length===1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:A.length===1?"At least one time slot is required":"Remove time slot",children:a.jsx(qa,{size:14})})]})]},G)})},$))})(),a.jsxs("button",{type:"button",onClick:U,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:[a.jsx($i,{size:16}),"Add Slot"]})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[a.jsx("button",{type:"button",onClick:()=>{o(!1),d(!1),g(null),S([{name:"Slot 1",startTime:"",endTime:""}])},style:{padding:"0.625rem 1.25rem",background:"#e2e8f0",color:"#374151",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{type:"submit",style:{padding:"0.625rem 1.25rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:u?"Update":"Create"})]})]})})})]})}),a.jsx(He,{isOpen:h,onClose:()=>{m(!1),g(null)},title:"Confirm Delete",size:"sm",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("p",{style:{marginBottom:"1.5rem",color:"#666"},children:["Are you sure you want to delete ",a.jsx("strong",{children:p?.name}),"? This action cannot be undone."]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[a.jsx("button",{onClick:()=>{m(!1),g(null)},style:{padding:"0.5rem 1rem",background:"#e5e7eb",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:P,style:{padding:"0.5rem 1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Delete"})]})]})})]})};function $Y(){return a.jsx(Mz,{children:a.jsxs(sz,{children:[a.jsx(Te,{path:"/",element:a.jsx(Lz,{})}),a.jsx(Te,{path:"/register",element:a.jsx(h6,{})}),a.jsxs(Te,{path:"/dashboard/:role",element:a.jsx(IV,{}),children:[a.jsx(Te,{index:!0,element:a.jsx("div",{})}),a.jsx(Te,{path:"teachers",element:a.jsx(FV,{})}),a.jsx(Te,{path:"teachers/add",element:a.jsx(ZE,{})}),a.jsx(Te,{path:"teachers/edit/:id",element:a.jsx(ZE,{})}),a.jsx(Te,{path:"teachers/performance",element:a.jsx(WV,{})}),a.jsx(Te,{path:"teachers/:id",element:a.jsx(qV,{})}),a.jsx(Te,{path:"students",element:a.jsx(HV,{})}),a.jsx(Te,{path:"students/add",element:a.jsx(JE,{})}),a.jsx(Te,{path:"students/edit/:id",element:a.jsx(JE,{})}),a.jsx(Te,{path:"students/records",element:a.jsx(VV,{})}),a.jsx(Te,{path:"students/assignments",element:a.jsx(YV,{})}),a.jsx(Te,{path:"students/tests",element:a.jsx(XV,{})}),a.jsx(Te,{path:"students/quizzes",element:a.jsx(QV,{})}),a.jsx(Te,{path:"students/:id",element:a.jsx(KV,{})}),a.jsx(Te,{path:"classes",element:a.jsx(ZV,{})}),a.jsx(Te,{path:"classes/add",element:a.jsx(e5,{})}),a.jsx(Te,{path:"classes/edit/:id",element:a.jsx(e5,{})}),a.jsx(Te,{path:"subjects",element:a.jsx(eY,{})}),a.jsx(Te,{path:"subjects/add",element:a.jsx(t5,{})}),a.jsx(Te,{path:"subjects/edit/:id",element:a.jsx(t5,{})}),a.jsx(Te,{path:"subjects/:id",element:a.jsx(nY,{})}),a.jsx(Te,{path:"attendance/mark",element:a.jsx(rY,{})}),a.jsx(Te,{path:"attendance/view",element:a.jsx(aY,{})}),a.jsx(Te,{path:"attendance/reports",element:a.jsx(iY,{})}),a.jsx(Te,{path:"attendance/daily",element:a.jsx(sY,{})}),a.jsx(Te,{path:"exams",element:a.jsx(lY,{})}),a.jsx(Te,{path:"exams/create",element:a.jsx(n5,{})}),a.jsx(Te,{path:"exams/edit/:id",element:a.jsx(n5,{})}),a.jsx(Te,{path:"exams/grade/:id",element:a.jsx(r5,{})}),a.jsx(Te,{path:"exams/results",element:a.jsx(oY,{})}),a.jsx(Te,{path:"accounts",element:a.jsx(i5,{})}),a.jsx(Te,{path:"accounts/fee-management",element:a.jsx(uY,{})}),a.jsx(Te,{path:"accounts/fees",element:a.jsx(l5,{})}),a.jsx(Te,{path:"accounts/payroll",element:a.jsx(o5,{})}),a.jsx(Te,{path:"accounts/expenses",element:a.jsx(c5,{})}),a.jsx(Te,{path:"accounts/reports",element:a.jsx(u5,{})}),a.jsx(Te,{path:"accounts/transactions",element:a.jsx(s5,{})}),a.jsx(Te,{path:"admissions",element:a.jsx(dY,{})}),a.jsx(Te,{path:"admissions/new",element:a.jsx(fY,{})}),a.jsx(Te,{path:"admissions/reports",element:a.jsx(hY,{})}),a.jsx(Te,{path:"reports",element:a.jsx(mY,{})}),a.jsx(Te,{path:"reports/academic",element:a.jsx(pY,{})}),a.jsx(Te,{path:"reports/attendance",element:a.jsx(gY,{})}),a.jsx(Te,{path:"users",element:a.jsx(yY,{})}),a.jsx(Te,{path:"users/add",element:a.jsx(vY,{})}),a.jsx(Te,{path:"users/activity",element:a.jsx(_M,{})}),a.jsx(Te,{path:"branches",element:a.jsx(xY,{})}),a.jsx(Te,{path:"branches/add",element:a.jsx(bY,{})}),a.jsx(Te,{path:"branches/settings",element:a.jsx(jY,{})}),a.jsx(Te,{path:"branches/transfer",element:a.jsx(SY,{})}),a.jsx(Te,{path:"branches/reports",element:a.jsx(AY,{})}),a.jsx(Te,{path:"students",element:a.jsx(wY,{})}),a.jsx(Te,{path:"attendance",element:a.jsx(EY,{})}),a.jsx(Te,{path:"assignments",element:a.jsx(TY,{})}),a.jsx(Te,{path:"exams",element:a.jsx(CY,{})}),a.jsx(Te,{path:"exams/grade/:id",element:a.jsx(r5,{})}),a.jsx(Te,{path:"timetable",element:a.jsx(OY,{})}),a.jsx(Te,{path:"my-courses",element:a.jsx(DY,{})}),a.jsx(Te,{path:"assignments",element:a.jsx(zY,{})}),a.jsx(Te,{path:"papers",element:a.jsx(kY,{})}),a.jsx(Te,{path:"my-grades",element:a.jsx(MY,{})}),a.jsx(Te,{path:"accounts",element:a.jsx(i5,{})}),a.jsx(Te,{path:"accounts/fees",element:a.jsx(l5,{})}),a.jsx(Te,{path:"accounts/payroll",element:a.jsx(o5,{})}),a.jsx(Te,{path:"accounts/expenses",element:a.jsx(c5,{})}),a.jsx(Te,{path:"accounts/reports",element:a.jsx(u5,{})}),a.jsx(Te,{path:"accounts/transactions",element:a.jsx(s5,{})}),a.jsx(Te,{path:"settings/theme",element:a.jsx(PY,{})}),a.jsx(Te,{path:"settings/master-data",element:a.jsx(IY,{})}),a.jsx(Te,{path:"settings/buttons",element:a.jsx(_Y,{})}),a.jsx(Te,{path:"settings/badges",element:a.jsx(RY,{})}),a.jsx(Te,{path:"settings/icon-buttons",element:a.jsx(BY,{})})]}),a.jsx(Te,{path:"/teachers",element:a.jsx(ms,{to:"/dashboard/admin/teachers",replace:!0})}),a.jsx(Te,{path:"/students",element:a.jsx(ms,{to:"/dashboard/admin/students",replace:!0})}),a.jsx(Te,{path:"/attendance",element:a.jsx(ms,{to:"/dashboard/admin/attendance/mark",replace:!0})}),a.jsx(Te,{path:"/exams",element:a.jsx(ms,{to:"/dashboard/admin/exams",replace:!0})}),a.jsx(Te,{path:"/accounts",element:a.jsx(ms,{to:"/dashboard/admin/accounts",replace:!0})}),a.jsx(Te,{path:"/admissions",element:a.jsx(ms,{to:"/dashboard/admin/admissions",replace:!0})}),a.jsx(Te,{path:"*",element:a.jsx(ms,{to:"/",replace:!0})})]})})}oN.createRoot(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(cN,{children:a.jsx(hN,{children:a.jsx($Y,{})})})}));
