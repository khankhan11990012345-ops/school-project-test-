function J3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bp={exports:{}},nc={};var NS;function eN(){if(NS)return nc;NS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var u in l)u!=="key"&&(o[u]=l[u])}else o=l;return l=o.ref,{$$typeof:e,type:r,key:d,ref:l!==void 0?l:null,props:o}}return nc.Fragment=t,nc.jsx=n,nc.jsxs=n,nc}var zS;function tN(){return zS||(zS=1,Bp.exports=eN()),Bp.exports}var a=tN(),$p={exports:{}},Ke={};var PS;function nN(){if(PS)return Ke;PS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function A(U,L,te){this.props=U,this.context=L,this.refs=C,this.updater=te||S}A.prototype.isReactComponent={},A.prototype.setState=function(U,L){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,L,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=A.prototype;function w(U,L,te){this.props=U,this.context=L,this.refs=C,this.updater=te||S}var z=w.prototype=new O;z.constructor=w,E(z,A.prototype),z.isPureReactComponent=!0;var T=Array.isArray;function M(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function $(U,L,te){var V=te.ref;return{$$typeof:e,type:U,key:L,ref:V!==void 0?V:null,props:te}}function B(U,L){return $(U.type,L,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function q(U){var L={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return L[te]})}var W=/\/+/g;function K(U,L){return typeof U=="object"&&U!==null&&U.key!=null?q(""+U.key):L.toString(36)}function H(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(L){U.status==="pending"&&(U.status="fulfilled",U.value=L)},function(L){U.status==="pending"&&(U.status="rejected",U.reason=L)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function D(U,L,te,V,X){var Q=typeof U;(Q==="undefined"||Q==="boolean")&&(U=null);var ae=!1;if(U===null)ae=!0;else switch(Q){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(U.$$typeof){case e:case t:ae=!0;break;case p:return ae=U._init,D(ae(U._payload),L,te,V,X)}}if(ae)return X=X(U),ae=V===""?"."+K(U,0):V,T(X)?(te="",ae!=null&&(te=ae.replace(W,"$&/")+"/"),D(X,L,te,"",function(xe){return xe})):X!=null&&(R(X)&&(X=B(X,te+(X.key==null||U&&U.key===X.key?"":(""+X.key).replace(W,"$&/")+"/")+ae)),L.push(X)),1;ae=0;var pe=V===""?".":V+":";if(T(U))for(var ee=0;ee<U.length;ee++)V=U[ee],Q=pe+K(V,ee),ae+=D(V,L,te,Q,X);else if(ee=y(U),typeof ee=="function")for(U=ee.call(U),ee=0;!(V=U.next()).done;)V=V.value,Q=pe+K(V,ee++),ae+=D(V,L,te,Q,X);else if(Q==="object"){if(typeof U.then=="function")return D(H(U),L,te,V,X);throw L=String(U),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ae}function k(U,L,te){if(U==null)return U;var V=[],X=0;return D(U,V,"","",function(Q){return L.call(te,Q,X++)}),V}function _(U){if(U._status===-1){var L=U._result;L=L(),L.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=L)}if(U._status===1)return U._result.default;throw U._result}var F=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Y={map:k,forEach:function(U,L,te){k(U,function(){L.apply(this,arguments)},te)},count:function(U){var L=0;return k(U,function(){L++}),L},toArray:function(U){return k(U,function(L){return L})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ke.Activity=g,Ke.Children=Y,Ke.Component=A,Ke.Fragment=n,Ke.Profiler=l,Ke.PureComponent=w,Ke.StrictMode=r,Ke.Suspense=m,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ke.cache=function(U){return function(){return U.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(U,L,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var V=E({},U.props),X=U.key;if(L!=null)for(Q in L.key!==void 0&&(X=""+L.key),L)!I.call(L,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&L.ref===void 0||(V[Q]=L[Q]);var Q=arguments.length-2;if(Q===1)V.children=te;else if(1<Q){for(var ae=Array(Q),pe=0;pe<Q;pe++)ae[pe]=arguments[pe+2];V.children=ae}return $(U.type,X,V)},Ke.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ke.createElement=function(U,L,te){var V,X={},Q=null;if(L!=null)for(V in L.key!==void 0&&(Q=""+L.key),L)I.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(X[V]=L[V]);var ae=arguments.length-2;if(ae===1)X.children=te;else if(1<ae){for(var pe=Array(ae),ee=0;ee<ae;ee++)pe[ee]=arguments[ee+2];X.children=pe}if(U&&U.defaultProps)for(V in ae=U.defaultProps,ae)X[V]===void 0&&(X[V]=ae[V]);return $(U,Q,X)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(U){return{$$typeof:u,render:U}},Ke.isValidElement=R,Ke.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:_}},Ke.memo=function(U,L){return{$$typeof:h,type:U,compare:L===void 0?null:L}},Ke.startTransition=function(U){var L=N.T,te={};N.T=te;try{var V=U(),X=N.S;X!==null&&X(te,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(M,F)}catch(Q){F(Q)}finally{L!==null&&te.types!==null&&(L.types=te.types),N.T=L}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(U){return N.H.use(U)},Ke.useActionState=function(U,L,te){return N.H.useActionState(U,L,te)},Ke.useCallback=function(U,L){return N.H.useCallback(U,L)},Ke.useContext=function(U){return N.H.useContext(U)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(U,L){return N.H.useDeferredValue(U,L)},Ke.useEffect=function(U,L){return N.H.useEffect(U,L)},Ke.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(U,L,te){return N.H.useImperativeHandle(U,L,te)},Ke.useInsertionEffect=function(U,L){return N.H.useInsertionEffect(U,L)},Ke.useLayoutEffect=function(U,L){return N.H.useLayoutEffect(U,L)},Ke.useMemo=function(U,L){return N.H.useMemo(U,L)},Ke.useOptimistic=function(U,L){return N.H.useOptimistic(U,L)},Ke.useReducer=function(U,L,te){return N.H.useReducer(U,L,te)},Ke.useRef=function(U){return N.H.useRef(U)},Ke.useState=function(U){return N.H.useState(U)},Ke.useSyncExternalStore=function(U,L,te){return N.H.useSyncExternalStore(U,L,te)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.2.0",Ke}var _S;function Hl(){return _S||(_S=1,$p.exports=nN()),$p.exports}var v=Hl();const Cv=oi(v),rN=J3({__proto__:null,default:Cv},[v]);var Lp={exports:{}},rc={},Up={exports:{}},Fp={};var IS;function aN(){return IS||(IS=1,(function(e){function t(D,k){var _=D.length;D.push(k);e:for(;0<_;){var F=_-1>>>1,Y=D[F];if(0<l(Y,k))D[F]=k,D[_]=Y,_=F;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var k=D[0],_=D.pop();if(_!==k){D[0]=_;e:for(var F=0,Y=D.length,U=Y>>>1;F<U;){var L=2*(F+1)-1,te=D[L],V=L+1,X=D[V];if(0>l(te,_))V<Y&&0>l(X,te)?(D[F]=X,D[V]=_,F=V):(D[F]=te,D[L]=_,F=L);else if(V<Y&&0>l(X,_))D[F]=X,D[V]=_,F=V;else break e}}return k}function l(D,k){var _=D.sortIndex-k.sortIndex;return _!==0?_:D.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var m=[],h=[],p=1,g=null,b=3,y=!1,S=!1,E=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function z(D){for(var k=n(h);k!==null;){if(k.callback===null)r(h);else if(k.startTime<=D)r(h),k.sortIndex=k.expirationTime,t(m,k);else break;k=n(h)}}function T(D){if(E=!1,z(D),!S)if(n(m)!==null)S=!0,M||(M=!0,q());else{var k=n(h);k!==null&&H(T,k.startTime-D)}}var M=!1,N=-1,I=5,$=-1;function B(){return C?!0:!(e.unstable_now()-$<I)}function R(){if(C=!1,M){var D=e.unstable_now();$=D;var k=!0;try{e:{S=!1,E&&(E=!1,O(N),N=-1),y=!0;var _=b;try{t:{for(z(D),g=n(m);g!==null&&!(g.expirationTime>D&&B());){var F=g.callback;if(typeof F=="function"){g.callback=null,b=g.priorityLevel;var Y=F(g.expirationTime<=D);if(D=e.unstable_now(),typeof Y=="function"){g.callback=Y,z(D),k=!0;break t}g===n(m)&&r(m),z(D)}else r(m);g=n(m)}if(g!==null)k=!0;else{var U=n(h);U!==null&&H(T,U.startTime-D),k=!1}}break e}finally{g=null,b=_,y=!1}k=void 0}}finally{k?q():M=!1}}}var q;if(typeof w=="function")q=function(){w(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=R,q=function(){K.postMessage(null)}}else q=function(){A(R,0)};function H(D,k){N=A(function(){D(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(D){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var _=b;b=k;try{return D()}finally{b=_}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var _=b;b=D;try{return k()}finally{b=_}},e.unstable_scheduleCallback=function(D,k,_){var F=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?F+_:F):_=F,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=_+Y,D={id:p++,callback:k,priorityLevel:D,startTime:_,expirationTime:Y,sortIndex:-1},_>F?(D.sortIndex=_,t(h,D),n(m)===null&&D===n(h)&&(E?(O(N),N=-1):E=!0,H(T,_-F))):(D.sortIndex=Y,t(m,D),S||y||(S=!0,M||(M=!0,q()))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var k=b;return function(){var _=b;b=k;try{return D.apply(this,arguments)}finally{b=_}}}})(Fp)),Fp}var RS;function iN(){return RS||(RS=1,Up.exports=aN()),Up.exports}var Gp={exports:{}},Ln={};var BS;function sN(){if(BS)return Ln;BS=1;var e=Hl();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:m,containerInfo:h,implementation:p}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ln.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(m,h,null,p)},Ln.flushSync=function(m){var h=d.T,p=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=h,r.p=p,r.d.f()}},Ln.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},Ln.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ln.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):p==="script"&&r.d.X(m,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ln.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},Ln.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(m,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ln.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},Ln.requestFormReset=function(m){r.d.r(m)},Ln.unstable_batchedUpdates=function(m,h){return m(h)},Ln.useFormState=function(m,h,p){return d.H.useFormState(m,h,p)},Ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var $S;function yE(){if($S)return Gp.exports;$S=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gp.exports=sN(),Gp.exports}var LS;function lN(){if(LS)return rc;LS=1;var e=iN(),t=Hl(),n=yE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function d(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function u(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,f=s;;){var x=c.return;if(x===null)break;var j=x.alternate;if(j===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===c)return m(x),i;if(j===f)return m(x),s;j=j.sibling}throw Error(r(188))}if(c.return!==f.return)c=x,f=j;else{for(var P=!1,G=x.child;G;){if(G===c){P=!0,c=x,f=j;break}if(G===f){P=!0,f=x,c=j;break}G=G.sibling}if(!P){for(G=j.child;G;){if(G===c){P=!0,c=j,f=x;break}if(G===f){P=!0,f=j,c=x;break}G=G.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),w=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var W=Symbol.for("react.client.reference");function K(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===W?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case w:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:K(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return K(i(s))}catch{}}return null}var H=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},F=[],Y=-1;function U(i){return{current:i}}function L(i){0>Y||(i.current=F[Y],F[Y]=null,Y--)}function te(i,s){Y++,F[Y]=i.current,i.current=s}var V=U(null),X=U(null),Q=U(null),ae=U(null);function pe(i,s){switch(te(Q,s),te(X,i),te(V,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?tS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=tS(s),i=nS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(V),te(V,i)}function ee(){L(V),L(X),L(Q)}function xe(i){i.memoizedState!==null&&te(ae,i);var s=V.current,c=nS(s,i.type);s!==c&&(te(X,i),te(V,c))}function ge(i){X.current===i&&(L(V),L(X)),ae.current===i&&(L(ae),Zo._currentValue=_)}var de,Ee;function Z(i){if(de===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);de=s&&s[1]||"",Ee=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+i+Ee}var ye=!1;function De(i,s){if(!i||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(he){var fe=he}Reflect.construct(i,[],Ae)}else{try{Ae.call()}catch(he){fe=he}i.call(Ae.prototype)}}else{try{throw Error()}catch(he){fe=he}(Ae=i())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=f.DetermineComponentFrameRoot(),P=j[0],G=j[1];if(P&&G){var J=P.split(`
`),ce=G.split(`
`);for(x=f=0;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;for(;x<ce.length&&!ce[x].includes("DetermineComponentFrameRoot");)x++;if(f===J.length||x===ce.length)for(f=J.length-1,x=ce.length-1;1<=f&&0<=x&&J[f]!==ce[x];)x--;for(;1<=f&&0<=x;f--,x--)if(J[f]!==ce[x]){if(f!==1||x!==1)do if(f--,x--,0>x||J[f]!==ce[x]){var ve=`
`+J[f].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=f&&0<=x);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Z(c):""}function ze(i,s){switch(i.tag){case 26:case 27:case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return i.child!==s&&s!==null?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return De(i.type,!1);case 11:return De(i.type.render,!1);case 1:return De(i.type,!0);case 31:return Z("Activity");default:return""}}function He(i){try{var s="",c=null;do s+=ze(i,c),c=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Dt=Object.prototype.hasOwnProperty,_t=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,ht=e.unstable_shouldYield,cr=e.unstable_requestPaint,Je=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,be=e.unstable_NormalPriority,Ne=e.unstable_LowPriority,Le=e.unstable_IdlePriority,qe=e.log,It=e.unstable_setDisableYieldValue,ft=null,bt=null;function Fe(i){if(typeof qe=="function"&&It(i),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(ft,i)}catch{}}var Ze=Math.clz32?Math.clz32:Ea,Wn=Math.log,kr=Math.LN2;function Ea(i){return i>>>=0,i===0?32:31-(Wn(i)/kr|0)|0}var Ca=256,td=262144,nd=4194304;function ts(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function rd(i,s,c){var f=i.pendingLanes;if(f===0)return 0;var x=0,j=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var G=f&134217727;return G!==0?(f=G&~j,f!==0?x=ts(f):(P&=G,P!==0?x=ts(P):c||(c=G&~i,c!==0&&(x=ts(c))))):(G=f&~j,G!==0?x=ts(G):P!==0?x=ts(P):c||(c=f&~i,c!==0&&(x=ts(c)))),x===0?0:s!==0&&s!==x&&(s&j)===0&&(j=x&-x,c=s&-s,j>=c||j===32&&(c&4194048)!==0)?s:x}function uo(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function LD(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ix(){var i=nd;return nd<<=1,(nd&62914560)===0&&(nd=4194304),i}function Cm(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function fo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function UD(i,s,c,f,x,j){var P=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var G=i.entanglements,J=i.expirationTimes,ce=i.hiddenUpdates;for(c=P&~c;0<c;){var ve=31-Ze(c),Ae=1<<ve;G[ve]=0,J[ve]=-1;var fe=ce[ve];if(fe!==null)for(ce[ve]=null,ve=0;ve<fe.length;ve++){var he=fe[ve];he!==null&&(he.lane&=-536870913)}c&=~Ae}f!==0&&Rx(i,f,0),j!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=j&~(P&~s))}function Rx(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Ze(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|c&261930}function Bx(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var f=31-Ze(c),x=1<<f;x&s|i[f]&s&&(i[f]|=s),c&=~x}}function $x(i,s){var c=s&-s;return c=(c&42)!==0?1:Tm(c),(c&(i.suspendedLanes|s))!==0?0:c}function Tm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Om(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lx(){var i=k.p;return i!==0?i:(i=window.event,i===void 0?32:ES(i.type))}function Ux(i,s){var c=k.p;try{return k.p=i,s()}finally{k.p=c}}var yi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+yi,Jn="__reactProps$"+yi,Hs="__reactContainer$"+yi,km="__reactEvents$"+yi,FD="__reactListeners$"+yi,GD="__reactHandles$"+yi,Fx="__reactResources$"+yi,mo="__reactMarker$"+yi;function Dm(i){delete i[Dn],delete i[Jn],delete i[km],delete i[FD],delete i[GD]}function Ks(i){var s=i[Dn];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Hs]||c[Dn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=cS(i);i!==null;){if(c=i[Dn])return c;i=cS(i)}return s}i=c,c=i.parentNode}return null}function Vs(i){if(i=i[Dn]||i[Hs]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ho(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ys(i){var s=i[Fx];return s||(s=i[Fx]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function En(i){i[mo]=!0}var Gx=new Set,qx={};function ns(i,s){Xs(i,s),Xs(i+"Capture",s)}function Xs(i,s){for(qx[i]=s,i=0;i<s.length;i++)Gx.add(s[i])}var qD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wx={},Hx={};function WD(i){return Dt.call(Hx,i)?!0:Dt.call(Wx,i)?!1:qD.test(i)?Hx[i]=!0:(Wx[i]=!0,!1)}function ad(i,s,c){if(WD(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function id(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Ta(i,s,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+f)}}function Dr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Kx(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function HD(i,s,c){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,j=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return x.call(this)},set:function(P){c=""+P,j.call(this,P)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Mm(i){if(!i._valueTracker){var s=Kx(i)?"checked":"value";i._valueTracker=HD(i,s,""+i[s])}}function Vx(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return i&&(f=Kx(i)?i.checked?"true":"false":i.value),i=f,i!==c?(s.setValue(i),!0):!1}function sd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var KD=/[\n"\\]/g;function Mr(i){return i.replace(KD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nm(i,s,c,f,x,j,P,G){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),s!=null?P==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Dr(s)):i.value!==""+Dr(s)&&(i.value=""+Dr(s)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),s!=null?zm(i,P,Dr(s)):c!=null?zm(i,P,Dr(c)):f!=null&&i.removeAttribute("value"),x==null&&j!=null&&(i.defaultChecked=!!j),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+Dr(G):i.removeAttribute("name")}function Yx(i,s,c,f,x,j,P,G){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),s!=null||c!=null){if(!(j!=="submit"&&j!=="reset"||s!=null)){Mm(i);return}c=c!=null?""+Dr(c):"",s=s!=null?""+Dr(s):c,G||s===i.value||(i.value=s),i.defaultValue=s}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=G?i.checked:!!f,i.defaultChecked=!!f,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P),Mm(i)}function zm(i,s,c){s==="number"&&sd(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Qs(i,s,c,f){if(i=i.options,s){s={};for(var x=0;x<c.length;x++)s["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=s.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&f&&(i[c].defaultSelected=!0)}else{for(c=""+Dr(c),s=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,f&&(i[x].defaultSelected=!0);return}s!==null||i[x].disabled||(s=i[x])}s!==null&&(s.selected=!0)}}function Xx(i,s,c){if(s!=null&&(s=""+Dr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+Dr(c):""}function Qx(i,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(H(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=Dr(s),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f),Mm(i)}function Zs(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var VD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(i,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,c):typeof c!="number"||c===0||VD.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Jx(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var x in s)f=s[x],s.hasOwnProperty(x)&&c[x]!==f&&Zx(i,x,f)}else for(var j in s)s.hasOwnProperty(j)&&Zx(i,j,s[j])}function Pm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ld(i){return XD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Oa(){}var _m=null;function Im(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Js=null,el=null;function eb(i){var s=Vs(i);if(s&&(i=s.stateNode)){var c=i[Jn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Nm(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==i&&f.form===i.form){var x=f[Jn]||null;if(!x)throw Error(r(90));Nm(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===i.form&&Vx(f)}break e;case"textarea":Xx(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Qs(i,!!c.multiple,s,!1)}}}var Rm=!1;function tb(i,s,c){if(Rm)return i(s,c);Rm=!0;try{var f=i(s);return f}finally{if(Rm=!1,(Js!==null||el!==null)&&(Vd(),Js&&(s=Js,i=el,el=Js=null,eb(s),i)))for(s=0;s<i.length;s++)eb(i[s])}}function po(i,s){var c=i.stateNode;if(c===null)return null;var f=c[Jn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=!1;if(ka)try{var go={};Object.defineProperty(go,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Bm=!1}var vi=null,$m=null,od=null;function nb(){if(od)return od;var i,s=$m,c=s.length,f,x="value"in vi?vi.value:vi.textContent,j=x.length;for(i=0;i<c&&s[i]===x[i];i++);var P=c-i;for(f=1;f<=P&&s[c-f]===x[j-f];f++);return od=x.slice(i,1<f?1-f:void 0)}function cd(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function dd(){return!0}function rb(){return!1}function er(i){function s(c,f,x,j,P){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=j,this.target=P,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(c=i[G],this[G]=c?c(j):j[G]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?dd:rb,this.isPropagationStopped=rb,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),s}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=er(rs),yo=g({},rs,{view:0,detail:0}),QD=er(yo),Lm,Um,vo,fd=g({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vo&&(vo&&i.type==="mousemove"?(Lm=i.screenX-vo.screenX,Um=i.screenY-vo.screenY):Um=Lm=0,vo=i),Lm)},movementY:function(i){return"movementY"in i?i.movementY:Um}}),ab=er(fd),ZD=g({},fd,{dataTransfer:0}),JD=er(ZD),eM=g({},yo,{relatedTarget:0}),Fm=er(eM),tM=g({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),nM=er(tM),rM=g({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),aM=er(rM),iM=g({},rs,{data:0}),ib=er(iM),sM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cM(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=oM[i])?!!s[i]:!1}function Gm(){return cM}var dM=g({},yo,{key:function(i){if(i.key){var s=sM[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=cd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(i){return i.type==="keypress"?cd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uM=er(dM),fM=g({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sb=er(fM),mM=g({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),hM=er(mM),pM=g({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gM=er(pM),yM=g({},fd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vM=er(yM),xM=g({},rs,{newState:0,oldState:0}),bM=er(xM),jM=[9,13,27,32],qm=ka&&"CompositionEvent"in window,xo=null;ka&&"documentMode"in document&&(xo=document.documentMode);var SM=ka&&"TextEvent"in window&&!xo,lb=ka&&(!qm||xo&&8<xo&&11>=xo),ob=" ",cb=!1;function db(i,s){switch(i){case"keyup":return jM.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ub(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tl=!1;function AM(i,s){switch(i){case"compositionend":return ub(s);case"keypress":return s.which!==32?null:(cb=!0,ob);case"textInput":return i=s.data,i===ob&&cb?null:i;default:return null}}function wM(i,s){if(tl)return i==="compositionend"||!qm&&db(i,s)?(i=nb(),od=$m=vi=null,tl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return lb&&s.locale!=="ko"?null:s.data;default:return null}}var EM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!EM[i.type]:s==="textarea"}function mb(i,s,c,f){Js?el?el.push(f):el=[f]:Js=f,s=tu(s,"onChange"),0<s.length&&(c=new ud("onChange","change",null,c,f),i.push({event:c,listeners:s}))}var bo=null,jo=null;function CM(i){Y1(i,0)}function md(i){var s=ho(i);if(Vx(s))return i}function hb(i,s){if(i==="change")return s}var pb=!1;if(ka){var Wm;if(ka){var Hm="oninput"in document;if(!Hm){var gb=document.createElement("div");gb.setAttribute("oninput","return;"),Hm=typeof gb.oninput=="function"}Wm=Hm}else Wm=!1;pb=Wm&&(!document.documentMode||9<document.documentMode)}function yb(){bo&&(bo.detachEvent("onpropertychange",vb),jo=bo=null)}function vb(i){if(i.propertyName==="value"&&md(jo)){var s=[];mb(s,jo,i,Im(i)),tb(CM,s)}}function TM(i,s,c){i==="focusin"?(yb(),bo=s,jo=c,bo.attachEvent("onpropertychange",vb)):i==="focusout"&&yb()}function OM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return md(jo)}function kM(i,s){if(i==="click")return md(s)}function DM(i,s){if(i==="input"||i==="change")return md(s)}function MM(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var dr=typeof Object.is=="function"?Object.is:MM;function So(i,s){if(dr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!Dt.call(s,x)||!dr(i[x],s[x]))return!1}return!0}function xb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bb(i,s){var c=xb(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=s&&f>=s)return{node:c,offset:s-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xb(c)}}function jb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?jb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Sb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=sd(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=sd(i.document)}return s}function Km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var NM=ka&&"documentMode"in document&&11>=document.documentMode,nl=null,Vm=null,Ao=null,Ym=!1;function Ab(i,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ym||nl==null||nl!==sd(f)||(f=nl,"selectionStart"in f&&Km(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ao&&So(Ao,f)||(Ao=f,f=tu(Vm,"onSelect"),0<f.length&&(s=new ud("onSelect","select",null,s,c),i.push({event:s,listeners:f}),s.target=nl)))}function as(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var rl={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Xm={},wb={};ka&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function is(i){if(Xm[i])return Xm[i];if(!rl[i])return i;var s=rl[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in wb)return Xm[i]=s[c];return i}var Eb=is("animationend"),Cb=is("animationiteration"),Tb=is("animationstart"),zM=is("transitionrun"),PM=is("transitionstart"),_M=is("transitioncancel"),Ob=is("transitionend"),kb=new Map,Qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qm.push("scrollEnd");function na(i,s){kb.set(i,s),ns(s,[i])}var hd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Nr=[],al=0,Zm=0;function pd(){for(var i=al,s=Zm=al=0;s<i;){var c=Nr[s];Nr[s++]=null;var f=Nr[s];Nr[s++]=null;var x=Nr[s];Nr[s++]=null;var j=Nr[s];if(Nr[s++]=null,f!==null&&x!==null){var P=f.pending;P===null?x.next=x:(x.next=P.next,P.next=x),f.pending=x}j!==0&&Db(c,x,j)}}function gd(i,s,c,f){Nr[al++]=i,Nr[al++]=s,Nr[al++]=c,Nr[al++]=f,Zm|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Jm(i,s,c,f){return gd(i,s,c,f),yd(i)}function ss(i,s){return gd(i,null,null,s),yd(i)}function Db(i,s,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var x=!1,j=i.return;j!==null;)j.childLanes|=c,f=j.alternate,f!==null&&(f.childLanes|=c),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(x=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,x&&s!==null&&(x=31-Ze(c),i=j.hiddenUpdates,f=i[x],f===null?i[x]=[s]:f.push(s),s.lane=c|536870912),j):null}function yd(i){if(50<Wo)throw Wo=0,op=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var il={};function IM(i,s,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(i,s,c,f){return new IM(i,s,c,f)}function eh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Da(i,s){var c=i.alternate;return c===null?(c=ur(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Mb(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function vd(i,s,c,f,x,j){var P=0;if(f=i,typeof i=="function")eh(i)&&(P=1);else if(typeof i=="string")P=U3(i,c,V.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=ur(31,c,s,x),i.elementType=$,i.lanes=j,i;case E:return ls(c.children,x,j,s);case C:P=8,x|=24;break;case A:return i=ur(12,c,s,x|2),i.elementType=A,i.lanes=j,i;case T:return i=ur(13,c,s,x),i.elementType=T,i.lanes=j,i;case M:return i=ur(19,c,s,x),i.elementType=M,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:P=10;break e;case O:P=9;break e;case z:P=11;break e;case N:P=14;break e;case I:P=16,f=null;break e}P=29,c=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=ur(P,c,s,x),s.elementType=i,s.type=f,s.lanes=j,s}function ls(i,s,c,f){return i=ur(7,i,f,s),i.lanes=c,i}function th(i,s,c){return i=ur(6,i,null,s),i.lanes=c,i}function Nb(i){var s=ur(18,null,null,0);return s.stateNode=i,s}function nh(i,s,c){return s=ur(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var zb=new WeakMap;function zr(i,s){if(typeof i=="object"&&i!==null){var c=zb.get(i);return c!==void 0?c:(s={value:i,source:s,stack:He(s)},zb.set(i,s),s)}return{value:i,source:s,stack:He(s)}}var sl=[],ll=0,xd=null,wo=0,Pr=[],_r=0,xi=null,fa=1,ma="";function Ma(i,s){sl[ll++]=wo,sl[ll++]=xd,xd=i,wo=s}function Pb(i,s,c){Pr[_r++]=fa,Pr[_r++]=ma,Pr[_r++]=xi,xi=i;var f=fa;i=ma;var x=32-Ze(f)-1;f&=~(1<<x),c+=1;var j=32-Ze(s)+x;if(30<j){var P=x-x%5;j=(f&(1<<P)-1).toString(32),f>>=P,x-=P,fa=1<<32-Ze(s)+x|c<<x|f,ma=j+i}else fa=1<<j|c<<x|f,ma=i}function rh(i){i.return!==null&&(Ma(i,1),Pb(i,1,0))}function ah(i){for(;i===xd;)xd=sl[--ll],sl[ll]=null,wo=sl[--ll],sl[ll]=null;for(;i===xi;)xi=Pr[--_r],Pr[_r]=null,ma=Pr[--_r],Pr[_r]=null,fa=Pr[--_r],Pr[_r]=null}function _b(i,s){Pr[_r++]=fa,Pr[_r++]=ma,Pr[_r++]=xi,fa=s.id,ma=s.overflow,xi=i}var Mn=null,Rt=null,st=!1,bi=null,Ir=!1,ih=Error(r(519));function ji(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(zr(s,i)),ih}function Ib(i){var s=i.stateNode,c=i.type,f=i.memoizedProps;switch(s[Dn]=i,s[Jn]=f,c){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(c=0;c<Ko.length;c++)nt(Ko[c],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":nt("invalid",s),Yx(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":nt("invalid",s);break;case"textarea":nt("invalid",s),Qx(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||J1(s.textContent,c)?(f.popover!=null&&(nt("beforetoggle",s),nt("toggle",s)),f.onScroll!=null&&nt("scroll",s),f.onScrollEnd!=null&&nt("scrollend",s),f.onClick!=null&&(s.onclick=Oa),s=!0):s=!1,s||ji(i,!0)}function Rb(i){for(Mn=i.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:Mn=Mn.return}}function ol(i){if(i!==Mn)return!1;if(!st)return Rb(i),st=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Ap(i.type,i.memoizedProps)),c=!c),c&&Rt&&ji(i),Rb(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rt=oS(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rt=oS(i)}else s===27?(s=Rt,_i(i.type)?(i=Op,Op=null,Rt=i):Rt=s):Rt=Mn?Br(i.stateNode.nextSibling):null;return!0}function os(){Rt=Mn=null,st=!1}function sh(){var i=bi;return i!==null&&(ar===null?ar=i:ar.push.apply(ar,i),bi=null),i}function Eo(i){bi===null?bi=[i]:bi.push(i)}var lh=U(null),cs=null,Na=null;function Si(i,s,c){te(lh,s._currentValue),s._currentValue=c}function za(i){i._currentValue=lh.current,L(lh)}function oh(i,s,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===c)break;i=i.return}}function ch(i,s,c,f){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var j=x.dependencies;if(j!==null){var P=x.child;j=j.firstContext;e:for(;j!==null;){var G=j;j=x;for(var J=0;J<s.length;J++)if(G.context===s[J]){j.lanes|=c,G=j.alternate,G!==null&&(G.lanes|=c),oh(j.return,c,i),f||(P=null);break e}j=G.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(r(341));P.lanes|=c,j=P.alternate,j!==null&&(j.lanes|=c),oh(P,c,i),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===i){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function cl(i,s,c,f){i=null;for(var x=s,j=!1;x!==null;){if(!j){if((x.flags&524288)!==0)j=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var G=x.type;dr(x.pendingProps.value,P.value)||(i!==null?i.push(G):i=[G])}}else if(x===ae.current){if(P=x.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(Zo):i=[Zo])}x=x.return}i!==null&&ch(s,i,c,f),s.flags|=262144}function bd(i){for(i=i.firstContext;i!==null;){if(!dr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ds(i){cs=i,Na=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return Bb(cs,i)}function jd(i,s){return cs===null&&ds(i),Bb(i,s)}function Bb(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Na===null){if(i===null)throw Error(r(308));Na=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Na=Na.next=s;return c}var RM=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},BM=e.unstable_scheduleCallback,$M=e.unstable_NormalPriority,un={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dh(){return{controller:new RM,data:new Map,refCount:0}}function Co(i){i.refCount--,i.refCount===0&&BM($M,function(){i.controller.abort()})}var To=null,uh=0,dl=0,ul=null;function LM(i,s){if(To===null){var c=To=[];uh=0,dl=hp(),ul={status:"pending",value:void 0,then:function(f){c.push(f)}}}return uh++,s.then($b,$b),s}function $b(){if(--uh===0&&To!==null){ul!==null&&(ul.status="fulfilled");var i=To;To=null,dl=0,ul=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function UM(i,s){var c=[],f={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var x=0;x<c.length;x++)(0,c[x])(s)},function(x){for(f.status="rejected",f.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),f}var Lb=D.S;D.S=function(i,s){A1=Je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&LM(i,s),Lb!==null&&Lb(i,s)};var us=U(null);function fh(){var i=us.current;return i!==null?i:Tt.pooledCache}function Sd(i,s){s===null?te(us,us.current):te(us,s.pool)}function Ub(){var i=fh();return i===null?null:{parent:un._currentValue,pool:i}}var fl=Error(r(460)),mh=Error(r(474)),Ad=Error(r(542)),wd={then:function(){}};function Fb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gb(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Oa,Oa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wb(i),i;default:if(typeof s.status=="string")s.then(Oa,Oa);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=f}},function(f){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Wb(i),i}throw ms=s,fl}}function fs(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ms=c,fl):c}}var ms=null;function qb(){if(ms===null)throw Error(r(459));var i=ms;return ms=null,i}function Wb(i){if(i===fl||i===Ad)throw Error(r(483))}var ml=null,Oo=0;function Ed(i){var s=Oo;return Oo+=1,ml===null&&(ml=[]),Gb(ml,i,s)}function ko(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Cd(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Hb(i){function s(ie,re){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[re],ie.flags|=16):oe.push(re)}}function c(ie,re){if(!i)return null;for(;re!==null;)s(ie,re),re=re.sibling;return null}function f(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function x(ie,re){return ie=Da(ie,re),ie.index=0,ie.sibling=null,ie}function j(ie,re,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<re?(ie.flags|=67108866,re):oe):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function P(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function G(ie,re,oe,je){return re===null||re.tag!==6?(re=th(oe,ie.mode,je),re.return=ie,re):(re=x(re,oe),re.return=ie,re)}function J(ie,re,oe,je){var Ue=oe.type;return Ue===E?ve(ie,re,oe.props.children,je,oe.key):re!==null&&(re.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&fs(Ue)===re.type)?(re=x(re,oe.props),ko(re,oe),re.return=ie,re):(re=vd(oe.type,oe.key,oe.props,null,ie.mode,je),ko(re,oe),re.return=ie,re)}function ce(ie,re,oe,je){return re===null||re.tag!==4||re.stateNode.containerInfo!==oe.containerInfo||re.stateNode.implementation!==oe.implementation?(re=nh(oe,ie.mode,je),re.return=ie,re):(re=x(re,oe.children||[]),re.return=ie,re)}function ve(ie,re,oe,je,Ue){return re===null||re.tag!==7?(re=ls(oe,ie.mode,je,Ue),re.return=ie,re):(re=x(re,oe),re.return=ie,re)}function Ae(ie,re,oe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=th(""+re,ie.mode,oe),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return oe=vd(re.type,re.key,re.props,null,ie.mode,oe),ko(oe,re),oe.return=ie,oe;case S:return re=nh(re,ie.mode,oe),re.return=ie,re;case I:return re=fs(re),Ae(ie,re,oe)}if(H(re)||q(re))return re=ls(re,ie.mode,oe,null),re.return=ie,re;if(typeof re.then=="function")return Ae(ie,Ed(re),oe);if(re.$$typeof===w)return Ae(ie,jd(ie,re),oe);Cd(ie,re)}return null}function fe(ie,re,oe,je){var Ue=re!==null?re.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ue!==null?null:G(ie,re,""+oe,je);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return oe.key===Ue?J(ie,re,oe,je):null;case S:return oe.key===Ue?ce(ie,re,oe,je):null;case I:return oe=fs(oe),fe(ie,re,oe,je)}if(H(oe)||q(oe))return Ue!==null?null:ve(ie,re,oe,je,null);if(typeof oe.then=="function")return fe(ie,re,Ed(oe),je);if(oe.$$typeof===w)return fe(ie,re,jd(ie,oe),je);Cd(ie,oe)}return null}function he(ie,re,oe,je,Ue){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ie=ie.get(oe)||null,G(re,ie,""+je,Ue);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case y:return ie=ie.get(je.key===null?oe:je.key)||null,J(re,ie,je,Ue);case S:return ie=ie.get(je.key===null?oe:je.key)||null,ce(re,ie,je,Ue);case I:return je=fs(je),he(ie,re,oe,je,Ue)}if(H(je)||q(je))return ie=ie.get(oe)||null,ve(re,ie,je,Ue,null);if(typeof je.then=="function")return he(ie,re,oe,Ed(je),Ue);if(je.$$typeof===w)return he(ie,re,oe,jd(re,je),Ue);Cd(re,je)}return null}function _e(ie,re,oe,je){for(var Ue=null,ct=null,$e=re,Xe=re=0,it=null;$e!==null&&Xe<oe.length;Xe++){$e.index>Xe?(it=$e,$e=null):it=$e.sibling;var dt=fe(ie,$e,oe[Xe],je);if(dt===null){$e===null&&($e=it);break}i&&$e&&dt.alternate===null&&s(ie,$e),re=j(dt,re,Xe),ct===null?Ue=dt:ct.sibling=dt,ct=dt,$e=it}if(Xe===oe.length)return c(ie,$e),st&&Ma(ie,Xe),Ue;if($e===null){for(;Xe<oe.length;Xe++)$e=Ae(ie,oe[Xe],je),$e!==null&&(re=j($e,re,Xe),ct===null?Ue=$e:ct.sibling=$e,ct=$e);return st&&Ma(ie,Xe),Ue}for($e=f($e);Xe<oe.length;Xe++)it=he($e,ie,Xe,oe[Xe],je),it!==null&&(i&&it.alternate!==null&&$e.delete(it.key===null?Xe:it.key),re=j(it,re,Xe),ct===null?Ue=it:ct.sibling=it,ct=it);return i&&$e.forEach(function(Li){return s(ie,Li)}),st&&Ma(ie,Xe),Ue}function Ge(ie,re,oe,je){if(oe==null)throw Error(r(151));for(var Ue=null,ct=null,$e=re,Xe=re=0,it=null,dt=oe.next();$e!==null&&!dt.done;Xe++,dt=oe.next()){$e.index>Xe?(it=$e,$e=null):it=$e.sibling;var Li=fe(ie,$e,dt.value,je);if(Li===null){$e===null&&($e=it);break}i&&$e&&Li.alternate===null&&s(ie,$e),re=j(Li,re,Xe),ct===null?Ue=Li:ct.sibling=Li,ct=Li,$e=it}if(dt.done)return c(ie,$e),st&&Ma(ie,Xe),Ue;if($e===null){for(;!dt.done;Xe++,dt=oe.next())dt=Ae(ie,dt.value,je),dt!==null&&(re=j(dt,re,Xe),ct===null?Ue=dt:ct.sibling=dt,ct=dt);return st&&Ma(ie,Xe),Ue}for($e=f($e);!dt.done;Xe++,dt=oe.next())dt=he($e,ie,Xe,dt.value,je),dt!==null&&(i&&dt.alternate!==null&&$e.delete(dt.key===null?Xe:dt.key),re=j(dt,re,Xe),ct===null?Ue=dt:ct.sibling=dt,ct=dt);return i&&$e.forEach(function(Z3){return s(ie,Z3)}),st&&Ma(ie,Xe),Ue}function At(ie,re,oe,je){if(typeof oe=="object"&&oe!==null&&oe.type===E&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:e:{for(var Ue=oe.key;re!==null;){if(re.key===Ue){if(Ue=oe.type,Ue===E){if(re.tag===7){c(ie,re.sibling),je=x(re,oe.props.children),je.return=ie,ie=je;break e}}else if(re.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&fs(Ue)===re.type){c(ie,re.sibling),je=x(re,oe.props),ko(je,oe),je.return=ie,ie=je;break e}c(ie,re);break}else s(ie,re);re=re.sibling}oe.type===E?(je=ls(oe.props.children,ie.mode,je,oe.key),je.return=ie,ie=je):(je=vd(oe.type,oe.key,oe.props,null,ie.mode,je),ko(je,oe),je.return=ie,ie=je)}return P(ie);case S:e:{for(Ue=oe.key;re!==null;){if(re.key===Ue)if(re.tag===4&&re.stateNode.containerInfo===oe.containerInfo&&re.stateNode.implementation===oe.implementation){c(ie,re.sibling),je=x(re,oe.children||[]),je.return=ie,ie=je;break e}else{c(ie,re);break}else s(ie,re);re=re.sibling}je=nh(oe,ie.mode,je),je.return=ie,ie=je}return P(ie);case I:return oe=fs(oe),At(ie,re,oe,je)}if(H(oe))return _e(ie,re,oe,je);if(q(oe)){if(Ue=q(oe),typeof Ue!="function")throw Error(r(150));return oe=Ue.call(oe),Ge(ie,re,oe,je)}if(typeof oe.then=="function")return At(ie,re,Ed(oe),je);if(oe.$$typeof===w)return At(ie,re,jd(ie,oe),je);Cd(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,re!==null&&re.tag===6?(c(ie,re.sibling),je=x(re,oe),je.return=ie,ie=je):(c(ie,re),je=th(oe,ie.mode,je),je.return=ie,ie=je),P(ie)):c(ie,re)}return function(ie,re,oe,je){try{Oo=0;var Ue=At(ie,re,oe,je);return ml=null,Ue}catch($e){if($e===fl||$e===Ad)throw $e;var ct=ur(29,$e,null,ie.mode);return ct.lanes=je,ct.return=ie,ct}finally{}}}var hs=Hb(!0),Kb=Hb(!1),Ai=!1;function hh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ei(i,s,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var x=f.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),f.pending=s,s=yd(i),Db(i,null,c),s}return gd(i,f,s,c),yd(i)}function Do(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Bx(i,c)}}function gh(i,s){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var P={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};j===null?x=j=P:j=j.next=P,c=c.next}while(c!==null);j===null?x=j=s:j=j.next=s}else x=j=s;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var yh=!1;function Mo(){if(yh){var i=ul;if(i!==null)throw i}}function No(i,s,c,f){yh=!1;var x=i.updateQueue;Ai=!1;var j=x.firstBaseUpdate,P=x.lastBaseUpdate,G=x.shared.pending;if(G!==null){x.shared.pending=null;var J=G,ce=J.next;J.next=null,P===null?j=ce:P.next=ce,P=J;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,G=ve.lastBaseUpdate,G!==P&&(G===null?ve.firstBaseUpdate=ce:G.next=ce,ve.lastBaseUpdate=J))}if(j!==null){var Ae=x.baseState;P=0,ve=ce=J=null,G=j;do{var fe=G.lane&-536870913,he=fe!==G.lane;if(he?(at&fe)===fe:(f&fe)===fe){fe!==0&&fe===dl&&(yh=!0),ve!==null&&(ve=ve.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var _e=i,Ge=G;fe=s;var At=c;switch(Ge.tag){case 1:if(_e=Ge.payload,typeof _e=="function"){Ae=_e.call(At,Ae,fe);break e}Ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ge.payload,fe=typeof _e=="function"?_e.call(At,Ae,fe):_e,fe==null)break e;Ae=g({},Ae,fe);break e;case 2:Ai=!0}}fe=G.callback,fe!==null&&(i.flags|=64,he&&(i.flags|=8192),he=x.callbacks,he===null?x.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ve===null?(ce=ve=he,J=Ae):ve=ve.next=he,P|=fe;if(G=G.next,G===null){if(G=x.shared.pending,G===null)break;he=G,G=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);ve===null&&(J=Ae),x.baseState=J,x.firstBaseUpdate=ce,x.lastBaseUpdate=ve,j===null&&(x.shared.lanes=0),Di|=P,i.lanes=P,i.memoizedState=Ae}}function Vb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Yb(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Vb(c[i],s)}var hl=U(null),Td=U(0);function Xb(i,s){i=Fa,te(Td,i),te(hl,s),Fa=i|s.baseLanes}function vh(){te(Td,Fa),te(hl,hl.current)}function xh(){Fa=Td.current,L(hl),L(Td)}var fr=U(null),Rr=null;function Ci(i){var s=i.alternate;te(on,on.current&1),te(fr,i),Rr===null&&(s===null||hl.current!==null||s.memoizedState!==null)&&(Rr=i)}function bh(i){te(on,on.current),te(fr,i),Rr===null&&(Rr=i)}function Qb(i){i.tag===22?(te(on,on.current),te(fr,i),Rr===null&&(Rr=i)):Ti()}function Ti(){te(on,on.current),te(fr,fr.current)}function mr(i){L(fr),Rr===i&&(Rr=null),L(on)}var on=U(0);function Od(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Cp(c)||Tp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pa=0,Ve=null,jt=null,fn=null,kd=!1,pl=!1,ps=!1,Dd=0,zo=0,gl=null,FM=0;function tn(){throw Error(r(321))}function jh(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!dr(i[c],s[c]))return!1;return!0}function Sh(i,s,c,f,x,j){return Pa=j,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=i===null||i.memoizedState===null?Pj:Rh,ps=!1,j=c(f,x),ps=!1,pl&&(j=Jb(s,c,f,x)),Zb(i),j}function Zb(i){D.H=Io;var s=jt!==null&&jt.next!==null;if(Pa=0,fn=jt=Ve=null,kd=!1,zo=0,gl=null,s)throw Error(r(300));i===null||mn||(i=i.dependencies,i!==null&&bd(i)&&(mn=!0))}function Jb(i,s,c,f){Ve=i;var x=0;do{if(pl&&(gl=null),zo=0,pl=!1,25<=x)throw Error(r(301));if(x+=1,fn=jt=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}D.H=_j,j=s(c,f)}while(pl);return j}function GM(){var i=D.H,s=i.useState()[0];return s=typeof s.then=="function"?Po(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(Ve.flags|=1024),s}function Ah(){var i=Dd!==0;return Dd=0,i}function wh(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Eh(i){if(kd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}kd=!1}Pa=0,fn=jt=Ve=null,pl=!1,zo=Dd=0,gl=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ve.memoizedState=fn=i:fn=fn.next=i,fn}function cn(){if(jt===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=fn===null?Ve.memoizedState:fn.next;if(s!==null)fn=s,jt=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},fn===null?Ve.memoizedState=fn=i:fn=fn.next=i}return fn}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(i){var s=zo;return zo+=1,gl===null&&(gl=[]),i=Gb(gl,i,s),s=Ve,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?Pj:Rh),i}function Nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Po(i);if(i.$$typeof===w)return Nn(i)}throw Error(r(438,String(i)))}function Ch(i){var s=null,c=Ve.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Ve.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Md(),Ve.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),f=0;f<i;f++)c[f]=B;return s.index++,c}function _a(i,s){return typeof s=="function"?s(i):s}function zd(i){var s=cn();return Th(s,jt,i)}function Th(i,s,c){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var x=i.baseQueue,j=f.pending;if(j!==null){if(x!==null){var P=x.next;x.next=j.next,j.next=P}s.baseQueue=x=j,f.pending=null}if(j=i.baseState,x===null)i.memoizedState=j;else{s=x.next;var G=P=null,J=null,ce=s,ve=!1;do{var Ae=ce.lane&-536870913;if(Ae!==ce.lane?(at&Ae)===Ae:(Pa&Ae)===Ae){var fe=ce.revertLane;if(fe===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ae===dl&&(ve=!0);else if((Pa&fe)===fe){ce=ce.next,fe===dl&&(ve=!0);continue}else Ae={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},J===null?(G=J=Ae,P=j):J=J.next=Ae,Ve.lanes|=fe,Di|=fe;Ae=ce.action,ps&&c(j,Ae),j=ce.hasEagerState?ce.eagerState:c(j,Ae)}else fe={lane:Ae,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},J===null?(G=J=fe,P=j):J=J.next=fe,Ve.lanes|=Ae,Di|=Ae;ce=ce.next}while(ce!==null&&ce!==s);if(J===null?P=j:J.next=G,!dr(j,i.memoizedState)&&(mn=!0,ve&&(c=ul,c!==null)))throw c;i.memoizedState=j,i.baseState=P,i.baseQueue=J,f.lastRenderedState=j}return x===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Oh(i){var s=cn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var f=c.dispatch,x=c.pending,j=s.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do j=i(j,P.action),P=P.next;while(P!==x);dr(j,s.memoizedState)||(mn=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),c.lastRenderedState=j}return[j,f]}function ej(i,s,c){var f=Ve,x=cn(),j=st;if(j){if(c===void 0)throw Error(r(407));c=c()}else c=s();var P=!dr((jt||x).memoizedState,c);if(P&&(x.memoizedState=c,mn=!0),x=x.queue,Mh(rj.bind(null,f,x,i),[i]),x.getSnapshot!==s||P||fn!==null&&fn.memoizedState.tag&1){if(f.flags|=2048,yl(9,{destroy:void 0},nj.bind(null,f,x,c,s),null),Tt===null)throw Error(r(349));j||(Pa&127)!==0||tj(f,s,c)}return c}function tj(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Ve.updateQueue,s===null?(s=Md(),Ve.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function nj(i,s,c,f){s.value=c,s.getSnapshot=f,aj(s)&&ij(i)}function rj(i,s,c){return c(function(){aj(s)&&ij(i)})}function aj(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!dr(i,c)}catch{return!0}}function ij(i){var s=ss(i,2);s!==null&&ir(s,i,2)}function kh(i){var s=Hn();if(typeof i=="function"){var c=i;if(i=c(),ps){Fe(!0);try{c()}finally{Fe(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:i},s}function sj(i,s,c,f){return i.baseState=c,Th(i,jt,typeof f=="function"?f:_a)}function qM(i,s,c,f,x){if(Id(i))throw Error(r(485));if(i=s.action,i!==null){var j={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){j.listeners.push(P)}};D.T!==null?c(!0):j.isTransition=!1,f(j),c=s.pending,c===null?(j.next=s.pending=j,lj(s,j)):(j.next=c.next,s.pending=c.next=j)}}function lj(i,s){var c=s.action,f=s.payload,x=i.state;if(s.isTransition){var j=D.T,P={};D.T=P;try{var G=c(x,f),J=D.S;J!==null&&J(P,G),oj(i,s,G)}catch(ce){Dh(i,s,ce)}finally{j!==null&&P.types!==null&&(j.types=P.types),D.T=j}}else try{j=c(x,f),oj(i,s,j)}catch(ce){Dh(i,s,ce)}}function oj(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){cj(i,s,f)},function(f){return Dh(i,s,f)}):cj(i,s,c)}function cj(i,s,c){s.status="fulfilled",s.value=c,dj(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,lj(i,c)))}function Dh(i,s,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,dj(s),s=s.next;while(s!==f)}i.action=null}function dj(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function uj(i,s){return s}function fj(i,s){if(st){var c=Tt.formState;if(c!==null){e:{var f=Ve;if(st){if(Rt){t:{for(var x=Rt,j=Ir;x.nodeType!==8;){if(!j){x=null;break t}if(x=Br(x.nextSibling),x===null){x=null;break t}}j=x.data,x=j==="F!"||j==="F"?x:null}if(x){Rt=Br(x.nextSibling),f=x.data==="F!";break e}}ji(f)}f=!1}f&&(s=c[0])}}return c=Hn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uj,lastRenderedState:s},c.queue=f,c=Mj.bind(null,Ve,f),f.dispatch=c,f=kh(!1),j=Ih.bind(null,Ve,!1,f.queue),f=Hn(),x={state:s,dispatch:null,action:i,pending:null},f.queue=x,c=qM.bind(null,Ve,x,j,c),x.dispatch=c,f.memoizedState=i,[s,c,!1]}function mj(i){var s=cn();return hj(s,jt,i)}function hj(i,s,c){if(s=Th(i,s,uj)[0],i=zd(_a)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Po(s)}catch(P){throw P===fl?Ad:P}else f=s;s=cn();var x=s.queue,j=x.dispatch;return c!==s.memoizedState&&(Ve.flags|=2048,yl(9,{destroy:void 0},WM.bind(null,x,c),null)),[f,j,i]}function WM(i,s){i.action=s}function pj(i){var s=cn(),c=jt;if(c!==null)return hj(s,c,i);cn(),s=s.memoizedState,c=cn();var f=c.queue.dispatch;return c.memoizedState=i,[s,f,!1]}function yl(i,s,c,f){return i={tag:i,create:c,deps:f,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Md(),Ve.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,s.lastEffect=i),i}function gj(){return cn().memoizedState}function Pd(i,s,c,f){var x=Hn();Ve.flags|=i,x.memoizedState=yl(1|s,{destroy:void 0},c,f===void 0?null:f)}function _d(i,s,c,f){var x=cn();f=f===void 0?null:f;var j=x.memoizedState.inst;jt!==null&&f!==null&&jh(f,jt.memoizedState.deps)?x.memoizedState=yl(s,j,c,f):(Ve.flags|=i,x.memoizedState=yl(1|s,j,c,f))}function yj(i,s){Pd(8390656,8,i,s)}function Mh(i,s){_d(2048,8,i,s)}function HM(i){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Md(),Ve.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function vj(i){var s=cn().memoizedState;return HM({ref:s,nextImpl:i}),function(){if((mt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function xj(i,s){return _d(4,2,i,s)}function bj(i,s){return _d(4,4,i,s)}function jj(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Sj(i,s,c){c=c!=null?c.concat([i]):null,_d(4,4,jj.bind(null,s,i),c)}function Nh(){}function Aj(i,s){var c=cn();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&jh(s,f[1])?f[0]:(c.memoizedState=[i,s],i)}function wj(i,s){var c=cn();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&jh(s,f[1]))return f[0];if(f=i(),ps){Fe(!0);try{i()}finally{Fe(!1)}}return c.memoizedState=[f,s],f}function zh(i,s,c){return c===void 0||(Pa&1073741824)!==0&&(at&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=E1(),Ve.lanes|=i,Di|=i,c)}function Ej(i,s,c,f){return dr(c,s)?c:hl.current!==null?(i=zh(i,c,f),dr(i,s)||(mn=!0),i):(Pa&42)===0||(Pa&1073741824)!==0&&(at&261930)===0?(mn=!0,i.memoizedState=c):(i=E1(),Ve.lanes|=i,Di|=i,s)}function Cj(i,s,c,f,x){var j=k.p;k.p=j!==0&&8>j?j:8;var P=D.T,G={};D.T=G,Ih(i,!1,s,c);try{var J=x(),ce=D.S;if(ce!==null&&ce(G,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ve=UM(J,f);_o(i,s,ve,gr(i))}else _o(i,s,f,gr(i))}catch(Ae){_o(i,s,{then:function(){},status:"rejected",reason:Ae},gr())}finally{k.p=j,P!==null&&G.types!==null&&(P.types=G.types),D.T=P}}function KM(){}function Ph(i,s,c,f){if(i.tag!==5)throw Error(r(476));var x=Tj(i).queue;Cj(i,x,s,_,c===null?KM:function(){return Oj(i),c(f)})}function Tj(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:_},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Oj(i){var s=Tj(i);s.next===null&&(s=i.alternate.memoizedState),_o(i,s.next.queue,{},gr())}function _h(){return Nn(Zo)}function kj(){return cn().memoizedState}function Dj(){return cn().memoizedState}function VM(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=gr();i=wi(c);var f=Ei(s,i,c);f!==null&&(ir(f,s,c),Do(f,s,c)),s={cache:dh()},i.payload=s;return}s=s.return}}function YM(i,s,c){var f=gr();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Id(i)?Nj(s,c):(c=Jm(i,s,c,f),c!==null&&(ir(c,i,f),zj(c,s,f)))}function Mj(i,s,c){var f=gr();_o(i,s,c,f)}function _o(i,s,c,f){var x={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Id(i))Nj(s,x);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var P=s.lastRenderedState,G=j(P,c);if(x.hasEagerState=!0,x.eagerState=G,dr(G,P))return gd(i,s,x,0),Tt===null&&pd(),!1}catch{}finally{}if(c=Jm(i,s,x,f),c!==null)return ir(c,i,f),zj(c,s,f),!0}return!1}function Ih(i,s,c,f){if(f={lane:2,revertLane:hp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Id(i)){if(s)throw Error(r(479))}else s=Jm(i,c,f,2),s!==null&&ir(s,i,2)}function Id(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function Nj(i,s){pl=kd=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function zj(i,s,c){if((c&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,c|=f,s.lanes=c,Bx(i,c)}}var Io={readContext:Nn,use:Nd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Io.useEffectEvent=tn;var Pj={readContext:Nn,use:Nd,useCallback:function(i,s){return Hn().memoizedState=[i,s===void 0?null:s],i},useContext:Nn,useEffect:yj,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Pd(4194308,4,jj.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Pd(4194308,4,i,s)},useInsertionEffect:function(i,s){Pd(4,2,i,s)},useMemo:function(i,s){var c=Hn();s=s===void 0?null:s;var f=i();if(ps){Fe(!0);try{i()}finally{Fe(!1)}}return c.memoizedState=[f,s],f},useReducer:function(i,s,c){var f=Hn();if(c!==void 0){var x=c(s);if(ps){Fe(!0);try{c(s)}finally{Fe(!1)}}}else x=s;return f.memoizedState=f.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},f.queue=i,i=i.dispatch=YM.bind(null,Ve,i),[f.memoizedState,i]},useRef:function(i){var s=Hn();return i={current:i},s.memoizedState=i},useState:function(i){i=kh(i);var s=i.queue,c=Mj.bind(null,Ve,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:Nh,useDeferredValue:function(i,s){var c=Hn();return zh(c,i,s)},useTransition:function(){var i=kh(!1);return i=Cj.bind(null,Ve,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var f=Ve,x=Hn();if(st){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Tt===null)throw Error(r(349));(at&127)!==0||tj(f,s,c)}x.memoizedState=c;var j={value:c,getSnapshot:s};return x.queue=j,yj(rj.bind(null,f,j,i),[i]),f.flags|=2048,yl(9,{destroy:void 0},nj.bind(null,f,j,c,s),null),c},useId:function(){var i=Hn(),s=Tt.identifierPrefix;if(st){var c=ma,f=fa;c=(f&~(1<<32-Ze(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Dd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=FM++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:_h,useFormState:fj,useActionState:fj,useOptimistic:function(i){var s=Hn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Ih.bind(null,Ve,!0,c),c.dispatch=s,[i,s]},useMemoCache:Ch,useCacheRefresh:function(){return Hn().memoizedState=VM.bind(null,Ve)},useEffectEvent:function(i){var s=Hn(),c={impl:i};return s.memoizedState=c,function(){if((mt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Rh={readContext:Nn,use:Nd,useCallback:Aj,useContext:Nn,useEffect:Mh,useImperativeHandle:Sj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:wj,useReducer:zd,useRef:gj,useState:function(){return zd(_a)},useDebugValue:Nh,useDeferredValue:function(i,s){var c=cn();return Ej(c,jt.memoizedState,i,s)},useTransition:function(){var i=zd(_a)[0],s=cn().memoizedState;return[typeof i=="boolean"?i:Po(i),s]},useSyncExternalStore:ej,useId:kj,useHostTransitionStatus:_h,useFormState:mj,useActionState:mj,useOptimistic:function(i,s){var c=cn();return sj(c,jt,i,s)},useMemoCache:Ch,useCacheRefresh:Dj};Rh.useEffectEvent=vj;var _j={readContext:Nn,use:Nd,useCallback:Aj,useContext:Nn,useEffect:Mh,useImperativeHandle:Sj,useInsertionEffect:xj,useLayoutEffect:bj,useMemo:wj,useReducer:Oh,useRef:gj,useState:function(){return Oh(_a)},useDebugValue:Nh,useDeferredValue:function(i,s){var c=cn();return jt===null?zh(c,i,s):Ej(c,jt.memoizedState,i,s)},useTransition:function(){var i=Oh(_a)[0],s=cn().memoizedState;return[typeof i=="boolean"?i:Po(i),s]},useSyncExternalStore:ej,useId:kj,useHostTransitionStatus:_h,useFormState:pj,useActionState:pj,useOptimistic:function(i,s){var c=cn();return jt!==null?sj(c,jt,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Dj};_j.useEffectEvent=vj;function Bh(i,s,c,f){s=i.memoizedState,c=c(f,s),c=c==null?s:g({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var $h={enqueueSetState:function(i,s,c){i=i._reactInternals;var f=gr(),x=wi(f);x.payload=s,c!=null&&(x.callback=c),s=Ei(i,x,f),s!==null&&(ir(s,i,f),Do(s,i,f))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var f=gr(),x=wi(f);x.tag=1,x.payload=s,c!=null&&(x.callback=c),s=Ei(i,x,f),s!==null&&(ir(s,i,f),Do(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=gr(),f=wi(c);f.tag=2,s!=null&&(f.callback=s),s=Ei(i,f,c),s!==null&&(ir(s,i,c),Do(s,i,c))}};function Ij(i,s,c,f,x,j,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,j,P):s.prototype&&s.prototype.isPureReactComponent?!So(c,f)||!So(x,j):!0}function Rj(i,s,c,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==i&&$h.enqueueReplaceState(s,s.state,null)}function gs(i,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(i=i.defaultProps){c===s&&(c=g({},c));for(var x in i)c[x]===void 0&&(c[x]=i[x])}return c}function Bj(i){hd(i)}function $j(i){console.error(i)}function Lj(i){hd(i)}function Rd(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Uj(i,s,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Lh(i,s,c){return c=wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Rd(i,s)},c}function Fj(i){return i=wi(i),i.tag=3,i}function Gj(i,s,c,f){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var j=f.value;i.payload=function(){return x(j)},i.callback=function(){Uj(s,c,f)}}var P=c.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){Uj(s,c,f),typeof x!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})})}function XM(i,s,c,f,x){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&cl(s,c,x,!0),c=fr.current,c!==null){switch(c.tag){case 31:case 13:return Rr===null?Yd():c.alternate===null&&nn===0&&(nn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,f===wd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),up(i,f,x)),!1;case 22:return c.flags|=65536,f===wd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),up(i,f,x)),!1}throw Error(r(435,c.tag))}return up(i,f,x),Yd(),!1}if(st)return s=fr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,f!==ih&&(i=Error(r(422),{cause:f}),Eo(zr(i,c)))):(f!==ih&&(s=Error(r(423),{cause:f}),Eo(zr(s,c))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,f=zr(f,c),x=Lh(i.stateNode,f,x),gh(i,x),nn!==4&&(nn=2)),!1;var j=Error(r(520),{cause:f});if(j=zr(j,c),qo===null?qo=[j]:qo.push(j),nn!==4&&(nn=2),s===null)return!0;f=zr(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=x&-x,c.lanes|=i,i=Lh(c.stateNode,f,i),gh(c,i),!1;case 1:if(s=c.type,j=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Mi===null||!Mi.has(j))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Fj(x),Gj(x,i,c,f),gh(c,x),!1}c=c.return}while(c!==null);return!1}var Uh=Error(r(461)),mn=!1;function zn(i,s,c,f){s.child=i===null?Kb(s,null,c,f):hs(s,i.child,c,f)}function qj(i,s,c,f,x){c=c.render;var j=s.ref;if("ref"in f){var P={};for(var G in f)G!=="ref"&&(P[G]=f[G])}else P=f;return ds(s),f=Sh(i,s,c,P,j,x),G=Ah(),i!==null&&!mn?(wh(i,s,x),Ia(i,s,x)):(st&&G&&rh(s),s.flags|=1,zn(i,s,f,x),s.child)}function Wj(i,s,c,f,x){if(i===null){var j=c.type;return typeof j=="function"&&!eh(j)&&j.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=j,Hj(i,s,j,f,x)):(i=vd(c.type,null,f,s,s.mode,x),i.ref=s.ref,i.return=s,s.child=i)}if(j=i.child,!Yh(i,x)){var P=j.memoizedProps;if(c=c.compare,c=c!==null?c:So,c(P,f)&&i.ref===s.ref)return Ia(i,s,x)}return s.flags|=1,i=Da(j,f),i.ref=s.ref,i.return=s,s.child=i}function Hj(i,s,c,f,x){if(i!==null){var j=i.memoizedProps;if(So(j,f)&&i.ref===s.ref)if(mn=!1,s.pendingProps=f=j,Yh(i,x))(i.flags&131072)!==0&&(mn=!0);else return s.lanes=i.lanes,Ia(i,s,x)}return Fh(i,s,c,f,x)}function Kj(i,s,c,f){var x=f.children,j=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(j=j!==null?j.baseLanes|c:c,i!==null){for(f=s.child=i.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~j}else f=0,s.child=null;return Vj(i,s,j,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sd(s,j!==null?j.cachePool:null),j!==null?Xb(s,j):vh(),Qb(s);else return f=s.lanes=536870912,Vj(i,s,j!==null?j.baseLanes|c:c,c,f)}else j!==null?(Sd(s,j.cachePool),Xb(s,j),Ti(),s.memoizedState=null):(i!==null&&Sd(s,null),vh(),Ti());return zn(i,s,x,c),s.child}function Ro(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Vj(i,s,c,f,x){var j=fh();return j=j===null?null:{parent:un._currentValue,pool:j},s.memoizedState={baseLanes:c,cachePool:j},i!==null&&Sd(s,null),vh(),Qb(s),i!==null&&cl(i,s,f,!0),s.childLanes=x,null}function Bd(i,s){return s=Ld({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Yj(i,s,c){return hs(s,i.child,null,c),i=Bd(s,s.pendingProps),i.flags|=2,mr(s),s.memoizedState=null,i}function QM(i,s,c){var f=s.pendingProps,x=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(st){if(f.mode==="hidden")return i=Bd(s,f),s.lanes=536870912,Ro(null,i);if(bh(s),(i=Rt)?(i=lS(i,Ir),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xi!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},c=Nb(i),c.return=s,s.child=c,Mn=s,Rt=null)):i=null,i===null)throw ji(s);return s.lanes=536870912,null}return Bd(s,f)}var j=i.memoizedState;if(j!==null){var P=j.dehydrated;if(bh(s),x)if(s.flags&256)s.flags&=-257,s=Yj(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(mn||cl(i,s,c,!1),x=(c&i.childLanes)!==0,mn||x){if(f=Tt,f!==null&&(P=$x(f,c),P!==0&&P!==j.retryLane))throw j.retryLane=P,ss(i,P),ir(f,i,P),Uh;Yd(),s=Yj(i,s,c)}else i=j.treeContext,Rt=Br(P.nextSibling),Mn=s,st=!0,bi=null,Ir=!1,i!==null&&_b(s,i),s=Bd(s,f),s.flags|=4096;return s}return i=Da(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function $d(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Fh(i,s,c,f,x){return ds(s),c=Sh(i,s,c,f,void 0,x),f=Ah(),i!==null&&!mn?(wh(i,s,x),Ia(i,s,x)):(st&&f&&rh(s),s.flags|=1,zn(i,s,c,x),s.child)}function Xj(i,s,c,f,x,j){return ds(s),s.updateQueue=null,c=Jb(s,f,c,x),Zb(i),f=Ah(),i!==null&&!mn?(wh(i,s,j),Ia(i,s,j)):(st&&f&&rh(s),s.flags|=1,zn(i,s,c,j),s.child)}function Qj(i,s,c,f,x){if(ds(s),s.stateNode===null){var j=il,P=c.contextType;typeof P=="object"&&P!==null&&(j=Nn(P)),j=new c(f,j),s.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=$h,s.stateNode=j,j._reactInternals=s,j=s.stateNode,j.props=f,j.state=s.memoizedState,j.refs={},hh(s),P=c.contextType,j.context=typeof P=="object"&&P!==null?Nn(P):il,j.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Bh(s,c,P,f),j.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(P=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),P!==j.state&&$h.enqueueReplaceState(j,j.state,null),No(s,f,j,x),Mo(),j.state=s.memoizedState),typeof j.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){j=s.stateNode;var G=s.memoizedProps,J=gs(c,G);j.props=J;var ce=j.context,ve=c.contextType;P=il,typeof ve=="object"&&ve!==null&&(P=Nn(ve));var Ae=c.getDerivedStateFromProps;ve=typeof Ae=="function"||typeof j.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,ve||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(G||ce!==P)&&Rj(s,j,f,P),Ai=!1;var fe=s.memoizedState;j.state=fe,No(s,f,j,x),Mo(),ce=s.memoizedState,G||fe!==ce||Ai?(typeof Ae=="function"&&(Bh(s,c,Ae,f),ce=s.memoizedState),(J=Ai||Ij(s,c,J,f,fe,ce,P))?(ve||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ce),j.props=f,j.state=ce,j.context=P,f=J):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{j=s.stateNode,ph(i,s),P=s.memoizedProps,ve=gs(c,P),j.props=ve,Ae=s.pendingProps,fe=j.context,ce=c.contextType,J=il,typeof ce=="object"&&ce!==null&&(J=Nn(ce)),G=c.getDerivedStateFromProps,(ce=typeof G=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(P!==Ae||fe!==J)&&Rj(s,j,f,J),Ai=!1,fe=s.memoizedState,j.state=fe,No(s,f,j,x),Mo();var he=s.memoizedState;P!==Ae||fe!==he||Ai||i!==null&&i.dependencies!==null&&bd(i.dependencies)?(typeof G=="function"&&(Bh(s,c,G,f),he=s.memoizedState),(ve=Ai||Ij(s,c,ve,f,fe,he,J)||i!==null&&i.dependencies!==null&&bd(i.dependencies))?(ce||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,he,J),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,he,J)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||P===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=he),j.props=f,j.state=he,j.context=J,f=ve):(typeof j.componentDidUpdate!="function"||P===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),f=!1)}return j=f,$d(i,s),f=(s.flags&128)!==0,j||f?(j=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:j.render(),s.flags|=1,i!==null&&f?(s.child=hs(s,i.child,null,x),s.child=hs(s,null,c,x)):zn(i,s,c,x),s.memoizedState=j.state,i=s.child):i=Ia(i,s,x),i}function Zj(i,s,c,f){return os(),s.flags|=256,zn(i,s,c,f),s.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(i){return{baseLanes:i,cachePool:Ub()}}function Wh(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=pr),i}function Jj(i,s,c){var f=s.pendingProps,x=!1,j=(s.flags&128)!==0,P;if((P=j)||(P=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),P&&(x=!0,s.flags&=-129),P=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(x?Ci(s):Ti(),(i=Rt)?(i=lS(i,Ir),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:xi!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},c=Nb(i),c.return=s,s.child=c,Mn=s,Rt=null)):i=null,i===null)throw ji(s);return Tp(i)?s.lanes=32:s.lanes=536870912,null}var G=f.children;return f=f.fallback,x?(Ti(),x=s.mode,G=Ld({mode:"hidden",children:G},x),f=ls(f,x,c,null),G.return=s,f.return=s,G.sibling=f,s.child=G,f=s.child,f.memoizedState=qh(c),f.childLanes=Wh(i,P,c),s.memoizedState=Gh,Ro(null,f)):(Ci(s),Hh(s,G))}var J=i.memoizedState;if(J!==null&&(G=J.dehydrated,G!==null)){if(j)s.flags&256?(Ci(s),s.flags&=-257,s=Kh(i,s,c)):s.memoizedState!==null?(Ti(),s.child=i.child,s.flags|=128,s=null):(Ti(),G=f.fallback,x=s.mode,f=Ld({mode:"visible",children:f.children},x),G=ls(G,x,c,null),G.flags|=2,f.return=s,G.return=s,f.sibling=G,s.child=f,hs(s,i.child,null,c),f=s.child,f.memoizedState=qh(c),f.childLanes=Wh(i,P,c),s.memoizedState=Gh,s=Ro(null,f));else if(Ci(s),Tp(G)){if(P=G.nextSibling&&G.nextSibling.dataset,P)var ce=P.dgst;P=ce,f=Error(r(419)),f.stack="",f.digest=P,Eo({value:f,source:null,stack:null}),s=Kh(i,s,c)}else if(mn||cl(i,s,c,!1),P=(c&i.childLanes)!==0,mn||P){if(P=Tt,P!==null&&(f=$x(P,c),f!==0&&f!==J.retryLane))throw J.retryLane=f,ss(i,f),ir(P,i,f),Uh;Cp(G)||Yd(),s=Kh(i,s,c)}else Cp(G)?(s.flags|=192,s.child=i.child,s=null):(i=J.treeContext,Rt=Br(G.nextSibling),Mn=s,st=!0,bi=null,Ir=!1,i!==null&&_b(s,i),s=Hh(s,f.children),s.flags|=4096);return s}return x?(Ti(),G=f.fallback,x=s.mode,J=i.child,ce=J.sibling,f=Da(J,{mode:"hidden",children:f.children}),f.subtreeFlags=J.subtreeFlags&65011712,ce!==null?G=Da(ce,G):(G=ls(G,x,c,null),G.flags|=2),G.return=s,f.return=s,f.sibling=G,s.child=f,Ro(null,f),f=s.child,G=i.child.memoizedState,G===null?G=qh(c):(x=G.cachePool,x!==null?(J=un._currentValue,x=x.parent!==J?{parent:J,pool:J}:x):x=Ub(),G={baseLanes:G.baseLanes|c,cachePool:x}),f.memoizedState=G,f.childLanes=Wh(i,P,c),s.memoizedState=Gh,Ro(i.child,f)):(Ci(s),c=i.child,i=c.sibling,c=Da(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,i!==null&&(P=s.deletions,P===null?(s.deletions=[i],s.flags|=16):P.push(i)),s.child=c,s.memoizedState=null,c)}function Hh(i,s){return s=Ld({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ld(i,s){return i=ur(22,i,null,s),i.lanes=0,i}function Kh(i,s,c){return hs(s,i.child,null,c),i=Hh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function e1(i,s,c){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),oh(i.return,s,c)}function Vh(i,s,c,f,x,j){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x,treeForkCount:j}:(P.isBackwards=s,P.rendering=null,P.renderingStartTime=0,P.last=f,P.tail=c,P.tailMode=x,P.treeForkCount=j)}function t1(i,s,c){var f=s.pendingProps,x=f.revealOrder,j=f.tail;f=f.children;var P=on.current,G=(P&2)!==0;if(G?(P=P&1|2,s.flags|=128):P&=1,te(on,P),zn(i,s,f,c),f=st?wo:0,!G&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e1(i,c,s);else if(i.tag===19)e1(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(c=s.child,x=null;c!==null;)i=c.alternate,i!==null&&Od(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=s.child,s.child=null):(x=c.sibling,c.sibling=null),Vh(s,!1,x,c,j,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=s.child,s.child=null;x!==null;){if(i=x.alternate,i!==null&&Od(i)===null){s.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}Vh(s,!0,c,null,j,f);break;case"together":Vh(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Ia(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Di|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(cl(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Da(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Da(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Yh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&bd(i)))}function ZM(i,s,c){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),Si(s,un,i.memoizedState.cache),os();break;case 27:case 5:xe(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:Si(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ci(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Jj(i,s,c):(Ci(s),i=Ia(i,s,c),i!==null?i.sibling:null);Ci(s);break;case 19:var x=(i.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(cl(i,s,c,!1),f=(c&s.childLanes)!==0),x){if(f)return t1(i,s,c);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),te(on,on.current),f)break;return null;case 22:return s.lanes=0,Kj(i,s,c,s.pendingProps);case 24:Si(s,un,i.memoizedState.cache)}return Ia(i,s,c)}function n1(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)mn=!0;else{if(!Yh(i,c)&&(s.flags&128)===0)return mn=!1,ZM(i,s,c);mn=(i.flags&131072)!==0}else mn=!1,st&&(s.flags&1048576)!==0&&Pb(s,wo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=fs(s.elementType),s.type=i,typeof i=="function")eh(i)?(f=gs(i,f),s.tag=1,s=Qj(null,s,i,f,c)):(s.tag=0,s=Fh(null,s,i,f,c));else{if(i!=null){var x=i.$$typeof;if(x===z){s.tag=11,s=qj(null,s,i,f,c);break e}else if(x===N){s.tag=14,s=Wj(null,s,i,f,c);break e}}throw s=K(i)||i,Error(r(306,s,""))}}return s;case 0:return Fh(i,s,s.type,s.pendingProps,c);case 1:return f=s.type,x=gs(f,s.pendingProps),Qj(i,s,f,x,c);case 3:e:{if(pe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var j=s.memoizedState;x=j.element,ph(i,s),No(s,f,null,c);var P=s.memoizedState;if(f=P.cache,Si(s,un,f),f!==j.cache&&ch(s,[un],c,!0),Mo(),f=P.element,j.isDehydrated)if(j={element:f,isDehydrated:!1,cache:P.cache},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){s=Zj(i,s,f,c);break e}else if(f!==x){x=zr(Error(r(424)),s),Eo(x),s=Zj(i,s,f,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rt=Br(i.firstChild),Mn=s,st=!0,bi=null,Ir=!0,c=Kb(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(os(),f===x){s=Ia(i,s,c);break e}zn(i,s,f,c)}s=s.child}return s;case 26:return $d(i,s),i===null?(c=mS(s.type,null,s.pendingProps,null))?s.memoizedState=c:st||(c=s.type,i=s.pendingProps,f=nu(Q.current).createElement(c),f[Dn]=s,f[Jn]=i,Pn(f,c,i),En(f),s.stateNode=f):s.memoizedState=mS(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return xe(s),i===null&&st&&(f=s.stateNode=dS(s.type,s.pendingProps,Q.current),Mn=s,Ir=!0,x=Rt,_i(s.type)?(Op=x,Rt=Br(f.firstChild)):Rt=x),zn(i,s,s.pendingProps.children,c),$d(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&st&&((x=f=Rt)&&(f=O3(f,s.type,s.pendingProps,Ir),f!==null?(s.stateNode=f,Mn=s,Rt=Br(f.firstChild),Ir=!1,x=!0):x=!1),x||ji(s)),xe(s),x=s.type,j=s.pendingProps,P=i!==null?i.memoizedProps:null,f=j.children,Ap(x,j)?f=null:P!==null&&Ap(x,P)&&(s.flags|=32),s.memoizedState!==null&&(x=Sh(i,s,GM,null,null,c),Zo._currentValue=x),$d(i,s),zn(i,s,f,c),s.child;case 6:return i===null&&st&&((i=c=Rt)&&(c=k3(c,s.pendingProps,Ir),c!==null?(s.stateNode=c,Mn=s,Rt=null,i=!0):i=!1),i||ji(s)),null;case 13:return Jj(i,s,c);case 4:return pe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=hs(s,null,f,c):zn(i,s,f,c),s.child;case 11:return qj(i,s,s.type,s.pendingProps,c);case 7:return zn(i,s,s.pendingProps,c),s.child;case 8:return zn(i,s,s.pendingProps.children,c),s.child;case 12:return zn(i,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,Si(s,s.type,f.value),zn(i,s,f.children,c),s.child;case 9:return x=s.type._context,f=s.pendingProps.children,ds(s),x=Nn(x),f=f(x),s.flags|=1,zn(i,s,f,c),s.child;case 14:return Wj(i,s,s.type,s.pendingProps,c);case 15:return Hj(i,s,s.type,s.pendingProps,c);case 19:return t1(i,s,c);case 31:return QM(i,s,c);case 22:return Kj(i,s,c,s.pendingProps);case 24:return ds(s),f=Nn(un),i===null?(x=fh(),x===null&&(x=Tt,j=dh(),x.pooledCache=j,j.refCount++,j!==null&&(x.pooledCacheLanes|=c),x=j),s.memoizedState={parent:f,cache:x},hh(s),Si(s,un,x)):((i.lanes&c)!==0&&(ph(i,s),No(s,null,null,c),Mo()),x=i.memoizedState,j=s.memoizedState,x.parent!==f?(x={parent:f,cache:f},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),Si(s,un,f)):(f=j.cache,Si(s,un,f),f!==x.cache&&ch(s,[un],c,!0))),zn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ra(i){i.flags|=4}function Xh(i,s,c,f,x){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(k1())i.flags|=8192;else throw ms=wd,mh}else i.flags&=-16777217}function r1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!vS(s))if(k1())i.flags|=8192;else throw ms=wd,mh}function Ud(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ix():536870912,i.lanes|=s,jl|=s)}function Bo(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(s)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=f,i.childLanes=c,s}function JM(i,s,c){var f=s.pendingProps;switch(ah(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return c=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),za(un),ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ol(s)?Ra(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sh())),Bt(s),null;case 26:var x=s.type,j=s.memoizedState;return i===null?(Ra(s),j!==null?(Bt(s),r1(s,j)):(Bt(s),Xh(s,x,null,f,c))):j?j!==i.memoizedState?(Ra(s),Bt(s),r1(s,j)):(Bt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&Ra(s),Bt(s),Xh(s,x,i,f,c)),null;case 27:if(ge(s),c=Q.current,x=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ra(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}i=V.current,ol(s)?Ib(s):(i=dS(x,f,c),s.stateNode=i,Ra(s))}return Bt(s),null;case 5:if(ge(s),x=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Ra(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}if(j=V.current,ol(s))Ib(s);else{var P=nu(Q.current);switch(j){case 1:j=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:j=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":j=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":j=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":j=P.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof f.is=="string"?P.createElement("select",{is:f.is}):P.createElement("select"),f.multiple?j.multiple=!0:f.size&&(j.size=f.size);break;default:j=typeof f.is=="string"?P.createElement(x,{is:f.is}):P.createElement(x)}}j[Dn]=s,j[Jn]=f;e:for(P=s.child;P!==null;){if(P.tag===5||P.tag===6)j.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===s)break e;for(;P.sibling===null;){if(P.return===null||P.return===s)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}s.stateNode=j;e:switch(Pn(j,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ra(s)}}return Bt(s),Xh(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Ra(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=Q.current,ol(s)){if(i=s.stateNode,c=s.memoizedProps,f=null,x=Mn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}i[Dn]=s,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||J1(i.nodeValue,c)),i||ji(s,!0)}else i=nu(i).createTextNode(f),i[Dn]=s,s.stateNode=i}return Bt(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(f=ol(s),c!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=s}else os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),i=!1}else c=sh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(mr(s),s):(mr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Bt(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=ol(s),f!==null&&f.dehydrated!==null){if(i===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Dn]=s}else os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),x=!1}else x=sh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(mr(s),s):(mr(s),null)}return mr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,i=i!==null&&i.memoizedState!==null,c&&(f=s.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),j=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==x&&(f.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),Ud(s,s.updateQueue),Bt(s),null);case 4:return ee(),i===null&&vp(s.stateNode.containerInfo),Bt(s),null;case 10:return za(s.type),Bt(s),null;case 19:if(L(on),f=s.memoizedState,f===null)return Bt(s),null;if(x=(s.flags&128)!==0,j=f.rendering,j===null)if(x)Bo(f,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(j=Od(i),j!==null){for(s.flags|=128,Bo(f,!1),i=j.updateQueue,s.updateQueue=i,Ud(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Mb(c,i),c=c.sibling;return te(on,on.current&1|2),st&&Ma(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&Je()>Hd&&(s.flags|=128,x=!0,Bo(f,!1),s.lanes=4194304)}else{if(!x)if(i=Od(j),i!==null){if(s.flags|=128,x=!0,i=i.updateQueue,s.updateQueue=i,Ud(s,i),Bo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!j.alternate&&!st)return Bt(s),null}else 2*Je()-f.renderingStartTime>Hd&&c!==536870912&&(s.flags|=128,x=!0,Bo(f,!1),s.lanes=4194304);f.isBackwards?(j.sibling=s.child,s.child=j):(i=f.last,i!==null?i.sibling=j:s.child=j,f.last=j)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Je(),i.sibling=null,c=on.current,te(on,x?c&1|2:c&1),st&&Ma(s,f.treeForkCount),i):(Bt(s),null);case 22:case 23:return mr(s),xh(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),c=s.updateQueue,c!==null&&Ud(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),i!==null&&L(us),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),za(un),Bt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function e3(i,s){switch(ah(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return za(un),ee(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ge(s),null;case 31:if(s.memoizedState!==null){if(mr(s),s.alternate===null)throw Error(r(340));os()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(mr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));os()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return L(on),null;case 4:return ee(),null;case 10:return za(s.type),null;case 22:case 23:return mr(s),xh(),i!==null&&L(us),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return za(un),null;case 25:return null;default:return null}}function a1(i,s){switch(ah(s),s.tag){case 3:za(un),ee();break;case 26:case 27:case 5:ge(s);break;case 4:ee();break;case 31:s.memoizedState!==null&&mr(s);break;case 13:mr(s);break;case 19:L(on);break;case 10:za(s.type);break;case 22:case 23:mr(s),xh(),i!==null&&L(us);break;case 24:za(un)}}function $o(i,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var x=f.next;c=x;do{if((c.tag&i)===i){f=void 0;var j=c.create,P=c.inst;f=j(),P.destroy=f}c=c.next}while(c!==x)}}catch(G){gt(s,s.return,G)}}function Oi(i,s,c){try{var f=s.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var j=x.next;f=j;do{if((f.tag&i)===i){var P=f.inst,G=P.destroy;if(G!==void 0){P.destroy=void 0,x=s;var J=c,ce=G;try{ce()}catch(ve){gt(x,J,ve)}}}f=f.next}while(f!==j)}}catch(ve){gt(s,s.return,ve)}}function i1(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Yb(s,c)}catch(f){gt(i,i.return,f)}}}function s1(i,s,c){c.props=gs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){gt(i,s,f)}}function Lo(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(x){gt(i,s,x)}}function ha(i,s){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(x){gt(i,s,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){gt(i,s,x)}else c.current=null}function l1(i){var s=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(x){gt(i,i.return,x)}}function Qh(i,s,c){try{var f=i.stateNode;S3(f,i.type,c,s),f[Jn]=s}catch(x){gt(i,i.return,x)}}function o1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_i(i.type)||i.tag===4}function Zh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||o1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_i(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jh(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Oa));else if(f!==4&&(f===27&&_i(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Jh(i,s,c),i=i.sibling;i!==null;)Jh(i,s,c),i=i.sibling}function Fd(i,s,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(f!==4&&(f===27&&_i(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Fd(i,s,c),i=i.sibling;i!==null;)Fd(i,s,c),i=i.sibling}function c1(i){var s=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);Pn(s,f,c),s[Dn]=i,s[Jn]=c}catch(j){gt(i,i.return,j)}}var Ba=!1,hn=!1,ep=!1,d1=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function t3(i,s){if(i=i.containerInfo,jp=cu,i=Sb(i),Km(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,j=f.focusNode;f=f.focusOffset;try{c.nodeType,j.nodeType}catch{c=null;break e}var P=0,G=-1,J=-1,ce=0,ve=0,Ae=i,fe=null;t:for(;;){for(var he;Ae!==c||x!==0&&Ae.nodeType!==3||(G=P+x),Ae!==j||f!==0&&Ae.nodeType!==3||(J=P+f),Ae.nodeType===3&&(P+=Ae.nodeValue.length),(he=Ae.firstChild)!==null;)fe=Ae,Ae=he;for(;;){if(Ae===i)break t;if(fe===c&&++ce===x&&(G=P),fe===j&&++ve===f&&(J=P),(he=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=he}c=G===-1||J===-1?null:{start:G,end:J}}else c=null}c=c||{start:0,end:0}}else c=null;for(Sp={focusedElem:i,selectionRange:c},cu=!1,Cn=s;Cn!==null;)if(s=Cn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Cn=i;else for(;Cn!==null;){switch(s=Cn,j=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)x=i[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,c=s,x=j.memoizedProps,j=j.memoizedState,f=c.stateNode;try{var _e=gs(c.type,x);i=f.getSnapshotBeforeUpdate(_e,j),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ge){gt(c,c.return,Ge)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)Ep(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Cn=i;break}Cn=s.return}}function u1(i,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:La(i,c),f&4&&$o(5,c);break;case 1:if(La(i,c),f&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(P){gt(c,c.return,P)}else{var x=gs(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(x,s,i.__reactInternalSnapshotBeforeUpdate)}catch(P){gt(c,c.return,P)}}f&64&&i1(c),f&512&&Lo(c,c.return);break;case 3:if(La(i,c),f&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Yb(i,s)}catch(P){gt(c,c.return,P)}}break;case 27:s===null&&f&4&&c1(c);case 26:case 5:La(i,c),s===null&&f&4&&l1(c),f&512&&Lo(c,c.return);break;case 12:La(i,c);break;case 31:La(i,c),f&4&&h1(i,c);break;case 13:La(i,c),f&4&&p1(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=d3.bind(null,c),D3(i,c))));break;case 22:if(f=c.memoizedState!==null||Ba,!f){s=s!==null&&s.memoizedState!==null||hn,x=Ba;var j=hn;Ba=f,(hn=s)&&!j?Ua(i,c,(c.subtreeFlags&8772)!==0):La(i,c),Ba=x,hn=j}break;case 30:break;default:La(i,c)}}function f1(i){var s=i.alternate;s!==null&&(i.alternate=null,f1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Dm(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,tr=!1;function $a(i,s,c){for(c=c.child;c!==null;)m1(i,s,c),c=c.sibling}function m1(i,s,c){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(ft,c)}catch{}switch(c.tag){case 26:hn||ha(c,s),$a(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:hn||ha(c,s);var f=Ut,x=tr;_i(c.type)&&(Ut=c.stateNode,tr=!1),$a(i,s,c),Yo(c.stateNode),Ut=f,tr=x;break;case 5:hn||ha(c,s);case 6:if(f=Ut,x=tr,Ut=null,$a(i,s,c),Ut=f,tr=x,Ut!==null)if(tr)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(c.stateNode)}catch(j){gt(c,s,j)}else try{Ut.removeChild(c.stateNode)}catch(j){gt(c,s,j)}break;case 18:Ut!==null&&(tr?(i=Ut,iS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),kl(i)):iS(Ut,c.stateNode));break;case 4:f=Ut,x=tr,Ut=c.stateNode.containerInfo,tr=!0,$a(i,s,c),Ut=f,tr=x;break;case 0:case 11:case 14:case 15:Oi(2,c,s),hn||Oi(4,c,s),$a(i,s,c);break;case 1:hn||(ha(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&s1(c,s,f)),$a(i,s,c);break;case 21:$a(i,s,c);break;case 22:hn=(f=hn)||c.memoizedState!==null,$a(i,s,c),hn=f;break;default:$a(i,s,c)}}function h1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{kl(i)}catch(c){gt(s,s.return,c)}}}function p1(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{kl(i)}catch(c){gt(s,s.return,c)}}function n3(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new d1),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new d1),s;default:throw Error(r(435,i.tag))}}function Gd(i,s){var c=n3(i);s.forEach(function(f){if(!c.has(f)){c.add(f);var x=u3.bind(null,i,f);f.then(x,x)}})}function nr(i,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f],j=i,P=s,G=P;e:for(;G!==null;){switch(G.tag){case 27:if(_i(G.type)){Ut=G.stateNode,tr=!1;break e}break;case 5:Ut=G.stateNode,tr=!1;break e;case 3:case 4:Ut=G.stateNode.containerInfo,tr=!0;break e}G=G.return}if(Ut===null)throw Error(r(160));m1(j,P,x),Ut=null,tr=!1,j=x.alternate,j!==null&&(j.return=null),x.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)g1(s,i),s=s.sibling}var ra=null;function g1(i,s){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nr(s,i),rr(i),f&4&&(Oi(3,i,i.return),$o(3,i),Oi(5,i,i.return));break;case 1:nr(s,i),rr(i),f&512&&(hn||c===null||ha(c,c.return)),f&64&&Ba&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var x=ra;if(nr(s,i),rr(i),f&512&&(hn||c===null||ha(c,c.return)),f&4){var j=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":j=x.getElementsByTagName("title")[0],(!j||j[mo]||j[Dn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=x.createElement(f),x.head.insertBefore(j,x.querySelector("head > title"))),Pn(j,f,c),j[Dn]=i,En(j),f=j;break e;case"link":var P=gS("link","href",x).get(f+(c.href||""));if(P){for(var G=0;G<P.length;G++)if(j=P[G],j.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&j.getAttribute("rel")===(c.rel==null?null:c.rel)&&j.getAttribute("title")===(c.title==null?null:c.title)&&j.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){P.splice(G,1);break t}}j=x.createElement(f),Pn(j,f,c),x.head.appendChild(j);break;case"meta":if(P=gS("meta","content",x).get(f+(c.content||""))){for(G=0;G<P.length;G++)if(j=P[G],j.getAttribute("content")===(c.content==null?null:""+c.content)&&j.getAttribute("name")===(c.name==null?null:c.name)&&j.getAttribute("property")===(c.property==null?null:c.property)&&j.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&j.getAttribute("charset")===(c.charSet==null?null:c.charSet)){P.splice(G,1);break t}}j=x.createElement(f),Pn(j,f,c),x.head.appendChild(j);break;default:throw Error(r(468,f))}j[Dn]=i,En(j),f=j}i.stateNode=f}else yS(x,i.type,i.stateNode);else i.stateNode=pS(x,f,i.memoizedProps);else j!==f?(j===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):j.count--,f===null?yS(x,i.type,i.stateNode):pS(x,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Qh(i,i.memoizedProps,c.memoizedProps)}break;case 27:nr(s,i),rr(i),f&512&&(hn||c===null||ha(c,c.return)),c!==null&&f&4&&Qh(i,i.memoizedProps,c.memoizedProps);break;case 5:if(nr(s,i),rr(i),f&512&&(hn||c===null||ha(c,c.return)),i.flags&32){x=i.stateNode;try{Zs(x,"")}catch(_e){gt(i,i.return,_e)}}f&4&&i.stateNode!=null&&(x=i.memoizedProps,Qh(i,x,c!==null?c.memoizedProps:x)),f&1024&&(ep=!0);break;case 6:if(nr(s,i),rr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(_e){gt(i,i.return,_e)}}break;case 3:if(iu=null,x=ra,ra=ru(s.containerInfo),nr(s,i),ra=x,rr(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{kl(s.containerInfo)}catch(_e){gt(i,i.return,_e)}ep&&(ep=!1,y1(i));break;case 4:f=ra,ra=ru(i.stateNode.containerInfo),nr(s,i),rr(i),ra=f;break;case 12:nr(s,i),rr(i);break;case 31:nr(s,i),rr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gd(i,f)));break;case 13:nr(s,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Wd=Je()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gd(i,f)));break;case 22:x=i.memoizedState!==null;var J=c!==null&&c.memoizedState!==null,ce=Ba,ve=hn;if(Ba=ce||x,hn=ve||J,nr(s,i),hn=ve,Ba=ce,rr(i),f&8192)e:for(s=i.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(c===null||J||Ba||hn||ys(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){J=c=s;try{if(j=J.stateNode,x)P=j.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{G=J.stateNode;var Ae=J.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;G.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(_e){gt(J,J.return,_e)}}}else if(s.tag===6){if(c===null){J=s;try{J.stateNode.nodeValue=x?"":J.memoizedProps}catch(_e){gt(J,J.return,_e)}}}else if(s.tag===18){if(c===null){J=s;try{var he=J.stateNode;x?sS(he,!0):sS(J.stateNode,!1)}catch(_e){gt(J,J.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Gd(i,c))));break;case 19:nr(s,i),rr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gd(i,f)));break;case 30:break;case 21:break;default:nr(s,i),rr(i)}}function rr(i){var s=i.flags;if(s&2){try{for(var c,f=i.return;f!==null;){if(o1(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var x=c.stateNode,j=Zh(i);Fd(i,j,x);break;case 5:var P=c.stateNode;c.flags&32&&(Zs(P,""),c.flags&=-33);var G=Zh(i);Fd(i,G,P);break;case 3:case 4:var J=c.stateNode.containerInfo,ce=Zh(i);Jh(i,ce,J);break;default:throw Error(r(161))}}catch(ve){gt(i,i.return,ve)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function y1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;y1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function La(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)u1(i,s.alternate,s),s=s.sibling}function ys(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Oi(4,s,s.return),ys(s);break;case 1:ha(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&s1(s,s.return,c),ys(s);break;case 27:Yo(s.stateNode);case 26:case 5:ha(s,s.return),ys(s);break;case 22:s.memoizedState===null&&ys(s);break;case 30:ys(s);break;default:ys(s)}i=i.sibling}}function Ua(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,x=i,j=s,P=j.flags;switch(j.tag){case 0:case 11:case 15:Ua(x,j,c),$o(4,j);break;case 1:if(Ua(x,j,c),f=j,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ce){gt(f,f.return,ce)}if(f=j,x=f.updateQueue,x!==null){var G=f.stateNode;try{var J=x.shared.hiddenCallbacks;if(J!==null)for(x.shared.hiddenCallbacks=null,x=0;x<J.length;x++)Vb(J[x],G)}catch(ce){gt(f,f.return,ce)}}c&&P&64&&i1(j),Lo(j,j.return);break;case 27:c1(j);case 26:case 5:Ua(x,j,c),c&&f===null&&P&4&&l1(j),Lo(j,j.return);break;case 12:Ua(x,j,c);break;case 31:Ua(x,j,c),c&&P&4&&h1(x,j);break;case 13:Ua(x,j,c),c&&P&4&&p1(x,j);break;case 22:j.memoizedState===null&&Ua(x,j,c),Lo(j,j.return);break;case 30:break;default:Ua(x,j,c)}s=s.sibling}}function tp(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Co(c))}function np(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Co(i))}function aa(i,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v1(i,s,c,f),s=s.sibling}function v1(i,s,c,f){var x=s.flags;switch(s.tag){case 0:case 11:case 15:aa(i,s,c,f),x&2048&&$o(9,s);break;case 1:aa(i,s,c,f);break;case 3:aa(i,s,c,f),x&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Co(i)));break;case 12:if(x&2048){aa(i,s,c,f),i=s.stateNode;try{var j=s.memoizedProps,P=j.id,G=j.onPostCommit;typeof G=="function"&&G(P,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){gt(s,s.return,J)}}else aa(i,s,c,f);break;case 31:aa(i,s,c,f);break;case 13:aa(i,s,c,f);break;case 23:break;case 22:j=s.stateNode,P=s.alternate,s.memoizedState!==null?j._visibility&2?aa(i,s,c,f):Uo(i,s):j._visibility&2?aa(i,s,c,f):(j._visibility|=2,vl(i,s,c,f,(s.subtreeFlags&10256)!==0||!1)),x&2048&&tp(P,s);break;case 24:aa(i,s,c,f),x&2048&&np(s.alternate,s);break;default:aa(i,s,c,f)}}function vl(i,s,c,f,x){for(x=x&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var j=i,P=s,G=c,J=f,ce=P.flags;switch(P.tag){case 0:case 11:case 15:vl(j,P,G,J,x),$o(8,P);break;case 23:break;case 22:var ve=P.stateNode;P.memoizedState!==null?ve._visibility&2?vl(j,P,G,J,x):Uo(j,P):(ve._visibility|=2,vl(j,P,G,J,x)),x&&ce&2048&&tp(P.alternate,P);break;case 24:vl(j,P,G,J,x),x&&ce&2048&&np(P.alternate,P);break;default:vl(j,P,G,J,x)}s=s.sibling}}function Uo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,f=s,x=f.flags;switch(f.tag){case 22:Uo(c,f),x&2048&&tp(f.alternate,f);break;case 24:Uo(c,f),x&2048&&np(f.alternate,f);break;default:Uo(c,f)}s=s.sibling}}var Fo=8192;function xl(i,s,c){if(i.subtreeFlags&Fo)for(i=i.child;i!==null;)x1(i,s,c),i=i.sibling}function x1(i,s,c){switch(i.tag){case 26:xl(i,s,c),i.flags&Fo&&i.memoizedState!==null&&F3(c,ra,i.memoizedState,i.memoizedProps);break;case 5:xl(i,s,c);break;case 3:case 4:var f=ra;ra=ru(i.stateNode.containerInfo),xl(i,s,c),ra=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Fo,Fo=16777216,xl(i,s,c),Fo=f):xl(i,s,c));break;default:xl(i,s,c)}}function b1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Go(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Cn=f,S1(f,i)}b1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)j1(i),i=i.sibling}function j1(i){switch(i.tag){case 0:case 11:case 15:Go(i),i.flags&2048&&Oi(9,i,i.return);break;case 3:Go(i);break;case 12:Go(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,qd(i)):Go(i);break;default:Go(i)}}function qd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Cn=f,S1(f,i)}b1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Oi(8,s,s.return),qd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,qd(s));break;default:qd(s)}i=i.sibling}}function S1(i,s){for(;Cn!==null;){var c=Cn;switch(c.tag){case 0:case 11:case 15:Oi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Co(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Cn=f;else e:for(c=i;Cn!==null;){f=Cn;var x=f.sibling,j=f.return;if(f1(f),f===c){Cn=null;break e}if(x!==null){x.return=j,Cn=x;break e}Cn=j}}}var r3={getCacheForType:function(i){var s=Nn(un),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return Nn(un).controller.signal}},a3=typeof WeakMap=="function"?WeakMap:Map,mt=0,Tt=null,tt=null,at=0,pt=0,hr=null,ki=!1,bl=!1,rp=!1,Fa=0,nn=0,Di=0,vs=0,ap=0,pr=0,jl=0,qo=null,ar=null,ip=!1,Wd=0,A1=0,Hd=1/0,Kd=null,Mi=null,vn=0,Ni=null,Sl=null,Ga=0,sp=0,lp=null,w1=null,Wo=0,op=null;function gr(){return(mt&2)!==0&&at!==0?at&-at:D.T!==null?hp():Lx()}function E1(){if(pr===0)if((at&536870912)===0||st){var i=td;td<<=1,(td&3932160)===0&&(td=262144),pr=i}else pr=536870912;return i=fr.current,i!==null&&(i.flags|=32),pr}function ir(i,s,c){(i===Tt&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(Al(i,0),zi(i,at,pr,!1)),fo(i,c),((mt&2)===0||i!==Tt)&&(i===Tt&&((mt&2)===0&&(vs|=c),nn===4&&zi(i,at,pr,!1)),pa(i))}function C1(i,s,c){if((mt&6)!==0)throw Error(r(327));var f=!c&&(s&127)===0&&(s&i.expiredLanes)===0||uo(i,s),x=f?l3(i,s):dp(i,s,!0),j=f;do{if(x===0){bl&&!f&&zi(i,s,0,!1);break}else{if(c=i.current.alternate,j&&!i3(c)){x=dp(i,s,!1),j=!1;continue}if(x===2){if(j=s,i.errorRecoveryDisabledLanes&j)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){s=P;e:{var G=i;x=qo;var J=G.current.memoizedState.isDehydrated;if(J&&(Al(G,P).flags|=256),P=dp(G,P,!1),P!==2){if(rp&&!J){G.errorRecoveryDisabledLanes|=j,vs|=j,x=4;break e}j=ar,ar=x,j!==null&&(ar===null?ar=j:ar.push.apply(ar,j))}x=P}if(j=!1,x!==2)continue}}if(x===1){Al(i,0),zi(i,s,0,!0);break}e:{switch(f=i,j=x,j){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:zi(f,s,pr,!ki);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=Wd+300-Je(),10<x)){if(zi(f,s,pr,!ki),rd(f,0,!0)!==0)break e;Ga=s,f.timeoutHandle=rS(T1.bind(null,f,c,ar,Kd,ip,s,pr,vs,jl,ki,j,"Throttled",-0,0),x);break e}T1(f,c,ar,Kd,ip,s,pr,vs,jl,ki,j,null,-0,0)}}break}while(!0);pa(i)}function T1(i,s,c,f,x,j,P,G,J,ce,ve,Ae,fe,he){if(i.timeoutHandle=-1,Ae=s.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oa},x1(s,j,Ae);var _e=(j&62914560)===j?Wd-Je():(j&4194048)===j?A1-Je():0;if(_e=G3(Ae,_e),_e!==null){Ga=j,i.cancelPendingCommit=_e(_1.bind(null,i,s,j,c,f,x,P,G,J,ve,Ae,null,fe,he)),zi(i,j,P,!ce);return}}_1(i,s,j,c,f,x,P,G,J)}function i3(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var x=c[f],j=x.getSnapshot;x=x.value;try{if(!dr(j(),x))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(i,s,c,f){s&=~ap,s&=~vs,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var x=s;0<x;){var j=31-Ze(x),P=1<<j;f[j]=-1,x&=~P}c!==0&&Rx(i,c,s)}function Vd(){return(mt&6)===0?(Ho(0),!1):!0}function cp(){if(tt!==null){if(pt===0)var i=tt.return;else i=tt,Na=cs=null,Eh(i),ml=null,Oo=0,i=tt;for(;i!==null;)a1(i.alternate,i),i=i.return;tt=null}}function Al(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,E3(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ga=0,cp(),Tt=i,tt=c=Da(i.current,null),at=s,pt=0,hr=null,ki=!1,bl=uo(i,s),rp=!1,jl=pr=ap=vs=Di=nn=0,ar=qo=null,ip=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var x=31-Ze(f),j=1<<x;s|=i[x],f&=~j}return Fa=s,pd(),c}function O1(i,s){Ve=null,D.H=Io,s===fl||s===Ad?(s=qb(),pt=3):s===mh?(s=qb(),pt=4):pt=s===Uh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hr=s,tt===null&&(nn=1,Rd(i,zr(s,i.current)))}function k1(){var i=fr.current;return i===null?!0:(at&4194048)===at?Rr===null:(at&62914560)===at||(at&536870912)!==0?i===Rr:!1}function D1(){var i=D.H;return D.H=Io,i===null?Io:i}function M1(){var i=D.A;return D.A=r3,i}function Yd(){nn=4,ki||(at&4194048)!==at&&fr.current!==null||(bl=!0),(Di&134217727)===0&&(vs&134217727)===0||Tt===null||zi(Tt,at,pr,!1)}function dp(i,s,c){var f=mt;mt|=2;var x=D1(),j=M1();(Tt!==i||at!==s)&&(Kd=null,Al(i,s)),s=!1;var P=nn;e:do try{if(pt!==0&&tt!==null){var G=tt,J=hr;switch(pt){case 8:cp(),P=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(s=!0);var ce=pt;if(pt=0,hr=null,wl(i,G,J,ce),c&&bl){P=0;break e}break;default:ce=pt,pt=0,hr=null,wl(i,G,J,ce)}}s3(),P=nn;break}catch(ve){O1(i,ve)}while(!0);return s&&i.shellSuspendCounter++,Na=cs=null,mt=f,D.H=x,D.A=j,tt===null&&(Tt=null,at=0,pd()),P}function s3(){for(;tt!==null;)N1(tt)}function l3(i,s){var c=mt;mt|=2;var f=D1(),x=M1();Tt!==i||at!==s?(Kd=null,Hd=Je()+500,Al(i,s)):bl=uo(i,s);e:do try{if(pt!==0&&tt!==null){s=tt;var j=hr;t:switch(pt){case 1:pt=0,hr=null,wl(i,s,j,1);break;case 2:case 9:if(Fb(j)){pt=0,hr=null,z1(s);break}s=function(){pt!==2&&pt!==9||Tt!==i||(pt=7),pa(i)},j.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Fb(j)?(pt=0,hr=null,z1(s)):(pt=0,hr=null,wl(i,s,j,7));break;case 5:var P=null;switch(tt.tag){case 26:P=tt.memoizedState;case 5:case 27:var G=tt;if(P?vS(P):G.stateNode.complete){pt=0,hr=null;var J=G.sibling;if(J!==null)tt=J;else{var ce=G.return;ce!==null?(tt=ce,Xd(ce)):tt=null}break t}}pt=0,hr=null,wl(i,s,j,5);break;case 6:pt=0,hr=null,wl(i,s,j,6);break;case 8:cp(),nn=6;break e;default:throw Error(r(462))}}o3();break}catch(ve){O1(i,ve)}while(!0);return Na=cs=null,D.H=f,D.A=x,mt=c,tt!==null?0:(Tt=null,at=0,pd(),nn)}function o3(){for(;tt!==null&&!ht();)N1(tt)}function N1(i){var s=n1(i.alternate,i,Fa);i.memoizedProps=i.pendingProps,s===null?Xd(i):tt=s}function z1(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=Xj(c,s,s.pendingProps,s.type,void 0,at);break;case 11:s=Xj(c,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:Eh(s);default:a1(c,s),s=tt=Mb(s,Fa),s=n1(c,s,Fa)}i.memoizedProps=i.pendingProps,s===null?Xd(i):tt=s}function wl(i,s,c,f){Na=cs=null,Eh(s),ml=null,Oo=0;var x=s.return;try{if(XM(i,x,s,c,at)){nn=1,Rd(i,zr(c,i.current)),tt=null;return}}catch(j){if(x!==null)throw tt=x,j;nn=1,Rd(i,zr(c,i.current)),tt=null;return}s.flags&32768?(st||f===1?i=!0:bl||(at&536870912)!==0?i=!1:(ki=i=!0,(f===2||f===9||f===3||f===6)&&(f=fr.current,f!==null&&f.tag===13&&(f.flags|=16384))),P1(s,i)):Xd(s)}function Xd(i){var s=i;do{if((s.flags&32768)!==0){P1(s,ki);return}i=s.return;var c=JM(s.alternate,s,Fa);if(c!==null){tt=c;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=i}while(s!==null);nn===0&&(nn=5)}function P1(i,s){do{var c=e3(i.alternate,i);if(c!==null){c.flags&=32767,tt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){tt=i;return}tt=i=c}while(i!==null);nn=6,tt=null}function _1(i,s,c,f,x,j,P,G,J){i.cancelPendingCommit=null;do Qd();while(vn!==0);if((mt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(j=s.lanes|s.childLanes,j|=Zm,UD(i,c,j,P,G,J),i===Tt&&(tt=Tt=null,at=0),Sl=s,Ni=i,Ga=c,sp=j,lp=x,w1=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f3(be,function(){return L1(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=D.T,D.T=null,x=k.p,k.p=2,P=mt,mt|=4;try{t3(i,s,c)}finally{mt=P,k.p=x,D.T=f}}vn=1,I1(),R1(),B1()}}function I1(){if(vn===1){vn=0;var i=Ni,s=Sl,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=D.T,D.T=null;var f=k.p;k.p=2;var x=mt;mt|=4;try{g1(s,i);var j=Sp,P=Sb(i.containerInfo),G=j.focusedElem,J=j.selectionRange;if(P!==G&&G&&G.ownerDocument&&jb(G.ownerDocument.documentElement,G)){if(J!==null&&Km(G)){var ce=J.start,ve=J.end;if(ve===void 0&&(ve=ce),"selectionStart"in G)G.selectionStart=ce,G.selectionEnd=Math.min(ve,G.value.length);else{var Ae=G.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),_e=G.textContent.length,Ge=Math.min(J.start,_e),At=J.end===void 0?Ge:Math.min(J.end,_e);!he.extend&&Ge>At&&(P=At,At=Ge,Ge=P);var ie=bb(G,Ge),re=bb(G,At);if(ie&&re&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==re.node||he.focusOffset!==re.offset)){var oe=Ae.createRange();oe.setStart(ie.node,ie.offset),he.removeAllRanges(),Ge>At?(he.addRange(oe),he.extend(re.node,re.offset)):(oe.setEnd(re.node,re.offset),he.addRange(oe))}}}}for(Ae=[],he=G;he=he.parentNode;)he.nodeType===1&&Ae.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ae.length;G++){var je=Ae[G];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}cu=!!jp,Sp=jp=null}finally{mt=x,k.p=f,D.T=c}}i.current=s,vn=2}}function R1(){if(vn===2){vn=0;var i=Ni,s=Sl,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=D.T,D.T=null;var f=k.p;k.p=2;var x=mt;mt|=4;try{u1(i,s.alternate,s)}finally{mt=x,k.p=f,D.T=c}}vn=3}}function B1(){if(vn===4||vn===3){vn=0,cr();var i=Ni,s=Sl,c=Ga,f=w1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,Sl=Ni=null,$1(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(Mi=null),Om(c),s=s.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=D.T,x=k.p,k.p=2,D.T=null;try{for(var j=i.onRecoverableError,P=0;P<f.length;P++){var G=f[P];j(G.value,{componentStack:G.stack})}}finally{D.T=s,k.p=x}}(Ga&3)!==0&&Qd(),pa(i),x=i.pendingLanes,(c&261930)!==0&&(x&42)!==0?i===op?Wo++:(Wo=0,op=i):Wo=0,Ho(0)}}function $1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Co(s)))}function Qd(){return I1(),R1(),B1(),L1()}function L1(){if(vn!==5)return!1;var i=Ni,s=sp;sp=0;var c=Om(Ga),f=D.T,x=k.p;try{k.p=32>c?32:c,D.T=null,c=lp,lp=null;var j=Ni,P=Ga;if(vn=0,Sl=Ni=null,Ga=0,(mt&6)!==0)throw Error(r(331));var G=mt;if(mt|=4,j1(j.current),v1(j,j.current,P,c),mt=G,Ho(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(ft,j)}catch{}return!0}finally{k.p=x,D.T=f,$1(i,s)}}function U1(i,s,c){s=zr(c,s),s=Lh(i.stateNode,s,2),i=Ei(i,s,2),i!==null&&(fo(i,2),pa(i))}function gt(i,s,c){if(i.tag===3)U1(i,i,c);else for(;s!==null;){if(s.tag===3){U1(s,i,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))){i=zr(c,i),c=Fj(2),f=Ei(s,c,2),f!==null&&(Gj(c,f,s,i),fo(f,2),pa(f));break}}s=s.return}}function up(i,s,c){var f=i.pingCache;if(f===null){f=i.pingCache=new a3;var x=new Set;f.set(s,x)}else x=f.get(s),x===void 0&&(x=new Set,f.set(s,x));x.has(c)||(rp=!0,x.add(c),i=c3.bind(null,i,s,c),s.then(i,i))}function c3(i,s,c){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Tt===i&&(at&c)===c&&(nn===4||nn===3&&(at&62914560)===at&&300>Je()-Wd?(mt&2)===0&&Al(i,0):ap|=c,jl===at&&(jl=0)),pa(i)}function F1(i,s){s===0&&(s=Ix()),i=ss(i,s),i!==null&&(fo(i,s),pa(i))}function d3(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),F1(i,c)}function u3(i,s){var c=0;switch(i.tag){case 31:case 13:var f=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),F1(i,c)}function f3(i,s){return _t(i,s)}var Zd=null,El=null,fp=!1,Jd=!1,mp=!1,Pi=0;function pa(i){i!==El&&i.next===null&&(El===null?Zd=El=i:El=El.next=i),Jd=!0,fp||(fp=!0,h3())}function Ho(i,s){if(!mp&&Jd){mp=!0;do for(var c=!1,f=Zd;f!==null;){if(i!==0){var x=f.pendingLanes;if(x===0)var j=0;else{var P=f.suspendedLanes,G=f.pingedLanes;j=(1<<31-Ze(42|i)+1)-1,j&=x&~(P&~G),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(c=!0,H1(f,j))}else j=at,j=rd(f,f===Tt?j:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(j&3)===0||uo(f,j)||(c=!0,H1(f,j));f=f.next}while(c);mp=!1}}function m3(){G1()}function G1(){Jd=fp=!1;var i=0;Pi!==0&&w3()&&(i=Pi);for(var s=Je(),c=null,f=Zd;f!==null;){var x=f.next,j=q1(f,s);j===0?(f.next=null,c===null?Zd=x:c.next=x,x===null&&(El=c)):(c=f,(i!==0||(j&3)!==0)&&(Jd=!0)),f=x}vn!==0&&vn!==5||Ho(i),Pi!==0&&(Pi=0)}function q1(i,s){for(var c=i.suspendedLanes,f=i.pingedLanes,x=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var P=31-Ze(j),G=1<<P,J=x[P];J===-1?((G&c)===0||(G&f)!==0)&&(x[P]=LD(G,s)):J<=s&&(i.expiredLanes|=G),j&=~G}if(s=Tt,c=at,c=rd(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===s&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&xt(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||uo(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(f!==null&&xt(f),Om(c)){case 2:case 8:c=ne;break;case 32:c=be;break;case 268435456:c=Le;break;default:c=be}return f=W1.bind(null,i),c=_t(c,f),i.callbackPriority=s,i.callbackNode=c,s}return f!==null&&f!==null&&xt(f),i.callbackPriority=2,i.callbackNode=null,2}function W1(i,s){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Qd()&&i.callbackNode!==c)return null;var f=at;return f=rd(i,i===Tt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(C1(i,f,s),q1(i,Je()),i.callbackNode!=null&&i.callbackNode===c?W1.bind(null,i):null)}function H1(i,s){if(Qd())return null;C1(i,s,!0)}function h3(){C3(function(){(mt&6)!==0?_t(me,m3):G1()})}function hp(){if(Pi===0){var i=dl;i===0&&(i=Ca,Ca<<=1,(Ca&261888)===0&&(Ca=256)),Pi=i}return Pi}function K1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ld(""+i)}function V1(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function p3(i,s,c,f,x){if(s==="submit"&&c&&c.stateNode===x){var j=K1((x[Jn]||null).action),P=f.submitter;P&&(s=(s=P[Jn]||null)?K1(s.formAction):P.getAttribute("formAction"),s!==null&&(j=s,P=null));var G=new ud("action","action",null,f,x);i.push({event:G,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pi!==0){var J=P?V1(x,P):new FormData(x);Ph(c,{pending:!0,data:J,method:x.method,action:j},null,J)}}else typeof j=="function"&&(G.preventDefault(),J=P?V1(x,P):new FormData(x),Ph(c,{pending:!0,data:J,method:x.method,action:j},j,J))},currentTarget:x}]})}}for(var pp=0;pp<Qm.length;pp++){var gp=Qm[pp],g3=gp.toLowerCase(),y3=gp[0].toUpperCase()+gp.slice(1);na(g3,"on"+y3)}na(Eb,"onAnimationEnd"),na(Cb,"onAnimationIteration"),na(Tb,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(zM,"onTransitionRun"),na(PM,"onTransitionStart"),na(_M,"onTransitionCancel"),na(Ob,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function Y1(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],x=f.event;f=f.listeners;e:{var j=void 0;if(s)for(var P=f.length-1;0<=P;P--){var G=f[P],J=G.instance,ce=G.currentTarget;if(G=G.listener,J!==j&&x.isPropagationStopped())break e;j=G,x.currentTarget=ce;try{j(x)}catch(ve){hd(ve)}x.currentTarget=null,j=J}else for(P=0;P<f.length;P++){if(G=f[P],J=G.instance,ce=G.currentTarget,G=G.listener,J!==j&&x.isPropagationStopped())break e;j=G,x.currentTarget=ce;try{j(x)}catch(ve){hd(ve)}x.currentTarget=null,j=J}}}}function nt(i,s){var c=s[km];c===void 0&&(c=s[km]=new Set);var f=i+"__bubble";c.has(f)||(X1(s,i,2,!1),c.add(f))}function yp(i,s,c){var f=0;s&&(f|=4),X1(c,i,f,s)}var eu="_reactListening"+Math.random().toString(36).slice(2);function vp(i){if(!i[eu]){i[eu]=!0,Gx.forEach(function(c){c!=="selectionchange"&&(v3.has(c)||yp(c,!1,i),yp(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[eu]||(s[eu]=!0,yp("selectionchange",!1,s))}}function X1(i,s,c,f){switch(ES(s)){case 2:var x=H3;break;case 8:x=K3;break;default:x=zp}c=x.bind(null,s,c,i),x=void 0,!Bm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),f?x!==void 0?i.addEventListener(s,c,{capture:!0,passive:x}):i.addEventListener(s,c,!0):x!==void 0?i.addEventListener(s,c,{passive:x}):i.addEventListener(s,c,!1)}function xp(i,s,c,f,x){var j=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var P=f.tag;if(P===3||P===4){var G=f.stateNode.containerInfo;if(G===x)break;if(P===4)for(P=f.return;P!==null;){var J=P.tag;if((J===3||J===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;G!==null;){if(P=Ks(G),P===null)return;if(J=P.tag,J===5||J===6||J===26||J===27){f=j=P;continue e}G=G.parentNode}}f=f.return}tb(function(){var ce=j,ve=Im(c),Ae=[];e:{var fe=kb.get(i);if(fe!==void 0){var he=ud,_e=i;switch(i){case"keypress":if(cd(c)===0)break e;case"keydown":case"keyup":he=uM;break;case"focusin":_e="focus",he=Fm;break;case"focusout":_e="blur",he=Fm;break;case"beforeblur":case"afterblur":he=Fm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=JD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=hM;break;case Eb:case Cb:case Tb:he=nM;break;case Ob:he=gM;break;case"scroll":case"scrollend":he=QD;break;case"wheel":he=vM;break;case"copy":case"cut":case"paste":he=aM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=sb;break;case"toggle":case"beforetoggle":he=bM}var Ge=(s&4)!==0,At=!Ge&&(i==="scroll"||i==="scrollend"),ie=Ge?fe!==null?fe+"Capture":null:fe;Ge=[];for(var re=ce,oe;re!==null;){var je=re;if(oe=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||oe===null||ie===null||(je=po(re,ie),je!=null&&Ge.push(Vo(re,je,oe))),At)break;re=re.return}0<Ge.length&&(fe=new he(fe,_e,null,c,ve),Ae.push({event:fe,listeners:Ge}))}}if((s&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",fe&&c!==_m&&(_e=c.relatedTarget||c.fromElement)&&(Ks(_e)||_e[Hs]))break e;if((he||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(_e=c.relatedTarget||c.toElement,he=ce,_e=_e?Ks(_e):null,_e!==null&&(At=o(_e),Ge=_e.tag,_e!==At||Ge!==5&&Ge!==27&&Ge!==6)&&(_e=null)):(he=null,_e=ce),he!==_e)){if(Ge=ab,je="onMouseLeave",ie="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=sb,je="onPointerLeave",ie="onPointerEnter",re="pointer"),At=he==null?fe:ho(he),oe=_e==null?fe:ho(_e),fe=new Ge(je,re+"leave",he,c,ve),fe.target=At,fe.relatedTarget=oe,je=null,Ks(ve)===ce&&(Ge=new Ge(ie,re+"enter",_e,c,ve),Ge.target=oe,Ge.relatedTarget=At,je=Ge),At=je,he&&_e)t:{for(Ge=x3,ie=he,re=_e,oe=0,je=ie;je;je=Ge(je))oe++;je=0;for(var Ue=re;Ue;Ue=Ge(Ue))je++;for(;0<oe-je;)ie=Ge(ie),oe--;for(;0<je-oe;)re=Ge(re),je--;for(;oe--;){if(ie===re||re!==null&&ie===re.alternate){Ge=ie;break t}ie=Ge(ie),re=Ge(re)}Ge=null}else Ge=null;he!==null&&Q1(Ae,fe,he,Ge,!1),_e!==null&&At!==null&&Q1(Ae,At,_e,Ge,!0)}}e:{if(fe=ce?ho(ce):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var ct=hb;else if(fb(fe))if(pb)ct=DM;else{ct=OM;var $e=TM}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&Pm(ce.elementType)&&(ct=hb):ct=kM;if(ct&&(ct=ct(i,ce))){mb(Ae,ct,c,ve);break e}$e&&$e(i,fe,ce),i==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&zm(fe,"number",fe.value)}switch($e=ce?ho(ce):window,i){case"focusin":(fb($e)||$e.contentEditable==="true")&&(nl=$e,Vm=ce,Ao=null);break;case"focusout":Ao=Vm=nl=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,Ab(Ae,c,ve);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":Ab(Ae,c,ve)}var Xe;if(qm)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else tl?db(i,c)&&(it="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(it="onCompositionStart");it&&(lb&&c.locale!=="ko"&&(tl||it!=="onCompositionStart"?it==="onCompositionEnd"&&tl&&(Xe=nb()):(vi=ve,$m="value"in vi?vi.value:vi.textContent,tl=!0)),$e=tu(ce,it),0<$e.length&&(it=new ib(it,i,null,c,ve),Ae.push({event:it,listeners:$e}),Xe?it.data=Xe:(Xe=ub(c),Xe!==null&&(it.data=Xe)))),(Xe=SM?AM(i,c):wM(i,c))&&(it=tu(ce,"onBeforeInput"),0<it.length&&($e=new ib("onBeforeInput","beforeinput",null,c,ve),Ae.push({event:$e,listeners:it}),$e.data=Xe)),p3(Ae,i,ce,c,ve)}Y1(Ae,s)})}function Vo(i,s,c){return{instance:i,listener:s,currentTarget:c}}function tu(i,s){for(var c=s+"Capture",f=[];i!==null;){var x=i,j=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||j===null||(x=po(i,c),x!=null&&f.unshift(Vo(i,x,j)),x=po(i,s),x!=null&&f.push(Vo(i,x,j))),i.tag===3)return f;i=i.return}return[]}function x3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q1(i,s,c,f,x){for(var j=s._reactName,P=[];c!==null&&c!==f;){var G=c,J=G.alternate,ce=G.stateNode;if(G=G.tag,J!==null&&J===f)break;G!==5&&G!==26&&G!==27||ce===null||(J=ce,x?(ce=po(c,j),ce!=null&&P.unshift(Vo(c,ce,J))):x||(ce=po(c,j),ce!=null&&P.push(Vo(c,ce,J)))),c=c.return}P.length!==0&&i.push({event:s,listeners:P})}var b3=/\r\n?/g,j3=/\u0000|\uFFFD/g;function Z1(i){return(typeof i=="string"?i:""+i).replace(b3,`
`).replace(j3,"")}function J1(i,s){return s=Z1(s),Z1(i)===s}function St(i,s,c,f,x,j){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Zs(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Zs(i,""+f);break;case"className":id(i,"class",f);break;case"tabIndex":id(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":id(i,c,f);break;case"style":Jx(i,f,j);break;case"data":if(s!=="object"){id(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=ld(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(c==="formAction"?(s!=="input"&&St(i,s,"name",x.name,x,null),St(i,s,"formEncType",x.formEncType,x,null),St(i,s,"formMethod",x.formMethod,x,null),St(i,s,"formTarget",x.formTarget,x,null)):(St(i,s,"encType",x.encType,x,null),St(i,s,"method",x.method,x,null),St(i,s,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=ld(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Oa);break;case"onScroll":f!=null&&nt("scroll",i);break;case"onScrollEnd":f!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=ld(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":nt("beforetoggle",i),nt("toggle",i),ad(i,"popover",f);break;case"xlinkActuate":Ta(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ta(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ta(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ta(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ta(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ta(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ad(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=YD.get(c)||c,ad(i,c,f))}}function bp(i,s,c,f,x,j){switch(c){case"style":Jx(i,f,j);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof f=="string"?Zs(i,f):(typeof f=="number"||typeof f=="bigint")&&Zs(i,""+f);break;case"onScroll":f!=null&&nt("scroll",i);break;case"onScrollEnd":f!=null&&nt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qx.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),s=c.slice(2,x?c.length-7:void 0),j=i[Jn]||null,j=j!=null?j[c]:null,typeof j=="function"&&i.removeEventListener(s,j,x),typeof f=="function")){typeof j!="function"&&j!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,f,x);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):ad(i,c,f)}}}function Pn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var f=!1,x=!1,j;for(j in c)if(c.hasOwnProperty(j)){var P=c[j];if(P!=null)switch(j){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,j,P,c,null)}}x&&St(i,s,"srcSet",c.srcSet,c,null),f&&St(i,s,"src",c.src,c,null);return;case"input":nt("invalid",i);var G=j=P=x=null,J=null,ce=null;for(f in c)if(c.hasOwnProperty(f)){var ve=c[f];if(ve!=null)switch(f){case"name":x=ve;break;case"type":P=ve;break;case"checked":J=ve;break;case"defaultChecked":ce=ve;break;case"value":j=ve;break;case"defaultValue":G=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:St(i,s,f,ve,c,null)}}Yx(i,j,G,J,ce,P,x,!1);return;case"select":nt("invalid",i),f=P=j=null;for(x in c)if(c.hasOwnProperty(x)&&(G=c[x],G!=null))switch(x){case"value":j=G;break;case"defaultValue":P=G;break;case"multiple":f=G;default:St(i,s,x,G,c,null)}s=j,c=P,i.multiple=!!f,s!=null?Qs(i,!!f,s,!1):c!=null&&Qs(i,!!f,c,!0);return;case"textarea":nt("invalid",i),j=x=f=null;for(P in c)if(c.hasOwnProperty(P)&&(G=c[P],G!=null))switch(P){case"value":f=G;break;case"defaultValue":x=G;break;case"children":j=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:St(i,s,P,G,c,null)}Qx(i,f,x,j);return;case"option":for(J in c)if(c.hasOwnProperty(J)&&(f=c[J],f!=null))switch(J){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:St(i,s,J,f,c,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(f=0;f<Ko.length;f++)nt(Ko[f],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(f=c[ce],f!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,ce,f,c,null)}return;default:if(Pm(s)){for(ve in c)c.hasOwnProperty(ve)&&(f=c[ve],f!==void 0&&bp(i,s,ve,f,c,void 0));return}}for(G in c)c.hasOwnProperty(G)&&(f=c[G],f!=null&&St(i,s,G,f,c,null))}function S3(i,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,j=null,P=null,G=null,J=null,ce=null,ve=null;for(he in c){var Ae=c[he];if(c.hasOwnProperty(he)&&Ae!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":J=Ae;default:f.hasOwnProperty(he)||St(i,s,he,null,f,Ae)}}for(var fe in f){var he=f[fe];if(Ae=c[fe],f.hasOwnProperty(fe)&&(he!=null||Ae!=null))switch(fe){case"type":j=he;break;case"name":x=he;break;case"checked":ce=he;break;case"defaultChecked":ve=he;break;case"value":P=he;break;case"defaultValue":G=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,s));break;default:he!==Ae&&St(i,s,fe,he,f,Ae)}}Nm(i,P,G,J,ce,ve,j,x);return;case"select":he=P=G=fe=null;for(j in c)if(J=c[j],c.hasOwnProperty(j)&&J!=null)switch(j){case"value":break;case"multiple":he=J;default:f.hasOwnProperty(j)||St(i,s,j,null,f,J)}for(x in f)if(j=f[x],J=c[x],f.hasOwnProperty(x)&&(j!=null||J!=null))switch(x){case"value":fe=j;break;case"defaultValue":G=j;break;case"multiple":P=j;default:j!==J&&St(i,s,x,j,f,J)}s=G,c=P,f=he,fe!=null?Qs(i,!!c,fe,!1):!!f!=!!c&&(s!=null?Qs(i,!!c,s,!0):Qs(i,!!c,c?[]:"",!1));return;case"textarea":he=fe=null;for(G in c)if(x=c[G],c.hasOwnProperty(G)&&x!=null&&!f.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:St(i,s,G,null,f,x)}for(P in f)if(x=f[P],j=c[P],f.hasOwnProperty(P)&&(x!=null||j!=null))switch(P){case"value":fe=x;break;case"defaultValue":he=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==j&&St(i,s,P,x,f,j)}Xx(i,fe,he);return;case"option":for(var _e in c)if(fe=c[_e],c.hasOwnProperty(_e)&&fe!=null&&!f.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:St(i,s,_e,null,f,fe)}for(J in f)if(fe=f[J],he=c[J],f.hasOwnProperty(J)&&fe!==he&&(fe!=null||he!=null))switch(J){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:St(i,s,J,fe,f,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in c)fe=c[Ge],c.hasOwnProperty(Ge)&&fe!=null&&!f.hasOwnProperty(Ge)&&St(i,s,Ge,null,f,fe);for(ce in f)if(fe=f[ce],he=c[ce],f.hasOwnProperty(ce)&&fe!==he&&(fe!=null||he!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:St(i,s,ce,fe,f,he)}return;default:if(Pm(s)){for(var At in c)fe=c[At],c.hasOwnProperty(At)&&fe!==void 0&&!f.hasOwnProperty(At)&&bp(i,s,At,void 0,f,fe);for(ve in f)fe=f[ve],he=c[ve],!f.hasOwnProperty(ve)||fe===he||fe===void 0&&he===void 0||bp(i,s,ve,fe,f,he);return}}for(var ie in c)fe=c[ie],c.hasOwnProperty(ie)&&fe!=null&&!f.hasOwnProperty(ie)&&St(i,s,ie,null,f,fe);for(Ae in f)fe=f[Ae],he=c[Ae],!f.hasOwnProperty(Ae)||fe===he||fe==null&&he==null||St(i,s,Ae,fe,f,he)}function eS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var x=c[f],j=x.transferSize,P=x.initiatorType,G=x.duration;if(j&&G&&eS(P)){for(P=0,G=x.responseEnd,f+=1;f<c.length;f++){var J=c[f],ce=J.startTime;if(ce>G)break;var ve=J.transferSize,Ae=J.initiatorType;ve&&eS(Ae)&&(J=J.responseEnd,P+=ve*(J<G?1:(G-ce)/(J-ce)))}if(--f,s+=8*(j+P)/(x.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jp=null,Sp=null;function nu(i){return i.nodeType===9?i:i.ownerDocument}function tS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ap(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wp=null;function w3(){var i=window.event;return i&&i.type==="popstate"?i===wp?!1:(wp=i,!0):(wp=null,!1)}var rS=typeof setTimeout=="function"?setTimeout:void 0,E3=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(i){return aS.resolve(null).then(i).catch(T3)}:rS;function T3(i){setTimeout(function(){throw i})}function _i(i){return i==="head"}function iS(i,s){var c=s,f=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(f===0){i.removeChild(x),kl(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Yo(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Yo(c);for(var j=c.firstChild;j;){var P=j.nextSibling,G=j.nodeName;j[mo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&j.rel.toLowerCase()==="stylesheet"||c.removeChild(j),j=P}}else c==="body"&&Yo(i.ownerDocument.body);c=x}while(c);kl(s)}function sS(i,s){var c=i;i=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=f}while(c)}function Ep(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ep(c),Dm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function O3(i,s,c,f){for(;i.nodeType===1;){var x=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[mo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var j=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Br(i.nextSibling),i===null)break}return null}function k3(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Br(i.nextSibling),i===null))return null;return i}function lS(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Br(i.nextSibling),i===null))return null;return i}function Cp(i){return i.data==="$?"||i.data==="$~"}function Tp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function D3(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Br(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Op=null;function oS(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return Br(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function cS(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function dS(i,s,c){switch(s=nu(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Dm(i)}var $r=new Map,uS=new Set;function ru(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var qa=k.d;k.d={f:M3,r:N3,D:z3,C:P3,L:_3,m:I3,X:B3,S:R3,M:$3};function M3(){var i=qa.f(),s=Vd();return i||s}function N3(i){var s=Vs(i);s!==null&&s.tag===5&&s.type==="form"?Oj(s):qa.r(i)}var Cl=typeof document>"u"?null:document;function fS(i,s,c){var f=Cl;if(f&&typeof s=="string"&&s){var x=Mr(s);x='link[rel="'+i+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),uS.has(x)||(uS.add(x),i={rel:i,crossOrigin:c,href:s},f.querySelector(x)===null&&(s=f.createElement("link"),Pn(s,"link",i),En(s),f.head.appendChild(s)))}}function z3(i){qa.D(i),fS("dns-prefetch",i,null)}function P3(i,s){qa.C(i,s),fS("preconnect",i,s)}function _3(i,s,c){qa.L(i,s,c);var f=Cl;if(f&&i&&s){var x='link[rel="preload"][as="'+Mr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+Mr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+Mr(c.imageSizes)+'"]')):x+='[href="'+Mr(i)+'"]';var j=x;switch(s){case"style":j=Tl(i);break;case"script":j=Ol(i)}$r.has(j)||(i=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),$r.set(j,i),f.querySelector(x)!==null||s==="style"&&f.querySelector(Xo(j))||s==="script"&&f.querySelector(Qo(j))||(s=f.createElement("link"),Pn(s,"link",i),En(s),f.head.appendChild(s)))}}function I3(i,s){qa.m(i,s);var c=Cl;if(c&&i){var f=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+Mr(f)+'"][href="'+Mr(i)+'"]',j=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Ol(i)}if(!$r.has(j)&&(i=g({rel:"modulepreload",href:i},s),$r.set(j,i),c.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qo(j)))return}f=c.createElement("link"),Pn(f,"link",i),En(f),c.head.appendChild(f)}}}function R3(i,s,c){qa.S(i,s,c);var f=Cl;if(f&&i){var x=Ys(f).hoistableStyles,j=Tl(i);s=s||"default";var P=x.get(j);if(!P){var G={loading:0,preload:null};if(P=f.querySelector(Xo(j)))G.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},c),(c=$r.get(j))&&kp(i,c);var J=P=f.createElement("link");En(J),Pn(J,"link",i),J._p=new Promise(function(ce,ve){J.onload=ce,J.onerror=ve}),J.addEventListener("load",function(){G.loading|=1}),J.addEventListener("error",function(){G.loading|=2}),G.loading|=4,au(P,s,f)}P={type:"stylesheet",instance:P,count:1,state:G},x.set(j,P)}}}function B3(i,s){qa.X(i,s);var c=Cl;if(c&&i){var f=Ys(c).hoistableScripts,x=Ol(i),j=f.get(x);j||(j=c.querySelector(Qo(x)),j||(i=g({src:i,async:!0},s),(s=$r.get(x))&&Dp(i,s),j=c.createElement("script"),En(j),Pn(j,"link",i),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(x,j))}}function $3(i,s){qa.M(i,s);var c=Cl;if(c&&i){var f=Ys(c).hoistableScripts,x=Ol(i),j=f.get(x);j||(j=c.querySelector(Qo(x)),j||(i=g({src:i,async:!0,type:"module"},s),(s=$r.get(x))&&Dp(i,s),j=c.createElement("script"),En(j),Pn(j,"link",i),c.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},f.set(x,j))}}function mS(i,s,c,f){var x=(x=Q.current)?ru(x):null;if(!x)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Tl(c.href),c=Ys(x).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Tl(c.href);var j=Ys(x).hoistableStyles,P=j.get(i);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,P),(j=x.querySelector(Xo(i)))&&!j._p&&(P.instance=j,P.state.loading=5),$r.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},$r.set(i,c),j||L3(x,i,c,P.state))),s&&f===null)throw Error(r(528,""));return P}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ol(c),c=Ys(x).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Tl(i){return'href="'+Mr(i)+'"'}function Xo(i){return'link[rel="stylesheet"]['+i+"]"}function hS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function L3(i,s,c,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Pn(s,"link",c),En(s),i.head.appendChild(s))}function Ol(i){return'[src="'+Mr(i)+'"]'}function Qo(i){return"script[async]"+i}function pS(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Mr(c.href)+'"]');if(f)return s.instance=f,En(f),f;var x=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),En(f),Pn(f,"style",x),au(f,c.precedence,i),s.instance=f;case"stylesheet":x=Tl(c.href);var j=i.querySelector(Xo(x));if(j)return s.state.loading|=4,s.instance=j,En(j),j;f=hS(c),(x=$r.get(x))&&kp(f,x),j=(i.ownerDocument||i).createElement("link"),En(j);var P=j;return P._p=new Promise(function(G,J){P.onload=G,P.onerror=J}),Pn(j,"link",f),s.state.loading|=4,au(j,c.precedence,i),s.instance=j;case"script":return j=Ol(c.src),(x=i.querySelector(Qo(j)))?(s.instance=x,En(x),x):(f=c,(x=$r.get(j))&&(f=g({},c),Dp(f,x)),i=i.ownerDocument||i,x=i.createElement("script"),En(x),Pn(x,"link",f),i.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,au(f,c.precedence,i));return s.instance}function au(i,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,j=x,P=0;P<f.length;P++){var G=f[P];if(G.dataset.precedence===s)j=G;else if(j!==x)break}j?j.parentNode.insertBefore(i,j.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function kp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var iu=null;function gS(i,s,c){if(iu===null){var f=new Map,x=iu=new Map;x.set(c,f)}else x=iu,f=x.get(c),f||(f=new Map,x.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),x=0;x<c.length;x++){var j=c[x];if(!(j[mo]||j[Dn]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var P=j.getAttribute(s)||"";P=i+P;var G=f.get(P);G?G.push(j):f.set(P,[j])}}return f}function yS(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function U3(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function F3(i,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Tl(f.href),j=s.querySelector(Xo(x));if(j){s=j._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=su.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=j,En(j);return}j=s.ownerDocument||s,f=hS(f),(x=$r.get(x))&&kp(f,x),j=j.createElement("link"),En(j);var P=j;P._p=new Promise(function(G,J){P.onload=G,P.onerror=J}),Pn(j,"link",f),c.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=su.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var Mp=0;function G3(i,s){return i.stylesheets&&i.count===0&&ou(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var f=setTimeout(function(){if(i.stylesheets&&ou(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+s);0<i.imgBytes&&Mp===0&&(Mp=62500*A3());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ou(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>Mp?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lu=null;function ou(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lu=new Map,s.forEach(q3,i),lu=null,su.call(i))}function q3(i,s){if(!(s.state.loading&4)){var c=lu.get(i);if(c)var f=c.get(null);else{c=new Map,lu.set(i,c);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<x.length;j++){var P=x[j];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(c.set(P.dataset.precedence,P),f=P)}f&&c.set(null,f)}x=s.instance,P=x.getAttribute("data-precedence"),j=c.get(P)||f,j===f&&c.set(null,x),c.set(P,x),this.count++,f=su.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),j?j.parentNode.insertBefore(x,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),s.state.loading|=4}}var Zo={$$typeof:w,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function W3(i,s,c,f,x,j,P,G,J){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.hiddenUpdates=Cm(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=j,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function xS(i,s,c,f,x,j,P,G,J,ce,ve,Ae){return i=new W3(i,s,c,P,J,ce,ve,Ae,G),s=1,j===!0&&(s|=24),j=ur(3,null,null,s),i.current=j,j.stateNode=i,s=dh(),s.refCount++,i.pooledCache=s,s.refCount++,j.memoizedState={element:f,isDehydrated:c,cache:s},hh(j),i}function bS(i){return i?(i=il,i):il}function jS(i,s,c,f,x,j){x=bS(x),f.context===null?f.context=x:f.pendingContext=x,f=wi(s),f.payload={element:c},j=j===void 0?null:j,j!==null&&(f.callback=j),c=Ei(i,f,s),c!==null&&(ir(c,i,s),Do(c,i,s))}function SS(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function Np(i,s){SS(i,s),(i=i.alternate)&&SS(i,s)}function AS(i){if(i.tag===13||i.tag===31){var s=ss(i,67108864);s!==null&&ir(s,i,67108864),Np(i,67108864)}}function wS(i){if(i.tag===13||i.tag===31){var s=gr();s=Tm(s);var c=ss(i,s);c!==null&&ir(c,i,s),Np(i,s)}}var cu=!0;function H3(i,s,c,f){var x=D.T;D.T=null;var j=k.p;try{k.p=2,zp(i,s,c,f)}finally{k.p=j,D.T=x}}function K3(i,s,c,f){var x=D.T;D.T=null;var j=k.p;try{k.p=8,zp(i,s,c,f)}finally{k.p=j,D.T=x}}function zp(i,s,c,f){if(cu){var x=Pp(f);if(x===null)xp(i,s,f,du,c),CS(i,f);else if(Y3(x,i,s,c,f))f.stopPropagation();else if(CS(i,f),s&4&&-1<V3.indexOf(i)){for(;x!==null;){var j=Vs(x);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var P=ts(j.pendingLanes);if(P!==0){var G=j;for(G.pendingLanes|=2,G.entangledLanes|=2;P;){var J=1<<31-Ze(P);G.entanglements[1]|=J,P&=~J}pa(j),(mt&6)===0&&(Hd=Je()+500,Ho(0))}}break;case 31:case 13:G=ss(j,2),G!==null&&ir(G,j,2),Vd(),Np(j,2)}if(j=Pp(f),j===null&&xp(i,s,f,du,c),j===x)break;x=j}x!==null&&f.stopPropagation()}else xp(i,s,f,null,c)}}function Pp(i){return i=Im(i),_p(i)}var du=null;function _p(i){if(du=null,i=Ks(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=d(s),i!==null)return i;i=null}else if(c===31){if(i=u(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return du=i,null}function ES(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case me:return 2;case ne:return 8;case be:case Ne:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Ip=!1,Ii=null,Ri=null,Bi=null,Jo=new Map,ec=new Map,$i=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CS(i,s){switch(i){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(s.pointerId)}}function tc(i,s,c,f,x,j){return i===null||i.nativeEvent!==j?(i={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:j,targetContainers:[x]},s!==null&&(s=Vs(s),s!==null&&AS(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),i)}function Y3(i,s,c,f,x){switch(s){case"focusin":return Ii=tc(Ii,i,s,c,f,x),!0;case"dragenter":return Ri=tc(Ri,i,s,c,f,x),!0;case"mouseover":return Bi=tc(Bi,i,s,c,f,x),!0;case"pointerover":var j=x.pointerId;return Jo.set(j,tc(Jo.get(j)||null,i,s,c,f,x)),!0;case"gotpointercapture":return j=x.pointerId,ec.set(j,tc(ec.get(j)||null,i,s,c,f,x)),!0}return!1}function TS(i){var s=Ks(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=d(c),s!==null){i.blockedOn=s,Ux(i.priority,function(){wS(c)});return}}else if(s===31){if(s=u(c),s!==null){i.blockedOn=s,Ux(i.priority,function(){wS(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Pp(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);_m=f,c.target.dispatchEvent(f),_m=null}else return s=Vs(c),s!==null&&AS(s),i.blockedOn=c,!1;s.shift()}return!0}function OS(i,s,c){uu(i)&&c.delete(s)}function X3(){Ip=!1,Ii!==null&&uu(Ii)&&(Ii=null),Ri!==null&&uu(Ri)&&(Ri=null),Bi!==null&&uu(Bi)&&(Bi=null),Jo.forEach(OS),ec.forEach(OS)}function fu(i,s){i.blockedOn===s&&(i.blockedOn=null,Ip||(Ip=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X3)))}var mu=null;function kS(i){mu!==i&&(mu=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mu===i&&(mu=null);for(var s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],x=i[s+2];if(typeof f!="function"){if(_p(f||c)===null)continue;break}var j=Vs(c);j!==null&&(i.splice(s,3),s-=3,Ph(j,{pending:!0,data:x,method:c.method,action:f},f,x))}}))}function kl(i){function s(J){return fu(J,i)}Ii!==null&&fu(Ii,i),Ri!==null&&fu(Ri,i),Bi!==null&&fu(Bi,i),Jo.forEach(s),ec.forEach(s);for(var c=0;c<$i.length;c++){var f=$i[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<$i.length&&(c=$i[0],c.blockedOn===null);)TS(c),c.blockedOn===null&&$i.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var x=c[f],j=c[f+1],P=x[Jn]||null;if(typeof j=="function")P||kS(c);else if(P){var G=null;if(j&&j.hasAttribute("formAction")){if(x=j,P=j[Jn]||null)G=P.formAction;else if(_p(x)!==null)continue}else G=P.action;typeof G=="function"?c[f+1]=G:(c.splice(f,3),f-=3),kS(c)}}}function DS(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(P){return x=P})},focusReset:"manual",scroll:"manual"})}function s(){x!==null&&(x(),x=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),x!==null&&(x(),x=null)}}}function Rp(i){this._internalRoot=i}hu.prototype.render=Rp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=gr();jS(c,f,i,s,null,null)},hu.prototype.unmount=Rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;jS(i.current,2,null,i,null,null),Vd(),s[Hs]=null}};function hu(i){this._internalRoot=i}hu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Lx();i={blockedOn:null,target:i,priority:s};for(var c=0;c<$i.length&&s!==0&&s<$i[c].priority;c++);$i.splice(c,0,i),c===0&&TS(i)}};var MS=t.version;if(MS!=="19.2.0")throw Error(r(527,MS,"19.2.0"));k.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Q3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{ft=pu.inject(Q3),bt=pu}catch{}}return rc.createRoot=function(i,s){if(!l(i))throw Error(r(299));var c=!1,f="",x=Bj,j=$j,P=Lj;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(j=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError)),s=xS(i,1,!1,null,null,c,f,null,x,j,P,DS),i[Hs]=s.current,vp(i),new Rp(s)},rc.hydrateRoot=function(i,s,c){if(!l(i))throw Error(r(299));var f=!1,x="",j=Bj,P=$j,G=Lj,J=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.formState!==void 0&&(J=c.formState)),s=xS(i,1,!0,s,c??null,f,x,J,j,P,G,DS),s.context=bS(null),c=s.current,f=gr(),f=Tm(f),x=wi(f),x.callback=null,Ei(c,x,f),c=f,s.current.lanes=c,fo(s,c),pa(s),i[Hs]=s.current,vp(i),new hu(s)},rc.version="19.2.0",rc}var US;function oN(){if(US)return Lp.exports;US=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lp.exports=lN(),Lp.exports}var cN=oN();const FS={primary:"#667eea",secondary:"#764ba2",accent:"#667eea",background:"#f5f5f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",border:"#e0e0e0",hover:"#5568d3",active:"#667eea",navbar:"#ffffff",sidebar:"#ffffff",button:"#667eea",buttonHover:"#5568d3",buttonActive:"#4a5bc4"},vE=v.createContext(void 0),Aa=()=>{const e=v.useContext(vE);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},dN=({children:e})=>{const[t,n]=v.useState(()=>{const o=localStorage.getItem("theme-colors");return o?JSON.parse(o):FS});v.useEffect(()=>{localStorage.setItem("theme-colors",JSON.stringify(t));const o=document.documentElement;Object.entries(t).forEach(([d,u])=>{o.style.setProperty(`--theme-${d}`,u)})},[t]);const r=(o,d)=>{n(u=>({...u,[o]:d}))},l=()=>{n(FS)};return a.jsx(vE.Provider,{value:{colors:t,updateColor:r,resetTheme:l},children:e})},Tv="http://localhost:5001/api",gc=e=>{localStorage.setItem("auth_token",e)},Ay=()=>localStorage.getItem("auth_token"),zu=()=>{localStorage.removeItem("auth_token")},uN=async e=>{const t=await fetch(`${Tv}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email,password:e.password})});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Login failed")}const n=await t.json();if(n.data){const r=n.data.token,l=n.data.user;return gc(r),{message:n.message||"Login successful",token:r,user:{id:l.id||l._id,name:l.name,email:l.email,role:l.role}}}return gc(n.token),n},fN=async e=>{const t=await fetch(`${Tv}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.email.split("@")[0],email:e.email,password:e.password,name:e.name,role:e.role})});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Registration failed")}const n=await t.json();if(n.data){const r=n.data.token,l=n.data.user;return gc(r),{message:n.message||"Registration successful",token:r,user:{id:l.id||l._id,name:l.name,email:l.email,role:l.role}}}return gc(n.token),n},GS=async()=>{const e=Ay();if(!e)throw new Error("No token found");const t=await fetch(`${Tv}/auth/me`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw zu(),new Error("Invalid token");return t.json()},xE=v.createContext(void 0),mN=()=>{const e=v.useContext(xE);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},hN=({children:e})=>{const[t,n]=v.useState(()=>{const g=localStorage.getItem("auth_user");return g?JSON.parse(g):null}),[r,l]=v.useState(()=>Ay()),[o,d]=v.useState(!0);v.useEffect(()=>{(async()=>{const b=Ay(),y=localStorage.getItem("auth_user");if(b&&y)try{const S=await GS();if(S.data?.user){const E=S.data.user;n({id:E._id||E.id,name:E.name,email:E.email,role:E.role,username:E.username}),l(b)}else zu(),localStorage.removeItem("auth_user"),n(null),l(null)}catch(S){console.error("Auth check failed:",S),zu(),localStorage.removeItem("auth_user"),n(null),l(null)}d(!1)})()},[]);const u=(g,b)=>{gc(g),localStorage.setItem("auth_user",JSON.stringify(b)),l(g),n(b)},m=()=>{zu(),localStorage.removeItem("auth_user"),l(null),n(null)},p={user:t,token:r,isAuthenticated:!!t&&!!r,loading:o,login:u,logout:m,refreshUser:async()=>{try{const g=await GS();if(g.data?.user){const b=g.data.user,y={id:b._id||b.id,name:b.name,email:b.email,role:b.role,username:b.username};localStorage.setItem("auth_user",JSON.stringify(y)),n(y)}}catch(g){console.error("Failed to refresh user:",g),m()}}};return a.jsx(xE.Provider,{value:p,children:e})};var qS="popstate";function pN(e={}){function t(r,l){let{pathname:o,search:d,hash:u}=r.location;return wy("",{pathname:o,search:d,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:yc(l)}return yN(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gN(){return Math.random().toString(36).substring(2,10)}function WS(e,t){return{usr:e.state,key:e.key,idx:t}}function wy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Kl(t):t,state:n,key:t&&t.key||r||gN()}}function yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function yN(e,t,n,r={}){let{window:l=document.defaultView,v5Compat:o=!1}=r,d=l.history,u="POP",m=null,h=p();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function p(){return(d.state||{idx:null}).idx}function g(){u="POP";let C=p(),A=C==null?null:C-h;h=C,m&&m({action:u,location:E.location,delta:A})}function b(C,A){u="PUSH";let O=wy(E.location,C,A);h=p()+1;let w=WS(O,h),z=E.createHref(O);try{d.pushState(w,"",z)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(z)}o&&m&&m({action:u,location:E.location,delta:1})}function y(C,A){u="REPLACE";let O=wy(E.location,C,A);h=p();let w=WS(O,h),z=E.createHref(O);d.replaceState(w,"",z),o&&m&&m({action:u,location:E.location,delta:0})}function S(C){return vN(C)}let E={get action(){return u},get location(){return e(l,d)},listen(C){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(qS,g),m=C,()=>{l.removeEventListener(qS,g),m=null}},createHref(C){return t(l,C)},createURL:S,encodeLocation(C){let A=S(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:y,go(C){return d.go(C)}};return E}function vN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:yc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bE(e,t,n="/"){return xN(e,t,n,!1)}function xN(e,t,n,r){let l=typeof t=="string"?Kl(t):t,o=ni(l.pathname||"/",n);if(o==null)return null;let d=jE(e);bN(d);let u=null;for(let m=0;u==null&&m<d.length;++m){let h=MN(o);u=kN(d[m],h,r)}return u}function jE(e,t=[],n=[],r="",l=!1){let o=(d,u,m=l,h)=>{let p={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&m)return;Kt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Qa([r,p.relativePath]),b=n.concat(p);d.children&&d.children.length>0&&(Kt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jE(d.children,t,b,g,m)),!(d.path==null&&!d.index)&&t.push({path:g,score:TN(g,d.index),routesMeta:b})};return e.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))o(d,u);else for(let m of SE(d.path))o(d,u,!0,m)}),t}function SE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let d=SE(r.join("/")),u=[];return u.push(...d.map(m=>m===""?o:[o,m].join("/"))),l&&u.push(...d),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function bN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ON(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jN=/^:[\w-]+$/,SN=3,AN=2,wN=1,EN=10,CN=-2,HS=e=>e==="*";function TN(e,t){let n=e.split("/"),r=n.length;return n.some(HS)&&(r+=CN),t&&(r+=AN),n.filter(l=>!HS(l)).reduce((l,o)=>l+(jN.test(o)?SN:o===""?wN:EN),r)}function ON(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function kN(e,t,n=!1){let{routesMeta:r}=e,l={},o="/",d=[];for(let u=0;u<r.length;++u){let m=r[u],h=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),b=m.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!g)return null;Object.assign(l,g.params),d.push({params:l,pathname:Qa([o,g.pathname]),pathnameBase:_N(Qa([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Qa([o,g.pathnameBase]))}return d}function Lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DN(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],d=o.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},b)=>{if(p==="*"){let S=u[b]||"";d=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const y=u[b];return g&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:d,pattern:e}}function DN(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function MN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ni(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function NN(e,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Kl(e):e;return{pathname:n?n.startsWith("/")?n:zN(n,t):t,search:IN(r),hash:RN(l)}}function zN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function qp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ov(e){let t=PN(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function kv(e,t,n,r=!1){let l;typeof e=="string"?l=Kl(e):(l={...e},Kt(!l.pathname||!l.pathname.includes("?"),qp("?","pathname","search",l)),Kt(!l.pathname||!l.pathname.includes("#"),qp("#","pathname","hash",l)),Kt(!l.search||!l.search.includes("#"),qp("#","search","hash",l)));let o=e===""||l.pathname==="",d=o?"/":l.pathname,u;if(d==null)u=n;else{let g=t.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),g-=1;l.pathname=b.join("/")}u=g>=0?t[g]:"/"}let m=NN(l,u),h=d&&d!=="/"&&d.endsWith("/"),p=(o||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Qa=e=>e.join("/").replace(/\/\/+/g,"/"),_N=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var $N=["GET",...AE];new Set($N);var Vl=v.createContext(null);Vl.displayName="DataRouter";var zf=v.createContext(null);zf.displayName="DataRouterState";v.createContext(!1);var wE=v.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var LN=v.createContext(new Map);LN.displayName="Fetchers";var UN=v.createContext(null);UN.displayName="Await";var da=v.createContext(null);da.displayName="Navigation";var Mc=v.createContext(null);Mc.displayName="Location";var Zr=v.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var Dv=v.createContext(null);Dv.displayName="RouteError";function FN(e,{relative:t}={}){Kt(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(da),{hash:l,pathname:o,search:d}=Nc(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Qa([n,o])),r.createHref({pathname:u,search:d,hash:l})}function Yl(){return v.useContext(Mc)!=null}function Jr(){return Kt(Yl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Mc).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(e){v.useContext(da).static||v.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=v.useContext(Zr);return e?rz():GN()}function GN(){Kt(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Vl),{basename:t,navigator:n}=v.useContext(da),{matches:r}=v.useContext(Zr),{pathname:l}=Jr(),o=JSON.stringify(Ov(r)),d=v.useRef(!1);return CE(()=>{d.current=!0}),v.useCallback((m,h={})=>{if(Yr(d.current,EE),!d.current)return;if(typeof m=="number"){n.go(m);return}let p=kv(m,JSON.parse(o),l,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Qa([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,l,e])}var qN=v.createContext(null);function WN(e){let t=v.useContext(Zr).outlet;return v.useMemo(()=>t&&v.createElement(qN.Provider,{value:e},t),[t,e])}function qn(){let{matches:e}=v.useContext(Zr),t=e[e.length-1];return t?t.params:{}}function Nc(e,{relative:t}={}){let{matches:n}=v.useContext(Zr),{pathname:r}=Jr(),l=JSON.stringify(Ov(n));return v.useMemo(()=>kv(e,JSON.parse(l),r,t==="path"),[e,l,r,t])}function HN(e,t){return TE(e,t)}function TE(e,t,n,r,l){Kt(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(da),{matches:d}=v.useContext(Zr),u=d[d.length-1],m=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let O=g&&g.path||"";OE(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=Jr(),y;if(t){let O=typeof t=="string"?Kl(t):t;Kt(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let S=y.pathname||"/",E=S;if(p!=="/"){let O=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=bE(e,{pathname:E});Yr(g||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=QN(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Qa([p,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Qa([p,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),d,n,r,l);return t&&A?v.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function KN(){let e=nz(),t=BN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,d)}var VN=v.createElement(KN,null),YN=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Zr.Provider,{value:this.props.routeContext},v.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XN({routeContext:e,match:t,children:n}){let r=v.useContext(Vl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Zr.Provider,{value:e},n)}function QN(e,t=[],n=null,r=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,d=n?.errors;if(d!=null){let h=o.findIndex(p=>p.route.id&&d?.[p.route.id]!==void 0);Kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,m=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=h),p.route.id){let{loaderData:g,errors:b}=n,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let b,y=!1,S=null,E=null;n&&(b=d&&p.route.id?d[p.route.id]:void 0,S=p.route.errorElement||VN,u&&(m<0&&g===0?(OE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):m===g&&(y=!0,E=p.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,g+1)),A=()=>{let O;return b?O=S:y?O=E:p.route.Component?O=v.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,v.createElement(XN,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?v.createElement(YN,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):A()},null)}function Mv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZN(e){let t=v.useContext(Vl);return Kt(t,Mv(e)),t}function JN(e){let t=v.useContext(zf);return Kt(t,Mv(e)),t}function ez(e){let t=v.useContext(Zr);return Kt(t,Mv(e)),t}function Nv(e){let t=ez(e),n=t.matches[t.matches.length-1];return Kt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tz(){return Nv("useRouteId")}function nz(){let e=v.useContext(Dv),t=JN("useRouteError"),n=Nv("useRouteError");return e!==void 0?e:t.errors?.[n]}function rz(){let{router:e}=ZN("useNavigate"),t=Nv("useNavigate"),n=v.useRef(!1);return CE(()=>{n.current=!0}),v.useCallback(async(l,o={})=>{Yr(n.current,EE),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var KS={};function OE(e,t,n){!t&&!KS[e]&&(KS[e]=!0,Yr(!1,n))}v.memo(az);function az({routes:e,future:t,state:n,unstable_onError:r}){return TE(e,void 0,n,r,t)}function xs({to:e,replace:t,state:n,relative:r}){Kt(Yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=v.useContext(da);Yr(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(Zr),{pathname:d}=Jr(),u=vt(),m=kv(e,Ov(o),d,r==="path"),h=JSON.stringify(m);return v.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:r})},[u,h,r,t,n]),null}function iz(e){return WN(e.context)}function Me(e){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:o=!1}){Kt(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:d,navigator:l,static:o,future:{}}),[d,l,o]);typeof n=="string"&&(n=Kl(n));let{pathname:m="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,y=v.useMemo(()=>{let S=ni(m,d);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:b},navigationType:r}},[d,m,h,p,g,b,r]);return Yr(y!=null,`<Router basename="${d}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(da.Provider,{value:u},v.createElement(Mc.Provider,{children:t,value:y}))}function lz({children:e,location:t}){return HN(Ey(e),t)}function Ey(e,t=[]){let n=[];return v.Children.forEach(e,(r,l)=>{if(!v.isValidElement(r))return;let o=[...t,l];if(r.type===v.Fragment){n.push.apply(n,Ey(r.props.children,o));return}Kt(r.type===Me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Ey(r.props.children,o)),n.push(d)}),n}var Pu="get",_u="application/x-www-form-urlencoded";function Pf(e){return e!=null&&typeof e.tagName=="string"}function oz(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function cz(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function dz(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function uz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fz(e,t){return e.button===0&&(!t||t==="_self")&&!uz(e)}function Cy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function mz(e,t){let n=Cy(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(o=>{n.append(l,o)})}),n}var gu=null;function hz(){if(gu===null)try{new FormData(document.createElement("form"),0),gu=!1}catch{gu=!0}return gu}var pz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(e){return e!=null&&!pz.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):e}function gz(e,t){let n,r,l,o,d;if(cz(e)){let u=e.getAttribute("action");r=u?ni(u,t):null,n=e.getAttribute("method")||Pu,l=Wp(e.getAttribute("enctype"))||_u,o=new FormData(e)}else if(oz(e)||dz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?ni(m,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Pu,l=Wp(e.getAttribute("formenctype"))||Wp(u.getAttribute("enctype"))||_u,o=new FormData(u,e),!hz()){let{name:h,type:p,value:g}=e;if(p==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pu,r=null,l=_u,d=e}return o&&l==="text/plain"&&(d=o,o=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:o,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ni(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function vz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bz(e,t,n){let r=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let d=await vz(o,n);return d.links?d.links():[]}return[]}));return wz(r.flat(1).filter(xz).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function VS(e,t,n,r,l,o){let d=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,u=(m,h)=>n[h].pathname!==m.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,h)=>d(m,h)||u(m,h)):o==="data"?t.filter((m,h)=>{let p=r.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(d(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let g=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jz(e,t,{includeHydrateFallback:n}={}){return Sz(e.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function Sz(e){return[...new Set(e)]}function Az(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function wz(e,t){let n=new Set;return new Set(t),e.reduce((r,l)=>{let o=JSON.stringify(Az(l));return n.has(o)||(n.add(o),r.push({key:o,link:l})),r},[])}function kE(){let e=v.useContext(Vl);return zv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ez(){let e=v.useContext(zf);return zv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pv=v.createContext(void 0);Pv.displayName="FrameworkContext";function DE(){let e=v.useContext(Pv);return zv(e,"You must render this element inside a <HydratedRouter> element"),e}function Cz(e,t){let n=v.useContext(Pv),[r,l]=v.useState(!1),[o,d]=v.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,b=v.useRef(null);v.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let E=A=>{A.forEach(O=>{d(O.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[e]),v.useEffect(()=>{if(r){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{l(!0)},S=()=>{l(!1),d(!1)};return n?e!=="intent"?[o,b,{}]:[o,b,{onFocus:ac(u,y),onBlur:ac(m,S),onMouseEnter:ac(h,y),onMouseLeave:ac(p,S),onTouchStart:ac(g,y)}]:[!1,b,{}]}function ac(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Tz({page:e,...t}){let{router:n}=kE(),r=v.useMemo(()=>bE(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(kz,{page:e,matches:r,...t}):null}function Oz(e){let{manifest:t,routeModules:n}=DE(),[r,l]=v.useState([]);return v.useEffect(()=>{let o=!1;return bz(e,t,n).then(d=>{o||l(d)}),()=>{o=!0}},[e,t,n]),r}function kz({page:e,matches:t,...n}){let r=Jr(),{manifest:l,routeModules:o}=DE(),{basename:d}=kE(),{loaderData:u,matches:m}=Ez(),h=v.useMemo(()=>VS(e,t,m,l,r,"data"),[e,t,m,l,r]),p=v.useMemo(()=>VS(e,t,m,l,r,"assets"),[e,t,m,l,r]),g=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(t.forEach(A=>{let O=l.routes[A.route.id];!O||!O.hasLoader||(!h.some(w=>w.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:S.add(A.route.id))}),S.size===0)return[];let C=yz(e,d,"data");return E&&S.size>0&&C.searchParams.set("_routes",t.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[d,u,r,l,h,t,e,o]),b=v.useMemo(()=>jz(p,l),[p,l]),y=Oz(p);return v.createElement(v.Fragment,null,g.map(S=>v.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>v.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:E})=>v.createElement("link",{key:S,nonce:n.nonce,...E})))}function Dz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var ME=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ME&&(window.__reactRouterVersion="7.9.5")}catch{}function Mz({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=pN({window:n,v5Compat:!0}));let l=r.current,[o,d]=v.useState({action:l.action,location:l.location}),u=v.useCallback(m=>{v.startTransition(()=>d(m))},[d]);return v.useLayoutEffect(()=>l.listen(u),[l,u]),v.createElement(sz,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rl=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:o,replace:d,state:u,target:m,to:h,preventScrollReset:p,viewTransition:g,...b},y){let{basename:S}=v.useContext(da),E=typeof h=="string"&&NE.test(h),C,A=!1;if(typeof h=="string"&&E&&(C=h,ME))try{let $=new URL(window.location.href),B=h.startsWith("//")?new URL($.protocol+h):new URL(h),R=ni(B.pathname,S);B.origin===$.origin&&R!=null?h=R+B.search+B.hash:A=!0}catch{Yr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=FN(h,{relative:l}),[w,z,T]=Cz(r,b),M=_z(h,{replace:d,state:u,target:m,preventScrollReset:p,relative:l,viewTransition:g});function N($){t&&t($),$.defaultPrevented||M($)}let I=v.createElement("a",{...b,...T,href:C||O,onClick:A||o?t:N,ref:Dz(y,z),target:m,"data-discover":!E&&n==="render"?"true":void 0});return w&&!E?v.createElement(v.Fragment,null,I,v.createElement(Tz,{page:O})):I});Rl.displayName="Link";var Nz=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:o,to:d,viewTransition:u,children:m,...h},p){let g=Nc(d,{relative:h.relative}),b=Jr(),y=v.useContext(zf),{navigator:S,basename:E}=v.useContext(da),C=y!=null&&Lz(g)&&u===!0,A=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=b.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(O=O.toLowerCase(),w=w?w.toLowerCase():null,A=A.toLowerCase()),w&&E&&(w=ni(w,E)||w);const z=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let T=O===A||!l&&O.startsWith(A)&&O.charAt(z)==="/",M=w!=null&&(w===A||!l&&w.startsWith(A)&&w.charAt(A.length)==="/"),N={isActive:T,isPending:M,isTransitioning:C},I=T?t:void 0,$;typeof r=="function"?$=r(N):$=[r,T?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(N):o;return v.createElement(Rl,{...h,"aria-current":I,className:$,ref:p,style:B,to:d,viewTransition:u},typeof m=="function"?m(N):m)});Nz.displayName="NavLink";var zz=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:o,method:d=Pu,action:u,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:g,...b},y)=>{let S=Bz(),E=$z(u,{relative:h}),C=d.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&NE.test(u),O=w=>{if(m&&m(w),w.defaultPrevented)return;w.preventDefault();let z=w.nativeEvent.submitter,T=z?.getAttribute("formmethod")||d;S(z||w.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:l,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return v.createElement("form",{ref:y,method:C,action:E,onSubmit:r?m:O,...b,"data-discover":!A&&e==="render"?"true":void 0})});zz.displayName="Form";function Pz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zE(e){let t=v.useContext(Vl);return Kt(t,Pz(e)),t}function _z(e,{target:t,replace:n,state:r,preventScrollReset:l,relative:o,viewTransition:d}={}){let u=vt(),m=Jr(),h=Nc(e,{relative:o});return v.useCallback(p=>{if(fz(p,t)){p.preventDefault();let g=n!==void 0?n:yc(m)===yc(h);u(e,{replace:g,state:r,preventScrollReset:l,relative:o,viewTransition:d})}},[m,u,h,n,r,t,e,l,o,d])}function PE(e){Yr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Cy(e)),n=v.useRef(!1),r=Jr(),l=v.useMemo(()=>mz(r.search,n.current?null:t.current),[r.search]),o=vt(),d=v.useCallback((u,m)=>{const h=Cy(typeof u=="function"?u(new URLSearchParams(l)):u);n.current=!0,o("?"+h,m)},[o,l]);return[l,d]}var Iz=0,Rz=()=>`__${String(++Iz)}__`;function Bz(){let{router:e}=zE("useSubmit"),{basename:t}=v.useContext(da),n=tz();return v.useCallback(async(r,l={})=>{let{action:o,method:d,encType:u,formData:m,body:h}=gz(r,t);if(l.navigate===!1){let p=l.fetcherKey||Rz();await e.fetch(p,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||d,formEncType:l.encType||u,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||d,formEncType:l.encType||u,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function $z(e,{relative:t}={}){let{basename:n}=v.useContext(da),r=v.useContext(Zr);Kt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),o={...Nc(e||".",{relative:t})},d=Jr();if(e==null){o.search=d.search;let u=new URLSearchParams(o.search),m=u.getAll("index");if(m.some(p=>p==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Qa([n,o.pathname])),yc(o)}function Lz(e,{relative:t}={}){let n=v.useContext(wE);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zE("useViewTransitionState"),l=Nc(e,{relative:t});if(!n.isTransitioning)return!1;let o=ni(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=ni(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lu(l.pathname,d)!=null||Lu(l.pathname,o)!=null}var _E=yE();const Uz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),YS=e=>{const t=Fz(e);return t.charAt(0).toUpperCase()+t.slice(1)},IE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Gz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:d,...u},m)=>v.createElement("svg",{ref:m,...qz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:IE("lucide",l),...!o&&!Gz(u)&&{"aria-hidden":"true"},...u},[...d.map(([h,p])=>v.createElement(h,p)),...Array.isArray(o)?o:[o]]));const Be=(e,t)=>{const n=v.forwardRef(({className:r,...l},o)=>v.createElement(Wz,{ref:o,iconNode:t,className:IE(`lucide-${Uz(YS(e))}`,`lucide-${e}`,r),...l}));return n.displayName=YS(e),n};const Hz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Iu=Be("activity",Hz);const Kz=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Hp=Be("arrow-down-right",Kz);const Vz=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Yz=Be("arrow-right-left",Vz);const Xz=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Kp=Be("arrow-up-right",Xz);const Qz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ar=Be("award",Qz);const Zz=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Jz=Be("book-marked",Zz);const e6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pt=Be("book-open",e6);const t6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wi=Be("building-2",t6);const n6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],We=Be("calendar",n6);const r6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bl=Be("chart-column",r6);const a6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=Be("check",a6);const i6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s6=Be("chevron-down",i6);const l6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RE=Be("chevron-left",l6);const o6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BE=Be("chevron-right",o6);const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d6=Be("circle-alert",c6);const u6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=Be("circle-check-big",u6);const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m6=Be("circle-question-mark",f6);const h6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hi=Be("circle-x",h6);const p6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ty=Be("clipboard-list",p6);const g6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qe=Be("clock",g6);const y6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$E=Be("copy",y6);const v6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Za=Be("credit-card",v6);const x6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qt=Be("dollar-sign",x6);const b6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Oy=Be("download",b6);const j6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],S6=Be("file-plus",j6);const A6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lt=Be("file-text",A6);const w6=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],E6=Be("folder-open",w6);const C6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ky=Be("funnel",C6);const T6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],O6=Be("globe",T6);const k6=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],wr=Be("graduation-cap",k6);const D6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],M6=Be("layout-dashboard",D6);const N6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],z6=Be("lock",N6);const P6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_6=Be("log-in",P6);const I6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vr=Be("mail",I6);const R6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Us=Be("map-pin",R6);const B6=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],$6=Be("palette",B6);const L6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oa=Be("phone",L6);const U6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ia=Be("plus",U6);const F6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zl=Be("printer",F6);const G6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],q6=Be("rotate-ccw",G6);const W6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zt=Be("save",W6);const H6=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],K6=Be("school",H6);const V6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_f=Be("search",V6);const Y6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XS=Be("send",Y6);const X6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LE=Be("settings",X6);const Q6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],QS=Be("shield",Q6);const Z6=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZS=Be("square-check-big",Z6);const J6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Uu=Be("square-pen",J6);const eP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tP=Be("star",eP);const nP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],rP=Be("tag",nP);const aP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fu=Be("trash-2",aP);const iP=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],_v=Be("trending-down",iP);const sP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Er=Be("trending-up",sP);const lP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oP=Be("triangle-alert",lP);const cP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gu=Be("upload",cP);const dP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vc=Be("user-check",dP);const uP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fP=Be("user-cog",uP);const mP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],If=Be("user-plus",mP);const hP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],pP=Be("user-x",hP);const gP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=Be("user",gP);const yP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vt=Be("users",yP);const vP=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],UE=Be("wallet",vP);const xP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ya=Be("x",xP),bP=()=>{const e=vt(),{login:t}=mN(),[n,r]=v.useState(""),[l,o]=v.useState(""),[d,u]=v.useState(""),[m,h]=v.useState(!1),[p,g]=v.useState(!1),b=async y=>{y.preventDefault(),u(""),h(!0);try{const S=await uN({email:n,password:l});t(S.token,S.user),e(`/dashboard/${S.user.role}`)}catch(S){u(S.message||"Login failed. Please check your credentials.")}finally{h(!1)}};return a.jsx("div",{className:"auth-container",children:a.jsxs("div",{className:"auth-card",children:[a.jsxs("div",{className:"auth-header",children:[a.jsx("div",{className:"auth-logo",children:a.jsx(K6,{size:48})}),a.jsx("h1",{children:"MySchool"}),a.jsx("h2",{children:"Welcome Back"}),a.jsx("p",{className:"auth-subtitle",children:"Sign in to continue to your dashboard"})]}),d&&a.jsx("div",{className:"error-message",children:a.jsx("span",{children:d})}),a.jsxs("form",{onSubmit:b,className:"auth-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"email",children:[a.jsx(Vr,{size:18}),"Email or Username"]}),a.jsx("input",{id:"email",type:"text",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email or username",required:!0,disabled:m,className:"auth-input"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"password",children:[a.jsx(z6,{size:18}),"Password"]}),a.jsx("input",{id:"password",type:"password",value:l,onChange:y=>o(y.target.value),placeholder:"Enter your password",required:!0,disabled:m,className:"auth-input",minLength:6})]}),a.jsx("button",{type:"submit",className:"auth-button",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner"}),"Logging in..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_6,{size:20}),"Login"]})})]}),a.jsxs("div",{className:"auth-footer",children:[a.jsxs("p",{children:["Don't have an account?"," ",a.jsx(Rl,{to:"/register",className:"auth-link",children:"Register here"})]}),a.jsxs("button",{type:"button",className:"credentials-toggle",onClick:()=>g(!p),children:[p?"Hide":"Show"," Demo Credentials"]}),p&&a.jsxs("div",{className:"demo-credentials",children:[a.jsx("p",{className:"demo-title",children:"Demo Credentials:"}),a.jsxs("div",{className:"demo-list",children:[a.jsxs("div",{className:"demo-item",children:[a.jsx("strong",{children:"Admin:"})," admin@school.com / admin123"]}),a.jsxs("div",{className:"demo-item",children:[a.jsx("strong",{children:"Teacher:"})," teacher1@school.com / teacher123"]}),a.jsxs("div",{className:"demo-item",children:[a.jsx("strong",{children:"Student:"})," student1@school.com / student123"]}),a.jsxs("div",{className:"demo-item",children:[a.jsx("strong",{children:"Accountant:"})," accountant@school.com / accountant123"]})]}),a.jsx("p",{className:"demo-note",children:' Tip: You can also use username instead of email (e.g., "admin" instead of "admin@school.com")'})]})]})]})})},jP=()=>{const e=vt(),[t,n]=v.useState({name:"",email:"",password:"",confirmPassword:"",role:"student",phone:"",address:""}),[r,l]=v.useState(""),[o,d]=v.useState(!1),u=h=>{const{name:p,value:g}=h.target;n(b=>({...b,[p]:g}))},m=async h=>{if(h.preventDefault(),l(""),t.password!==t.confirmPassword){l("Passwords do not match");return}if(t.password.length<6){l("Password must be at least 6 characters long");return}d(!0);try{const{confirmPassword:p,address:g,...b}=t,y=await fN({...b,phone:t.phone||void 0});e(`/dashboard/${y.user.role}`)}catch(p){l(p.message||"Registration failed. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"auth-container",children:a.jsxs("div",{className:"auth-card",children:[a.jsxs("div",{className:"auth-header",children:[a.jsx(If,{size:48,className:"auth-icon"}),a.jsx("h1",{children:"Create Account"}),a.jsx("p",{children:"Sign up to access the school management system"})]}),r&&a.jsx("div",{className:"error-message",style:{padding:"0.75rem",marginBottom:"1rem",backgroundColor:"#fee",color:"#c33",borderRadius:"0.5rem",fontSize:"0.9rem"},children:r}),a.jsxs("form",{onSubmit:m,className:"auth-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"name",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:u,required:!0,disabled:o,placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,required:!0,disabled:o,placeholder:"Enter your email"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"role",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:t.role,onChange:u,required:!0,disabled:o,children:[a.jsx("option",{value:"student",children:"Student"}),a.jsx("option",{value:"teacher",children:"Teacher"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"accountant",children:"Accountant"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"phone",children:"Phone (Optional)"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:u,disabled:o,placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:u,required:!0,disabled:o,placeholder:"Enter password (min 6 characters)",minLength:6})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:u,required:!0,disabled:o,placeholder:"Confirm your password",minLength:6})]}),a.jsx("button",{type:"submit",className:"auth-button",disabled:o,children:o?"Creating Account...":"Create Account"})]}),a.jsx("div",{className:"auth-footer",children:a.jsxs("p",{children:["Already have an account?"," ",a.jsx(Rl,{to:"/",className:"auth-link",children:"Login here"})]})})]})})};function FE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=FE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=FE(e))&&(r&&(r+=" "),r+=t);return r}var SP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Iv(e){if(typeof e!="string")return!1;var t=SP;return t.includes(e)}var AP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GE(e){if(typeof e!="string")return!1;var t=AP;return t.includes(e)}function qE(e){return typeof e=="string"&&e.startsWith("data-")}function Xn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return GE(r)||qE(r)});return Object.fromEntries(t)}function Ms(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xn(t)}return typeof e=="object"&&!Array.isArray(e)?Xn(e):null}function Qn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return GE(r)||qE(r)||Iv(r)});return Object.fromEntries(t)}function WE(e){return e==null?null:v.isValidElement(e)?Qn(e.props):typeof e=="object"&&!Array.isArray(e)?Qn(e):null}var wP=["children","width","height","viewBox","className","style","title","desc"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function EP(e,t){if(e==null)return{};var n,r,l=CP(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function CP(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rv=v.forwardRef((e,t)=>{var{children:n,width:r,height:l,viewBox:o,className:d,style:u,title:m,desc:h}=e,p=EP(e,wP),g=o||{width:r,height:l,x:0,y:0},b=ot("recharts-surface",d);return v.createElement("svg",Dy({},Qn(p),{className:b,width:r,height:l,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,m),v.createElement("desc",null,h),n)}),TP=["children","className"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function OP(e,t){if(e==null)return{};var n,r,l=kP(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function kP(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ln=v.forwardRef((e,t)=>{var{children:n,className:r}=e,l=OP(e,TP),o=ot("recharts-layer",r);return v.createElement("g",My({className:o},Qn(l),{ref:t}),n)}),HE=v.createContext(null),DP=()=>v.useContext(HE);function Mt(e){return function(){return e}}const KE=Math.cos,qu=Math.sin,ua=Math.sqrt,Wu=Math.PI,Rf=2*Wu,Ny=Math.PI,zy=2*Ny,bs=1e-6,MP=zy-bs;function VE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function NP(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VE;const n=10**t;return function(r){this._+=r[0];for(let l=1,o=r.length;l<o;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}class zP{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VE:NP(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,l){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+l}`}bezierCurveTo(t,n,r,l,o,d){this._append`C${+t},${+n},${+r},${+l},${this._x1=+o},${this._y1=+d}`}arcTo(t,n,r,l,o){if(t=+t,n=+n,r=+r,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let d=this._x1,u=this._y1,m=r-t,h=l-n,p=d-t,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>bs)if(!(Math.abs(g*m-h*p)>bs)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-d,S=l-u,E=m*m+h*h,C=y*y+S*S,A=Math.sqrt(E),O=Math.sqrt(b),w=o*Math.tan((Ny-Math.acos((E+b-C)/(2*A*O)))/2),z=w/O,T=w/A;Math.abs(z-1)>bs&&this._append`L${t+z*p},${n+z*g}`,this._append`A${o},${o},0,0,${+(g*y>p*S)},${this._x1=t+T*m},${this._y1=n+T*h}`}}arc(t,n,r,l,o,d){if(t=+t,n=+n,r=+r,d=!!d,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(l),m=r*Math.sin(l),h=t+u,p=n+m,g=1^d,b=d?l-o:o-l;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>bs||Math.abs(this._y1-p)>bs)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%zy+zy),b>MP?this._append`A${r},${r},0,1,${g},${t-u},${n-m}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:b>bs&&this._append`A${r},${r},0,${+(b>=Ny)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+l}h${-r}Z`}toString(){return this._}}function Bv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new zP(t)}function $v(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YE(e){this._context=e}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bf(e){return new YE(e)}function XE(e){return e[0]}function QE(e){return e[1]}function ZE(e,t){var n=Mt(!0),r=null,l=Bf,o=null,d=Bv(u);e=typeof e=="function"?e:e===void 0?XE:Mt(e),t=typeof t=="function"?t:t===void 0?QE:Mt(t);function u(m){var h,p=(m=$v(m)).length,g,b=!1,y;for(r==null&&(o=l(y=d())),h=0;h<=p;++h)!(h<p&&n(g=m[h],h,m))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(g,h,m),+t(g,h,m));if(y)return o=null,y+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Mt(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Mt(+m),u):t},u.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Mt(!!m),u):n},u.curve=function(m){return arguments.length?(l=m,r!=null&&(o=l(r)),u):l},u.context=function(m){return arguments.length?(m==null?r=o=null:o=l(r=m),u):r},u}function yu(e,t,n){var r=null,l=Mt(!0),o=null,d=Bf,u=null,m=Bv(h);e=typeof e=="function"?e:e===void 0?XE:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?QE:Mt(+n);function h(g){var b,y,S,E=(g=$v(g)).length,C,A=!1,O,w=new Array(E),z=new Array(E);for(o==null&&(u=d(O=m())),b=0;b<=E;++b){if(!(b<E&&l(C=g[b],b,g))===A)if(A=!A)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=b-1;S>=y;--S)u.point(w[S],z[S]);u.lineEnd(),u.areaEnd()}A&&(w[b]=+e(C,b,g),z[b]=+t(C,b,g),u.point(r?+r(C,b,g):w[b],n?+n(C,b,g):z[b]))}if(O)return u=null,O+""||null}function p(){return ZE().defined(l).curve(d).context(o)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Mt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Mt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Mt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Mt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Mt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Mt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(l=typeof g=="function"?g:Mt(!!g),h):l},h.curve=function(g){return arguments.length?(d=g,o!=null&&(u=d(o)),h):d},h.context=function(g){return arguments.length?(g==null?o=u=null:u=d(o=g),h):o},h}class JE{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function PP(e){return new JE(e,!0)}function _P(e){return new JE(e,!1)}const Lv={draw(e,t){const n=ua(t/Wu);e.moveTo(n,0),e.arc(0,0,n,0,Rf)}},IP={draw(e,t){const n=ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},eC=ua(1/3),RP=eC*2,BP={draw(e,t){const n=ua(t/RP),r=n*eC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$P={draw(e,t){const n=ua(t),r=-n/2;e.rect(r,r,n,n)}},LP=.8908130915292852,tC=qu(Wu/10)/qu(7*Wu/10),UP=qu(Rf/10)*tC,FP=-KE(Rf/10)*tC,GP={draw(e,t){const n=ua(t*LP),r=UP*n,l=FP*n;e.moveTo(0,-n),e.lineTo(r,l);for(let o=1;o<5;++o){const d=Rf*o/5,u=KE(d),m=qu(d);e.lineTo(m*n,-u*n),e.lineTo(u*r-m*l,m*r+u*l)}e.closePath()}},Vp=ua(3),qP={draw(e,t){const n=-ua(t/(Vp*3));e.moveTo(0,n*2),e.lineTo(-Vp*n,-n),e.lineTo(Vp*n,-n),e.closePath()}},Lr=-.5,Ur=ua(3)/2,Py=1/ua(12),WP=(Py/2+1)*3,HP={draw(e,t){const n=ua(t/WP),r=n/2,l=n*Py,o=r,d=n*Py+n,u=-o,m=d;e.moveTo(r,l),e.lineTo(o,d),e.lineTo(u,m),e.lineTo(Lr*r-Ur*l,Ur*r+Lr*l),e.lineTo(Lr*o-Ur*d,Ur*o+Lr*d),e.lineTo(Lr*u-Ur*m,Ur*u+Lr*m),e.lineTo(Lr*r+Ur*l,Lr*l-Ur*r),e.lineTo(Lr*o+Ur*d,Lr*d-Ur*o),e.lineTo(Lr*u+Ur*m,Lr*m-Ur*u),e.closePath()}};function KP(e,t){let n=null,r=Bv(l);e=typeof e=="function"?e:Mt(e||Lv),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function l(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(+o),l):t},l.context=function(o){return arguments.length?(n=o??null,l):n},l}function Hu(){}function Ku(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function nC(e){this._context=e}nC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ku(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ku(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VP(e){return new nC(e)}function rC(e){this._context=e}rC.prototype={areaStart:Hu,areaEnd:Hu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ku(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YP(e){return new rC(e)}function aC(e){this._context=e}aC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ku(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XP(e){return new aC(e)}function iC(e){this._context=e}iC.prototype={areaStart:Hu,areaEnd:Hu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QP(e){return new iC(e)}function JS(e){return e<0?-1:1}function e2(e,t,n){var r=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(r||l<0&&-0),d=(n-e._y1)/(l||r<0&&-0),u=(o*l+d*r)/(r+l);return(JS(o)+JS(d))*Math.min(Math.abs(o),Math.abs(d),.5*Math.abs(u))||0}function t2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yp(e,t,n){var r=e._x0,l=e._y0,o=e._x1,d=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,l+u*t,o-u,d-u*n,o,d)}function Vu(e){this._context=e}Vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yp(this,this._t0,t2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yp(this,t2(this,n=e2(this,e,t)),n);break;default:Yp(this,this._t0,n=e2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function sC(e){this._context=new lC(e)}(sC.prototype=Object.create(Vu.prototype)).point=function(e,t){Vu.prototype.point.call(this,t,e)};function lC(e){this._context=e}lC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,l,o){this._context.bezierCurveTo(t,e,r,n,o,l)}};function ZP(e){return new Vu(e)}function JP(e){return new sC(e)}function oC(e){this._context=e}oC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=n2(e),l=n2(t),o=0,d=1;d<n;++o,++d)this._context.bezierCurveTo(r[0][o],l[0][o],r[1][o],l[1][o],e[d],t[d]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function n2(e){var t,n=e.length-1,r,l=new Array(n),o=new Array(n),d=new Array(n);for(l[0]=0,o[0]=2,d[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,o[t]=4,d[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,o[n-1]=7,d[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=l[t]/o[t-1],o[t]-=r,d[t]-=r*d[t-1];for(l[n-1]=d[n-1]/o[n-1],t=n-2;t>=0;--t)l[t]=(d[t]-l[t+1])/o[t];for(o[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function e_(e){return new oC(e)}function $f(e,t){this._context=e,this._t=t}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function t_(e){return new $f(e,.5)}function n_(e){return new $f(e,0)}function r_(e){return new $f(e,1)}function $l(e,t){if((d=e.length)>1)for(var n=1,r,l,o=e[t[0]],d,u=o.length;n<d;++n)for(l=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(l[r][1])?l[r][0]:l[r][1]}function _y(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a_(e,t){return e[t]}function i_(e){const t=[];return t.key=e,t}function s_(){var e=Mt([]),t=_y,n=$l,r=a_;function l(o){var d=Array.from(e.apply(this,arguments),i_),u,m=d.length,h=-1,p;for(const g of o)for(u=0,++h;u<m;++u)(d[u][h]=[0,+r(g,d[u].key,h,o)]).data=g;for(u=0,p=$v(t(d));u<m;++u)d[p[u]].index=u;return n(d,p),d}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(Array.from(o)),l):e},l.value=function(o){return arguments.length?(r=typeof o=="function"?o:Mt(+o),l):r},l.order=function(o){return arguments.length?(t=o==null?_y:typeof o=="function"?o:Mt(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(n=o??$l,l):n},l}function l_(e,t){if((r=e.length)>0){for(var n,r,l=0,o=e[0].length,d;l<o;++l){for(d=n=0;n<r;++n)d+=e[n][l][1]||0;if(d)for(n=0;n<r;++n)e[n][l][1]/=d}$l(e,t)}}function o_(e,t){if((l=e.length)>0){for(var n=0,r=e[t[0]],l,o=r.length;n<o;++n){for(var d=0,u=0;d<l;++d)u+=e[d][n][1]||0;r[n][1]+=r[n][0]=-u/2}$l(e,t)}}function c_(e,t){if(!(!((d=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var n=0,r=1,l,o,d;r<o;++r){for(var u=0,m=0,h=0;u<d;++u){for(var p=e[t[u]],g=p[r][1]||0,b=p[r-1][1]||0,y=(g-b)/2,S=0;S<u;++S){var E=e[t[S]],C=E[r][1]||0,A=E[r-1][1]||0;y+=C-A}m+=g,h+=y*g}l[r-1][1]+=l[r-1][0]=n,m&&(n-=h/m)}l[r-1][1]+=l[r-1][0]=n,$l(e,t)}}var Xp={},Qp={},r2;function d_(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Qp)),Qp}var Zp={},a2;function cC(){return a2||(a2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Zp)),Zp}var Jp={},i2;function Uv(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Jp)),Jp}var eg={},tg={},s2;function u_(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(tg)),tg}var l2;function Fv(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u_(),n=Uv();function r(l){if(Array.isArray(l))return l.map(n.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const o=[],d=l.length;if(d===0)return o;let u=0,m="",h="",p=!1;for(l.charCodeAt(0)===46&&(o.push(""),u++);u<d;){const g=l[u];h?g==="\\"&&u+1<d?(u++,m+=l[u]):g===h?h="":m+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,o.push(m),m=""):m+=g:g==="["?(p=!0,m&&(o.push(m),m="")):g==="."?m&&(o.push(m),m=""):m+=g,u++}return m&&o.push(m),o}e.toPath=r})(eg)),eg}var o2;function Gv(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d_(),n=cC(),r=Uv(),l=Fv();function o(u,m,h){if(u==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=u[m];return p===void 0?n.isDeepKey(m)?o(u,l.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const p=u[m];return p===void 0?h:p}default:{if(Array.isArray(m))return d(u,m,h);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=u[m];return p===void 0?h:p}}}function d(u,m,h){if(m.length===0)return h;let p=u;for(let g=0;g<m.length;g++){if(p==null||t.isUnsafeProperty(m[g]))return h;p=p[m[g]]}return p===void 0?h:p}e.get=o})(Xp)),Xp}var ng,c2;function f_(){return c2||(c2=1,ng=Gv().get),ng}var m_=f_();const Ns=oi(m_);var On=e=>e===0?0:e>0?1:-1,Cr=e=>typeof e=="number"&&e!=+e,ri=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ie=e=>(typeof e=="number"||e instanceof Number)&&!Cr(e),xa=e=>Ie(e)||typeof e=="string",h_=0,xc=e=>{var t=++h_;return"".concat(e||"").concat(t)},Gn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&typeof t!="string")return r;var o;if(ri(t)){if(n==null)return r;var d=t.indexOf("%");o=n*parseFloat(t.slice(0,d))/100}else o=+t;return Cr(o)&&(o=r),l&&n!=null&&o>n&&(o=n),o},dC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Et(e,t,n){return Ie(e)&&Ie(t)?e+n*(t-e):t}function uC(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ns(r,t))===n)}var Lt=e=>e===null||typeof e>"u",zc=e=>Lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),p_=["type","size","sizeType"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(null,arguments)}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(r){g_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t,n){return(t=y_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_(e){var t=v_(e,"string");return typeof t=="symbol"?t:t+""}function v_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e,t){if(e==null)return{};var n,r,l=b_(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function b_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fC={symbolCircle:Lv,symbolCross:IP,symbolDiamond:BP,symbolSquare:$P,symbolStar:GP,symbolTriangle:qP,symbolWye:HP},j_=Math.PI/180,S_=e=>{var t="symbol".concat(zc(e));return fC[t]||Lv},A_=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*j_;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},w_=(e,t)=>{fC["symbol".concat(zc(e))]=t},qv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,l=x_(e,p_),o=u2(u2({},l),{},{type:t,size:n,sizeType:r}),d="circle";typeof t=="string"&&(d=t);var u=()=>{var b=S_(d),y=KP().type(b).size(A_(n,r,d)),S=y();if(S!==null)return S},{className:m,cx:h,cy:p}=o,g=Qn(o);return h===+h&&p===+p&&n===+n?v.createElement("path",Iy({},g,{className:ot("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};qv.registerSymbol=w_;var Wv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(l=>{Iv(l)&&(r[l]=(o=>n[l](n,o)))}),r},E_=(e,t,n)=>r=>(e(t,n,r),null),Pc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(l=>{var o=e[l];Iv(l)&&typeof o=="function"&&(r||(r={}),r[l]=E_(o,t,n))}),r};function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function C_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(r){Hv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hv(e,t,n){return(t=T_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_(e){var t=O_(e,"string");return typeof t=="symbol"?t:t+""}function O_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fr=32;class Kv extends v.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,l=Fr/2,o=Fr/6,d=Fr/3,u=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:Fr,y2:l,className:"recharts-legend-icon"});if(m==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(Fr,"M").concat(2*d,",").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return v.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var h=C_({},t);return delete h.legendIcon,v.cloneElement(t.legendIcon,h)}return v.createElement(qv,{fill:u,cx:l,cy:l,size:Fr,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:l,inactiveColor:o,iconType:d}=this.props,u={x:0,y:0,width:Fr,height:Fr},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var b=p.formatter||l,y=ot({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var S=p.inactive?o:p.color,E=b?b(p.value,p,g):p.value;return v.createElement("li",Ry({className:y,style:m,key:"legend-item-".concat(g)},Pc(this.props,p,g)),v.createElement(Rv,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(E," legend icon")},this.renderIcon(p,d)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}Hv(Kv,"displayName","Legend");Hv(Kv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var rg={},ag={},m2;function k_(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const l=new Map;for(let o=0;o<n.length;o++){const d=n[o],u=r(d);l.has(u)||l.set(u,d)}return Array.from(l.values())}e.uniqBy=t})(ag)),ag}var ig={},h2;function mC(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ig)),ig}var sg={},lg={},og={},p2;function D_(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(og)),og}var g2;function Vv(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(lg)),lg}var cg={},y2;function M_(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cg)),cg}var v2;function N_(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv(),n=M_();function r(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=r})(sg)),sg}var dg={},ug={},x2;function z_(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv();function n(r){return function(l){return t.get(l,r)}}e.property=n})(ug)),ug}var fg={},mg={},hg={},pg={},b2;function hC(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(pg)),pg}var gg={},j2;function pC(){return j2||(j2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gg)),gg}var yg={},S2;function gC(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(yg)),yg}var A2;function P_(){return A2||(A2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC(),n=pC(),r=gC();function l(p,g,b){return typeof b!="function"?l(p,g,()=>{}):o(p,g,function y(S,E,C,A,O,w){const z=b(S,E,C,A,O,w);return z!==void 0?!!z:o(S,E,y,w)},new Map)}function o(p,g,b,y){if(g===p)return!0;switch(typeof g){case"object":return d(p,g,b,y);case"function":return Object.keys(g).length>0?o(p,{...g},b,y):r.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function d(p,g,b,y){if(g==null)return!0;if(Array.isArray(g))return m(p,g,b,y);if(g instanceof Map)return u(p,g,b,y);if(g instanceof Set)return h(p,g,b,y);const S=Object.keys(g);if(p==null)return S.length===0;if(S.length===0)return!0;if(y?.has(g))return y.get(g)===p;y?.set(g,p);try{for(let E=0;E<S.length;E++){const C=S[E];if(!n.isPrimitive(p)&&!(C in p)||g[C]===void 0&&p[C]!==void 0||g[C]===null&&p[C]!==null||!b(p[C],g[C],C,p,g,y))return!1}return!0}finally{y?.delete(g)}}function u(p,g,b,y){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,E]of g.entries()){const C=p.get(S);if(b(C,E,S,p,g,y)===!1)return!1}return!0}function m(p,g,b,y){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let E=0;E<g.length;E++){const C=g[E];let A=!1;for(let O=0;O<p.length;O++){if(S.has(O))continue;const w=p[O];let z=!1;if(b(w,C,E,p,g,y)&&(z=!0),z){S.add(O),A=!0;break}}if(!A)return!1}return!0}function h(p,g,b,y){return g.size===0?!0:p instanceof Set?m([...p],[...g],b,y):!1}e.isMatchWith=l,e.isSetMatch=h})(hg)),hg}var w2;function yC(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_();function n(r,l){return t.isMatchWith(r,l,()=>{})}e.isMatch=n})(mg)),mg}var vg={},xg={},bg={},E2;function __(){return E2||(E2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(bg)),bg}var jg={},C2;function vC(){return C2||(C2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(jg)),jg}var Sg={},T2;function xC(){return T2||(T2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",l="[object Boolean]",o="[object Arguments]",d="[object Symbol]",u="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",S="[object Error]",E="[object DataView]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",w="[object Uint32Array]",z="[object BigUint64Array]",T="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",I="[object BigInt64Array]",$="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=p,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=z,e.booleanTag=l,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=B,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=N,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=d,e.uint16ArrayTag=O,e.uint32ArrayTag=w,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=A})(Sg)),Sg}var Ag={},O2;function I_(){return O2||(O2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Ag)),Ag}var k2;function bC(){return k2||(k2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__(),n=vC(),r=xC(),l=pC(),o=I_();function d(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,y=new Map,S=void 0){const E=S?.(p,g,b,y);if(E!==void 0)return E;if(l.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const C=new Array(p.length);y.set(p,C);for(let A=0;A<p.length;A++)C[A]=u(p[A],A,b,y,S);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;y.set(p,C);for(const[A,O]of p)C.set(A,u(O,A,b,y,S));return C}if(p instanceof Set){const C=new Set;y.set(p,C);for(const A of p)C.add(u(A,void 0,b,y,S));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,C);for(let A=0;A<p.length;A++)C[A]=u(p[A],A,b,y,S);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,C),m(C,p,b,y,S),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return y.set(p,C),m(C,p,b,y,S),C}if(typeof Blob<"u"&&p instanceof Blob){const C=new Blob([p],{type:p.type});return y.set(p,C),m(C,p,b,y,S),C}if(p instanceof Error){const C=new p.constructor;return y.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,m(C,p,b,y,S),C}if(p instanceof Boolean){const C=new Boolean(p.valueOf());return y.set(p,C),m(C,p,b,y,S),C}if(p instanceof Number){const C=new Number(p.valueOf());return y.set(p,C),m(C,p,b,y,S),C}if(p instanceof String){const C=new String(p.valueOf());return y.set(p,C),m(C,p,b,y,S),C}if(typeof p=="object"&&h(p)){const C=Object.create(Object.getPrototypeOf(p));return y.set(p,C),m(C,p,b,y,S),C}return p}function m(p,g,b=p,y,S){const E=[...Object.keys(g),...t.getSymbols(g)];for(let C=0;C<E.length;C++){const A=E[C],O=Object.getOwnPropertyDescriptor(p,A);(O==null||O.writable)&&(p[A]=u(g[A],A,b,y,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=u,e.copyProperties=m})(xg)),xg}var D2;function R_(){return D2||(D2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bC();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(vg)),vg}var M2;function B_(){return M2||(M2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yC(),n=R_();function r(l){return l=n.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=r})(fg)),fg}var wg={},Eg={},Cg={},N2;function $_(){return N2||(N2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bC(),n=xC();function r(l,o){return t.cloneDeepWith(l,(d,u,m,h)=>{const p=o?.(d,u,m,h);if(p!==void 0)return p;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new l.constructor(l?.valueOf());return t.copyProperties(g,l),g}case n.argumentsTag:{const g={};return t.copyProperties(g,l),g.length=l.length,g[Symbol.iterator]=l[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Cg)),Cg}var z2;function L_(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$_();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Eg)),Eg}var Tg={},Og={},P2;function jC(){return P2||(P2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,l=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<l;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Og)),Og}var kg={},_2;function U_(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vC();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(kg)),kg}var I2;function F_(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cC(),n=jC(),r=U_(),l=Fv();function o(d,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&d?.[u]==null?m=l.toPath(u):m=[u],m.length===0)return!1;let h=d;for(let p=0;p<m.length;p++){const g=m[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=o})(Tg)),Tg}var R2;function G_(){return R2||(R2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yC(),n=Uv(),r=L_(),l=Gv(),o=F_();function d(u,m){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return m=r.cloneDeep(m),function(h){const p=l.get(h,u);return p===void 0?o.has(h,u):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=d})(wg)),wg}var B2;function q_(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC(),n=z_(),r=B_(),l=G_();function o(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?l.matchesProperty(d[0],d[1]):r.matches(d);case"string":case"symbol":case"number":return n.property(d)}}e.iteratee=o})(dg)),dg}var $2;function W_(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k_(),n=mC(),r=N_(),l=q_();function o(d,u=n.identity){return r.isArrayLikeObject(d)?t.uniqBy(Array.from(d),l.iteratee(u)):[]}e.uniqBy=o})(rg)),rg}var Dg,L2;function H_(){return L2||(L2=1,Dg=W_().uniqBy),Dg}var K_=H_();const U2=oi(K_);function SC(e,t,n){return t===!0?U2(e,n):typeof t=="function"?U2(e,t):e}var Mg={exports:{}},Ng={},zg={exports:{}},Pg={};var F2;function V_(){if(F2)return Pg;F2=1;var e=Hl();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,l=e.useEffect,o=e.useLayoutEffect,d=e.useDebugValue;function u(g,b){var y=b(),S=r({inst:{value:y,getSnapshot:b}}),E=S[0].inst,C=S[1];return o(function(){E.value=y,E.getSnapshot=b,m(E)&&C({inst:E})},[g,y,b]),l(function(){return m(E)&&C({inst:E}),g(function(){m(E)&&C({inst:E})})},[g]),d(y),y}function m(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!n(g,y)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Pg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Pg}var G2;function Y_(){return G2||(G2=1,zg.exports=V_()),zg.exports}var q2;function X_(){if(q2)return Ng;q2=1;var e=Hl(),t=Y_();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,o=e.useRef,d=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Ng.useSyncExternalStoreWithSelector=function(h,p,g,b,y){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function A(M){if(!O){if(O=!0,w=M,M=b(M),y!==void 0&&E.hasValue){var N=E.value;if(y(N,M))return z=N}return z=M}if(N=z,r(w,M))return N;var I=b(M);return y!==void 0&&y(N,I)?(w=M,N):(w=M,z=I)}var O=!1,w,z,T=g===void 0?null:g;return[function(){return A(p())},T===null?void 0:function(){return A(T())}]},[p,g,b,y]);var C=l(h,S[0],S[1]);return d(function(){E.hasValue=!0,E.value=C},[C]),m(C),C},Ng}var W2;function Q_(){return W2||(W2=1,Mg.exports=X_()),Mg.exports}var Z_=Q_(),Yv=v.createContext(null),J_=e=>e,Yt=()=>{var e=v.useContext(Yv);return e?e.store.dispatch:J_},Ru=()=>{},e4=()=>Ru,t4=(e,t)=>e===t;function Re(e){var t=v.useContext(Yv);return Z_.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:e4,t?t.store.getState:Ru,t?t.store.getState:Ru,t?e:Ru,t4)}function n4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function r4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function a4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var H2=e=>Array.isArray(e)?e:[e];function i4(e){const t=Array.isArray(e[0])?e[0]:e;return a4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s4(e,t){const n=[],{length:r}=e;for(let l=0;l<r;l++)n.push(e[l].apply(null,t));return n}var l4=class{constructor(e){this.value=e}deref(){return this.value}},o4=typeof WeakRef<"u"?WeakRef:l4,c4=0,K2=1;function vu(){return{s:c4,v:void 0,o:null,p:null}}function AC(e,t={}){let n=vu();const{resultEqualityCheck:r}=t;let l,o=0;function d(){let u=n;const{length:m}=arguments;for(let g=0,b=m;g<b;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const E=S.get(y);E===void 0?(u=vu(),S.set(y,u)):u=E}else{let S=u.p;S===null&&(u.p=S=new Map);const E=S.get(y);E===void 0?(u=vu(),S.set(y,u)):u=E}}const h=u;let p;if(u.s===K2)p=u.v;else if(p=e.apply(null,arguments),o++,r){const g=l?.deref?.()??l;g!=null&&r(g,p)&&(p=g,o!==0&&o--),l=typeof p=="object"&&p!==null||typeof p=="function"?new o4(p):p}return h.s=K2,h.v=p,p}return d.clearCache=()=>{n=vu(),d.resetResultsCount()},d.resultsCount=()=>o,d.resetResultsCount=()=>{o=0},d}function d4(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...l)=>{let o=0,d=0,u,m={},h=l.pop();typeof h=="object"&&(m=h,h=l.pop()),n4(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...m},{memoize:g,memoizeOptions:b=[],argsMemoize:y=AC,argsMemoizeOptions:S=[]}=p,E=H2(b),C=H2(S),A=i4(l),O=g(function(){return o++,h.apply(null,arguments)},...E),w=y(function(){d++;const T=s4(A,arguments);return u=O.apply(null,T),u},...C);return Object.assign(w,{resultFunc:h,memoizedResultFunc:O,dependencies:A,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ue=d4(AC),u4=Object.assign((e,t=ue)=>{r4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((d,u,m)=>(d[n[m]]=u,d),{}))},{withTypes:()=>u4}),_g={},Ig={},Rg={},V2;function f4(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,l,o)=>{if(r!==l){const d=t(r),u=t(l);if(d===u&&d===0){if(r<l)return o==="desc"?1:-1;if(r>l)return o==="desc"?-1:1}return o==="desc"?u-d:d-u}return 0};e.compareValues=n})(Rg)),Rg}var Bg={},$g={},Y2;function wC(){return Y2||(Y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($g)),$g}var X2;function m4(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wC(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function l(o,d){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||d!=null&&Object.hasOwn(d,o)}e.isKey=l})(Bg)),Bg}var Q2;function h4(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f4(),n=m4(),r=Fv();function l(o,d,u,m){if(o==null)return[];u=m?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const h=(y,S)=>{let E=y;for(let C=0;C<S.length&&E!=null;++C)E=E[S[C]];return E},p=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:h(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?h(S,y):typeof S=="object"?S[y]:S,g=d.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return o.map(y=>({original:y,criteria:g.map(S=>p(S,y))})).slice().sort((y,S)=>{for(let E=0;E<g.length;E++){const C=t.compareValues(y.criteria[E],S.criteria[E],u[E]);if(C!==0)return C}return 0}).map(y=>y.original)}e.orderBy=l})(Ig)),Ig}var Lg={},Z2;function p4(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const l=[],o=Math.floor(r),d=(u,m)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&m<o?d(p,m+1):l.push(p)}};return d(n,0),l}e.flatten=t})(Lg)),Lg}var Ug={},J2;function EC(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jC(),n=Vv(),r=hC(),l=gC();function o(d,u,m){return r.isObject(m)&&(typeof u=="number"&&n.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?l.eq(m[u],d):!1}e.isIterateeCall=o})(Ug)),Ug}var eA;function g4(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h4(),n=p4(),r=EC();function l(o,...d){const u=d.length;return u>1&&r.isIterateeCall(o,d[0],d[1])?d=[]:u>2&&r.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(o,n.flatten(d),["asc"])}e.sortBy=l})(_g)),_g}var Fg,tA;function y4(){return tA||(tA=1,Fg=g4().sortBy),Fg}var v4=y4();const Lf=oi(v4);var CC=e=>e.legend.settings,x4=e=>e.legend.size,b4=e=>e.legend.payload,j4=ue([b4,CC],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Lf(r,n):r});function S4(){return Re(j4)}var xu=1;function TC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),d={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(d.height-t.height)>xu||Math.abs(d.left-t.left)>xu||Math.abs(d.top-t.top)>xu||Math.abs(d.width-t.width)>xu)&&n({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var A4=typeof Symbol=="function"&&Symbol.observable||"@@observable",nA=A4,Gg=()=>Math.random().toString(36).substring(7).split("").join("."),w4={INIT:`@@redux/INIT${Gg()}`,REPLACE:`@@redux/REPLACE${Gg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gg()}`},Yu=w4;function Xv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OC(e,t,n){if(typeof e!="function")throw new Error(_n(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_n(1));return n(OC)(e,t)}let r=e,l=t,o=new Map,d=o,u=0,m=!1;function h(){d===o&&(d=new Map,o.forEach((C,A)=>{d.set(A,C)}))}function p(){if(m)throw new Error(_n(3));return l}function g(C){if(typeof C!="function")throw new Error(_n(4));if(m)throw new Error(_n(5));let A=!0;h();const O=u++;return d.set(O,C),function(){if(A){if(m)throw new Error(_n(6));A=!1,h(),d.delete(O),o=null}}}function b(C){if(!Xv(C))throw new Error(_n(7));if(typeof C.type>"u")throw new Error(_n(8));if(typeof C.type!="string")throw new Error(_n(17));if(m)throw new Error(_n(9));try{m=!0,l=r(l,C)}finally{m=!1}return(o=d).forEach(O=>{O()}),C}function y(C){if(typeof C!="function")throw new Error(_n(10));r=C,b({type:Yu.REPLACE})}function S(){const C=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(_n(11));function O(){const z=A;z.next&&z.next(p())}return O(),{unsubscribe:C(O)}},[nA](){return this}}}return b({type:Yu.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:y,[nA]:S}}function E4(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yu.INIT})>"u")throw new Error(_n(12));if(typeof n(void 0,{type:Yu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function kC(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const d=t[o];typeof e[d]=="function"&&(n[d]=e[d])}const r=Object.keys(n);let l;try{E4(n)}catch(o){l=o}return function(d={},u){if(l)throw l;let m=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],y=d[g],S=b(y,u);if(typeof S>"u")throw u&&u.type,new Error(_n(14));h[g]=S,m=m||S!==y}return m=m||r.length!==Object.keys(d).length,m?h:d}}function Xu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function C4(...e){return t=>(n,r)=>{const l=t(n,r);let o=()=>{throw new Error(_n(15))};const d={getState:l.getState,dispatch:(m,...h)=>o(m,...h)},u=e.map(m=>m(d));return o=Xu(...u)(l.dispatch),{...l,dispatch:o}}}function DC(e){return Xv(e)&&"type"in e&&typeof e.type=="string"}var MC=Symbol.for("immer-nothing"),rA=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bc=Object.getPrototypeOf;function zs(e){return!!e&&!!e[Tr]}function ai(e){return e?NC(e)||Array.isArray(e)||!!e[rA]||!!e.constructor?.[rA]||_c(e)||Ff(e):!1}var T4=Object.prototype.constructor.toString(),aA=new WeakMap;function NC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=aA.get(n);return r===void 0&&(r=Function.toString.call(n),aA.set(n,r)),r===T4}function Qu(e,t,n=!0){Uf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((r,l)=>t(l,r,e))}function Uf(e){const t=e[Tr];return t?t.type_:Array.isArray(e)?1:_c(e)?2:Ff(e)?3:0}function By(e,t){return Uf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zC(e,t,n){const r=Uf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function O4(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _c(e){return e instanceof Map}function Ff(e){return e instanceof Set}function js(e){return e.copy_||e.base_}function $y(e,t){if(_c(e))return new Map(e);if(Ff(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=NC(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Tr];let l=Reflect.ownKeys(r);for(let o=0;o<l.length;o++){const d=l[o],u=r[d];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[d]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[d]})}return Object.create(bc(e),r)}else{const r=bc(e);if(r!==null&&n)return{...e};const l=Object.create(r);return Object.assign(l,e)}}function Qv(e,t=!1){return Gf(e)||zs(e)||!ai(e)||(Uf(e)>1&&Object.defineProperties(e,{set:bu,add:bu,clear:bu,delete:bu}),Object.freeze(e),t&&Object.values(e).forEach(n=>Qv(n,!0))),e}function k4(){sa(2)}var bu={value:k4};function Gf(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var D4={};function Ps(e){const t=D4[e];return t||sa(0,e),t}var jc;function PC(){return jc}function M4(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iA(e,t){t&&(Ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ly(e){Uy(e),e.drafts_.forEach(N4),e.drafts_=null}function Uy(e){e===jc&&(jc=e.parent_)}function sA(e){return jc=M4(jc,e)}function N4(e){const t=e[Tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Tr].modified_&&(Ly(t),sa(4)),ai(e)&&(e=Zu(t,e),t.parent_||Ju(t,e)),t.patches_&&Ps("Patches").generateReplacementPatches_(n[Tr].base_,e,t.patches_,t.inversePatches_)):e=Zu(t,n,[]),Ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MC?e:void 0}function Zu(e,t,n){if(Gf(t))return t;const r=e.immer_.shouldUseStrictIteration(),l=t[Tr];if(!l)return Qu(t,(o,d)=>oA(e,l,t,o,d,n),r),t;if(l.scope_!==e)return t;if(!l.modified_)return Ju(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const o=l.copy_;let d=o,u=!1;l.type_===3&&(d=new Set(o),o.clear(),u=!0),Qu(d,(m,h)=>oA(e,l,o,m,h,n,u),r),Ju(e,o,!1),n&&e.patches_&&Ps("Patches").generatePatches_(l,n,e.patches_,e.inversePatches_)}return l.copy_}function oA(e,t,n,r,l,o,d){if(l==null||typeof l!="object"&&!d)return;const u=Gf(l);if(!(u&&!d)){if(zs(l)){const m=o&&t&&t.type_!==3&&!By(t.assigned_,r)?o.concat(r):void 0,h=Zu(e,l,m);if(zC(n,r,h),zs(h))e.canAutoFreeze_=!1;else return}else d&&n.add(l);if(ai(l)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===l&&u)return;Zu(e,l),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(_c(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ju(e,l)}}}function Ju(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qv(t,n)}function z4(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:PC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=r,o=Zv;n&&(l=[r],o=Sc);const{revoke:d,proxy:u}=Proxy.revocable(l,o);return r.draft_=u,r.revoke_=d,u}var Zv={get(e,t){if(t===Tr)return e;const n=js(e);if(!By(n,t))return P4(e,n,t);const r=n[t];return e.finalized_||!ai(r)?r:r===qg(e.base_,t)?(Wg(e),e.copy_[t]=Gy(r,e)):r},has(e,t){return t in js(e)},ownKeys(e){return Reflect.ownKeys(js(e))},set(e,t,n){const r=_C(js(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const l=qg(js(e),t),o=l?.[Tr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(O4(n,l)&&(n!==void 0||By(e.base_,t)))return!0;Wg(e),Fy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Wg(e),Fy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=js(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){sa(11)},getPrototypeOf(e){return bc(e.base_)},setPrototypeOf(){sa(12)}},Sc={};Qu(Zv,(e,t)=>{Sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sc.deleteProperty=function(e,t){return Sc.set.call(this,e,t,void 0)};Sc.set=function(e,t,n){return Zv.set.call(this,e[0],t,n,e[0])};function qg(e,t){const n=e[Tr];return(n?js(n):e)[t]}function P4(e,t,n){const r=_C(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function _C(e,t){if(!(t in e))return;let n=bc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=bc(n)}}function Fy(e){e.modified_||(e.modified_=!0,e.parent_&&Fy(e.parent_))}function Wg(e){e.copy_||(e.copy_=$y(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _4=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const d=this;return function(m=o,...h){return d.produce(m,p=>n.call(this,p,...h))}}typeof n!="function"&&sa(6),r!==void 0&&typeof r!="function"&&sa(7);let l;if(ai(t)){const o=sA(this),d=Gy(t,void 0);let u=!0;try{l=n(d),u=!1}finally{u?Ly(o):Uy(o)}return iA(o,r),lA(l,o)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===MC&&(l=void 0),this.autoFreeze_&&Qv(l,!0),r){const o=[],d=[];Ps("Patches").generateReplacementPatches_(t,l,o,d),r(o,d)}return l}else sa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...u)=>this.produceWithPatches(d,m=>t(m,...u));let r,l;return[this.produce(t,n,(d,u)=>{r=d,l=u}),r,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ai(e)||sa(8),zs(e)&&(e=Ja(e));const t=sA(this),n=Gy(e,void 0);return n[Tr].isManual_=!0,Uy(t),n}finishDraft(e,t){const n=e&&e[Tr];(!n||!n.isManual_)&&sa(9);const{scope_:r}=n;return iA(r,t),lA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const r=Ps("Patches").applyPatches_;return zs(e)?r(e,t):this.produce(e,l=>r(l,t))}};function Gy(e,t){const n=_c(e)?Ps("MapSet").proxyMap_(e,t):Ff(e)?Ps("MapSet").proxySet_(e,t):z4(e,t);return(t?t.scope_:PC()).drafts_.push(n),n}function Ja(e){return zs(e)||sa(10,e),IC(e)}function IC(e){if(!ai(e)||Gf(e))return e;const t=e[Tr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$y(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=$y(e,!0);return Qu(n,(l,o)=>{zC(n,l,IC(o))},r),t&&(t.finalized_=!1),n}var qy=new _4,RC=qy.produce,I4=qy.setUseStrictIteration.bind(qy);function BC(e){return({dispatch:n,getState:r})=>l=>o=>typeof o=="function"?o(n,r,e):l(o)}var R4=BC(),B4=BC,$4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xu:Xu.apply(null,arguments)};function Xr(e,t){function n(...r){if(t){let l=t(...r);if(!l)throw new Error(Sr(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>DC(r)&&r.type===e,n}var $C=class mc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mc.prototype)}static get[Symbol.species](){return mc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mc(...t[0].concat(this)):new mc(...t.concat(this))}};function cA(e){return ai(e)?RC(e,()=>{}):e}function ju(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function L4(e){return typeof e=="boolean"}var U4=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let d=new $C;return n&&(L4(n)?d.push(R4):d.push(B4(n.extraArgument))),d},LC="RTK_autoBatch",Kn=()=>e=>({payload:e,meta:{[LC]:!0}}),dA=e=>t=>{setTimeout(t,e)},UC=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let l=!0,o=!1,d=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dA(10):e.type==="callback"?e.queueNotification:dA(e.timeout),h=()=>{d=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>l&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return l=!p?.meta?.[LC],o=!l,o&&(d||(d=!0,m(h))),r.dispatch(p)}finally{l=!0}}})},F4=e=>function(n){const{autoBatch:r=!0}=n??{};let l=new $C(e);return r&&l.push(UC(typeof r=="object"?r:void 0)),l};function G4(e){const t=U4(),{reducer:n=void 0,middleware:r,devTools:l=!0,preloadedState:o=void 0,enhancers:d=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Xv(n))u=kC(n);else throw new Error(Sr(1));let m;typeof r=="function"?m=r(t):m=t();let h=Xu;l&&(h=$4({trace:!1,...typeof l=="object"&&l}));const p=C4(...m),g=F4(p);let b=typeof d=="function"?d(g):g();const y=h(...b);return OC(u,o,y)}function FC(e){const t={},n=[];let r;const l={addCase(o,d){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Sr(28));if(u in t)throw new Error(Sr(29));return t[u]=d,l},addAsyncThunk(o,d){return d.pending&&(t[o.pending.type]=d.pending),d.rejected&&(t[o.rejected.type]=d.rejected),d.fulfilled&&(t[o.fulfilled.type]=d.fulfilled),d.settled&&n.push({matcher:o.settled,reducer:d.settled}),l},addMatcher(o,d){return n.push({matcher:o,reducer:d}),l},addDefaultCase(o){return r=o,l}};return e(l),[t,n,r]}I4(!1);function q4(e){return typeof e=="function"}function W4(e,t){let[n,r,l]=FC(t),o;if(q4(e))o=()=>cA(e());else{const u=cA(e);o=()=>u}function d(u=o(),m){let h=[n[m.type],...r.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[l]),h.reduce((p,g)=>{if(g)if(zs(p)){const y=g(p,m);return y===void 0?p:y}else{if(ai(p))return RC(p,b=>g(b,m));{const b=g(p,m);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return d.getInitialState=o,d}var H4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",K4=(e=21)=>{let t="",n=e;for(;n--;)t+=H4[Math.random()*64|0];return t},V4=Symbol.for("rtk-slice-createasyncthunk");function Y4(e,t){return`${e}/${t}`}function X4({creators:e}={}){const t=e?.asyncThunk?.[V4];return function(r){const{name:l,reducerPath:o=l}=r;if(!l)throw new Error(Sr(11));const d=(typeof r.reducers=="function"?r.reducers(Z4()):r.reducers)||{},u=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(w,z){const T=typeof w=="string"?w:w.type;if(!T)throw new Error(Sr(12));if(T in m.sliceCaseReducersByType)throw new Error(Sr(13));return m.sliceCaseReducersByType[T]=z,h},addMatcher(w,z){return m.sliceMatchers.push({matcher:w,reducer:z}),h},exposeAction(w,z){return m.actionCreators[w]=z,h},exposeCaseReducer(w,z){return m.sliceCaseReducersByName[w]=z,h}};u.forEach(w=>{const z=d[w],T={reducerName:w,type:Y4(l,w),createNotation:typeof r.reducers=="function"};eI(z)?nI(T,z,h,t):J4(T,z,h)});function p(){const[w={},z=[],T=void 0]=typeof r.extraReducers=="function"?FC(r.extraReducers):[r.extraReducers],M={...w,...m.sliceCaseReducersByType};return W4(r.initialState,N=>{for(let I in M)N.addCase(I,M[I]);for(let I of m.sliceMatchers)N.addMatcher(I.matcher,I.reducer);for(let I of z)N.addMatcher(I.matcher,I.reducer);T&&N.addDefaultCase(T)})}const g=w=>w,b=new Map,y=new WeakMap;let S;function E(w,z){return S||(S=p()),S(w,z)}function C(){return S||(S=p()),S.getInitialState()}function A(w,z=!1){function T(N){let I=N[w];return typeof I>"u"&&z&&(I=ju(y,T,C)),I}function M(N=g){const I=ju(b,z,()=>new WeakMap);return ju(I,N,()=>{const $={};for(const[B,R]of Object.entries(r.selectors??{}))$[B]=Q4(R,N,()=>ju(y,N,C),z);return $})}return{reducerPath:w,getSelectors:M,get selectors(){return M(T)},selectSlice:T}}const O={name:l,reducer:E,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...A(o),injectInto(w,{reducerPath:z,...T}={}){const M=z??o;return w.inject({reducerPath:M,reducer:E},T),{...O,...A(M,!0)}}};return O}}function Q4(e,t,n,r){function l(o,...d){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...d)}return l.unwrapped=e,l}var Or=X4();function Z4(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function J4({type:e,reducerName:t,createNotation:n},r,l){let o,d;if("reducer"in r){if(n&&!tI(r))throw new Error(Sr(17));o=r.reducer,d=r.prepare}else o=r;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,d?Xr(e,d):Xr(e))}function eI(e){return e._reducerDefinitionType==="asyncThunk"}function tI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nI({type:e,reducerName:t},n,r,l){if(!l)throw new Error(Sr(18));const{payloadCreator:o,fulfilled:d,pending:u,rejected:m,settled:h,options:p}=n,g=l(e,o,p);r.exposeAction(t,g),d&&r.addCase(g.fulfilled,d),u&&r.addCase(g.pending,u),m&&r.addCase(g.rejected,m),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:d||Su,pending:u||Su,rejected:m||Su,settled:h||Su})}function Su(){}var rI="task",GC="listener",qC="completed",Jv="cancelled",aI=`task-${Jv}`,iI=`task-${qC}`,Wy=`${GC}-${Jv}`,sI=`${GC}-${qC}`,qf=class{constructor(e){this.code=e,this.message=`${rI} ${Jv} (reason: ${e})`}name="TaskAbortError";message},e0=(e,t)=>{if(typeof e!="function")throw new TypeError(Sr(32))},ef=()=>{},WC=(e,t=ef)=>(e.catch(t),e),HC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Cs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ts=e=>{if(e.aborted){const{reason:t}=e;throw new qf(t)}};function KC(e,t){let n=ef;return new Promise((r,l)=>{const o=()=>l(new qf(e.reason));if(e.aborted){o();return}n=HC(e,o),t.finally(()=>n()).then(r,l)}).finally(()=>{n=ef})}var lI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof qf?"cancelled":"rejected",error:n}}finally{t?.()}},tf=e=>t=>WC(KC(e,t).then(n=>(Ts(e),n))),VC=e=>{const t=tf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Pl}=Object,uA={},Wf="listenerMiddleware",oI=(e,t)=>{const n=r=>HC(e,()=>Cs(r,e.reason));return(r,l)=>{e0(r);const o=new AbortController;n(o);const d=lI(async()=>{Ts(e),Ts(o.signal);const u=await r({pause:tf(o.signal),delay:VC(o.signal),signal:o.signal});return Ts(o.signal),u},()=>Cs(o,iI));return l?.autoJoin&&t.push(d.catch(ef)),{result:tf(e)(d),cancel(){Cs(o,aI)}}}},cI=(e,t)=>{const n=async(r,l)=>{Ts(t);let o=()=>{};const u=[new Promise((m,h)=>{let p=e({predicate:r,effect:(g,b)=>{b.unsubscribe(),m([g,b.getState(),b.getOriginalState()])}});o=()=>{p(),h()}})];l!=null&&u.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await KC(t,Promise.race(u));return Ts(t),m}finally{o()}};return(r,l)=>WC(n(r,l))},YC=e=>{let{type:t,actionCreator:n,matcher:r,predicate:l,effect:o}=e;if(t)l=Xr(t).match;else if(n)t=n.type,l=n.match;else if(r)l=r;else if(!l)throw new Error(Sr(21));return e0(o),{predicate:l,type:t,effect:o}},XC=Pl(e=>{const{type:t,predicate:n,effect:r}=YC(e);return{id:K4(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Sr(22))}}},{withTypes:()=>XC}),fA=(e,t)=>{const{type:n,effect:r,predicate:l}=YC(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===l)&&o.effect===r)},Hy=e=>{e.pending.forEach(t=>{Cs(t,Wy)})},dI=(e,t)=>()=>{for(const n of t.keys())Hy(n);e.clear()},mA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},QC=Pl(Xr(`${Wf}/add`),{withTypes:()=>QC}),uI=Xr(`${Wf}/removeAll`),ZC=Pl(Xr(`${Wf}/remove`),{withTypes:()=>ZC}),fI=(...e)=>{console.error(`${Wf}/error`,...e)},Ic=(e={})=>{const t=new Map,n=new Map,r=y=>{const S=n.get(y)??0;n.set(y,S+1)},l=y=>{const S=n.get(y)??1;S===1?n.delete(y):n.set(y,S-1)},{extra:o,onError:d=fI}=e;e0(d);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&Hy(y)}),m=y=>{const S=fA(t,y)??XC(y);return u(S)};Pl(m,{withTypes:()=>m});const h=y=>{const S=fA(t,y);return S&&(S.unsubscribe(),y.cancelActive&&Hy(S)),!!S};Pl(h,{withTypes:()=>h});const p=async(y,S,E,C)=>{const A=new AbortController,O=cI(m,A.signal),w=[];try{y.pending.add(A),r(y),await Promise.resolve(y.effect(S,Pl({},E,{getOriginalState:C,condition:(z,T)=>O(z,T).then(Boolean),take:O,delay:VC(A.signal),pause:tf(A.signal),extra:o,signal:A.signal,fork:oI(A.signal,w),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,T,M)=>{z!==A&&(Cs(z,Wy),M.delete(z))})},cancel:()=>{Cs(A,Wy),y.pending.delete(A)},throwIfCancelled:()=>{Ts(A.signal)}})))}catch(z){z instanceof qf||mA(d,z,{raisedBy:"effect"})}finally{await Promise.all(w),Cs(A,sI),l(y),y.pending.delete(A)}},g=dI(t,n);return{middleware:y=>S=>E=>{if(!DC(E))return S(E);if(QC.match(E))return m(E.payload);if(uI.match(E)){g();return}if(ZC.match(E))return h(E.payload);let C=y.getState();const A=()=>{if(C===uA)throw new Error(Sr(23));return C};let O;try{if(O=S(E),t.size>0){const w=y.getState(),z=Array.from(t.values());for(const T of z){let M=!1;try{M=T.predicate(E,w,C)}catch(N){M=!1,mA(d,N,{raisedBy:"predicate"})}M&&p(T,E,y,A)}}}finally{C=uA}return O},startListening:m,stopListening:h,clearListeners:g}};function Sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JC=Or({name:"chartLayout",initialState:mI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,l,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:hI,setLayout:pI,setChartSize:gI,setScale:yI}=JC.actions,vI=JC.reducer;function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){xI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xI(e,t,n){return(t=bI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bI(e){var t=jI(e,"string");return typeof t=="symbol"?t:t+""}function jI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=Math.PI/180,SI=e=>e*180/Math.PI,pn=(e,t,n,r)=>({x:e+Math.cos(-nf*r)*n,y:t+Math.sin(-nf*r)*n}),eT=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AI=(e,t)=>{var{x:n,y:r}=e,{x:l,y:o}=t;return Math.sqrt((n-l)**2+(r-o)**2)},wI=(e,t)=>{var{x:n,y:r}=e,{cx:l,cy:o}=t,d=AI({x:n,y:r},{x:l,y:o});if(d<=0)return{radius:d,angle:0};var u=(n-l)/d,m=Math.acos(u);return r>o&&(m=2*Math.PI-m),{radius:d,angle:SI(m),angleInRadian:m}},EI=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),l=Math.floor(n/360),o=Math.min(r,l);return{startAngle:t-o*360,endAngle:n-o*360}},CI=(e,t)=>{var{startAngle:n,endAngle:r}=t,l=Math.floor(n/360),o=Math.floor(r/360),d=Math.min(l,o);return e+d*360},TI=(e,t)=>{var{x:n,y:r}=e,{radius:l,angle:o}=wI({x:n,y:r},t),{innerRadius:d,outerRadius:u}=t;if(l<d||l>u||l===0)return null;var{startAngle:m,endAngle:h}=EI(t),p=o,g;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}return g?pA(pA({},t),{},{radius:l,angle:CI(p,t)}):null};function tT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){OI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OI(e,t,n){return(t=kI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ct(e,t,n){return Lt(e)||Lt(t)?n:xa(t)?Ns(e,t,n):typeof t=="function"?t(e):n}var MI=(e,t,n,r,l)=>{var o,d=-1,u=(o=t?.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<u;m++){var h=m>0?n[m-1].coordinate:n[u-1].coordinate,p=n[m].coordinate,g=m>=u-1?n[0].coordinate:n[m+1].coordinate,b=void 0;if(On(p-h)!==On(g-p)){var y=[];if(On(g-p)===On(l[1]-l[0])){b=g;var S=p+l[1]-l[0];y[0]=Math.min(S,(S+h)/2),y[1]=Math.max(S,(S+h)/2)}else{b=h;var E=g+l[1]-l[0];y[0]=Math.min(p,(E+p)/2),y[1]=Math.max(p,(E+p)/2)}var C=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>C[0]&&e<=C[1]||e>=y[0]&&e<=y[1]){({index:d}=n[m]);break}}else{var A=Math.min(h,g),O=Math.max(h,g);if(e>(A+p)/2&&e<=(O+p)/2){({index:d}=n[m]);break}}}else if(t){for(var w=0;w<u;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<u-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===u-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:d}=t[w]);break}}return d},NI=(e,t,n)=>{if(t&&n){var{width:r,height:l}=n,{align:o,verticalAlign:d,layout:u}=t;if((u==="vertical"||u==="horizontal"&&d==="middle")&&o!=="center"&&Ie(e[o]))return Wr(Wr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&d!=="middle"&&Ie(e[d]))return Wr(Wr({},e),{},{[d]:e[d]+(l||0)})}return e},wa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nT=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var l,o,d=e.map(u=>(u.coordinate===t&&(l=!0),u.coordinate===n&&(o=!0),u.coordinate));return l||d.push(t),o||d.push(n),d},rT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:l,range:o,scale:d,realScaleType:u,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:b,axisType:y}=e;if(!d)return null;var S=u==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,E=l==="category"&&d.bandwidth?d.bandwidth()/S:0;if(E=y==="angleAxis"&&o&&o.length>=2?On(o[0]-o[1])*2*E:E,g||b){var C=(g||b||[]).map((A,O)=>{var w=r?r.indexOf(A):A;return{coordinate:d(w)+E,value:A,offset:E,index:O}});return C.filter(A=>!Cr(A.coordinate))}return m&&h?h.map((A,O)=>({coordinate:d(A)+E,value:A,index:O,offset:E})):d.ticks&&p!=null?d.ticks(p).map((A,O)=>({coordinate:d(A)+E,value:A,offset:E,index:O})):d.domain().map((A,O)=>({coordinate:d(A)+E,value:r?r[A]:A,index:O,offset:E}))},yA=1e-4,zI=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),l=Math.min(r[0],r[1])-yA,o=Math.max(r[0],r[1])+yA,d=e(t[0]),u=e(t[n-1]);(d<l||d>o||u<l||u>o)&&e.domain([t[0],t[n-1]])}},PI=(e,t)=>{if(!t||t.length!==2||!Ie(t[0])||!Ie(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ie(e[0])||e[0]<n)&&(l[0]=n),(!Ie(e[1])||e[1]>r)&&(l[1]=r),l[0]>r&&(l[0]=r),l[1]<n&&(l[1]=n),l},_I=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,o=0,d=0;d<t;++d){var u=Cr(e[d][n][1])?e[d][n][0]:e[d][n][1];u>=0?(e[d][n][0]=l,e[d][n][1]=l+u,l=e[d][n][1]):(e[d][n][0]=o,e[d][n][1]=o+u,o=e[d][n][1])}},II=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,o=0;o<t;++o){var d=Cr(e[o][n][1])?e[o][n][0]:e[o][n][1];d>=0?(e[o][n][0]=l,e[o][n][1]=l+d,l=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},RI={sign:_I,expand:l_,none:$l,silhouette:o_,wiggle:c_,positive:II},BI=(e,t,n)=>{var r=RI[n],l=s_().keys(t).value((o,d)=>+Ct(o,d,0)).order(_y).offset(r);return l(e)};function aT(e){return e==null?void 0:String(e)}function rf(e){var{axis:t,ticks:n,bandSize:r,entry:l,index:o,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(l[t.dataKey])){var u=uC(n,"value",l[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var m=Ct(l,Lt(d)?t.dataKey:d);return Lt(m)?null:t.scale(m)}var vA=e=>{var{axis:t,ticks:n,offset:r,bandSize:l,entry:o,index:d}=e;if(t.type==="category")return n[d]?n[d].coordinate+r:null;var u=Ct(o,t.dataKey,t.scale.domain()[d]);return Lt(u)?null:t.scale(u)-l/2+r},$I=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return r<=0&&l>=0?0:l<0?l:r}return n[0]},LI=e=>{var t=e.flat(2).filter(Ie);return[Math.min(...t),Math.max(...t)]},UI=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FI=(e,t,n)=>{if(e!=null)return UI(Object.keys(e).reduce((r,l)=>{var o=e[l],{stackedData:d}=o,u=d.reduce((m,h)=>{var p=tT(h,t,n),g=LI(p);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},xA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_s=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var l=Lf(t,p=>p.coordinate),o=1/0,d=1,u=l.length;d<u;d++){var m=l[d],h=l[d-1];o=Math.min((m.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function jA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:l,name:o}=e;return Wr(Wr({},t),{},{dataKey:n,payload:r,value:l,name:o})}function Qi(e,t){if(e)return String(e);if(typeof t=="string")return t}function GI(e,t,n,r,l){if(n==="horizontal"||n==="vertical"){var o=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return o?{x:e,y:t}:null}return r?TI({x:e,y:t},r):null}var qI=(e,t,n,r)=>{var l=t.find(h=>h&&h.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:l.coordinate};if(e==="centric"){var o=l.coordinate,{radius:d}=r;return Wr(Wr(Wr({},r),pn(r.cx,r.cy,d,o)),{},{angle:o,radius:d})}var u=l.coordinate,{angle:m}=r;return Wr(Wr(Wr({},r),pn(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},WI=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ci=e=>e.layout.width,di=e=>e.layout.height,HI=e=>e.layout.scale,iT=e=>e.layout.margin,Hf=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kf=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),sT="data-recharts-item-index",lT="data-recharts-item-data-key",Rc=60;function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){KI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KI(e,t,n){return(t=VI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VI(e){var t=YI(e,"string");return typeof t=="symbol"?t:t+""}function YI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XI=e=>e.brush.height;function QI(e){var t=Kf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Rc;return n+l}return n},0)}function ZI(e){var t=Kf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Rc;return n+l}return n},0)}function JI(e){var t=Hf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function eR(e){var t=Hf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var bn=ue([ci,di,iT,XI,QI,ZI,JI,eR,CC,x4],(e,t,n,r,l,o,d,u,m,h)=>{var p={left:(n.left||0)+l,right:(n.right||0)+o},g={top:(n.top||0)+d,bottom:(n.bottom||0)+u},b=Au(Au({},g),p),y=b.bottom;b.bottom+=r,b=NI(b,m,h);var S=e-b.left-b.right,E=t-b.top-b.bottom;return Au(Au({brushBottom:y},b),{},{width:Math.max(S,0),height:Math.max(E,0)})}),tR=ue(bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),t0=ue(ci,di,(e,t)=>({x:0,y:0,width:e,height:t})),nR=v.createContext(null),$n=()=>v.useContext(nR)!=null,Vf=e=>e.brush,Yf=ue([Vf,bn,iT],(e,t,n)=>({height:e.height,x:Ie(e.x)?e.x:t.left,y:Ie(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ie(e.width)?e.width:t.width})),Hg={},Kg={},Vg={},AA;function rR(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:l,edges:o}={}){let d,u=null;const m=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(d,u),d=void 0,u=null)},g=()=>{h&&p(),E()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},S=()=>{b!==null&&(clearTimeout(b),b=null)},E=()=>{S(),d=void 0,u=null},C=()=>{p()},A=function(...O){if(l?.aborted)return;d=this,u=O;const w=b==null;y(),m&&w&&p()};return A.schedule=y,A.cancel=E,A.flush=C,l?.addEventListener("abort",E,{once:!0}),A}e.debounce=t})(Vg)),Vg}var wA;function aR(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR();function n(r,l=0,o={}){typeof o!="object"&&(o={});const{leading:d=!1,trailing:u=!0,maxWait:m}=o,h=Array(2);d&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const b=t.debounce(function(...E){p=r.apply(this,E),g=null},l,{edges:h}),y=function(...E){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(p=r.apply(this,E),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,E),p)},S=()=>(b.flush(),p);return y.cancel=b.cancel,y.flush=S,y}e.debounce=n})(Kg)),Kg}var EA;function iR(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR();function n(r,l=0,o={}){const{leading:d=!0,trailing:u=!0}=o;return t.debounce(r,l,{leading:d,maxWait:l,trailing:u})}e.throttle=n})(Hg)),Hg}var Yg,CA;function sR(){return CA||(CA=1,Yg=iR().throttle),Yg}var lR=sR();const oR=oi(lR);var af=function(t,n){for(var r=arguments.length,l=new Array(r>2?r-2:0),o=2;o<r;o++)l[o-2]=arguments[o]},oT=(e,t,n)=>{var{width:r="100%",height:l="100%",aspect:o,maxHeight:d}=n,u=ri(r)?e:Number(r),m=ri(l)?t:Number(l);return o&&o>0&&(u?m=u/o:m&&(u=m*o),d&&m>d&&(m=d)),{calculatedWidth:u,calculatedHeight:m}},cR={width:0,height:0,overflow:"visible"},dR={width:0,overflowX:"visible"},uR={height:0,overflowY:"visible"},fR={},mR=e=>{var{width:t,height:n}=e,r=ri(t),l=ri(n);return r&&l?cR:r?dR:l?uR:fR};function hR(e){var{width:t,height:n,aspect:r}=e,l=t,o=n;return l===void 0&&o===void 0?(l="100%",o="100%"):l===void 0?l=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:l,height:o}}function yn(e){return Number.isFinite(e)}function Ll(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ky.apply(null,arguments)}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){pR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pR(e,t,n){return(t=gR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gR(e){var t=yR(e,"string");return typeof t=="symbol"?t:t+""}function yR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cT=v.createContext({width:-1,height:-1});function dT(e){var{children:t,width:n,height:r}=e,l=v.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:v.createElement(cT.Provider,{value:l},t)}var n0=()=>v.useContext(cT),vR=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:l,height:o,minWidth:d=0,minHeight:u,maxHeight:m,children:h,debounce:p=0,id:g,className:b,onResize:y,style:S={}}=e,E=v.useRef(null),C=v.useRef();C.current=y,v.useImperativeHandle(t,()=>E.current);var[A,O]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((I,$)=>{O(B=>{var R=Math.round(I),q=Math.round($);return B.containerWidth===R&&B.containerHeight===q?B:{containerWidth:R,containerHeight:q}})},[]);v.useEffect(()=>{var I=q=>{var W,{width:K,height:H}=q[0].contentRect;w(K,H),(W=C.current)===null||W===void 0||W.call(C,K,H)};p>0&&(I=oR(I,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),{width:B,height:R}=E.current.getBoundingClientRect();return w(B,R),$.observe(E.current),()=>{$.disconnect()}},[w,p]);var{containerWidth:z,containerHeight:T}=A;af(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:N}=oT(z,T,{width:l,height:o,aspect:n,maxHeight:m});return af(M>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,N,l,o,d,u,n),v.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",b),style:OA(OA({},S),{},{width:l,height:o,minWidth:d,minHeight:u,maxHeight:m}),ref:E},v.createElement("div",{style:mR({width:l,height:o})},v.createElement(dT,{width:M,height:N},h)))}),Nt=v.forwardRef((e,t)=>{var n=n0();if(Ll(n.width)&&Ll(n.height))return e.children;var{width:r,height:l}=hR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:d}=oT(void 0,void 0,{width:r,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return Ie(o)&&Ie(d)?v.createElement(dT,{width:o,height:d},e.children):v.createElement(vR,Ky({},e,{width:r,height:l,ref:t}))}),Xf=()=>{var e,t=$n(),n=Re(tR),r=Re(Yf),l=(e=Re(Vf))===null||e===void 0?void 0:e.padding;return!t||!r||!l?n:{width:r.width-l.left-l.right,height:r.height-l.top-l.bottom,x:l.left,y:l.top}},xR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uT=()=>{var e;return(e=Re(bn))!==null&&e!==void 0?e:xR},r0=()=>Re(ci),a0=()=>Re(di),bR=()=>Re(e=>e.layout.margin),rt=e=>e.layout.layoutType,Bc=()=>Re(rt),Qf=e=>{var t=Yt(),n=$n(),{width:r,height:l}=e,o=n0(),d=r,u=l;return o&&(d=o.width>0?o.width:r,u=o.height>0?o.height:l),v.useEffect(()=>{!n&&Ll(d)&&Ll(u)&&t(gI({width:d,height:u}))},[t,n,d,u]),null},jR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fT=Or({name:"legend",initialState:jR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Kn()},removeLegendPayload:{reducer(e,t){var n=Ja(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Kn()}}}),{setLegendSize:kA,setLegendSettings:SR,addLegendPayload:mT,removeLegendPayload:hT}=fT.actions,AR=fT.reducer,wR=["contextPayload"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){i0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0(e,t,n){return(t=ER(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ER(e){var t=CR(e,"string");return typeof t=="symbol"?t:t+""}function CR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TR(e,t){if(e==null)return{};var n,r,l=OR(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function OR(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kR(e){return e.value}function DR(e){var{contextPayload:t}=e,n=TR(e,wR),r=SC(t,e.payloadUniqBy,kR),l=Ul(Ul({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,l):typeof e.content=="function"?v.createElement(e.content,l):v.createElement(Kv,l)}function MR(e,t,n,r,l,o){var{layout:d,align:u,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&d==="vertical"?h={left:((r||0)-o.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((l||0)-o.height)/2}:p=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ul(Ul({},h),p)}function NR(e){var t=Yt();return v.useEffect(()=>{t(SR(e))},[t,e]),null}function zR(e){var t=Yt();return v.useEffect(()=>(t(kA(e)),()=>{t(kA({width:0,height:0}))}),[t,e]),null}function PR(e){var t=S4(),n=DP(),r=bR(),{width:l,height:o,wrapperStyle:d,portal:u}=e,[m,h]=TC([t]),p=r0(),g=a0();if(p==null||g==null)return null;var b=p-(r.left||0)-(r.right||0),y=Wt.getWidthOrHeight(e.layout,o,l,b),S=u?d:Ul(Ul({position:"absolute",width:y?.width||l||"auto",height:y?.height||o||"auto"},MR(d,e,r,p,g,m)),d),E=u??n;if(E==null)return null;var C=v.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:h},v.createElement(NR,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(zR,{width:m.width,height:m.height}),v.createElement(DR,Vy({},e,y,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return _E.createPortal(C,E)}class Wt extends v.PureComponent{static getWidthOrHeight(t,n,r,l){return t==="vertical"&&Ie(n)?{height:n}:t==="horizontal"?{width:r||l}:null}render(){return v.createElement(PR,this.props)}}i0(Wt,"displayName","Legend");i0(Wt,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){_R(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _R(e,t,n){return(t=IR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e){var t=RR(e,"string");return typeof t=="symbol"?t:t+""}function RR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BR(e){return Array.isArray(e)&&xa(e[0])&&xa(e[1])?e.join(" ~ "):e}var $R=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:l={},payload:o,formatter:d,itemSorter:u,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(o&&o.length){var T={padding:0,margin:0},M=(u?Lf(o,u):o).map((N,I)=>{if(N.type==="none")return null;var $=N.formatter||d||BR,{value:B,name:R}=N,q=B,W=R;if($){var K=$(B,R,N,I,o);if(Array.isArray(K))[q,W]=K;else if(K!=null)q=K;else return null}var H=Xg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:H},xa(W)?v.createElement("span",{className:"recharts-tooltip-item-name"},W):null,xa(W)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},q),v.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},S=Xg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Xg({margin:0},l),C=!Lt(p),A=C?p:"",O=ot("recharts-default-tooltip",m),w=ot("recharts-tooltip-label",h);C&&g&&o!==void 0&&o!==null&&(A=g(p,o));var z=b?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Yy({className:O,style:S},z),v.createElement("p",{className:w,style:E},v.isValidElement(A)?A:"".concat(A)),y())},ic="recharts-tooltip-wrapper",LR={visibility:"hidden"};function UR(e){var{coordinate:t,translateX:n,translateY:r}=e;return ot(ic,{["".concat(ic,"-right")]:Ie(n)&&t&&Ie(t.x)&&n>=t.x,["".concat(ic,"-left")]:Ie(n)&&t&&Ie(t.x)&&n<t.x,["".concat(ic,"-bottom")]:Ie(r)&&t&&Ie(t.y)&&r>=t.y,["".concat(ic,"-top")]:Ie(r)&&t&&Ie(t.y)&&r<t.y})}function NA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:l,position:o,reverseDirection:d,tooltipDimension:u,viewBox:m,viewBoxDimension:h}=e;if(o&&Ie(o[r]))return o[r];var p=n[r]-u-(l>0?l:0),g=n[r]+l;if(t[r])return d[r]?p:g;var b=m[r];if(b==null)return 0;if(d[r]){var y=p,S=b;return y<S?Math.max(g,b):Math.max(p,b)}if(h==null)return 0;var E=g+u,C=b+h;return E>C?Math.max(p,b):Math.max(g,b)}function FR(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function GR(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:l,reverseDirection:o,tooltipBox:d,useTranslate3d:u,viewBox:m}=e,h,p,g;return d.height>0&&d.width>0&&n?(p=NA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:l,reverseDirection:o,tooltipDimension:d.width,viewBox:m,viewBoxDimension:m.width}),g=NA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:l,reverseDirection:o,tooltipDimension:d.height,viewBox:m,viewBoxDimension:m.height}),h=FR({translateX:p,translateY:g,useTranslate3d:u})):h=LR,{cssProperties:h,cssClasses:UR({translateX:p,translateY:g,coordinate:n})}}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){Xy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xy(e,t,n){return(t=qR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qR(e){var t=WR(e,"string");return typeof t=="symbol"?t:t+""}function WR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HR extends v.PureComponent{constructor(){super(...arguments),Xy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:l,children:o,coordinate:d,hasPayload:u,isAnimationActive:m,offset:h,position:p,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:S,lastBoundingBox:E,innerRef:C,hasPortalFromProps:A}=this.props,{cssClasses:O,cssProperties:w}=GR({allowEscapeViewBox:n,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:b,viewBox:y}),z=A?{}:wu(wu({transition:m&&t?"transform ".concat(r,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=wu(wu({},z),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:T,ref:C},o)}}var KR=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ui={devToolsEnabled:!1,isSsr:KR()},pT=()=>Re(e=>e.rootProps.accessibilityLayer);function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){VR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VR(e,t,n){return(t=YR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YR(e){var t=XR(e,"string");return typeof t=="symbol"?t:t+""}function XR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IA={curveBasisClosed:YP,curveBasisOpen:XP,curveBasis:VP,curveBumpX:PP,curveBumpY:_P,curveLinearClosed:QP,curveLinear:Bf,curveMonotoneX:ZP,curveMonotoneY:JP,curveNatural:e_,curveStep:t_,curveStepAfter:r_,curveStepBefore:n_},Eu=e=>yn(e.x)&&yn(e.y),sc=e=>e.x,lc=e=>e.y,QR=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(zc(e));return(n==="curveMonotone"||n==="curveBump")&&t?IA["".concat(n).concat(t==="vertical"?"Y":"X")]:IA[n]||Bf},ZR=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:l,connectNulls:o=!1}=e,d=QR(t,l),u=o?n.filter(Eu):n,m;if(Array.isArray(r)){var h=o?r.filter(g=>Eu(g)):r,p=u.map((g,b)=>_A(_A({},g),{},{base:h[b]}));return l==="vertical"?m=yu().y(lc).x1(sc).x0(g=>g.base.x):m=yu().x(sc).y1(lc).y0(g=>g.base.y),m.defined(Eu).curve(d),m(p)}return l==="vertical"&&Ie(r)?m=yu().y(lc).x1(sc).x0(r):Ie(r)?m=yu().x(sc).y1(lc).y0(r):m=ZE().x(sc).y(lc),m.defined(Eu).curve(d),m(u)},_l=e=>{var{className:t,points:n,path:r,pathRef:l}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?ZR(e):r;return v.createElement("path",Qy({},Xn(e),Wv(e),{className:ot("recharts-curve",t),d:o===null?void 0:o,ref:l}))},JR=["x","y","top","left","width","height","className"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){tB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tB(e,t,n){return(t=nB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t){if(e==null)return{};var n,r,l=iB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function iB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sB=(e,t,n,r,l,o)=>"M".concat(e,",").concat(l,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),lB=e=>{var{x:t=0,y:n=0,top:r=0,left:l=0,width:o=0,height:d=0,className:u}=e,m=aB(e,JR),h=eB({x:t,y:n,top:r,left:l,width:o,height:d},m);return!Ie(t)||!Ie(n)||!Ie(o)||!Ie(d)||!Ie(r)||!Ie(l)?null:v.createElement("path",Zy({},Qn(h),{className:ot("recharts-cross",u),d:sB(t,n,o,d,r,l)}))};function oB(e,t,n,r){var l=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function cB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){dB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dB(e,t,n){return(t=uB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e){var t=fB(e,"string");return typeof t=="symbol"?t:t+""}function fB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jn(e,t){var n=cB({},e),r=t,l=Object.keys(t),o=l.reduce((d,u)=>(d[u]===void 0&&r[u]!==void 0&&(d[u]=r[u]),d),n);return o}function mB(){}function hB(e){return e!=null}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){pB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pB(e,t,n){return(t=gB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),gT=(e,t,n)=>e.map(r=>"".concat(vB(r)," ").concat(t,"ms ").concat(n)).join(","),xB=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(l=>r.includes(l))),Ac=(e,t)=>Object.keys(t).reduce((n,r)=>LA(LA({},n),{},{[r]:e(r,t[r])}),{});function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){bB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bB(e,t,n){return(t=jB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sf=(e,t,n)=>e+(t-e)*n,Jy=e=>{var{from:t,to:n}=e;return t!==n},yT=(e,t,n)=>{var r=Ac((l,o)=>{if(Jy(o)){var[d,u]=e(o.from,o.to,o.velocity);return In(In({},o),{},{from:d,velocity:u})}return o},t);return n<1?Ac((l,o)=>Jy(o)?In(In({},o),{},{velocity:sf(o.velocity,r[l].velocity,n),from:sf(o.from,r[l].from,n)}):o,t):yT(e,r,n-1)};function AB(e,t,n,r,l,o){var d,u=r.reduce((b,y)=>In(In({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),m=()=>Ac((b,y)=>y.from,u),h=()=>!Object.values(u).filter(Jy).length,p=null,g=b=>{d||(d=b);var y=b-d,S=y/n.dt;u=yT(n,u,S),l(In(In(In({},e),t),m())),d=b,h()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function wB(e,t,n,r,l,o,d){var u=null,m=l.reduce((g,b)=>In(In({},g),{},{[b]:[e[b],t[b]]}),{}),h,p=g=>{h||(h=g);var b=(g-h)/r,y=Ac((E,C)=>sf(...C,n(b)),m);if(o(In(In(In({},e),t),y)),b<1)u=d.setTimeout(p);else{var S=Ac((E,C)=>sf(...C,n(1)),m);o(In(In(In({},e),t),S))}};return()=>(u=d.setTimeout(p),()=>{u()})}const EB=(e,t,n,r,l,o)=>{var d=xB(e,t);return n.isStepper===!0?AB(e,t,n,d,l,o):wB(e,t,n,r,d,l,o)};var lf=1e-4,vT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],xT=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),FA=(e,t)=>n=>{var r=vT(e,t);return xT(r,n)},CB=(e,t)=>n=>{var r=vT(e,t),l=[...r.map((o,d)=>o*d).slice(1),0];return xT(l,n)},GA=function(){for(var t,n,r,l,o=arguments.length,d=new Array(o),u=0;u<o;u++)d[u]=arguments[u];if(d.length===1)switch(d[0]){case"linear":[t,r,n,l]=[0,0,1,1];break;case"ease":[t,r,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,l]=[.42,0,1,1];break;case"ease-out":[t,r,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,l]=[0,0,.58,1];break;default:{var m=d[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,l]=m[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else d.length===4&&([t,r,n,l]=d);var h=FA(t,n),p=FA(r,l),g=CB(t,n),b=S=>S>1?1:S<0?0:S,y=S=>{for(var E=S>1?1:S,C=E,A=0;A<8;++A){var O=h(C)-E,w=g(C);if(Math.abs(O-E)<lf||w<lf)return p(C);C=b(C-O/w)}return p(C)};return y.isStepper=!1,y},TB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:l=17}=t,o=(d,u,m)=>{var h=-(d-u)*n,p=m*r,g=m+(h-p)*l/1e3,b=m*l/1e3+d;return Math.abs(b-u)<lf&&Math.abs(g)<lf?[u,0]:[b,g]};return o.isStepper=!0,o.dt=l,o},OB=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GA(e);case"spring":return TB();default:if(e.split("(")[0]==="cubic-bezier")return GA(e)}return typeof e=="function"?e:null};function kB(e){var t,n=()=>null,r=!1,l=null,o=d=>{if(!r){if(Array.isArray(d)){if(!d.length)return;var u=d,[m,...h]=u;if(typeof m=="number"){l=e.setTimeout(o.bind(null,h),m);return}o(m),l=e.setTimeout(o.bind(null,h));return}typeof d=="string"&&(t=d,n(t)),typeof d=="object"&&(t=d,n(t)),typeof d=="function"&&d()}};return{stop:()=>{r=!0},start:d=>{r=!1,l&&(l(),l=null),o(d)},subscribe:d=>(n=d,()=>{n=()=>null}),getTimeoutController:()=>e}}class DB{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),l=null,o=d=>{d-r>=n?t(d):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{cancelAnimationFrame(l)}}}function MB(){return kB(new DB)}var NB=v.createContext(MB);function zB(e,t){var n=v.useContext(NB);return v.useMemo(()=>t??n(e),[e,t,n])}var PB={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qA={t:0},Qg={t:1};function Xl(e){var t=jn(e,PB),{isActive:n,canBegin:r,duration:l,easing:o,begin:d,onAnimationEnd:u,onAnimationStart:m,children:h}=t,p=zB(t.animationId,t.animationManager),[g,b]=v.useState(n?qA:Qg),y=v.useRef(null);return v.useEffect(()=>{n||b(Qg)},[n]),v.useEffect(()=>{if(!n||!r)return mB;var S=EB(qA,Qg,OB(o),l,b,p.getTimeoutController()),E=()=>{y.current=S()};return p.start([m,d,E,l,u]),()=>{p.stop(),y.current&&y.current(),u()}},[n,r,l,o,d,m,u,p]),h(g.t)}function Ql(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(xc(t)),r=v.useRef(e);return r.current!==e&&(n.current=xc(t),r.current=e),n.current}var _B=["radius"],IB=["radius"];function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){RB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RB(e,t,n){return(t=BB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(null,arguments)}function KA(e,t){if(e==null)return{};var n,r,l=LB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function LB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VA=(e,t,n,r,l)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),d=r>=0?1:-1,u=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&l instanceof Array){for(var p=[0,0,0,0],g=0,b=4;g<b;g++)p[g]=l[g]>o?o:l[g];h="M".concat(e,",").concat(t+d*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+d*p[1])),h+="L ".concat(e+n,",").concat(t+r-d*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),h+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-d*p[3])),h+="Z"}else if(o>0&&l===+l&&l>0){var y=Math.min(o,l);h="M ".concat(e,",").concat(t+d*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+n-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n,",").concat(t+d*y,`
            L `).concat(e+n,",").concat(t+r-d*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(t+r-d*y," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},UB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bT=e=>{var t=jn(e,UB),n=v.useRef(null),[r,l]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var{x:o,y:d,width:u,height:m,radius:h,className:p}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:E}=t,C=v.useRef(u),A=v.useRef(m),O=v.useRef(o),w=v.useRef(d),z=v.useMemo(()=>({x:o,y:d,width:u,height:m,radius:h}),[o,d,u,m,h]),T=Ql(z,"rectangle-");if(o!==+o||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var M=ot("recharts-rectangle",p);if(!E){var N=Qn(t),{radius:I}=N,$=KA(N,_B);return v.createElement("path",of({},$,{radius:typeof h=="number"?h:void 0,className:M,d:VA(o,d,u,m,h)}))}var B=C.current,R=A.current,q=O.current,W=w.current,K="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),D=gT(["strokeDasharray"],b,typeof g=="string"?g:void 0);return v.createElement(Xl,{animationId:T,key:T,canBegin:r>0,duration:b,easing:g,isActive:E,begin:y},k=>{var _=Et(B,u,k),F=Et(R,m,k),Y=Et(q,o,k),U=Et(W,d,k);n.current&&(C.current=_,A.current=F,O.current=Y,w.current=U);var L;S?k>0?L={transition:D,strokeDasharray:H}:L={strokeDasharray:K}:L={strokeDasharray:H};var te=Qn(t),{radius:V}=te,X=KA(te,IB);return v.createElement("path",of({},X,{radius:typeof h=="number"?h:void 0,className:M,d:VA(Y,U,_,F,h),ref:n,style:HA(HA({},L),t.style)}))})};function jT(e){var{cx:t,cy:n,radius:r,startAngle:l,endAngle:o}=e,d=pn(t,n,r,l),u=pn(t,n,r,o);return{points:[d,u],cx:t,cy:n,radius:r,startAngle:l,endAngle:o}}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(null,arguments)}var FB=(e,t)=>{var n=On(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Cu=e=>{var{cx:t,cy:n,radius:r,angle:l,sign:o,isExternal:d,cornerRadius:u,cornerIsExternal:m}=e,h=u*(d?1:-1)+r,p=Math.asin(u/h)/nf,g=m?l:l+o*p,b=pn(t,n,h,g),y=pn(t,n,r,g),S=m?l-o*p:l,E=pn(t,n,h*Math.cos(p*nf),S);return{center:b,circleTangency:y,lineTangency:E,theta:p}},ST=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:o,endAngle:d}=e,u=FB(o,d),m=o+u,h=pn(t,n,l,o),p=pn(t,n,l,m),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=pn(t,n,r,o),y=pn(t,n,r,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},GB=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,cornerRadius:o,forceCornerRadius:d,cornerIsExternal:u,startAngle:m,endAngle:h}=e,p=On(h-m),{circleTangency:g,lineTangency:b,theta:y}=Cu({cx:t,cy:n,radius:l,angle:m,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:C}=Cu({cx:t,cy:n,radius:l,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:u}),A=u?Math.abs(m-h):Math.abs(m-h)-y-C;if(A<0)return d?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ST({cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:m,endAngle:h});var O="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:z,theta:T}=Cu({cx:t,cy:n,radius:r,angle:m,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:M,lineTangency:N,theta:I}=Cu({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),$=u?Math.abs(m-h):Math.abs(m-h)-T-I;if($<0&&o===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},qB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AT=e=>{var t=jn(e,qB),{cx:n,cy:r,innerRadius:l,outerRadius:o,cornerRadius:d,forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:p,className:g}=t;if(o<l||h===p)return null;var b=ot("recharts-sector",g),y=o-l,S=Gn(d,y,0,!0),E;return S>0&&Math.abs(h-p)<360?E=GB({cx:n,cy:r,innerRadius:l,outerRadius:o,cornerRadius:Math.min(S,y/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:p}):E=ST({cx:n,cy:r,innerRadius:l,outerRadius:o,startAngle:h,endAngle:p}),v.createElement("path",ev({},Qn(t),{className:b,d:E}))};function WB(e,t,n){var r,l,o,d;if(e==="horizontal")r=t.x,o=r,l=n.top,d=n.top+n.height;else if(e==="vertical")l=t.y,d=l,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:h,outerRadius:p,angle:g}=t,b=pn(u,m,h,g),y=pn(u,m,p,g);r=b.x,l=b.y,o=y.x,d=y.y}else return jT(t);return[{x:r,y:l},{x:o,y:d}]}var Zg={},Jg={},ey={},YA;function HB(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wC();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ey)),ey}var XA;function KB(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HB();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Jg)),Jg}var QA;function VB(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EC(),n=KB();function r(l,o,d){d&&typeof d!="number"&&t.isIterateeCall(l,o,d)&&(o=d=void 0),l=n.toFinite(l),o===void 0?(o=l,l=0):o=n.toFinite(o),d=d===void 0?l<o?1:-1:n.toFinite(d);const u=Math.max(Math.ceil((o-l)/(d||1)),0),m=new Array(u);for(let h=0;h<u;h++)m[h]=l,l+=d;return m}e.range=r})(Zg)),Zg}var ty,ZA;function YB(){return ZA||(ZA=1,ty=VB().range),ty}var XB=YB();const wT=oi(XB);function qi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s0(e){let t,n,r;e.length!==2?(t=qi,n=(u,m)=>qi(e(u),m),r=(u,m)=>e(u)-m):(t=e===qi||e===QB?e:ZB,n=e,r=e);function l(u,m,h=0,p=u.length){if(h<p){if(t(m,m)!==0)return p;do{const g=h+p>>>1;n(u[g],m)<0?h=g+1:p=g}while(h<p)}return h}function o(u,m,h=0,p=u.length){if(h<p){if(t(m,m)!==0)return p;do{const g=h+p>>>1;n(u[g],m)<=0?h=g+1:p=g}while(h<p)}return h}function d(u,m,h=0,p=u.length){const g=l(u,m,h,p-1);return g>h&&r(u[g-1],m)>-r(u[g],m)?g-1:g}return{left:l,center:d,right:o}}function ZB(){return 0}function ET(e){return e===null?NaN:+e}function*JB(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const e8=s0(qi),$c=e8.right;s0(ET).center;class JA extends Map{constructor(t,n=r8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,l]of t)this.set(r,l)}get(t){return super.get(ew(this,t))}has(t){return super.has(ew(this,t))}set(t,n){return super.set(t8(this,t),n)}delete(t){return super.delete(n8(this,t))}}function ew({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function t8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function n8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function r8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function a8(e=qi){if(e===qi)return CT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function CT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i8=Math.sqrt(50),s8=Math.sqrt(10),l8=Math.sqrt(2);function cf(e,t,n){const r=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(r)),o=r/Math.pow(10,l),d=o>=i8?10:o>=s8?5:o>=l8?2:1;let u,m,h;return l<0?(h=Math.pow(10,-l)/d,u=Math.round(e*h),m=Math.round(t*h),u/h<e&&++u,m/h>t&&--m,h=-h):(h=Math.pow(10,l)*d,u=Math.round(e/h),m=Math.round(t/h),u*h<e&&++u,m*h>t&&--m),m<u&&.5<=n&&n<2?cf(e,t,n*2):[u,m,h]}function tv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[l,o,d]=r?cf(t,e,n):cf(e,t,n);if(!(o>=l))return[];const u=o-l+1,m=new Array(u);if(r)if(d<0)for(let h=0;h<u;++h)m[h]=(o-h)/-d;else for(let h=0;h<u;++h)m[h]=(o-h)*d;else if(d<0)for(let h=0;h<u;++h)m[h]=(l+h)/-d;else for(let h=0;h<u;++h)m[h]=(l+h)*d;return m}function nv(e,t,n){return t=+t,e=+e,n=+n,cf(e,t,n)[2]}function rv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,l=r?nv(t,e,n):nv(e,t,n);return(r?-1:1)*(l<0?1/-l:l)}function tw(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function nw(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function TT(e,t,n=0,r=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(l=l===void 0?CT:a8(l);r>n;){if(r-n>600){const m=r-n+1,h=t-n+1,p=Math.log(m),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(m-g)/m)*(h-m/2<0?-1:1),y=Math.max(n,Math.floor(t-h*g/m+b)),S=Math.min(r,Math.floor(t+(m-h)*g/m+b));TT(e,t,y,S,l)}const o=e[t];let d=n,u=r;for(oc(e,n,t),l(e[r],o)>0&&oc(e,n,r);d<u;){for(oc(e,d,u),++d,--u;l(e[d],o)<0;)++d;for(;l(e[u],o)>0;)--u}l(e[n],o)===0?oc(e,n,u):(++u,oc(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function oc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function o8(e,t,n){if(e=Float64Array.from(JB(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nw(e);if(t>=1)return tw(e);var r,l=(r-1)*t,o=Math.floor(l),d=tw(TT(e,o).subarray(0,o+1)),u=nw(e.subarray(o+1));return d+(u-d)*(l-o)}}function c8(e,t,n=ET){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,l=(r-1)*t,o=Math.floor(l),d=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return d+(u-d)*(l-o)}}function d8(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(l);++r<l;)o[r]=e+r*n;return o}function ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const av=Symbol("implicit");function l0(){var e=new JA,t=[],n=[],r=av;function l(o){let d=e.get(o);if(d===void 0){if(r!==av)return r;e.set(o,d=t.push(o)-1)}return n[d%n.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new JA;for(const d of o)e.has(d)||e.set(d,t.push(d)-1);return l},l.range=function(o){return arguments.length?(n=Array.from(o),l):n.slice()},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return l0(t,n).unknown(r)},ea.apply(l,arguments),l}function o0(){var e=l0().unknown(void 0),t=e.domain,n=e.range,r=0,l=1,o,d,u=!1,m=0,h=0,p=.5;delete e.unknown;function g(){var b=t().length,y=l<r,S=y?l:r,E=y?r:l;o=(E-S)/Math.max(1,b-m+h*2),u&&(o=Math.floor(o)),S+=(E-S-o*(b-m))*p,d=o*(1-m),u&&(S=Math.round(S),d=Math.round(d));var C=d8(b).map(function(A){return S+o*A});return n(y?C.reverse():C)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([r,l]=b,r=+r,l=+l,g()):[r,l]},e.rangeRound=function(b){return[r,l]=b,r=+r,l=+l,u=!0,g()},e.bandwidth=function(){return d},e.step=function(){return o},e.round=function(b){return arguments.length?(u=!!b,g()):u},e.padding=function(b){return arguments.length?(m=Math.min(1,h=+b),g()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),g()):m},e.paddingOuter=function(b){return arguments.length?(h=+b,g()):h},e.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},e.copy=function(){return o0(t(),[r,l]).round(u).paddingInner(m).paddingOuter(h).align(p)},ea.apply(g(),arguments)}function OT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OT(t())},e}function u8(){return OT(o0.apply(null,arguments).paddingInner(1))}function c0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lc(){}var wc=.7,df=1/wc,Il="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f8=/^#([0-9a-f]{3,8})$/,m8=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),h8=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),p8=new RegExp(`^rgba\\(${Il},${Il},${Il},${Ec}\\)$`),g8=new RegExp(`^rgba\\(${va},${va},${va},${Ec}\\)$`),y8=new RegExp(`^hsl\\(${Ec},${va},${va}\\)$`),v8=new RegExp(`^hsla\\(${Ec},${va},${va},${Ec}\\)$`),rw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c0(Lc,Cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aw,formatHex:aw,formatHex8:x8,formatHsl:b8,formatRgb:iw,toString:iw});function aw(){return this.rgb().formatHex()}function x8(){return this.rgb().formatHex8()}function b8(){return DT(this).formatHsl()}function iw(){return this.rgb().formatRgb()}function Cc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sw(t):n===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m8.exec(e))?new lr(t[1],t[2],t[3],1):(t=h8.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p8.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=g8.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y8.exec(e))?cw(t[1],t[2]/100,t[3]/100,1):(t=v8.exec(e))?cw(t[1],t[2]/100,t[3]/100,t[4]):rw.hasOwnProperty(e)?sw(rw[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function sw(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,n,r){return r<=0&&(e=t=n=NaN),new lr(e,t,n,r)}function j8(e){return e instanceof Lc||(e=Cc(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function iv(e,t,n,r){return arguments.length===1?j8(e):new lr(e,t,n,r??1)}function lr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}c0(lr,iv,kT(Lc,{brighter(e){return e=e==null?df:Math.pow(df,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wc:Math.pow(wc,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr(Os(this.r),Os(this.g),Os(this.b),uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lw,formatHex:lw,formatHex8:S8,formatRgb:ow,toString:ow}));function lw(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function S8(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function ow(){const e=uf(this.opacity);return`${e===1?"rgb(":"rgba("}${Os(this.r)}, ${Os(this.g)}, ${Os(this.b)}${e===1?")":`, ${e})`}`}function uf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function As(e){return e=Os(e),(e<16?"0":"")+e.toString(16)}function cw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new la(e,t,n,r)}function DT(e){if(e instanceof la)return new la(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=Cc(e)),!e)return new la;if(e instanceof la)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,l=Math.min(t,n,r),o=Math.max(t,n,r),d=NaN,u=o-l,m=(o+l)/2;return u?(t===o?d=(n-r)/u+(n<r)*6:n===o?d=(r-t)/u+2:d=(t-n)/u+4,u/=m<.5?o+l:2-o-l,d*=60):u=m>0&&m<1?0:d,new la(d,u,m,e.opacity)}function A8(e,t,n,r){return arguments.length===1?DT(e):new la(e,t,n,r??1)}function la(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}c0(la,A8,kT(Lc,{brighter(e){return e=e==null?df:Math.pow(df,e),new la(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wc:Math.pow(wc,e),new la(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,l=2*n-r;return new lr(ny(e>=240?e-240:e+120,l,r),ny(e,l,r),ny(e<120?e+240:e-120,l,r),this.opacity)},clamp(){return new la(dw(this.h),Ou(this.s),Ou(this.l),uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uf(this.opacity);return`${e===1?"hsl(":"hsla("}${dw(this.h)}, ${Ou(this.s)*100}%, ${Ou(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dw(e){return e=(e||0)%360,e<0?e+360:e}function Ou(e){return Math.max(0,Math.min(1,e||0))}function ny(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const d0=e=>()=>e;function w8(e,t){return function(n){return e+n*t}}function E8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function C8(e){return(e=+e)==1?MT:function(t,n){return n-t?E8(t,n,e):d0(isNaN(t)?n:t)}}function MT(e,t){var n=t-e;return n?w8(e,n):d0(isNaN(e)?t:e)}const uw=(function e(t){var n=C8(t);function r(l,o){var d=n((l=iv(l)).r,(o=iv(o)).r),u=n(l.g,o.g),m=n(l.b,o.b),h=MT(l.opacity,o.opacity);return function(p){return l.r=d(p),l.g=u(p),l.b=m(p),l.opacity=h(p),l+""}}return r.gamma=e,r})(1);function T8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),l;return function(o){for(l=0;l<n;++l)r[l]=e[l]*(1-o)+t[l]*o;return r}}function O8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function k8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,l=new Array(r),o=new Array(n),d;for(d=0;d<r;++d)l[d]=Zl(e[d],t[d]);for(;d<n;++d)o[d]=t[d];return function(u){for(d=0;d<r;++d)o[d]=l[d](u);return o}}function D8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ff(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function M8(e,t){var n={},r={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=Zl(e[l],t[l]):r[l]=t[l];return function(o){for(l in n)r[l]=n[l](o);return r}}var sv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ry=new RegExp(sv.source,"g");function N8(e){return function(){return e}}function z8(e){return function(t){return e(t)+""}}function P8(e,t){var n=sv.lastIndex=ry.lastIndex=0,r,l,o,d=-1,u=[],m=[];for(e=e+"",t=t+"";(r=sv.exec(e))&&(l=ry.exec(t));)(o=l.index)>n&&(o=t.slice(n,o),u[d]?u[d]+=o:u[++d]=o),(r=r[0])===(l=l[0])?u[d]?u[d]+=l:u[++d]=l:(u[++d]=null,m.push({i:d,x:ff(r,l)})),n=ry.lastIndex;return n<t.length&&(o=t.slice(n),u[d]?u[d]+=o:u[++d]=o),u.length<2?m[0]?z8(m[0].x):N8(t):(t=m.length,function(h){for(var p=0,g;p<t;++p)u[(g=m[p]).i]=g.x(h);return u.join("")})}function Zl(e,t){var n=typeof t,r;return t==null||n==="boolean"?d0(t):(n==="number"?ff:n==="string"?(r=Cc(t))?(t=r,uw):P8:t instanceof Cc?uw:t instanceof Date?D8:O8(t)?T8:Array.isArray(t)?k8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?M8:ff)(e,t)}function u0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function _8(e,t){t===void 0&&(t=e,e=Zl);for(var n=0,r=t.length-1,l=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(l,l=t[++n]);return function(d){var u=Math.max(0,Math.min(r-1,Math.floor(d*=r)));return o[u](d-u)}}function I8(e){return function(){return e}}function mf(e){return+e}var fw=[0,1];function Yn(e){return e}function lv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:I8(isNaN(t)?NaN:.5)}function R8(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function B8(e,t,n){var r=e[0],l=e[1],o=t[0],d=t[1];return l<r?(r=lv(l,r),o=n(d,o)):(r=lv(r,l),o=n(o,d)),function(u){return o(r(u))}}function $8(e,t,n){var r=Math.min(e.length,t.length)-1,l=new Array(r),o=new Array(r),d=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<r;)l[d]=lv(e[d],e[d+1]),o[d]=n(t[d],t[d+1]);return function(u){var m=$c(e,u,1,r)-1;return o[m](l[m](u))}}function Uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zf(){var e=fw,t=fw,n=Zl,r,l,o,d=Yn,u,m,h;function p(){var b=Math.min(e.length,t.length);return d!==Yn&&(d=R8(e[0],e[b-1])),u=b>2?$8:B8,m=h=null,g}function g(b){return b==null||isNaN(b=+b)?o:(m||(m=u(e.map(r),t,n)))(r(d(b)))}return g.invert=function(b){return d(l((h||(h=u(t,e.map(r),ff)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,mf),p()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),p()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),n=u0,p()},g.clamp=function(b){return arguments.length?(d=b?!0:Yn,p()):d!==Yn},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(o=b,g):o},function(b,y){return r=b,l=y,p()}}function f0(){return Zf()(Yn,Yn)}function L8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fl(e){return e=hf(Math.abs(e)),e?e[1]:NaN}function U8(e,t){return function(n,r){for(var l=n.length,o=[],d=0,u=e[0],m=0;l>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),o.push(n.substring(l-=u,l+u)),!((m+=u+1)>r));)u=e[d=(d+1)%e.length];return o.reverse().join(t)}}function F8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var G8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=G8.exec(e)))throw new Error("invalid format: "+e);var t;return new m0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=m0.prototype;function m0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q8(e){e:for(var t=e.length,n=1,r=-1,l;n<t;++n)switch(e[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(l+1):e}var NT;function W8(e,t){var n=hf(e,t);if(!n)return e+"";var r=n[0],l=n[1],o=l-(NT=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=r.length;return o===d?r:o>d?r+new Array(o-d+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hf(e,Math.max(0,t+o-1))[0]}function mw(e,t){var n=hf(e,t);if(!n)return e+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const hw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:L8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mw(e*100,t),r:mw,s:W8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pw(e){return e}var gw=Array.prototype.map,yw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function H8(e){var t=e.grouping===void 0||e.thousands===void 0?pw:U8(gw.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?pw:F8(gw.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(g){g=Tc(g);var b=g.fill,y=g.align,S=g.sign,E=g.symbol,C=g.zero,A=g.width,O=g.comma,w=g.precision,z=g.trim,T=g.type;T==="n"?(O=!0,T="g"):hw[T]||(w===void 0&&(w=12),z=!0,T="g"),(C||b==="0"&&y==="=")&&(C=!0,b="0",y="=");var M=E==="$"?n:E==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",N=E==="$"?r:/[%p]/.test(T)?d:"",I=hw[T],$=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function B(R){var q=M,W=N,K,H,D;if(T==="c")W=I(R)+W,R="";else{R=+R;var k=R<0||1/R<0;if(R=isNaN(R)?m:I(Math.abs(R),w),z&&(R=q8(R)),k&&+R==0&&S!=="+"&&(k=!1),q=(k?S==="("?S:u:S==="-"||S==="("?"":S)+q,W=(T==="s"?yw[8+NT/3]:"")+W+(k&&S==="("?")":""),$){for(K=-1,H=R.length;++K<H;)if(D=R.charCodeAt(K),48>D||D>57){W=(D===46?l+R.slice(K+1):R.slice(K))+W,R=R.slice(0,K);break}}}O&&!C&&(R=t(R,1/0));var _=q.length+R.length+W.length,F=_<A?new Array(A-_+1).join(b):"";switch(O&&C&&(R=t(F+R,F.length?A-W.length:1/0),F=""),y){case"<":R=q+R+W+F;break;case"=":R=q+F+R+W;break;case"^":R=F.slice(0,_=F.length>>1)+q+R+W+F.slice(_);break;default:R=F+q+R+W;break}return o(R)}return B.toString=function(){return g+""},B}function p(g,b){var y=h((g=Tc(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(Fl(b)/3)))*3,E=Math.pow(10,-S),C=yw[8+S/3];return function(A){return y(E*A)+C}}return{format:h,formatPrefix:p}}var ku,h0,zT;K8({thousands:",",grouping:[3],currency:["$",""]});function K8(e){return ku=H8(e),h0=ku.format,zT=ku.formatPrefix,ku}function V8(e){return Math.max(0,-Fl(Math.abs(e)))}function Y8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fl(t)/3)))*3-Fl(Math.abs(e)))}function X8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fl(t)-Fl(e))+1}function PT(e,t,n,r){var l=rv(e,t,n),o;switch(r=Tc(r??",f"),r.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Y8(l,d))&&(r.precision=o),zT(r,d)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=X8(l,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=V8(l))&&(r.precision=o-(r.type==="%")*2);break}}return h0(r)}function Zi(e){var t=e.domain;return e.ticks=function(n){var r=t();return tv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var l=t();return PT(l[0],l[l.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),l=0,o=r.length-1,d=r[l],u=r[o],m,h,p=10;for(u<d&&(h=d,d=u,u=h,h=l,l=o,o=h);p-- >0;){if(h=nv(d,u,n),h===m)return r[l]=d,r[o]=u,t(r);if(h>0)d=Math.floor(d/h)*h,u=Math.ceil(u/h)*h;else if(h<0)d=Math.ceil(d*h)/h,u=Math.floor(u*h)/h;else break;m=h}return e},e}function _T(){var e=f0();return e.copy=function(){return Uc(e,_T())},ea.apply(e,arguments),Zi(e)}function IT(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,mf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return IT(e).unknown(t)},e=arguments.length?Array.from(e,mf):[0,1],Zi(n)}function RT(e,t){e=e.slice();var n=0,r=e.length-1,l=e[n],o=e[r],d;return o<l&&(d=n,n=r,r=d,d=l,l=o,o=d),e[n]=t.floor(l),e[r]=t.ceil(o),e}function vw(e){return Math.log(e)}function xw(e){return Math.exp(e)}function Q8(e){return-Math.log(-e)}function Z8(e){return-Math.exp(-e)}function J8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e$(e){return e===10?J8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bw(e){return(t,n)=>-e(-t,n)}function p0(e){const t=e(vw,xw),n=t.domain;let r=10,l,o;function d(){return l=t$(r),o=e$(r),n()[0]<0?(l=bw(l),o=bw(o),e(Q8,Z8)):e(vw,xw),t}return t.base=function(u){return arguments.length?(r=+u,d()):r},t.domain=function(u){return arguments.length?(n(u),d()):n()},t.ticks=u=>{const m=n();let h=m[0],p=m[m.length-1];const g=p<h;g&&([h,p]=[p,h]);let b=l(h),y=l(p),S,E;const C=u==null?10:+u;let A=[];if(!(r%1)&&y-b<C){if(b=Math.floor(b),y=Math.ceil(y),h>0){for(;b<=y;++b)for(S=1;S<r;++S)if(E=b<0?S/o(-b):S*o(b),!(E<h)){if(E>p)break;A.push(E)}}else for(;b<=y;++b)for(S=r-1;S>=1;--S)if(E=b>0?S/o(-b):S*o(b),!(E<h)){if(E>p)break;A.push(E)}A.length*2<C&&(A=tv(h,p,C))}else A=tv(b,y,Math.min(y-b,C)).map(o);return g?A.reverse():A},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Tc(m)).precision==null&&(m.trim=!0),m=h0(m)),u===1/0)return m;const h=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/o(Math.round(l(p)));return g*r<r-.5&&(g*=r),g<=h?m(p):""}},t.nice=()=>n(RT(n(),{floor:u=>o(Math.floor(l(u))),ceil:u=>o(Math.ceil(l(u)))})),t}function BT(){const e=p0(Zf()).domain([1,10]);return e.copy=()=>Uc(e,BT()).base(e.base()),ea.apply(e,arguments),e}function jw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function g0(e){var t=1,n=e(jw(t),Sw(t));return n.constant=function(r){return arguments.length?e(jw(t=+r),Sw(t)):t},Zi(n)}function $T(){var e=g0(Zf());return e.copy=function(){return Uc(e,$T()).constant(e.constant())},ea.apply(e,arguments)}function Aw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function n$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function r$(e){return e<0?-e*e:e*e}function y0(e){var t=e(Yn,Yn),n=1;function r(){return n===1?e(Yn,Yn):n===.5?e(n$,r$):e(Aw(n),Aw(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,r()):n},Zi(t)}function v0(){var e=y0(Zf());return e.copy=function(){return Uc(e,v0()).exponent(e.exponent())},ea.apply(e,arguments),e}function a$(){return v0.apply(null,arguments).exponent(.5)}function ww(e){return Math.sign(e)*e*e}function i$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LT(){var e=f0(),t=[0,1],n=!1,r;function l(o){var d=i$(e(o));return isNaN(d)?r:n?Math.round(d):d}return l.invert=function(o){return e.invert(ww(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,mf)).map(ww)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(n=!!o,l):n},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return LT(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ea.apply(l,arguments),Zi(l)}function UT(){var e=[],t=[],n=[],r;function l(){var d=0,u=Math.max(1,t.length);for(n=new Array(u-1);++d<u;)n[d-1]=c8(e,d/u);return o}function o(d){return d==null||isNaN(d=+d)?r:t[$c(n,d)]}return o.invertExtent=function(d){var u=t.indexOf(d);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let u of d)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(qi),l()},o.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},o.unknown=function(d){return arguments.length?(r=d,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return UT().domain(e).range(t).unknown(r)},ea.apply(o,arguments)}function FT(){var e=0,t=1,n=1,r=[.5],l=[0,1],o;function d(m){return m!=null&&m<=m?l[$c(r,m,0,n)]:o}function u(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return d}return d.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},d.range=function(m){return arguments.length?(n=(l=Array.from(m)).length-1,u()):l.slice()},d.invertExtent=function(m){var h=l.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},d.unknown=function(m){return arguments.length&&(o=m),d},d.thresholds=function(){return r.slice()},d.copy=function(){return FT().domain([e,t]).range(l).unknown(o)},ea.apply(Zi(d),arguments)}function GT(){var e=[.5],t=[0,1],n,r=1;function l(o){return o!=null&&o<=o?t[$c(e,o,0,r)]:n}return l.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var d=t.indexOf(o);return[e[d-1],e[d]]},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return GT().domain(e).range(t).unknown(n)},ea.apply(l,arguments)}const ay=new Date,iy=new Date;function Sn(e,t,n,r){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const d=l(o),u=l.ceil(o);return o-d<u-o?d:u},l.offset=(o,d)=>(t(o=new Date(+o),d==null?1:Math.floor(d)),o),l.range=(o,d,u)=>{const m=[];if(o=l.ceil(o),u=u==null?1:Math.floor(u),!(o<d)||!(u>0))return m;let h;do m.push(h=new Date(+o)),t(o,u),e(o);while(h<o&&o<d);return m},l.filter=o=>Sn(d=>{if(d>=d)for(;e(d),!o(d);)d.setTime(d-1)},(d,u)=>{if(d>=d)if(u<0)for(;++u<=0;)for(;t(d,-1),!o(d););else for(;--u>=0;)for(;t(d,1),!o(d););}),n&&(l.count=(o,d)=>(ay.setTime(+o),iy.setTime(+d),e(ay),e(iy),Math.floor(n(ay,iy))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(r?d=>r(d)%o===0:d=>l.count(0,d)%o===0):l)),l}const pf=Sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pf);pf.range;const Va=1e3,Kr=Va*60,Ya=Kr*60,ii=Ya*24,x0=ii*7,Ew=ii*30,sy=ii*365,ws=Sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCSeconds());ws.range;const b0=Sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());b0.range;const j0=Sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());j0.range;const S0=Sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getHours());S0.range;const A0=Sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCHours());A0.range;const Fc=Sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/ii,e=>e.getDate()-1);Fc.range;const Jf=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>e.getUTCDate()-1);Jf.range;const qT=Sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ii,e=>Math.floor(e/ii));qT.range;function Fs(e){return Sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/x0)}const em=Fs(0),gf=Fs(1),s$=Fs(2),l$=Fs(3),Gl=Fs(4),o$=Fs(5),c$=Fs(6);em.range;gf.range;s$.range;l$.range;Gl.range;o$.range;c$.range;function Gs(e){return Sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/x0)}const tm=Gs(0),yf=Gs(1),d$=Gs(2),u$=Gs(3),ql=Gs(4),f$=Gs(5),m$=Gs(6);tm.range;yf.range;d$.range;u$.range;ql.range;f$.range;m$.range;const w0=Sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());w0.range;const E0=Sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());E0.range;const si=Sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});si.range;const li=Sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});li.range;function WT(e,t,n,r,l,o){const d=[[ws,1,Va],[ws,5,5*Va],[ws,15,15*Va],[ws,30,30*Va],[o,1,Kr],[o,5,5*Kr],[o,15,15*Kr],[o,30,30*Kr],[l,1,Ya],[l,3,3*Ya],[l,6,6*Ya],[l,12,12*Ya],[r,1,ii],[r,2,2*ii],[n,1,x0],[t,1,Ew],[t,3,3*Ew],[e,1,sy]];function u(h,p,g){const b=p<h;b&&([h,p]=[p,h]);const y=g&&typeof g.range=="function"?g:m(h,p,g),S=y?y.range(h,+p+1):[];return b?S.reverse():S}function m(h,p,g){const b=Math.abs(p-h)/g,y=s0(([,,C])=>C).right(d,b);if(y===d.length)return e.every(rv(h/sy,p/sy,g));if(y===0)return pf.every(Math.max(rv(h,p,g),1));const[S,E]=d[b/d[y-1][2]<d[y][2]/b?y-1:y];return S.every(E)}return[u,m]}const[h$,p$]=WT(li,E0,tm,qT,A0,j0),[g$,y$]=WT(si,w0,em,Fc,S0,b0);function ly(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function v$(e){var t=e.dateTime,n=e.date,r=e.time,l=e.periods,o=e.days,d=e.shortDays,u=e.months,m=e.shortMonths,h=dc(l),p=uc(l),g=dc(o),b=uc(o),y=dc(d),S=uc(d),E=dc(u),C=uc(u),A=dc(m),O=uc(m),w={a:k,A:_,b:F,B:Y,c:null,d:Mw,e:Mw,f:U$,g:Q$,G:J$,H:B$,I:$$,j:L$,L:HT,m:F$,M:G$,p:U,q:L,Q:Pw,s:_w,S:q$,u:W$,U:H$,V:K$,w:V$,W:Y$,x:null,X:null,y:X$,Y:Z$,Z:e7,"%":zw},z={a:te,A:V,b:X,B:Q,c:null,d:Nw,e:Nw,f:a7,g:h7,G:g7,H:t7,I:n7,j:r7,L:VT,m:i7,M:s7,p:ae,q:pe,Q:Pw,s:_w,S:l7,u:o7,U:c7,V:d7,w:u7,W:f7,x:null,X:null,y:m7,Y:p7,Z:y7,"%":zw},T={a:B,A:R,b:q,B:W,c:K,d:kw,e:kw,f:P$,g:Ow,G:Tw,H:Dw,I:Dw,j:D$,L:z$,m:k$,M:M$,p:$,q:O$,Q:I$,s:R$,S:N$,u:A$,U:w$,V:E$,w:S$,W:C$,x:H,X:D,y:Ow,Y:Tw,Z:T$,"%":_$};w.x=M(n,w),w.X=M(r,w),w.c=M(t,w),z.x=M(n,z),z.X=M(r,z),z.c=M(t,z);function M(ee,xe){return function(ge){var de=[],Ee=-1,Z=0,ye=ee.length,De,ze,He;for(ge instanceof Date||(ge=new Date(+ge));++Ee<ye;)ee.charCodeAt(Ee)===37&&(de.push(ee.slice(Z,Ee)),(ze=Cw[De=ee.charAt(++Ee)])!=null?De=ee.charAt(++Ee):ze=De==="e"?" ":"0",(He=xe[De])&&(De=He(ge,ze)),de.push(De),Z=Ee+1);return de.push(ee.slice(Z,Ee)),de.join("")}}function N(ee,xe){return function(ge){var de=cc(1900,void 0,1),Ee=I(de,ee,ge+="",0),Z,ye;if(Ee!=ge.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(xe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Z=oy(cc(de.y,0,1)),ye=Z.getUTCDay(),Z=ye>4||ye===0?yf.ceil(Z):yf(Z),Z=Jf.offset(Z,(de.V-1)*7),de.y=Z.getUTCFullYear(),de.m=Z.getUTCMonth(),de.d=Z.getUTCDate()+(de.w+6)%7):(Z=ly(cc(de.y,0,1)),ye=Z.getDay(),Z=ye>4||ye===0?gf.ceil(Z):gf(Z),Z=Fc.offset(Z,(de.V-1)*7),de.y=Z.getFullYear(),de.m=Z.getMonth(),de.d=Z.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ye="Z"in de?oy(cc(de.y,0,1)).getUTCDay():ly(cc(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ye+5)%7:de.w+de.U*7-(ye+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,oy(de)):ly(de)}}function I(ee,xe,ge,de){for(var Ee=0,Z=xe.length,ye=ge.length,De,ze;Ee<Z;){if(de>=ye)return-1;if(De=xe.charCodeAt(Ee++),De===37){if(De=xe.charAt(Ee++),ze=T[De in Cw?xe.charAt(Ee++):De],!ze||(de=ze(ee,ge,de))<0)return-1}else if(De!=ge.charCodeAt(de++))return-1}return de}function $(ee,xe,ge){var de=h.exec(xe.slice(ge));return de?(ee.p=p.get(de[0].toLowerCase()),ge+de[0].length):-1}function B(ee,xe,ge){var de=y.exec(xe.slice(ge));return de?(ee.w=S.get(de[0].toLowerCase()),ge+de[0].length):-1}function R(ee,xe,ge){var de=g.exec(xe.slice(ge));return de?(ee.w=b.get(de[0].toLowerCase()),ge+de[0].length):-1}function q(ee,xe,ge){var de=A.exec(xe.slice(ge));return de?(ee.m=O.get(de[0].toLowerCase()),ge+de[0].length):-1}function W(ee,xe,ge){var de=E.exec(xe.slice(ge));return de?(ee.m=C.get(de[0].toLowerCase()),ge+de[0].length):-1}function K(ee,xe,ge){return I(ee,t,xe,ge)}function H(ee,xe,ge){return I(ee,n,xe,ge)}function D(ee,xe,ge){return I(ee,r,xe,ge)}function k(ee){return d[ee.getDay()]}function _(ee){return o[ee.getDay()]}function F(ee){return m[ee.getMonth()]}function Y(ee){return u[ee.getMonth()]}function U(ee){return l[+(ee.getHours()>=12)]}function L(ee){return 1+~~(ee.getMonth()/3)}function te(ee){return d[ee.getUTCDay()]}function V(ee){return o[ee.getUTCDay()]}function X(ee){return m[ee.getUTCMonth()]}function Q(ee){return u[ee.getUTCMonth()]}function ae(ee){return l[+(ee.getUTCHours()>=12)]}function pe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var xe=M(ee+="",w);return xe.toString=function(){return ee},xe},parse:function(ee){var xe=N(ee+="",!1);return xe.toString=function(){return ee},xe},utcFormat:function(ee){var xe=M(ee+="",z);return xe.toString=function(){return ee},xe},utcParse:function(ee){var xe=N(ee+="",!0);return xe.toString=function(){return ee},xe}}}var Cw={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,x$=/^%/,b$=/[\\^$*+?|[\]().{}]/g;function ut(e,t,n){var r=e<0?"-":"",l=(r?-e:e)+"",o=l.length;return r+(o<n?new Array(n-o+1).join(t)+l:l)}function j$(e){return e.replace(b$,"\\$&")}function dc(e){return new RegExp("^(?:"+e.map(j$).join("|")+")","i")}function uc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function S$(e,t,n){var r=kn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function A$(e,t,n){var r=kn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function w$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function E$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function C$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Tw(e,t,n){var r=kn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ow(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T$(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O$(e,t,n){var r=kn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function k$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kw(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function D$(e,t,n){var r=kn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Dw(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function M$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N$(e,t,n){var r=kn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function z$(e,t,n){var r=kn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P$(e,t,n){var r=kn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _$(e,t,n){var r=x$.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function I$(e,t,n){var r=kn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R$(e,t,n){var r=kn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Mw(e,t){return ut(e.getDate(),t,2)}function B$(e,t){return ut(e.getHours(),t,2)}function $$(e,t){return ut(e.getHours()%12||12,t,2)}function L$(e,t){return ut(1+Fc.count(si(e),e),t,3)}function HT(e,t){return ut(e.getMilliseconds(),t,3)}function U$(e,t){return HT(e,t)+"000"}function F$(e,t){return ut(e.getMonth()+1,t,2)}function G$(e,t){return ut(e.getMinutes(),t,2)}function q$(e,t){return ut(e.getSeconds(),t,2)}function W$(e){var t=e.getDay();return t===0?7:t}function H$(e,t){return ut(em.count(si(e)-1,e),t,2)}function KT(e){var t=e.getDay();return t>=4||t===0?Gl(e):Gl.ceil(e)}function K$(e,t){return e=KT(e),ut(Gl.count(si(e),e)+(si(e).getDay()===4),t,2)}function V$(e){return e.getDay()}function Y$(e,t){return ut(gf.count(si(e)-1,e),t,2)}function X$(e,t){return ut(e.getFullYear()%100,t,2)}function Q$(e,t){return e=KT(e),ut(e.getFullYear()%100,t,2)}function Z$(e,t){return ut(e.getFullYear()%1e4,t,4)}function J$(e,t){var n=e.getDay();return e=n>=4||n===0?Gl(e):Gl.ceil(e),ut(e.getFullYear()%1e4,t,4)}function e7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ut(t/60|0,"0",2)+ut(t%60,"0",2)}function Nw(e,t){return ut(e.getUTCDate(),t,2)}function t7(e,t){return ut(e.getUTCHours(),t,2)}function n7(e,t){return ut(e.getUTCHours()%12||12,t,2)}function r7(e,t){return ut(1+Jf.count(li(e),e),t,3)}function VT(e,t){return ut(e.getUTCMilliseconds(),t,3)}function a7(e,t){return VT(e,t)+"000"}function i7(e,t){return ut(e.getUTCMonth()+1,t,2)}function s7(e,t){return ut(e.getUTCMinutes(),t,2)}function l7(e,t){return ut(e.getUTCSeconds(),t,2)}function o7(e){var t=e.getUTCDay();return t===0?7:t}function c7(e,t){return ut(tm.count(li(e)-1,e),t,2)}function YT(e){var t=e.getUTCDay();return t>=4||t===0?ql(e):ql.ceil(e)}function d7(e,t){return e=YT(e),ut(ql.count(li(e),e)+(li(e).getUTCDay()===4),t,2)}function u7(e){return e.getUTCDay()}function f7(e,t){return ut(yf.count(li(e)-1,e),t,2)}function m7(e,t){return ut(e.getUTCFullYear()%100,t,2)}function h7(e,t){return e=YT(e),ut(e.getUTCFullYear()%100,t,2)}function p7(e,t){return ut(e.getUTCFullYear()%1e4,t,4)}function g7(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ql(e):ql.ceil(e),ut(e.getUTCFullYear()%1e4,t,4)}function y7(){return"+0000"}function zw(){return"%"}function Pw(e){return+e}function _w(e){return Math.floor(+e/1e3)}var Dl,XT,QT;v7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v7(e){return Dl=v$(e),XT=Dl.format,Dl.parse,QT=Dl.utcFormat,Dl.utcParse,Dl}function x7(e){return new Date(e)}function b7(e){return e instanceof Date?+e:+new Date(+e)}function C0(e,t,n,r,l,o,d,u,m,h){var p=f0(),g=p.invert,b=p.domain,y=h(".%L"),S=h(":%S"),E=h("%I:%M"),C=h("%I %p"),A=h("%a %d"),O=h("%b %d"),w=h("%B"),z=h("%Y");function T(M){return(m(M)<M?y:u(M)<M?S:d(M)<M?E:o(M)<M?C:r(M)<M?l(M)<M?A:O:n(M)<M?w:z)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?b(Array.from(M,b7)):b().map(x7)},p.ticks=function(M){var N=b();return e(N[0],N[N.length-1],M??10)},p.tickFormat=function(M,N){return N==null?T:h(N)},p.nice=function(M){var N=b();return(!M||typeof M.range!="function")&&(M=t(N[0],N[N.length-1],M??10)),M?b(RT(N,M)):p},p.copy=function(){return Uc(p,C0(e,t,n,r,l,o,d,u,m,h))},p}function j7(){return ea.apply(C0(g$,y$,si,w0,em,Fc,S0,b0,ws,XT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S7(){return ea.apply(C0(h$,p$,li,E0,tm,Jf,A0,j0,ws,QT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nm(){var e=0,t=1,n,r,l,o,d=Yn,u=!1,m;function h(g){return g==null||isNaN(g=+g)?m:d(l===0?.5:(g=(o(g)-n)*l,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),l=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(d=g,h):d};function p(g){return function(b){var y,S;return arguments.length?([y,S]=b,d=g(y,S),h):[d(0),d(1)]}}return h.range=p(Zl),h.rangeRound=p(u0),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return o=g,n=g(e),r=g(t),l=n===r?0:1/(r-n),h}}function Ji(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZT(){var e=Zi(nm()(Yn));return e.copy=function(){return Ji(e,ZT())},fi.apply(e,arguments)}function JT(){var e=p0(nm()).domain([1,10]);return e.copy=function(){return Ji(e,JT()).base(e.base())},fi.apply(e,arguments)}function eO(){var e=g0(nm());return e.copy=function(){return Ji(e,eO()).constant(e.constant())},fi.apply(e,arguments)}function T0(){var e=y0(nm());return e.copy=function(){return Ji(e,T0()).exponent(e.exponent())},fi.apply(e,arguments)}function A7(){return T0.apply(null,arguments).exponent(.5)}function tO(){var e=[],t=Yn;function n(r){if(r!=null&&!isNaN(r=+r))return t(($c(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let l of r)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(qi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,l)=>t(l/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(l,o)=>o8(e,o/r))},n.copy=function(){return tO(t).domain(e)},fi.apply(n,arguments)}function rm(){var e=0,t=.5,n=1,r=1,l,o,d,u,m,h=Yn,p,g=!1,b;function y(E){return isNaN(E=+E)?b:(E=.5+((E=+p(E))-o)*(r*E<r*o?u:m),h(g?Math.max(0,Math.min(1,E)):E))}y.domain=function(E){return arguments.length?([e,t,n]=E,l=p(e=+e),o=p(t=+t),d=p(n=+n),u=l===o?0:.5/(o-l),m=o===d?0:.5/(d-o),r=o<l?-1:1,y):[e,t,n]},y.clamp=function(E){return arguments.length?(g=!!E,y):g},y.interpolator=function(E){return arguments.length?(h=E,y):h};function S(E){return function(C){var A,O,w;return arguments.length?([A,O,w]=C,h=_8(E,[A,O,w]),y):[h(0),h(.5),h(1)]}}return y.range=S(Zl),y.rangeRound=S(u0),y.unknown=function(E){return arguments.length?(b=E,y):b},function(E){return p=E,l=E(e),o=E(t),d=E(n),u=l===o?0:.5/(o-l),m=o===d?0:.5/(d-o),r=o<l?-1:1,y}}function nO(){var e=Zi(rm()(Yn));return e.copy=function(){return Ji(e,nO())},fi.apply(e,arguments)}function rO(){var e=p0(rm()).domain([.1,1,10]);return e.copy=function(){return Ji(e,rO()).base(e.base())},fi.apply(e,arguments)}function aO(){var e=g0(rm());return e.copy=function(){return Ji(e,aO()).constant(e.constant())},fi.apply(e,arguments)}function O0(){var e=y0(rm());return e.copy=function(){return Ji(e,O0()).exponent(e.exponent())},fi.apply(e,arguments)}function w7(){return O0.apply(null,arguments).exponent(.5)}const hc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o0,scaleDiverging:nO,scaleDivergingLog:rO,scaleDivergingPow:O0,scaleDivergingSqrt:w7,scaleDivergingSymlog:aO,scaleIdentity:IT,scaleImplicit:av,scaleLinear:_T,scaleLog:BT,scaleOrdinal:l0,scalePoint:u8,scalePow:v0,scaleQuantile:UT,scaleQuantize:FT,scaleRadial:LT,scaleSequential:ZT,scaleSequentialLog:JT,scaleSequentialPow:T0,scaleSequentialQuantile:tO,scaleSequentialSqrt:A7,scaleSequentialSymlog:eO,scaleSqrt:a$,scaleSymlog:$T,scaleThreshold:GT,scaleTime:j7,scaleUtc:S7,tickFormat:PT},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,k0=ue([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gc=(e,t,n,r)=>r?k0(e):es(e);function Is(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(yn(t)&&yn(n))return!0}return!1}function Iw(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function iO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,l,o;if(yn(n))l=n;else if(typeof n=="function")return;if(yn(r))o=r;else if(typeof r=="function")return;var d=[l,o];if(Is(d))return d}}function E7(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Is(r))return Iw(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,d,u;if(l==="auto")t!=null&&(d=Math.min(...t));else if(Ie(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[0]))}catch{}else if(typeof l=="string"&&xA.test(l)){var m=xA.exec(l);if(m==null||t==null)d=void 0;else{var h=+m[1];d=t[0]-h}}else d=t?.[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Ie(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t?.[1]))}catch{}else if(typeof o=="string"&&bA.test(o)){var p=bA.exec(o);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t?.[1];var b=[d,u];if(Is(b))return t==null?b:Iw(b,t,n)}}}var Jl=1e9,C7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M0,Ht=!0,Qr="[DecimalError] ",ks=Qr+"Invalid argument: ",D0=Qr+"Exponent out of range: ",eo=Math.floor,Ss=Math.pow,T7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr,Tn=1e7,$t=7,sO=9007199254740991,vf=eo(sO/$t),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,l=e.d.length,t=0,n=r<l?r:l;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===l?0:r>l^o.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return ei(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return kt(ei(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return gn(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,l=r.precision,o=l+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(jr))throw Error(Qr+"NaN");if(n.s<1)throw Error(Qr+(n.s?"NaN":"-Infinity"));return n.eq(jr)?new r(0):(Ht=!1,t=ei(Oc(n,o),Oc(e,o),o),Ht=!0,kt(t,l))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cO(t,e):lO(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,l=r.precision;if(e=new r(e),!e.s)throw Error(Qr+"NaN");return n.s?(Ht=!1,t=ei(n,e,0,1).times(e),Ht=!0,n.minus(t)):kt(new r(n),l)};Pe.naturalExponential=Pe.exp=function(){return oO(this)};Pe.naturalLogarithm=Pe.ln=function(){return Oc(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lO(t,e):cO(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ks+e);if(t=gn(l)+1,r=l.d.length-1,n=r*$t+1,r=l.d[r],r){for(;r%10==0;r/=10)n--;for(r=l.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,l,o,d,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Qr+"NaN")}for(e=gn(u),Ht=!1,l=Math.sqrt(+u),l==0||l==1/0?(t=ga(u.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=eo((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(l.toString()),n=m.precision,l=d=n+3;;)if(o=r,r=o.plus(ei(u,o,d+2)).times(.5),ga(o.d).slice(0,d)===(t=ga(r.d)).slice(0,d)){if(t=t.slice(d-3,d+1),l==d&&t=="4999"){if(kt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;d+=4}return Ht=!0,kt(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,l,o,d,u,m,h,p=this,g=p.constructor,b=p.d,y=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,m=b.length,h=y.length,m<h&&(o=b,b=y,y=o,d=m,m=h,h=d),o=[],d=m+h,r=d;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,l=m+r;l>r;)u=o[l]+y[r]*b[l-r-1]+t,o[l--]=u%Tn|0,t=u/Tn|0;o[l]=(o[l]+t)%Tn|0}for(;!o[--d];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ht?kt(e,g.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ba(e,0,Jl),t===void 0?t=r.rounding:ba(t,0,8),kt(n,e+gn(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,l=r.constructor;return e===void 0?n=Rs(r,!0):(ba(e,0,Jl),t===void 0?t=l.rounding:ba(t,0,8),r=kt(new l(r),e+1,t),n=Rs(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,l=this,o=l.constructor;return e===void 0?Rs(l):(ba(e,0,Jl),t===void 0?t=o.rounding:ba(t,0,8),r=kt(new o(l),e+gn(l)+1,t),n=Rs(r.abs(),!1,e+gn(r)+1),l.isneg()&&!l.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return kt(new t(e),gn(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,l,o,d,u=this,m=u.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(jr);if(u=new m(u),!u.s){if(e.s<1)throw Error(Qr+"Infinity");return u}if(u.eq(jr))return u;if(r=m.precision,e.eq(jr))return kt(u,r);if(t=e.e,n=e.d.length-1,d=t>=n,o=u.s,d){if((n=p<0?-p:p)<=sO){for(l=new m(jr),t=Math.ceil(r/$t+4),Ht=!1;n%2&&(l=l.times(u),Bw(l.d,t)),n=eo(n/2),n!==0;)u=u.times(u),Bw(u.d,t);return Ht=!0,e.s<0?new m(jr).div(l):kt(l,r)}}else if(o<0)throw Error(Qr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Ht=!1,l=e.times(Oc(u,r+h)),Ht=!0,l=oO(l),l.s=o,l};Pe.toPrecision=function(e,t){var n,r,l=this,o=l.constructor;return e===void 0?(n=gn(l),r=Rs(l,n<=o.toExpNeg||n>=o.toExpPos)):(ba(e,1,Jl),t===void 0?t=o.rounding:ba(t,0,8),l=kt(new o(l),e,t),n=gn(l),r=Rs(l,e<=n||n<=o.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ba(e,1,Jl),t===void 0?t=r.rounding:ba(t,0,8)),kt(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return Rs(e,t<=n.toExpNeg||t>=n.toExpPos)};function lO(e,t){var n,r,l,o,d,u,m,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ht?kt(t,g):t;if(m=e.d,h=t.d,d=e.e,l=t.e,m=m.slice(),o=d-l,o){for(o<0?(r=m,o=-o,u=h.length):(r=h,l=d,u=m.length),d=Math.ceil(g/$t),u=d>u?d+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=m.length,o=h.length,u-o<0&&(o=u,r=h,h=m,m=r),n=0;o;)n=(m[--o]=m[o]+h[o]+n)/Tn|0,m[o]%=Tn;for(n&&(m.unshift(n),++l),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=l,Ht?kt(t,g):t}function ba(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ks+e)}function ga(e){var t,n,r,l=e.length-1,o="",d=e[0];if(l>0){for(o+=d,t=1;t<l;t++)r=e[t]+"",n=$t-r.length,n&&(o+=Ui(n)),o+=r;d=e[t],r=d+"",n=$t-r.length,n&&(o+=Ui(n))}else if(d===0)return"0";for(;d%10===0;)d/=10;return o+d}var ei=(function(){function e(r,l){var o,d=0,u=r.length;for(r=r.slice();u--;)o=r[u]*l+d,r[u]=o%Tn|0,d=o/Tn|0;return d&&r.unshift(d),r}function t(r,l,o,d){var u,m;if(o!=d)m=o>d?1:-1;else for(u=m=0;u<o;u++)if(r[u]!=l[u]){m=r[u]>l[u]?1:-1;break}return m}function n(r,l,o){for(var d=0;o--;)r[o]-=d,d=r[o]<l[o]?1:0,r[o]=d*Tn+r[o]-l[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,l,o,d){var u,m,h,p,g,b,y,S,E,C,A,O,w,z,T,M,N,I,$=r.constructor,B=r.s==l.s?1:-1,R=r.d,q=l.d;if(!r.s)return new $(r);if(!l.s)throw Error(Qr+"Division by zero");for(m=r.e-l.e,N=q.length,T=R.length,y=new $(B),S=y.d=[],h=0;q[h]==(R[h]||0);)++h;if(q[h]>(R[h]||0)&&--m,o==null?O=o=$.precision:d?O=o+(gn(r)-gn(l))+1:O=o,O<0)return new $(0);if(O=O/$t+2|0,h=0,N==1)for(p=0,q=q[0],O++;(h<T||p)&&O--;h++)w=p*Tn+(R[h]||0),S[h]=w/q|0,p=w%q|0;else{for(p=Tn/(q[0]+1)|0,p>1&&(q=e(q,p),R=e(R,p),N=q.length,T=R.length),z=N,E=R.slice(0,N),C=E.length;C<N;)E[C++]=0;I=q.slice(),I.unshift(0),M=q[0],q[1]>=Tn/2&&++M;do p=0,u=t(q,E,N,C),u<0?(A=E[0],N!=C&&(A=A*Tn+(E[1]||0)),p=A/M|0,p>1?(p>=Tn&&(p=Tn-1),g=e(q,p),b=g.length,C=E.length,u=t(g,E,b,C),u==1&&(p--,n(g,N<b?I:q,b))):(p==0&&(u=p=1),g=q.slice()),b=g.length,b<C&&g.unshift(0),n(E,g,C),u==-1&&(C=E.length,u=t(q,E,N,C),u<1&&(p++,n(E,N<C?I:q,C))),C=E.length):u===0&&(p++,E=[0]),S[h++]=p,u&&E[0]?E[C++]=R[z]||0:(E=[R[z]],C=1);while((z++<T||E[0]!==void 0)&&O--)}return S[0]||S.shift(),y.e=m,kt(y,d?o+gn(y)+1:o)}})();function oO(e,t){var n,r,l,o,d,u,m=0,h=0,p=e.constructor,g=p.precision;if(gn(e)>16)throw Error(D0+gn(e));if(!e.s)return new p(jr);for(Ht=!1,u=g,d=new p(.03125);e.abs().gte(.1);)e=e.times(d),h+=5;for(r=Math.log(Ss(2,h))/Math.LN10*2+5|0,u+=r,n=l=o=new p(jr),p.precision=u;;){if(l=kt(l.times(e),u),n=n.times(++m),d=o.plus(ei(l,n,u)),ga(d.d).slice(0,u)===ga(o.d).slice(0,u)){for(;h--;)o=kt(o.times(o),u);return p.precision=g,t==null?(Ht=!0,kt(o,g)):o}o=d}}function gn(e){for(var t=e.e*$t,n=e.d[0];n>=10;n/=10)t++;return t}function cy(e,t,n){if(t>e.LN10.sd())throw Ht=!0,n&&(e.precision=n),Error(Qr+"LN10 precision limit exceeded");return kt(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function Oc(e,t){var n,r,l,o,d,u,m,h,p,g=1,b=10,y=e,S=y.d,E=y.constructor,C=E.precision;if(y.s<1)throw Error(Qr+(y.s?"NaN":"-Infinity"));if(y.eq(jr))return new E(0);if(t==null?(Ht=!1,h=C):h=t,y.eq(10))return t==null&&(Ht=!0),cy(E,h);if(h+=b,E.precision=h,n=ga(S),r=n.charAt(0),o=gn(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=ga(y.d),r=n.charAt(0),g++;o=gn(y),r>1?(y=new E("0."+n),o++):y=new E(r+"."+n.slice(1))}else return m=cy(E,h+2,C).times(o+""),y=Oc(new E(r+"."+n.slice(1)),h-b).plus(m),E.precision=C,t==null?(Ht=!0,kt(y,C)):y;for(u=d=y=ei(y.minus(jr),y.plus(jr),h),p=kt(y.times(y),h),l=3;;){if(d=kt(d.times(p),h),m=u.plus(ei(d,new E(l),h)),ga(m.d).slice(0,h)===ga(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(cy(E,h+2,C).times(o+""))),u=ei(u,new E(g),h),E.precision=C,t==null?(Ht=!0,kt(u,C)):u;u=m,l+=2}}function Rw(e,t){var n,r,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(r,l),t){if(l-=r,n=n-r-1,e.e=eo(n/$t),e.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<l){for(r&&e.d.push(+t.slice(0,r)),l-=$t;r<l;)e.d.push(+t.slice(r,r+=$t));t=t.slice(r),r=$t-t.length}else r-=l;for(;r--;)t+="0";if(e.d.push(+t),Ht&&(e.e>vf||e.e<-vf))throw Error(D0+n)}else e.s=0,e.e=0,e.d=[0];return e}function kt(e,t,n){var r,l,o,d,u,m,h,p,g=e.d;for(d=1,o=g[0];o>=10;o/=10)d++;if(r=t-d,r<0)r+=$t,l=t,h=g[p=0];else{if(p=Math.ceil((r+1)/$t),o=g.length,p>=o)return e;for(h=o=g[p],d=1;o>=10;o/=10)d++;r%=$t,l=r-$t+d}if(n!==void 0&&(o=Ss(10,d-l-1),u=h/o%10|0,m=t<0||g[p+1]!==void 0||h%o,m=n<4?(u||m)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||m||n==6&&(r>0?l>0?h/Ss(10,d-l):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return m?(o=gn(e),g.length=1,t=t-o-1,g[0]=Ss(10,($t-t%$t)%$t),e.e=eo(-t/$t)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=Ss(10,$t-r),g[p]=l>0?(h/Ss(10,d-l)%Ss(10,l)|0)*o:0),m)for(;;)if(p==0){(g[0]+=o)==Tn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=Tn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Ht&&(e.e>vf||e.e<-vf))throw Error(D0+gn(e));return e}function cO(e,t){var n,r,l,o,d,u,m,h,p,g,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Ht?kt(t,y):t;if(m=e.d,g=t.d,r=t.e,h=e.e,m=m.slice(),d=h-r,d){for(p=d<0,p?(n=m,d=-d,u=g.length):(n=g,r=h,u=m.length),l=Math.max(Math.ceil(y/$t),u)+2,d>l&&(d=l,n.length=1),n.reverse(),l=d;l--;)n.push(0);n.reverse()}else{for(l=m.length,u=g.length,p=l<u,p&&(u=l),l=0;l<u;l++)if(m[l]!=g[l]){p=m[l]<g[l];break}d=0}for(p&&(n=m,m=g,g=n,t.s=-t.s),u=m.length,l=g.length-u;l>0;--l)m[u++]=0;for(l=g.length;l>d;){if(m[--l]<g[l]){for(o=l;o&&m[--o]===0;)m[o]=Tn-1;--m[o],m[l]+=Tn}m[l]-=g[l]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,Ht?kt(t,y):t):new b(0)}function Rs(e,t,n){var r,l=gn(e),o=ga(e.d),d=o.length;return t?(n&&(r=n-d)>0?o=o.charAt(0)+"."+o.slice(1)+Ui(r):d>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+Ui(-l-1)+o,n&&(r=n-d)>0&&(o+=Ui(r))):l>=d?(o+=Ui(l+1-d),n&&(r=n-l-1)>0&&(o=o+"."+Ui(r))):((r=l+1)<d&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-d)>0&&(l+1===d&&(o+="."),o+=Ui(r))),e.s<0?"-"+o:o}function Bw(e,t){if(e.length>t)return e.length=t,!0}function dO(e){var t,n,r;function l(o){var d=this;if(!(d instanceof l))return new l(o);if(d.constructor=l,o instanceof l){d.s=o.s,d.e=o.e,d.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ks+o);if(o>0)d.s=1;else if(o<0)o=-o,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(o===~~o&&o<1e7){d.e=0,d.d=[o];return}return Rw(d,o.toString())}else if(typeof o!="string")throw Error(ks+o);if(o.charCodeAt(0)===45?(o=o.slice(1),d.s=-1):d.s=1,T7.test(o))Rw(d,o);else throw Error(ks+o)}if(l.prototype=Pe,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=dO,l.config=l.set=O7,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return l.config(e),l}function O7(e){if(!e||typeof e!="object")throw Error(Qr+"Object expected");var t,n,r,l=["precision",1,Jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((r=e[n=l[t]])!==void 0)if(eo(r)===r&&r>=l[t+1]&&r<=l[t+2])this[n]=r;else throw Error(ks+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ks+n+": "+r);return this}var M0=dO(C7);jr=new M0(1);const yt=M0;var k7=e=>e,uO={},fO=e=>e===uO,$w=e=>function t(){return arguments.length===0||arguments.length===1&&fO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},mO=(e,t)=>e===1?t:$w(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var o=r.filter(d=>d!==uO).length;return o>=e?t(...r):mO(e-o,$w(function(){for(var d=arguments.length,u=new Array(d),m=0;m<d;m++)u[m]=arguments[m];var h=r.map(p=>fO(p)?u.shift():p);return t(...h,...u)}))}),am=e=>mO(e.length,e),ov=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},D7=am((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),M7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return k7;var l=n.reverse(),o=l[0],d=l.slice(1);return function(){return d.reduce((u,m)=>m(u),o(...arguments))}},cv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),hO=e=>{var t=null,n=null;return function(){for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t&&l.every((d,u)=>{var m;return d===((m=t)===null||m===void 0?void 0:m[u])})||(t=l,n=e(...l)),n}};function pO(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function gO(e,t,n){for(var r=new yt(e),l=0,o=[];r.lt(t)&&l<1e5;)o.push(r.toNumber()),r=r.add(n),l++;return o}am((e,t,n)=>{var r=+e,l=+t;return r+n*(l-r)});am((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});am((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var yO=e=>{var[t,n]=e,[r,l]=[t,n];return t>n&&([r,l]=[n,t]),[r,l]},vO=(e,t,n)=>{if(e.lte(0))return new yt(0);var r=pO(e.toNumber()),l=new yt(10).pow(r),o=e.div(l),d=r!==1?.05:.1,u=new yt(Math.ceil(o.div(d).toNumber())).add(n).mul(d),m=u.mul(l);return t?new yt(m.toNumber()):new yt(Math.ceil(m.toNumber()))},N7=(e,t,n)=>{var r=new yt(1),l=new yt(e);if(!l.isint()&&n){var o=Math.abs(e);o<1?(r=new yt(10).pow(pO(e)-1),l=new yt(Math.floor(l.div(r).toNumber())).mul(r)):o>1&&(l=new yt(Math.floor(e)))}else e===0?l=new yt(Math.floor((t-1)/2)):n||(l=new yt(Math.floor(e)));var d=Math.floor((t-1)/2),u=M7(D7(m=>l.add(new yt(m-d).mul(r)).toNumber()),ov);return u(0,t)},xO=function(t,n,r,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var d=vO(new yt(n).sub(t).div(r-1),l,o),u;t<=0&&n>=0?u=new yt(0):(u=new yt(t).add(n).div(2),u=u.sub(new yt(u).mod(d)));var m=Math.ceil(u.sub(t).div(d).toNumber()),h=Math.ceil(new yt(n).sub(u).div(d).toNumber()),p=m+h+1;return p>r?xO(t,n,r,l,o+1):(p<r&&(h=n>0?h+(r-p):h,m=n>0?m:m+(r-p)),{step:d,tickMin:u.sub(new yt(m).mul(d)),tickMax:u.add(new yt(h).mul(d))})};function z7(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[d,u]=yO([t,n]);if(d===-1/0||u===1/0){var m=u===1/0?[d,...ov(0,r-1).map(()=>1/0)]:[...ov(0,r-1).map(()=>-1/0),u];return t>n?cv(m):m}if(d===u)return N7(d,r,l);var{step:h,tickMin:p,tickMax:g}=xO(d,u,o,l,0),b=gO(p,g.add(new yt(.1).mul(h)),h);return t>n?cv(b):b}function P7(e,t){var[n,r]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,d]=yO([n,r]);if(o===-1/0||d===1/0)return[n,r];if(o===d)return[o];var u=Math.max(t,2),m=vO(new yt(d).sub(o).div(u-1),l,0),h=[...gO(new yt(o),new yt(d),m),d];return l===!1&&(h=h.map(p=>Math.round(p))),n>r?cv(h):h}var _7=hO(z7),I7=hO(P7),bO=e=>e.rootProps.maxBarSize,R7=e=>e.rootProps.barGap,jO=e=>e.rootProps.barCategoryGap,B7=e=>e.rootProps.barSize,qc=e=>e.rootProps.stackOffset,N0=e=>e.options.chartName,z0=e=>e.rootProps.syncId,SO=e=>e.rootProps.syncMethod,P0=e=>e.options.eventEmitter,Wa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},im=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},$7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wa.angleAxisId,includeHidden:!1,name:void 0,reversed:Wa.reversed,scale:Wa.scale,tick:Wa.tick,tickCount:void 0,ticks:void 0,type:Wa.type,unit:void 0},L7={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:xr.type,unit:void 0},U7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},F7={allowDataOverflow:xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:"category",unit:void 0},_0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?U7:$7,I0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?F7:L7,sm=e=>e.polarOptions,R0=ue([ci,di,bn],eT),AO=ue([sm,R0],(e,t)=>{if(e!=null)return Gn(e.innerRadius,t,0)}),wO=ue([sm,R0],(e,t)=>{if(e!=null)return Gn(e.outerRadius,t,t*.8)}),G7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},EO=ue([sm],G7);ue([_0,EO],im);var CO=ue([R0,AO,wO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ue([I0,CO],im);var TO=ue([rt,sm,AO,wO,ci,di],(e,t,n,r,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:d,cy:u,startAngle:m,endAngle:h}=t;return{cx:Gn(d,l,l/2),cy:Gn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:h,clockWise:!1}}}),Xt=(e,t)=>t,Wc=(e,t,n)=>n;function lm(e){return e?.id}var An=e=>{var t=rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},to=e=>e.tooltip.settings.axisId,wn=e=>{var t=An(e),n=to(e);return Hc(e,t,n)},OO=ue([wn],e=>e?.dataKey);function kO(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:l,dataKey:o}=n,d=new Map;return e.forEach(u=>{var m,h=(m=u.data)!==null&&m!==void 0?m:r;if(!(h==null||h.length===0)){var p=lm(u);h.forEach((g,b)=>{var y=o==null||l?b:String(Ct(g,o,null)),S=Ct(g,u.dataKey,0),E;d.has(y)?E=d.get(y):E={},Object.assign(E,{[p]:S}),d.set(y,E)})}}),Array.from(d.values())}function om(e){return e.stackId!=null&&e.dataKey!=null}var cm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function dm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dv=[0,"auto"],yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},DO=(e,t)=>e.cartesianAxis.xAxis[t],mi=(e,t)=>{var n=DO(e,t);return n??yr},vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rc},MO=(e,t)=>e.cartesianAxis.yAxis[t],hi=(e,t)=>{var n=MO(e,t);return n??vr},K7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B0=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??K7},en=(e,t,n)=>{switch(t){case"xAxis":return mi(e,n);case"yAxis":return hi(e,n);case"zAxis":return B0(e,n);case"angleAxis":return _0(e,n);case"radiusAxis":return I0(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},V7=(e,t,n)=>{switch(t){case"xAxis":return mi(e,n);case"yAxis":return hi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hc=(e,t,n)=>{switch(t){case"xAxis":return mi(e,n);case"yAxis":return hi(e,n);case"angleAxis":return _0(e,n);case"radiusAxis":return I0(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},NO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $0(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Kc=e=>e.graphicalItems.cartesianItems,Y7=ue([Xt,Wc],$0),L0=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Vc=ue([Kc,en,Y7],L0,{memoizeOptions:{resultEqualityCheck:dm}}),zO=ue([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(om)),PO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),X7=ue([Vc],PO),U0=e=>e.map(t=>t.data).filter(Boolean).flat(1),Q7=ue([Vc],U0,{memoizeOptions:{resultEqualityCheck:dm}}),F0=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:l}=t;return e.length>0?e:n.slice(r,l+1)},G0=ue([Q7,Gc],F0),q0=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Ct(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(l=>({value:Ct(l,r)}))):e.map(r=>({value:r})),um=ue([G0,en,Vc],q0);function _O(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bu(e){if(xa(e)||e instanceof Date){var t=Number(e);if(yn(t))return t}}function Uw(e){if(Array.isArray(e)){var t=[Bu(e[0]),Bu(e[1])];return Is(t)?t:void 0}var n=Bu(e);if(n!=null)return[n,n]}function no(e){return e.map(Bu).filter(hB)}function Z7(e,t,n){return!n||typeof t!="number"||Cr(t)?[]:n.length?no(n.flatMap(r=>{var l=Ct(e,r.dataKey),o,d;if(Array.isArray(l)?[o,d]=l:o=d=l,!(!yn(o)||!yn(d)))return[t-o,t+d]})):[]}var J7=ue([zO,Gc,wn],kO),IO=(e,t,n)=>{var r={},l=t.reduce((o,d)=>(d.stackId==null||(o[d.stackId]==null&&(o[d.stackId]=[]),o[d.stackId].push(d)),o),r);return Object.fromEntries(Object.entries(l).map(o=>{var[d,u]=o,m=u.map(lm);return[d,{stackedData:BI(e,m,n),graphicalItems:u}]}))},kc=ue([J7,zO,qc],IO),RO=(e,t,n,r)=>{var{dataStartIndex:l,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var d=FI(e,l,o);if(!(d!=null&&d[0]===0&&d[1]===0))return d}},e9=ue([en],e=>e.allowDataOverflow),W0=e=>{var t;if(e==null||!("domain"in e))return dv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=no(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:dv},H0=ue([en],W0),K0=ue([H0,e9],iO),t9=ue([kc,es,Xt,K0],RO,{memoizeOptions:{resultEqualityCheck:cm}}),fm=e=>e.errorBars,n9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>_O(n,r)),bf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var l=n.filter(Boolean);if(l.length!==0){var o=l.flat(),d=Math.min(...o),u=Math.max(...o);return[d,u]}},V0=(e,t,n,r,l)=>{var o,d;if(n.length>0&&e.forEach(u=>{n.forEach(m=>{var h,p,g=(h=r[m.id])===null||h===void 0?void 0:h.filter(A=>_O(l,A)),b=Ct(u,(p=t.dataKey)!==null&&p!==void 0?p:m.dataKey),y=Z7(u,b,g);if(y.length>=2){var S=Math.min(...y),E=Math.max(...y);(o==null||S<o)&&(o=S),(d==null||E>d)&&(d=E)}var C=Uw(b);C!=null&&(o=o==null?C[0]:Math.min(o,C[0]),d=d==null?C[1]:Math.max(d,C[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var m=Uw(Ct(u,t.dataKey));m!=null&&(o=o==null?m[0]:Math.min(o,m[0]),d=d==null?m[1]:Math.max(d,m[1]))}),yn(o)&&yn(d))return[o,d]},r9=ue([G0,en,X7,fm,Xt],V0,{memoizeOptions:{resultEqualityCheck:cm}});function a9(e){var{value:t}=e;if(xa(t)||t instanceof Date)return t}var i9=(e,t,n)=>{var r=e.map(a9).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&dC(r))?wT(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},BO=e=>e.referenceElements.dots,ro=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),s9=ue([BO,Xt,Wc],ro),$O=e=>e.referenceElements.areas,l9=ue([$O,Xt,Wc],ro),LO=e=>e.referenceElements.lines,o9=ue([LO,Xt,Wc],ro),UO=(e,t)=>{var n=no(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},c9=ue(s9,Xt,UO),FO=(e,t)=>{var n=no(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},d9=ue([l9,Xt],FO),GO=(e,t)=>{var n=no(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u9=ue(o9,Xt,GO),f9=ue(c9,u9,d9,(e,t,n)=>bf(e,n,t)),Y0=(e,t,n,r,l,o,d,u)=>{if(n!=null)return n;var m=d==="vertical"&&u==="xAxis"||d==="horizontal"&&u==="yAxis",h=m?bf(r,o,l):bf(o,l);return E7(t,h,e.allowDataOverflow)},m9=ue([en,H0,K0,t9,r9,f9,rt,Xt],Y0,{memoizeOptions:{resultEqualityCheck:cm}}),h9=[0,1],X0=(e,t,n,r,l,o,d)=>{if(!((e==null||n==null||n.length===0)&&d===void 0)){var{dataKey:u,type:m}=e,h=wa(t,o);return h&&u==null?wT(0,n.length):m==="category"?i9(r,e,h):l==="expand"?h9:d}},Q0=ue([en,rt,G0,um,qc,Xt,m9],X0),qO=(e,t,n,r,l)=>{if(e!=null){var{scale:o,type:d}=e;if(o==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":d==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":d==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(zc(o));return u in hc?u:"point"}}},ao=ue([en,rt,NO,N0,Xt],qO);function p9(e){if(e!=null){if(e in hc)return hc[e]();var t="scale".concat(zc(e));if(t in hc)return hc[t]()}}function Z0(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var l=p9(t);if(l!=null){var o=l.domain(n).range(r);return zI(o),o}}}var J0=(e,t,n)=>{var r=W0(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Is(e))return _7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Is(e))return I7(e,t.tickCount,t.allowDecimals)}},ex=ue([Q0,Hc,ao],J0),tx=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Is(t)&&Array.isArray(n)&&n.length>0){var l=t[0],o=n[0],d=t[1],u=n[n.length-1];return[Math.min(l,o),Math.max(d,u)]}return t},g9=ue([en,Q0,ex,Xt],tx),y9=ue(um,en,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(no(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var l=r[r.length-1]-r[0];if(l===0)return 1/0;for(var o=0;o<r.length-1;o++){var d=r[o+1]-r[o];n=Math.min(n,d)}return n/l}}),WO=ue(y9,rt,jO,bn,(e,t,n,r)=>r,(e,t,n,r,l)=>{if(!yn(e))return 0;var o=t==="vertical"?r.height:r.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var d=Gn(n,e*o),u=e*o/2;return u-d-(u-d)/o*d}return 0}),v9=(e,t)=>{var n=mi(e,t);return n==null||typeof n.padding!="string"?0:WO(e,"xAxis",t,n.padding)},x9=(e,t)=>{var n=hi(e,t);return n==null||typeof n.padding!="string"?0:WO(e,"yAxis",t,n.padding)},b9=ue(mi,v9,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((r=l.right)!==null&&r!==void 0?r:0)+t}}),j9=ue(hi,x9,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((r=l.bottom)!==null&&r!==void 0?r:0)+t}}),S9=ue([bn,b9,Yf,Vf,(e,t,n)=>n],(e,t,n,r,l)=>{var{padding:o}=r;return l?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),A9=ue([bn,rt,j9,Yf,Vf,(e,t,n)=>n],(e,t,n,r,l,o)=>{var{padding:d}=l;return o?[r.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yc=(e,t,n,r)=>{var l;switch(t){case"xAxis":return S9(e,n,r);case"yAxis":return A9(e,n,r);case"zAxis":return(l=B0(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return EO(e);case"radiusAxis":return CO(e,n);default:return}},HO=ue([en,Yc],im),io=ue([en,ao,g9,HO],Z0);ue([Vc,fm,Xt],n9);function KO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mm=(e,t)=>t,hm=(e,t,n)=>n,w9=ue(Hf,mm,hm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(KO)),E9=ue(Kf,mm,hm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(KO)),VO=(e,t)=>({width:e.width,height:t.height}),C9=(e,t)=>{var n=typeof t.width=="number"?t.width:Rc;return{width:n,height:e.height}},YO=ue(bn,mi,VO),T9=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},O9=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},k9=ue(di,bn,w9,mm,hm,(e,t,n,r,l)=>{var o={},d;return n.forEach(u=>{var m=VO(t,u);d==null&&(d=T9(t,r,e));var h=r==="top"&&!l||r==="bottom"&&l;o[u.id]=d-Number(h)*m.height,d+=(h?-1:1)*m.height}),o}),D9=ue(ci,bn,E9,mm,hm,(e,t,n,r,l)=>{var o={},d;return n.forEach(u=>{var m=C9(t,u);d==null&&(d=O9(t,r,e));var h=r==="left"&&!l||r==="right"&&l;o[u.id]=d-Number(h)*m.width,d+=(h?-1:1)*m.width}),o}),M9=(e,t)=>{var n=mi(e,t);if(n!=null)return k9(e,n.orientation,n.mirror)},N9=ue([bn,mi,M9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n?.[r];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),z9=(e,t)=>{var n=hi(e,t);if(n!=null)return D9(e,n.orientation,n.mirror)},P9=ue([bn,hi,z9,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n?.[r];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),XO=ue(bn,hi,(e,t)=>{var n=typeof t.width=="number"?t.width:Rc;return{width:n,height:e.height}}),Fw=(e,t,n)=>{switch(t){case"xAxis":return YO(e,n).width;case"yAxis":return XO(e,n).height;default:return}},QO=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:l,type:o,dataKey:d}=n,u=wa(e,r),m=t.map(h=>h.value);if(d&&u&&o==="category"&&l&&dC(m))return m}},nx=ue([rt,um,en,Xt],QO),ZO=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:o}=n,d=wa(e,r);if(d&&(l==="number"||o!=="auto"))return t.map(u=>u.value)}},rx=ue([rt,um,Hc,Xt],ZO),Gw=ue([rt,V7,ao,io,nx,rx,Yc,ex,Xt],(e,t,n,r,l,o,d,u,m)=>{if(t==null)return null;var h=wa(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:l,isCategorical:h,niceTicks:u,range:d,realScaleType:n,scale:r}}),_9=(e,t,n,r,l,o,d,u,m)=>{if(!(t==null||r==null)){var h=wa(e,m),{type:p,ticks:g,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/y:0;S=m==="angleAxis"&&o!=null&&o.length>=2?On(o[0]-o[1])*2*S:S;var E=g||l;if(E){var C=E.map((A,O)=>{var w=d?d.indexOf(A):A;return{index:O,coordinate:r(w)+S,value:A,offset:S}});return C.filter(A=>!Cr(A.coordinate))}return h&&u?u.map((A,O)=>({coordinate:r(A)+S,value:A,index:O,offset:S})):r.ticks?r.ticks(b).map(A=>({coordinate:r(A)+S,value:A,offset:S})):r.domain().map((A,O)=>({coordinate:r(A)+S,value:d?d[A]:A,index:O,offset:S}))}},JO=ue([rt,Hc,ao,io,ex,Yc,nx,rx,Xt],_9),I9=(e,t,n,r,l,o,d)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=wa(e,d),{tickCount:m}=t,h=0;return h=d==="angleAxis"&&r?.length>=2?On(r[0]-r[1])*2*h:h,u&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(m).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:l?l[p]:p,index:g,offset:h}))}},ja=ue([rt,Hc,io,Yc,nx,rx,Xt],I9),Sa=ue(en,io,(e,t)=>{if(!(e==null||t==null))return xf(xf({},e),{},{scale:t})}),R9=ue([en,ao,Q0,HO],Z0);ue((e,t,n)=>B0(e,n),R9,(e,t)=>{if(!(e==null||t==null))return xf(xf({},e),{},{scale:t})});var B9=ue([rt,Hf,Kf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ek=e=>e.options.defaultTooltipEventType,tk=e=>e.options.validateTooltipEventTypes;function nk(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function ax(e,t){var n=ek(e),r=tk(e);return nk(t,n,r)}function $9(e){return Re(t=>ax(t,e))}var rk=(e,t)=>{var n,r=Number(t);if(!(Cr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},L9=e=>e.tooltip.settings,Gi={active:!1,index:null,dataKey:void 0,coordinate:void 0},U9={itemInteraction:{click:Gi,hover:Gi},axisInteraction:{click:Gi,hover:Gi},keyboardInteraction:Gi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ak=Or({name:"tooltip",initialState:U9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Kn()},removeTooltipEntrySettings:{reducer(e,t){var n=Ja(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Kn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:F9,removeTooltipEntrySettings:G9,setTooltipSettingsState:q9,setActiveMouseOverItemIndex:ik,mouseLeaveItem:W9,mouseLeaveChart:sk,setActiveClickItemIndex:H9,setMouseOverAxisIndex:lk,setMouseClickAxisIndex:K9,setSyncInteraction:uv,setKeyboardInteraction:fv}=ak.actions,V9=ak.reducer;function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return(t=X9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function J9(e){return e.index!=null}var ok=(e,t,n,r)=>{if(t==null)return Gi;var l=Z9(e,t,n);if(l==null)return Gi;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(J9(l)){if(o)return Du(Du({},l),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Du(Du({},Gi),{},{coordinate:l.coordinate})},ix=(e,t)=>{var n=e?.index;if(n==null)return null;var r=Number(n);if(!yn(r))return n;var l=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(l,Math.min(r,o)))},ck=(e,t,n,r,l,o,d,u)=>{if(!(o==null||u==null)){var m=d[0],h=m==null?void 0:u(m.positions,o);if(h!=null)return h;var p=l?.[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},dk=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var d;return((d=o.settings)===null||d===void 0?void 0:d.dataKey)===l})},Xc=e=>e.options.tooltipPayloadSearcher,so=e=>e.tooltip;function Ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Hw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(n),!0).forEach(function(r){eL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eL(e,t,n){return(t=tL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rL(e,t){return e??t}var uk=(e,t,n,r,l,o,d)=>{if(!(t==null||o==null)){var{chartData:u,computedData:m,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((b,y)=>{var S,{dataDefinedOnItem:E,settings:C}=y,A=rL(E,u),O=Array.isArray(A)?tT(A,h,p):A,w=(S=C?.dataKey)!==null&&S!==void 0?S:r,z=C?.nameKey,T;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&d==="axis"?T=uC(O,r,l):T=o(O,t,m,z),Array.isArray(T))T.forEach(N=>{var I=Hw(Hw({},C),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});b.push(jA({tooltipEntrySettings:I,dataKey:N.dataKey,payload:N.payload,value:Ct(N.payload,N.dataKey),name:N.name}))});else{var M;b.push(jA({tooltipEntrySettings:C,dataKey:w,payload:T,value:Ct(T,w),name:(M=Ct(T,z))!==null&&M!==void 0?M:C?.name}))}return b},g)}},sx=ue([wn,rt,NO,N0,An],qO),aL=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iL=ue([An,to],$0),Qc=ue([aL,wn,iL],L0,{memoizeOptions:{resultEqualityCheck:dm}}),sL=ue([Qc],e=>e.filter(om)),lL=ue([Qc],U0,{memoizeOptions:{resultEqualityCheck:dm}}),lo=ue([lL,es],F0),oL=ue([sL,es,wn],kO),lx=ue([lo,wn,Qc],q0),fk=ue([wn],W0),cL=ue([wn],e=>e.allowDataOverflow),mk=ue([fk,cL],iO),dL=ue([Qc],e=>e.filter(om)),uL=ue([oL,dL,qc],IO),fL=ue([uL,es,An,mk],RO),mL=ue([Qc],PO),hL=ue([lo,wn,mL,fm,An],V0,{memoizeOptions:{resultEqualityCheck:cm}}),pL=ue([BO,An,to],ro),gL=ue([pL,An],UO),yL=ue([$O,An,to],ro),vL=ue([yL,An],FO),xL=ue([LO,An,to],ro),bL=ue([xL,An],GO),jL=ue([gL,bL,vL],bf),SL=ue([wn,fk,mk,fL,hL,jL,rt,An],Y0),hk=ue([wn,rt,lo,lx,qc,An,SL],X0),AL=ue([hk,wn,sx],J0),wL=ue([wn,hk,AL,An],tx),pk=e=>{var t=An(e),n=to(e),r=!1;return Yc(e,t,n,r)},gk=ue([wn,pk],im),yk=ue([wn,sx,wL,gk],Z0),EL=ue([rt,lx,wn,An],QO),CL=ue([rt,lx,wn,An],ZO),TL=(e,t,n,r,l,o,d,u)=>{if(t){var{type:m}=t,h=wa(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&l!=null&&l?.length>=2?On(l[0]-l[1])*2*g:g,h&&d?d.map((b,y)=>({coordinate:r(b)+g,value:b,index:y,offset:g})):r.domain().map((b,y)=>({coordinate:r(b)+g,value:o?o[b]:b,index:y,offset:g}))}}},pi=ue([rt,wn,sx,yk,pk,EL,CL,An],TL),ox=ue([ek,tk,L9],(e,t,n)=>nk(n.shared,e,t)),vk=e=>e.tooltip.settings.trigger,cx=e=>e.tooltip.settings.defaultIndex,pm=ue([so,ox,vk,cx],ok),Ki=ue([pm,lo],ix),xk=ue([pi,Ki],rk),bk=ue([pm],e=>{if(e)return e.dataKey}),jk=ue([so,ox,vk,cx],dk),OL=ue([ci,di,rt,bn,pi,cx,jk,Xc],ck),kL=ue([pm,OL],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),DL=ue([pm],e=>e.active),ML=ue([jk,Ki,es,OO,xk,Xc,ox],uk),NL=ue([ML],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(r){zL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zL(e,t,n){return(t=PL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PL(e){var t=_L(e,"string");return typeof t=="symbol"?t:t+""}function _L(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IL=()=>Re(wn),RL=()=>{var e=IL(),t=Re(pi),n=Re(yk);return _s(Vw(Vw({},e),{},{scale:n}),t)},Sk=()=>Re(N0),dx=(e,t)=>t,Ak=(e,t,n)=>n,ux=(e,t,n,r)=>r,BL=ue(pi,e=>Lf(e,t=>t.coordinate)),fx=ue([so,dx,Ak,ux],ok),wk=ue([fx,lo],ix),$L=(e,t,n)=>{if(t!=null){var r=so(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Ek=ue([so,dx,Ak,ux],dk),jf=ue([ci,di,rt,bn,pi,ux,Ek,Xc],ck),LL=ue([fx,jf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Ck=ue(pi,wk,rk),UL=ue([Ek,wk,es,OO,Ck,Xc,dx],uk),FL=ue([fx],e=>({isActive:e.active,activeIndex:e.index})),GL=(e,t,n,r,l,o,d,u)=>{if(!(!e||!t||!r||!l||!o)){var m=GI(e.chartX,e.chartY,t,n,u);if(m){var h=WI(m,t),p=MI(h,d,o,r,l),g=qI(t,o,p,m);return{activeIndex:String(p),activeCoordinate:g}}}};function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(r){qL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qL(e,t,n){return(t=WL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WL(e){var t=HL(e,"string");return typeof t=="symbol"?t:t+""}function HL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KL(e){var{coordinate:t,payload:n,index:r,offset:l,tooltipAxisBandSize:o,layout:d,cursor:u,tooltipEventType:m,chartName:h}=e,p=t,g=n,b=r;if(!u||!p||h!=="ScatterChart"&&m!=="axis")return null;var y,S;if(h==="ScatterChart")y=p,S=lB;else if(h==="BarChart")y=oB(d,p,l,o),S=bT;else if(d==="radial"){var{cx:E,cy:C,radius:A,startAngle:O,endAngle:w}=jT(p);y={cx:E,cy:C,startAngle:O,endAngle:w,innerRadius:A,outerRadius:A},S=AT}else y={points:WB(d,p,l)},S=_l;var z=typeof u=="object"&&"className"in u?u.className:void 0,T=Mu(Mu(Mu(Mu({stroke:"#ccc",pointerEvents:"none"},l),y),Ms(u)),{},{payload:g,payloadIndex:b,className:ot("recharts-tooltip-cursor",z)});return v.isValidElement(u)?v.cloneElement(u,T):v.createElement(S,T)}function VL(e){var t=RL(),n=uT(),r=Bc(),l=Sk();return v.createElement(KL,mv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:l}))}var Tk=v.createContext(null),YL=()=>v.useContext(Tk),dy={exports:{}},Xw;function XL(){return Xw||(Xw=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function l(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function o(m,h,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new l(p,g||m,b),S=n?n+h:h;return m._events[S]?m._events[S].fn?m._events[S]=[m._events[S],y]:m._events[S].push(y):(m._events[S]=y,m._eventsCount++),m}function d(m,h){--m._eventsCount===0?m._events=new r:delete m._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,S=new Array(y);b<y;b++)S[b]=g[b].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,b,y,S){var E=n?n+h:h;if(!this._events[E])return!1;var C=this._events[E],A=arguments.length,O,w;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),A){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,g),!0;case 4:return C.fn.call(C.context,p,g,b),!0;case 5:return C.fn.call(C.context,p,g,b,y),!0;case 6:return C.fn.call(C.context,p,g,b,y,S),!0}for(w=1,O=new Array(A-1);w<A;w++)O[w-1]=arguments[w];C.fn.apply(C.context,O)}else{var z=C.length,T;for(w=0;w<z;w++)switch(C[w].once&&this.removeListener(h,C[w].fn,void 0,!0),A){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,p);break;case 3:C[w].fn.call(C[w].context,p,g);break;case 4:C[w].fn.call(C[w].context,p,g,b);break;default:if(!O)for(T=1,O=new Array(A-1);T<A;T++)O[T-1]=arguments[T];C[w].fn.apply(C[w].context,O)}}return!0},u.prototype.on=function(h,p,g){return o(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return o(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,b){var y=n?n+h:h;if(!this._events[y])return this;if(!p)return d(this,y),this;var S=this._events[y];if(S.fn)S.fn===p&&(!b||S.once)&&(!g||S.context===g)&&d(this,y);else{for(var E=0,C=[],A=S.length;E<A;E++)(S[E].fn!==p||b&&!S[E].once||g&&S[E].context!==g)&&C.push(S[E]);C.length?this._events[y]=C.length===1?C[0]:C:d(this,y)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&d(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(dy)),dy.exports}var QL=XL();const ZL=oi(QL);var Dc=new ZL,hv="recharts.syncEvent.tooltip",Qw="recharts.syncEvent.brush";function gm(e,t){if(t){var n=Number.parseInt(t,10);if(!Cr(n))return e?.[n]}}var JL={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ok=Or({name:"options",initialState:JL,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eU=Ok.reducer,{createEventEmitter:tU}=Ok.actions;function nU(e){return e.tooltip.syncInteraction}var rU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},kk=Or({name:"chartData",initialState:rU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Zw,setDataStartEndIndexes:aU,setComputedData:XY}=kk.actions,iU=kk.reducer,sU=["x","y"];function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(n),!0).forEach(function(r){lU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lU(e,t,n){return(t=oU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e,t){if(e==null)return{};var n,r,l=uU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function uU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dk=()=>{};function fU(){var e=Re(z0),t=Re(P0),n=Yt(),r=Re(SO),l=Re(pi),o=Bc(),d=Xf(),u=Re(m=>m.rootProps.className);v.useEffect(()=>{if(e==null)return Dk;var m=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var b;if(d&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:S,y:E}=y,C=dU(y,sU),{x:A,y:O,width:w,height:z}=p.payload.sourceViewBox,T=Ml(Ml({},C),{},{x:d.x+(w?(S-A)/w:0)*d.width,y:d.y+(z?(E-O)/z:0)*d.height});n(Ml(Ml({},p),{},{payload:Ml(Ml({},p.payload),{},{coordinate:T})}))}else n(p);return}if(l!=null){var M;if(typeof r=="function"){var N={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},I=r(l,N);M=l[I]}else r==="value"&&(M=l.find(D=>String(D.value)===p.payload.label));var{coordinate:$}=p.payload;if(M==null||p.payload.active===!1||$==null||d==null){n(uv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:R}=$,q=Math.min(B,d.x+d.width),W=Math.min(R,d.y+d.height),K={x:o==="horizontal"?M.coordinate:q,y:o==="horizontal"?W:M.coordinate},H=uv({active:p.payload.active,coordinate:K,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(H)}}};return Dc.on(hv,m),()=>{Dc.off(hv,m)}},[u,n,t,e,r,l,o,d])}function mU(){var e=Re(z0),t=Re(P0),n=Yt();v.useEffect(()=>{if(e==null)return Dk;var r=(l,o,d)=>{t!==d&&e===l&&n(aU(o))};return Dc.on(Qw,r),()=>{Dc.off(Qw,r)}},[n,t,e])}function hU(){var e=Yt();v.useEffect(()=>{e(tU())},[e]),fU(),mU()}function pU(e,t,n,r,l,o){var d=Re(y=>$L(y,e,t)),u=Re(P0),m=Re(z0),h=Re(SO),p=Re(nU),g=p?.active,b=Xf();v.useEffect(()=>{if(!g&&m!=null&&u!=null){var y=uv({active:o,coordinate:n,dataKey:d,index:l,label:typeof r=="number"?String(r):r,sourceViewBox:b});Dc.emit(hv,m,y,u)}},[g,n,d,l,r,u,m,h,o,b])}function e5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function t5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(n),!0).forEach(function(r){gU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gU(e,t,n){return(t=yU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yU(e){var t=vU(e,"string");return typeof t=="symbol"?t:t+""}function vU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xU(e){return e.dataKey}function bU(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement($R,t)}var n5=[],jU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ui.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zt(e){var t=jn(e,jU),{active:n,allowEscapeViewBox:r,animationDuration:l,animationEasing:o,content:d,filterNull:u,isAnimationActive:m,offset:h,payloadUniqBy:p,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:S,cursor:E,shared:C,trigger:A,defaultIndex:O,portal:w,axisId:z}=t,T=Yt(),M=typeof O=="number"?String(O):O;v.useEffect(()=>{T(q9({shared:C,trigger:A,axisId:z,active:n,defaultIndex:M}))},[T,C,A,z,n,M]);var N=Xf(),I=pT(),$=$9(C),{activeIndex:B,isActive:R}=Re(X=>FL(X,$,A,M)),q=Re(X=>UL(X,$,A,M)),W=Re(X=>Ck(X,$,A,M)),K=Re(X=>LL(X,$,A,M)),H=q,D=YL(),k=n??R,[_,F]=TC([H,k]),Y=$==="axis"?W:void 0;pU($,A,K,Y,B,k);var U=w??D;if(U==null)return null;var L=H??n5;k||(L=n5),u&&L.length&&(L=SC(H.filter(X=>X.value!=null&&(X.hide!==!0||t.includeHidden)),p,xU));var te=L.length>0,V=v.createElement(HR,{allowEscapeViewBox:r,animationDuration:l,animationEasing:o,isAnimationActive:m,active:k,coordinate:K,hasPayload:te,offset:h,position:g,reverseDirection:b,useTranslate3d:y,viewBox:N,wrapperStyle:S,lastBoundingBox:_,innerRef:F,hasPortalFromProps:!!w},bU(d,t5(t5({},t),{},{payload:L,label:Y,active:k,coordinate:K,accessibilityLayer:I})));return v.createElement(v.Fragment,null,_E.createPortal(V,U),k&&v.createElement(VL,{cursor:E,tooltipEventType:$,coordinate:K,payload:H,index:B}))}var gi=e=>null;gi.displayName="Cell";function SU(e,t,n){return(t=AU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AU(e){var t=wU(e,"string");return typeof t=="symbol"?t:t+""}function wU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EU{constructor(t){SU(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function r5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function CU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(n),!0).forEach(function(r){TU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TU(e,t,n){return(t=OU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DU={cacheSize:2e3,enableCache:!0},Mk=CU({},DU),a5=new EU(Mk.cacheSize),MU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i5="recharts_measurement_span";function NU(e,t){var n=t.fontSize||"",r=t.fontFamily||"",l=t.fontWeight||"",o=t.fontStyle||"",d=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(l,"|").concat(o,"|").concat(d,"|").concat(u)}var s5=(e,t)=>{try{var n=document.getElementById(i5);n||(n=document.createElement("span"),n.setAttribute("id",i5),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,MU,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ui.isSsr)return{width:0,height:0};if(!Mk.enableCache)return s5(t,n);var r=NU(t,n),l=a5.get(r);if(l)return l;var o=s5(t,n);return a5.set(r,o),o},l5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_U=Object.keys(Nk),Nl="NaN";function IU(e,t){return e*Nk[t]}class sr{static parse(t){var n,[,r,l]=(n=PU.exec(t))!==null&&n!==void 0?n:[];return new sr(parseFloat(r),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Cr(t)&&(this.unit=""),n!==""&&!zU.test(n)&&(this.num=NaN,this.unit=""),_U.includes(n)&&(this.num=IU(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new sr(NaN,""):new sr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new sr(NaN,""):new sr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new sr(NaN,""):new sr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new sr(NaN,""):new sr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cr(this.num)}}function zk(e){if(e.includes(Nl))return Nl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,l,o]=(n=l5.exec(t))!==null&&n!==void 0?n:[],d=sr.parse(r??""),u=sr.parse(o??""),m=l==="*"?d.multiply(u):d.divide(u);if(m.isNaN())return Nl;t=t.replace(l5,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,b]=(h=o5.exec(t))!==null&&h!==void 0?h:[],y=sr.parse(p??""),S=sr.parse(b??""),E=g==="+"?y.add(S):y.subtract(S);if(E.isNaN())return Nl;t=t.replace(o5,E.toString())}return t}var c5=/\(([^()]*)\)/;function RU(e){for(var t=e,n;(n=c5.exec(t))!=null;){var[,r]=n;t=t.replace(c5,zk(r))}return t}function BU(e){var t=e.replace(/\s+/g,"");return t=RU(t),t=zk(t),t}function $U(e){try{return BU(e)}catch{return Nl}}function uy(e){var t=$U(e.slice(5,-1));return t===Nl?"":t}var LU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UU=["dx","dy","angle","className","breakAll"];function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(null,arguments)}function d5(e,t){if(e==null)return{};var n,r,l=FU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function FU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pk=/[ \f\n\r\t\v\u2028\u2029]+/,_k=e=>{var{children:t,breakAll:n,style:r}=e;try{var l=[];Lt(t)||(n?l=t.toString().split(""):l=t.toString().split(Pk));var o=l.map(u=>({word:u,width:pc(u,r).width})),d=n?0:pc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:d}}catch{return null}},GU=(e,t,n,r,l)=>{var{maxLines:o,children:d,style:u,breakAll:m}=e,h=Ie(o),p=d,g=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((q,W)=>{var{word:K,width:H}=W,D=q[q.length-1];if(D&&(r==null||l||D.width+H+n<Number(r)))D.words.push(K),D.width+=H+n;else{var k={words:[K],width:H};q.push(k)}return q},[])},b=g(t),y=B=>B.reduce((R,q)=>R.width>q.width?R:q);if(!h||l)return b;var S=b.length>o||y(b).width>Number(r);if(!S)return b;for(var E="",C=B=>{var R=p.slice(0,B),q=_k({breakAll:m,style:u,children:R+E}).wordsWithComputedWidth,W=g(q),K=W.length>o||y(W).width>Number(r);return[K,W]},A=0,O=p.length-1,w=0,z;A<=O&&w<=p.length-1;){var T=Math.floor((A+O)/2),M=T-1,[N,I]=C(M),[$]=C(T);if(!N&&!$&&(A=T+1),N&&$&&(O=T-1),!N&&$){z=I;break}w++}return z||b},u5=e=>{var t=Lt(e)?[]:e.toString().split(Pk);return[{words:t}]},qU=e=>{var{width:t,scaleToFit:n,children:r,style:l,breakAll:o,maxLines:d}=e;if((t||n)&&!ui.isSsr){var u,m,h=_k({breakAll:o,children:r,style:l});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,m=g}else return u5(r);return GU({breakAll:o,children:r,maxLines:d,style:l},u,m,t,n)}return u5(r)},f5="#808080",ym=v.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:l="1em",capHeight:o="0.71em",scaleToFit:d=!1,textAnchor:u="start",verticalAnchor:m="end",fill:h=f5}=e,p=d5(e,LU),g=v.useMemo(()=>qU({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:y,angle:S,className:E,breakAll:C}=p,A=d5(p,UU);if(!xa(n)||!xa(r)||g.length===0)return null;var O=n+(Ie(b)?b:0),w=r+(Ie(y)?y:0),z;switch(m){case"start":z=uy("calc(".concat(o,")"));break;case"middle":z=uy("calc(".concat((g.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:z=uy("calc(".concat(g.length-1," * -").concat(l,")"));break}var T=[];if(d){var M=g[0].width,{width:N}=p;T.push("scale(".concat(Ie(N)?N/M:1,")"))}return S&&T.push("rotate(".concat(S,", ").concat(O,", ").concat(w,")")),T.length&&(A.transform=T.join(" ")),v.createElement("text",pv({},Qn(A),{ref:t,x:O,y:w,className:ot("recharts-text",E),textAnchor:u,fill:h.includes("url")?f5:h}),g.map((I,$)=>{var B=I.words.join(C?"":" ");return v.createElement("tspan",{x:O,dy:$===0?z:l,key:"".concat(B,"-").concat($)},B)}))});ym.displayName="Text";var WU=["labelRef"];function HU(e,t){if(e==null)return{};var n,r,l=KU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function KU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function m5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(n),!0).forEach(function(r){VU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VU(e,t,n){return(t=YU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ha.apply(null,arguments)}var Ik=v.createContext(null),QU=e=>{var{x:t,y:n,width:r,height:l,children:o}=e,d=v.useMemo(()=>({x:t,y:n,width:r,height:l}),[t,n,r,l]);return v.createElement(Ik.Provider,{value:d},o)},Rk=()=>{var e=v.useContext(Ik),t=Xf();return e||t},ZU=v.createContext(null),JU=()=>{var e=v.useContext(ZU),t=Re(TO);return e||t},eF=e=>{var{value:t,formatter:n}=e,r=Lt(e.children)?t:e.children;return typeof n=="function"?n(r):r},mx=e=>e!=null&&typeof e=="function",tF=(e,t)=>{var n=On(t-e),r=Math.min(Math.abs(t-e),360);return n*r},nF=(e,t,n,r,l)=>{var{offset:o,className:d}=e,{cx:u,cy:m,innerRadius:h,outerRadius:p,startAngle:g,endAngle:b,clockWise:y}=l,S=(h+p)/2,E=tF(g,b),C=E>=0?1:-1,A,O;switch(t){case"insideStart":A=g+C*o,O=y;break;case"insideEnd":A=b-C*o,O=!y;break;case"end":A=b+C*o,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=E<=0?O:!O;var w=pn(u,m,S,A),z=pn(u,m,S,A+(O?1:-1)*359),T="M".concat(w.x,",").concat(w.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(z.x,",").concat(z.y),M=Lt(e.id)?xc("recharts-radial-line-"):e.id;return v.createElement("text",Ha({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",d)}),v.createElement("defs",null,v.createElement("path",{id:M,d:T})),v.createElement("textPath",{xlinkHref:"#".concat(M)},n))},rF=(e,t,n)=>{var{cx:r,cy:l,innerRadius:o,outerRadius:d,startAngle:u,endAngle:m}=e,h=(u+m)/2;if(n==="outside"){var{x:p,y:g}=pn(r,l,d+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(o+d)/2,{x:y,y:S}=pn(r,l,b,h);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Bk=e=>"cx"in e&&Ie(e.cx),aF=(e,t)=>{var{parentViewBox:n,offset:r,position:l}=e,o;n!=null&&!Bk(n)&&(o=n);var{x:d,y:u,width:m,height:h}=t,p=h>=0?1:-1,g=p*r,b=p>0?"end":"start",y=p>0?"start":"end",S=m>=0?1:-1,E=S*r,C=S>0?"end":"start",A=S>0?"start":"end";if(l==="top"){var O={x:d+m/2,y:u-p*r,textAnchor:"middle",verticalAnchor:b};return dn(dn({},O),o?{height:Math.max(u-o.y,0),width:m}:{})}if(l==="bottom"){var w={x:d+m/2,y:u+h+g,textAnchor:"middle",verticalAnchor:y};return dn(dn({},w),o?{height:Math.max(o.y+o.height-(u+h),0),width:m}:{})}if(l==="left"){var z={x:d-E,y:u+h/2,textAnchor:C,verticalAnchor:"middle"};return dn(dn({},z),o?{width:Math.max(z.x-o.x,0),height:h}:{})}if(l==="right"){var T={x:d+m+E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"};return dn(dn({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:h}:{})}var M=o?{width:m,height:h}:{};return l==="insideLeft"?dn({x:d+E,y:u+h/2,textAnchor:A,verticalAnchor:"middle"},M):l==="insideRight"?dn({x:d+m-E,y:u+h/2,textAnchor:C,verticalAnchor:"middle"},M):l==="insideTop"?dn({x:d+m/2,y:u+g,textAnchor:"middle",verticalAnchor:y},M):l==="insideBottom"?dn({x:d+m/2,y:u+h-g,textAnchor:"middle",verticalAnchor:b},M):l==="insideTopLeft"?dn({x:d+E,y:u+g,textAnchor:A,verticalAnchor:y},M):l==="insideTopRight"?dn({x:d+m-E,y:u+g,textAnchor:C,verticalAnchor:y},M):l==="insideBottomLeft"?dn({x:d+E,y:u+h-g,textAnchor:A,verticalAnchor:b},M):l==="insideBottomRight"?dn({x:d+m-E,y:u+h-g,textAnchor:C,verticalAnchor:b},M):l&&typeof l=="object"&&(Ie(l.x)||ri(l.x))&&(Ie(l.y)||ri(l.y))?dn({x:d+Gn(l.x,m),y:u+Gn(l.y,h),textAnchor:"end",verticalAnchor:"end"},M):dn({x:d+m/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},M)},iF={offset:5};function Fi(e){var t=jn(e,iF),{viewBox:n,position:r,value:l,children:o,content:d,className:u="",textBreakAll:m,labelRef:h}=t,p=JU(),g=Rk(),b=r==="center"?g:p??g,y=n||b;if(!y||Lt(l)&&Lt(o)&&!v.isValidElement(d)&&typeof d!="function")return null;var S=dn(dn({},t),{},{viewBox:y});if(v.isValidElement(d)){var{labelRef:E}=S,C=HU(S,WU);return v.cloneElement(d,C)}var A;if(typeof d=="function"){if(A=v.createElement(d,S),v.isValidElement(A))return A}else A=eF(t);var O=Bk(y),w=Qn(t);if(O&&(r==="insideStart"||r==="insideEnd"||r==="end"))return nF(t,r,A,w,y);var z=O?rF(y,t.offset,t.position):aF(t,y);return v.createElement(ym,Ha({ref:h,className:ot("recharts-label",u)},w,z,{breakAll:m}),A)}Fi.displayName="Label";var sF=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Fi,Ha({key:"label-implicit"},r)):xa(e)?v.createElement(Fi,Ha({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Fi?v.cloneElement(e,dn({key:"label-implicit"},r)):v.createElement(Fi,Ha({key:"label-implicit",content:e},r)):mx(e)?v.createElement(Fi,Ha({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Fi,Ha({},e,{key:"label-implicit"},r)):null};function lF(e){var{label:t,labelRef:n}=e,r=Rk();return sF(t,r,n)||null}var fy={},my={},h5;function oF(){return h5||(h5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(my)),my}var hy={},p5;function cF(){return p5||(p5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(hy)),hy}var g5;function dF(){return g5||(g5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oF(),n=cF(),r=Vv();function l(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=l})(fy)),fy}var py,y5;function uF(){return y5||(y5=1,py=dF().last),py}var fF=uF();const mF=oi(fF);var hF=["valueAccessor"],pF=["dataKey","clockWise","id","textBreakAll"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(null,arguments)}function v5(e,t){if(e==null)return{};var n,r,l=gF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function gF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yF=e=>Array.isArray(e.value)?mF(e.value):e.value,$k=v.createContext(void 0),hx=$k.Provider,Lk=v.createContext(void 0),vF=Lk.Provider;function xF(){return v.useContext($k)}function bF(){return v.useContext(Lk)}function $u(e){var{valueAccessor:t=yF}=e,n=v5(e,hF),{dataKey:r,clockWise:l,id:o,textBreakAll:d}=n,u=v5(n,pF),m=xF(),h=bF(),p=m||h;return!p||!p.length?null:v.createElement(ln,{className:"recharts-label-list"},p.map((g,b)=>{var y,S=Lt(r)?t(g,b):Ct(g&&g.payload,r),E=Lt(o)?{}:{id:"".concat(o,"-").concat(b)};return v.createElement(Fi,Sf({key:"label-".concat(b)},Qn(g),u,E,{fill:(y=n.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:d,viewBox:g.viewBox,index:b}))}))}$u.displayName="LabelList";function vm(e){var{label:t}=e;return t?t===!0?v.createElement($u,{key:"labelList-implicit"}):v.isValidElement(t)||mx(t)?v.createElement($u,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement($u,Sf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(null,arguments)}var px=e=>{var{cx:t,cy:n,r,className:l}=e,o=ot("recharts-dot",l);return t===+t&&n===+n&&r===+r?v.createElement("circle",gv({},Xn(e),Wv(e),{className:o,cx:t,cy:n,r})):null},Uk=e=>e.graphicalItems.polarItems,jF=ue([Xt,Wc],$0),xm=ue([Uk,en,jF],L0),SF=ue([xm],U0),bm=ue([SF,k0],F0),AF=ue([bm,en,xm],q0);ue([bm,en,xm],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(l=>{var o,d=Ct(r,(o=t.dataKey)!==null&&o!==void 0?o:l.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Ct(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var x5=()=>{},wF=ue([bm,en,xm,fm,Xt],V0),EF=ue([en,H0,K0,x5,wF,x5,rt,Xt],Y0),Fk=ue([en,rt,bm,AF,qc,Xt,EF],X0),CF=ue([Fk,en,ao],J0);ue([en,Fk,CF,Xt],tx);var TF={radiusAxis:{},angleAxis:{}},Gk=Or({name:"polarAxis",initialState:TF,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:QY,removeRadiusAxis:ZY,addAngleAxis:JY,removeAngleAxis:eX}=Gk.actions,OF=Gk.reducer;function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function j5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){kF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kF(e,t,n){return(t=DF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DF(e){var t=MF(e,"string");return typeof t=="symbol"?t:t+""}function MF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NF=(e,t)=>t,gx=ue([Uk,NF],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),zF=[],yx=(e,t,n)=>n?.length===0?zF:n,qk=ue([k0,gx,yx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=r,(!l||!l.length)&&n!=null&&(l=n.map(o=>j5(j5({},t.presentationProps),o.props))),l!=null)return l}}),PF=ue([qk,gx,yx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,l)=>{var o,d=Ct(r,t.nameKey,t.name),u;return n!=null&&(o=n[l])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[l].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Qi(d,t.dataKey),color:u,payload:r,type:t.legendType}})}),_F=ue([qk,gx,yx,bn],(e,t,n,r)=>{if(!(t==null||e==null))return _G({offset:r,pieSettings:t,displayedData:e,cells:n})}),gy={exports:{}},wt={};var S5;function IF(){if(S5)return wt;S5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var C=E.$$typeof;switch(C){case e:switch(E=E.type,E){case n:case l:case r:case m:case h:case b:return E;default:switch(E=E&&E.$$typeof,E){case d:case u:case g:case p:return E;case o:return E;default:return C}}case t:return C}}}return wt.ContextConsumer=o,wt.ContextProvider=d,wt.Element=e,wt.ForwardRef=u,wt.Fragment=n,wt.Lazy=g,wt.Memo=p,wt.Portal=t,wt.Profiler=l,wt.StrictMode=r,wt.Suspense=m,wt.SuspenseList=h,wt.isContextConsumer=function(E){return S(E)===o},wt.isContextProvider=function(E){return S(E)===d},wt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},wt.isForwardRef=function(E){return S(E)===u},wt.isFragment=function(E){return S(E)===n},wt.isLazy=function(E){return S(E)===g},wt.isMemo=function(E){return S(E)===p},wt.isPortal=function(E){return S(E)===t},wt.isProfiler=function(E){return S(E)===l},wt.isStrictMode=function(E){return S(E)===r},wt.isSuspense=function(E){return S(E)===m},wt.isSuspenseList=function(E){return S(E)===h},wt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===l||E===r||E===m||E===h||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===p||E.$$typeof===d||E.$$typeof===o||E.$$typeof===u||E.$$typeof===y||E.getModuleId!==void 0)},wt.typeOf=S,wt}var A5;function RF(){return A5||(A5=1,gy.exports=IF()),gy.exports}var BF=RF(),w5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",E5=null,yy=null,Wk=e=>{if(e===E5&&Array.isArray(yy))return yy;var t=[];return v.Children.forEach(e,n=>{Lt(n)||(BF.isFragment(n)?t=t.concat(Wk(n.props.children)):t.push(n))}),yy=t,E5=e,t};function vx(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(l=>w5(l)):r=[w5(t)],Wk(e).forEach(l=>{var o=Ns(l,"type.displayName")||Ns(l,"type.name");r.indexOf(o)!==-1&&n.push(l)}),n}var jm=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,vy={},C5;function $F(){return C5||(C5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(vy)),vy}var xy,T5;function LF(){return T5||(T5=1,xy=$F().isPlainObject),xy}var UF=LF();const FF=oi(UF);function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function k5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(r){GF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GF(e,t,n){return(t=qF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qF(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(null,arguments)}var D5=(e,t,n,r,l)=>{var o=n-r,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+n,",").concat(t),d+="L ".concat(e+n-o/2,",").concat(t+l),d+="L ".concat(e+n-o/2-r,",").concat(t+l),d+="L ".concat(e,",").concat(t," Z"),d},HF={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KF=e=>{var t=jn(e,HF),{x:n,y:r,upperWidth:l,lowerWidth:o,height:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,b=v.useRef(null),[y,S]=v.useState(-1),E=v.useRef(l),C=v.useRef(o),A=v.useRef(d),O=v.useRef(n),w=v.useRef(r),z=Ql(e,"trapezoid-");if(v.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var K=b.current.getTotalLength();K&&S(K)}catch{}},[]),n!==+n||r!==+r||l!==+l||o!==+o||d!==+d||l===0&&o===0||d===0)return null;var T=ot("recharts-trapezoid",u);if(!g)return v.createElement("g",null,v.createElement("path",Af({},Qn(t),{className:T,d:D5(n,r,l,o,d)})));var M=E.current,N=C.current,I=A.current,$=O.current,B=w.current,R="0px ".concat(y===-1?1:y,"px"),q="".concat(y,"px 0px"),W=gT(["strokeDasharray"],h,m);return v.createElement(Xl,{animationId:z,key:z,canBegin:y>0,duration:h,easing:m,isActive:g,begin:p},K=>{var H=Et(M,l,K),D=Et(N,o,K),k=Et(I,d,K),_=Et($,n,K),F=Et(B,r,K);b.current&&(E.current=H,C.current=D,A.current=k,O.current=_,w.current=F);var Y=K>0?{transition:W,strokeDasharray:q}:{strokeDasharray:R};return v.createElement("path",Af({},Qn(t),{className:T,d:D5(_,F,H,D,k),ref:b,style:k5(k5({},Y),t.style)}))})},VF=["option","shapeType","propTransformer","activeClassName","isActive"];function YF(e,t){if(e==null)return{};var n,r,l=XF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function XF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(r){QF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QF(e,t,n){return(t=ZF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZF(e){var t=JF(e,"string");return typeof t=="symbol"?t:t+""}function JF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eG(e,t){return wf(wf({},t),e)}function tG(e,t){return e==="symbols"}function N5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(bT,n);case"trapezoid":return v.createElement(KF,n);case"sector":return v.createElement(AT,n);case"symbols":if(tG(t))return v.createElement(qv,n);break;default:return null}}function nG(e){return v.isValidElement(e)?e.props:e}function Hk(e){var{option:t,shapeType:n,propTransformer:r=eG,activeClassName:l="recharts-active-shape",isActive:o}=e,d=YF(e,VF),u;if(v.isValidElement(t))u=v.cloneElement(t,wf(wf({},d),nG(t)));else if(typeof t=="function")u=t(d);else if(FF(t)&&typeof t!="boolean"){var m=r(t,d);u=v.createElement(N5,{shapeType:n,elementProps:m})}else{var h=d;u=v.createElement(N5,{shapeType:n,elementProps:h})}return o?v.createElement(ln,{className:l},u):u}var xx=(e,t)=>{var n=Yt();return(r,l)=>o=>{e?.(r,l,o),n(ik({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},bx=e=>{var t=Yt();return(n,r)=>l=>{e?.(n,r,l),t(W9())}},jx=(e,t)=>{var n=Yt();return(r,l)=>o=>{e?.(r,l,o),n(H9({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Sm(e){var{fn:t,args:n}=e,r=Yt(),l=$n();return v.useLayoutEffect(()=>{if(!l){var o=t(n);return r(F9(o)),()=>{r(G9(o))}}},[t,n,r,l]),null}var Kk=()=>{};function Sx(e){var{legendPayload:t}=e,n=Yt(),r=$n();return v.useLayoutEffect(()=>r?Kk:(n(mT(t)),()=>{n(hT(t))}),[n,r,t]),null}function rG(e){var{legendPayload:t}=e,n=Yt(),r=Re(rt);return v.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Kk:(n(mT(t)),()=>{n(hT(t))}),[n,r,t]),null}var by,aG=()=>{var[e]=v.useState(()=>xc("uid-"));return e},iG=(by=rN.useId)!==null&&by!==void 0?by:aG;function sG(e,t){var n=iG();return t||(e?"".concat(e,"-").concat(n):n)}var lG=v.createContext(void 0),Am=e=>{var{id:t,type:n,children:r}=e,l=sG("recharts-".concat(n),t);return v.createElement(lG.Provider,{value:l},r(l))},oG={cartesianItems:[],polarItems:[]},Vk=Or({name:"graphicalItems",initialState:oG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Kn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,l=Ja(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=r)},prepare:Kn()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ja(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Kn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Kn()},removePolarGraphicalItem:{reducer(e,t){var n=Ja(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Kn()}}}),{addCartesianGraphicalItem:cG,replaceCartesianGraphicalItem:dG,removeCartesianGraphicalItem:uG,addPolarGraphicalItem:fG,removePolarGraphicalItem:mG}=Vk.actions,hG=Vk.reducer;function Ax(e){var t=Yt(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(cG(e)):n.current!==e&&t(dG({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(uG(n.current)),n.current=null)},[t]),null}function pG(e){var t=Yt();return v.useLayoutEffect(()=>(t(fG(e)),()=>{t(mG(e))}),[t,e]),null}var gG=["onMouseEnter","onClick","onMouseLeave"],yG=["id"],vG=["id"];function wx(e,t){if(e==null)return{};var n,r,l=xG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function xG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(n),!0).forEach(function(r){bG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bG(e,t,n){return(t=jG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(null,arguments)}function AG(e){var t=v.useMemo(()=>vx(e.children,gi),[e.children]),n=Re(r=>PF(r,e.id,t));return n==null?null:v.createElement(rG,{legendPayload:n})}function wG(e){var{dataKey:t,nameKey:n,sectors:r,stroke:l,strokeWidth:o,fill:d,name:u,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:l,strokeWidth:o,fill:d,dataKey:t,nameKey:n,name:Qi(u,t),hide:m,type:h,color:d,unit:""}}}var EG=(e,t)=>e>t?"start":e<t?"end":"middle",CG=(e,t,n)=>Gn(typeof t=="function"?t(e):t,n,n*.8),TG=(e,t,n)=>{var{top:r,left:l,width:o,height:d}=t,u=eT(o,d),m=l+Gn(e.cx,o,o/2),h=r+Gn(e.cy,d,d/2),p=Gn(e.innerRadius,u,0),g=CG(n,e.outerRadius,u),b=e.maxRadius||Math.sqrt(o*o+d*d)/2;return{cx:m,cy:h,innerRadius:p,outerRadius:g,maxRadius:b}},OG=(e,t)=>{var n=On(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function kG(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var DG=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ot("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(_l,Vi({},t,{type:"linear",className:n}))},MG=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var l=ot("recharts-pie-label-text",kG(e));return v.createElement(ym,Vi({},t,{alignmentBaseline:"middle",className:l}),r)};function NG(e){var{sectors:t,props:n,showLabels:r}=e,{label:l,labelLine:o,dataKey:d}=n;if(!r||!l||!t)return null;var u=Xn(n),m=Ms(l),h=Ms(o),p=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,g=t.map((b,y)=>{var S=(b.startAngle+b.endAngle)/2,E=pn(b.cx,b.cy,b.outerRadius+p,S),C=Gt(Gt(Gt(Gt({},u),b),{},{stroke:"none"},m),{},{index:y,textAnchor:EG(E.x,b.cx)},E),A=Gt(Gt(Gt(Gt({},u),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[pn(b.cx,b.cy,b.outerRadius,S),E],key:"line"});return v.createElement(ln,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},o&&DG(o,A),MG(l,C,Ct(b,d)))});return v.createElement(ln,{className:"recharts-pie-labels"},g)}function zG(e){var{sectors:t,props:n,showLabels:r}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?v.createElement(vm,{label:l}):v.createElement(NG,{sectors:t,props:n,showLabels:r})}function PG(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:l}=e,o=Re(Ki),{onMouseEnter:d,onClick:u,onMouseLeave:m}=l,h=wx(l,gG),p=xx(d,l.dataKey),g=bx(m),b=jx(u,l.dataKey);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((y,S)=>{if(y?.startAngle===0&&y?.endAngle===0&&t.length!==1)return null;var E=n&&String(S)===o,C=o?r:null,A=E?n:C,O=Gt(Gt({},y),{},{stroke:y.stroke,tabIndex:-1,[sT]:S,[lT]:l.dataKey});return v.createElement(ln,Vi({key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Pc(h,y,S),{onMouseEnter:p(y,S),onMouseLeave:g(y,S),onClick:b(y,S)}),v.createElement(Hk,Vi({option:A,isActive:E,shapeType:"sector"},O)))}))}function _G(e){var t,{pieSettings:n,displayedData:r,cells:l,offset:o}=e,{cornerRadius:d,startAngle:u,endAngle:m,dataKey:h,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),y=OG(u,m),S=Math.abs(y),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=r.filter(M=>Ct(M,h,0)!==0).length,A=(S>=360?C:C-1)*E,O=S-C*b-A,w=r.reduce((M,N)=>{var I=Ct(N,h,0);return M+(Ie(I)?I:0)},0),z;if(w>0){var T;z=r.map((M,N)=>{var I=Ct(M,h,0),$=Ct(M,p,N),B=TG(n,o,M),R=(Ie(I)?I:0)/w,q,W=Gt(Gt({},M),l&&l[N]&&l[N].props);N?q=T.endAngle+On(y)*E*(I!==0?1:0):q=u;var K=q+On(y)*((I!==0?b:0)+R*O),H=(q+K)/2,D=(B.innerRadius+B.outerRadius)/2,k=[{name:$,value:I,payload:W,dataKey:h,type:g}],_=pn(B.cx,B.cy,D,H);return T=Gt(Gt(Gt(Gt({},n.presentationProps),{},{percent:R,cornerRadius:d,name:$,tooltipPayload:k,midAngle:H,middleRadius:D,tooltipPosition:_},W),B),{},{value:I,startAngle:q,endAngle:K,payload:W,paddingAngle:On(y)*E}),T})}return z}function IG(e){var{showLabels:t,sectors:n,children:r}=e,l=v.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return v.createElement(vF,{value:t?l:void 0},r)}function RG(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:l,animationBegin:o,animationDuration:d,animationEasing:u,activeShape:m,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,b=Ql(t,"recharts-pie-"),y=n.current,[S,E]=v.useState(!1),C=v.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),A=v.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return v.createElement(IG,{showLabels:!S,sectors:r},v.createElement(Xl,{animationId:b,begin:o,duration:d,isActive:l,easing:u,onAnimationStart:A,onAnimationEnd:C,key:b},O=>{var w=[],z=r&&r[0],T=z?.startAngle;return r?.forEach((M,N)=>{var I=y&&y[N],$=N>0?Ns(M,"paddingAngle",0):0;if(I){var B=Et(I.endAngle-I.startAngle,M.endAngle-M.startAngle,O),R=Gt(Gt({},M),{},{startAngle:T+$,endAngle:T+B+$});w.push(R),T=R.endAngle}else{var{endAngle:q,startAngle:W}=M,K=Et(0,q-W,O),H=Gt(Gt({},M),{},{startAngle:T+$,endAngle:T+K+$});w.push(H),T=H.endAngle}}),n.current=w,v.createElement(ln,null,v.createElement(PG,{sectors:w,activeShape:m,inactiveShape:h,allOtherPieProps:t}))}),v.createElement(zG,{showLabels:!S,sectors:r,props:t}),t.children)}var BG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ui.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function $G(e){var{id:t}=e,n=wx(e,yG),{hide:r,className:l,rootTabIndex:o}=e,d=v.useMemo(()=>vx(e.children,gi),[e.children]),u=Re(p=>_F(p,t,d)),m=v.useRef(null),h=ot("recharts-pie",l);return r||u==null?(m.current=null,v.createElement(ln,{tabIndex:o,className:h})):v.createElement(v.Fragment,null,v.createElement(Sm,{fn:wG,args:Gt(Gt({},e),{},{sectors:u})}),v.createElement(ln,{tabIndex:o,className:h},v.createElement(RG,{props:Gt(Gt({},n),{},{sectors:u}),previousSectorsRef:m})))}function oo(e){var t=jn(e,BG),{id:n}=t,r=wx(t,vG),l=Xn(r);return v.createElement(Am,{id:n,type:"pie"},o=>v.createElement(v.Fragment,null,v.createElement(pG,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),v.createElement(AG,Vi({},r,{id:o})),v.createElement($G,Vi({},r,{id:o}))))}oo.displayName="Pie";function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){LG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LG(e,t,n){return(t=UG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GG={xAxis:{},yAxis:{},zAxis:{}},Yk=Or({name:"cartesianAxis",initialState:GG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Kn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Kn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Kn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Kn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Kn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Kn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,l=e.yAxis[n];if(l){var o=l.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==l.width&&Math.abs(r-o[0])<=1)return;var d=[...o,r].slice(-3);e.yAxis[n]=_5(_5({},e.yAxis[n]),{},{width:r,widthHistory:d})}}}}),{addXAxis:qG,removeXAxis:WG,addYAxis:HG,removeYAxis:KG,addZAxis:tX,removeZAxis:nX,updateYAxisWidth:VG}=Yk.actions,YG=Yk.reducer,XG=ue([bn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),QG=ue([XG,ci,di],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),wm=()=>Re(QG),ZG=()=>Re(NL);function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){JG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JG(e,t,n){return(t=eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nq=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:l,dataKey:o}=e;if(l===!1||t.x==null||t.y==null)return null;var d=R5(R5({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ms(l)),Wv(l)),u;return v.isValidElement(l)?u=v.cloneElement(l,d):typeof l=="function"?u=l(d):u=v.createElement(px,d),v.createElement(ln,{className:"recharts-active-dot"},u)};function yv(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:l}=e,o=Re(Ki),d=ZG();if(t==null||d==null)return null;var u=t.find(m=>d.includes(m.payload));return Lt(u)?null:nq({point:u,childIndex:Number(o),mainColor:n,dataKey:l,activeDot:r})}var rq="Invariant failed";function aq(e,t){throw new Error(rq)}var iq=["x","y"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function B5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=oq(e,"string");return typeof t=="symbol"?t:t+""}function oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cq(e,t){if(e==null)return{};var n,r,l=dq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function dq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uq(e,t){var{x:n,y:r}=e,l=cq(e,iq),o="".concat(n),d=parseInt(o,10),u="".concat(r),m=parseInt(u,10),h="".concat(t.height||l.height),p=parseInt(h,10),g="".concat(t.width||l.width),b=parseInt(g,10);return fc(fc(fc(fc(fc({},t),l),d?{x:d}:{}),m?{y:m}:{}),{},{height:p,width:b,name:t.name,radius:t.radius})}function Ex(e){return v.createElement(Hk,vv({shapeType:"rectangle",propTransformer:uq,activeClassName:"recharts-active-bar"},e))}var fq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,l)=>{if(Ie(t))return t;var o=Ie(r)||Lt(r);return o?t(r,l):(o||aq(),n)}},mq={},Xk=Or({name:"errorBars",initialState:mq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:l}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?l:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==r.dataKey||l.direction!==r.direction))}}}),{addErrorBar:rX,replaceErrorBar:aX,removeErrorBar:iX}=Xk.actions,hq=Xk.reducer,pq=["children"];function gq(e,t){if(e==null)return{};var n,r,l=yq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function yq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xq=v.createContext(vq);function Qk(e){var{children:t}=e,n=gq(e,pq);return v.createElement(xq.Provider,{value:n},t)}function Em(e,t){var n,r,l=Re(h=>mi(h,e)),o=Re(h=>hi(h,t)),d=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,u=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:vr.allowDataOverflow,m=d||u;return{needClip:m,needClipX:d,needClipY:u}}function Cx(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,l=wm(),{needClipX:o,needClipY:d,needClip:u}=Em(t,n);if(!u)return null;var{x:m,y:h,width:p,height:g}=l;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:o?m:m-p/2,y:d?h:h-g/2,width:o?p:p*2,height:d?g:g*2}))}var bq=["onMouseEnter","onMouseLeave","onClick"],jq=["value","background","tooltipPosition"],Sq=["id"],Aq=["onMouseEnter","onClick","onMouseLeave"];function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yi.apply(null,arguments)}function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ef(e,t){if(e==null)return{};var n,r,l=Tq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Tq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Oq=e=>{var{dataKey:t,name:n,fill:r,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:r,value:Qi(n,t),payload:e}]};function kq(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:l,name:o,hide:d,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:l,dataKey:t,nameKey:void 0,name:Qi(o,t),hide:d,type:e.tooltipType,color:e.fill,unit:u}}}function Dq(e){var t=Re(Ki),{data:n,dataKey:r,background:l,allOtherBarProps:o}=e,{onMouseEnter:d,onMouseLeave:u,onClick:m}=o,h=Ef(o,bq),p=xx(d,r),g=bx(u),b=jx(m,r);if(!l||n==null)return null;var y=Ms(l);return v.createElement(v.Fragment,null,n.map((S,E)=>{var{value:C,background:A,tooltipPosition:O}=S,w=Ef(S,jq);if(!A)return null;var z=p(S,E),T=g(S,E),M=b(S,E),N=Vn(Vn(Vn(Vn(Vn({option:l,isActive:String(E)===t},w),{},{fill:"#eee"},A),y),Pc(h,S,E)),{},{onMouseEnter:z,onMouseLeave:T,onClick:M,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return v.createElement(Ex,Yi({key:"background-bar-".concat(E)},N))}))}function Mq(e){var{showLabels:t,children:n,rects:r}=e,l=r?.map(o=>{var d={x:o.x,y:o.y,width:o.width,height:o.height};return Vn(Vn({},d),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:d,fill:o.fill})});return v.createElement(hx,{value:t?l:void 0},n)}function Nq(e){var{shape:t,activeBar:n,baseProps:r,entry:l,index:o,dataKey:d}=e,u=Re(Ki),m=Re(bk),h=n&&String(o)===u&&(m==null||d===m),p=h?n:t;return v.createElement(Ex,Yi({},r,{name:String(r.name)},l,{isActive:h,option:p,index:o,dataKey:d}))}function zq(e){var{shape:t,baseProps:n,entry:r,index:l,dataKey:o}=e;return v.createElement(Ex,Yi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:l,dataKey:o}))}function Pq(e){var{data:t,props:n}=e,r=Xn(n),{id:l}=r,o=Ef(r,Sq),{shape:d,dataKey:u,activeBar:m}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,b=Ef(n,Aq),y=xx(h,u),S=bx(g),E=jx(p,u);return t?v.createElement(v.Fragment,null,t.map((C,A)=>v.createElement(ln,Yi({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(A),className:"recharts-bar-rectangle"},Pc(b,C,A),{onMouseEnter:y(C,A),onMouseLeave:S(C,A),onClick:E(C,A)}),m?v.createElement(Nq,{shape:d,activeBar:m,baseProps:o,entry:C,index:A,dataKey:u}):v.createElement(zq,{shape:d,baseProps:o,entry:C,index:A,dataKey:u})))):null}function _q(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:l,isAnimationActive:o,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,g=n.current,b=Ql(t,"recharts-bar-"),[y,S]=v.useState(!1),E=!y,C=v.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),A=v.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return v.createElement(Mq,{showLabels:E,rects:r},v.createElement(Xl,{animationId:b,begin:d,duration:u,isActive:o,easing:m,onAnimationEnd:C,onAnimationStart:A,key:b},O=>{var w=O===1?r:r?.map((z,T)=>{var M=g&&g[T];if(M)return Vn(Vn({},z),{},{x:Et(M.x,z.x,O),y:Et(M.y,z.y,O),width:Et(M.width,z.width,O),height:Et(M.height,z.height,O)});if(l==="horizontal"){var N=Et(0,z.height,O);return Vn(Vn({},z),{},{y:z.y+z.height-N,height:N})}var I=Et(0,z.width,O);return Vn(Vn({},z),{},{width:I})});return O>0&&(n.current=w??null),w==null?null:v.createElement(ln,null,v.createElement(Pq,{props:t,data:w}))}),v.createElement(vm,{label:t.label}),t.children)}function Iq(e){var t=v.useRef(null);return v.createElement(_q,{previousRectanglesRef:t,props:e})}var Zk=0,Rq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ct(e,t)}};class Bq extends v.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:l,xAxisId:o,yAxisId:d,needClip:u,background:m,id:h}=this.props;if(t||n==null)return null;var p=ot("recharts-bar",l),g=h;return v.createElement(ln,{className:p,id:h},u&&v.createElement("defs",null,v.createElement(Cx,{clipPathId:g,xAxisId:o,yAxisId:d})),v.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},v.createElement(Dq,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),v.createElement(Iq,this.props)))}}var $q={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ui.isSsr,legendType:"rect",minPointSize:Zk,xAxisId:0,yAxisId:0};function Lq(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:o,activeBar:d,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=Em(t,n),b=Bc(),y=$n(),S=vx(e.children,gi),E=Re(O=>hW(O,t,n,y,e.id,S));if(b!=="vertical"&&b!=="horizontal")return null;var C,A=E?.[0];return A==null||A.height==null||A.width==null?C=0:C=b==="vertical"?A.height/2:A.width/2,v.createElement(Qk,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:Rq,errorBarOffset:C},v.createElement(Bq,Yi({},e,{layout:b,needClip:g,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:o,activeBar:d,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function Uq(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:l,bandSize:o,xAxis:d,yAxis:u,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:g,offset:b,cells:y,parentViewBox:S}=e,E=t==="horizontal"?u:d,C=p?E.scale.domain():null,A=$I({numericAxis:E});return g.map((O,w)=>{var z,T,M,N,I,$;p?z=PI(p[w],C):(z=Ct(O,n),Array.isArray(z)||(z=[A,z]));var B=fq(r,Zk)(z[1],w);if(t==="horizontal"){var R,[q,W]=[u.scale(z[0]),u.scale(z[1])];T=vA({axis:d,ticks:m,bandSize:o,offset:l.offset,entry:O,index:w}),M=(R=W??q)!==null&&R!==void 0?R:void 0,N=l.size;var K=q-W;if(I=Cr(K)?0:K,$={x:T,y:b.top,width:N,height:b.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var H=On(I||B)*(Math.abs(B)-Math.abs(I));M-=H,I+=H}}else{var[D,k]=[d.scale(z[0]),d.scale(z[1])];if(T=D,M=vA({axis:u,ticks:h,bandSize:o,offset:l.offset,entry:O,index:w}),N=k-D,I=l.size,$={x:b.left,y:M,width:b.width,height:I},Math.abs(B)>0&&Math.abs(N)<Math.abs(B)){var _=On(N||B)*(Math.abs(B)-Math.abs(N));N+=_}}if(T==null||M==null||N==null||I==null)return null;var F=Vn(Vn({},O),{},{x:T,y:M,width:N,height:I,value:p?z:z[1],payload:O,background:$,tooltipPosition:{x:T+N/2,y:M+I/2},parentViewBox:S},y&&y[w]&&y[w].props);return F}).filter(Boolean)}function Fq(e){var t=jn(e,$q),n=$n();return v.createElement(Am,{id:t.id,type:"bar"},r=>v.createElement(v.Fragment,null,v.createElement(Sx,{legendPayload:Oq(t)}),v.createElement(Sm,{fn:kq,args:t}),v.createElement(Ax,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aT(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(Lq,Yi({},t,{id:r}))))}var Jt=v.memo(Fq);Jt.displayName="Bar";function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(r){Gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hq=(e,t)=>t,Kq=(e,t,n)=>n,Vq=(e,t,n,r)=>r,Yq=(e,t,n,r,l)=>l,Zc=ue([Kc,Yq],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Xq=ue([Zc],e=>e?.maxBarSize),Qq=(e,t,n,r,l,o)=>o,U5=(e,t,n)=>{var r=n??e;if(!Lt(r))return Gn(r,t,0)},Zq=ue([rt,Kc,Hq,Kq,Vq],(e,t,n,r,l)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===l).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Jq=(e,t,n,r)=>{var l=rt(e);return l==="horizontal"?kc(e,"yAxis",n,r):kc(e,"xAxis",t,r)},eW=(e,t,n)=>{var r=rt(e);return r==="horizontal"?Fw(e,"xAxis",t):Fw(e,"yAxis",n)},tW=(e,t,n)=>{var r={},l=e.filter(om),o=e.filter(h=>h.stackId==null),d=l.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(d).map(h=>{var[p,g]=h,b=g.map(S=>S.dataKey),y=U5(t,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:y}}),m=o.map(h=>{var p=[h.dataKey].filter(b=>b!=null),g=U5(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...m]},nW=ue([Zq,B7,eW],tW),rW=(e,t,n,r,l)=>{var o,d,u=Zc(e,t,n,r,l);if(u!=null){var m=rt(e),h=bO(e),{maxBarSize:p}=u,g=Lt(p)?h:p,b,y;return m==="horizontal"?(b=Sa(e,"xAxis",t,r),y=ja(e,"xAxis",t,r)):(b=Sa(e,"yAxis",n,r),y=ja(e,"yAxis",n,r)),(o=(d=_s(b,y,!0))!==null&&d!==void 0?d:g)!==null&&o!==void 0?o:0}},Jk=(e,t,n,r)=>{var l=rt(e),o,d;return l==="horizontal"?(o=Sa(e,"xAxis",t,r),d=ja(e,"xAxis",t,r)):(o=Sa(e,"yAxis",n,r),d=ja(e,"yAxis",n,r)),_s(o,d)};function aW(e,t,n,r,l){var o=r.length;if(!(o<1)){var d=Gn(e,n,0,!0),u,m=[];if(yn(r[0].barSize)){var h=!1,p=n/o,g=r.reduce((A,O)=>A+(O.barSize||0),0);g+=(o-1)*d,g>=n&&(g-=(o-1)*d,d=0),g>=n&&p>0&&(h=!0,p*=.9,g=o*p);var b=(n-g)/2>>0,y={offset:b-d,size:0};u=r.reduce((A,O)=>{var w,z={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:y.offset+y.size+d,size:h?p:(w=O.barSize)!==null&&w!==void 0?w:0}},T=[...A,z];return y=T[T.length-1].position,T},m)}else{var S=Gn(t,n,0,!0);n-2*S-(o-1)*d<=0&&(d=0);var E=(n-2*S-(o-1)*d)/o;E>1&&(E>>=0);var C=yn(l)?Math.min(E,l):E;u=r.reduce((A,O,w)=>[...A,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:S+(E+d)*w+(E-C)/2,size:C}}],m)}return u}}var iW=(e,t,n,r,l,o,d)=>{var u=Lt(d)?t:d,m=aW(n,r,l!==o?l:o,e,u);return l!==o&&m!=null&&(m=m.map(h=>Nu(Nu({},h),{},{position:Nu(Nu({},h.position),{},{offset:h.position.offset-l/2})}))),m},sW=ue([nW,bO,R7,jO,rW,Jk,Xq],iW),lW=(e,t,n,r)=>Sa(e,"xAxis",t,r),oW=(e,t,n,r)=>Sa(e,"yAxis",n,r),cW=(e,t,n,r)=>ja(e,"xAxis",t,r),dW=(e,t,n,r)=>ja(e,"yAxis",n,r),uW=ue([sW,Zc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),fW=(e,t)=>{var n=lm(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var l=e[r];if(l){var{stackedData:o}=l;if(o)return o.find(d=>d.key===n)}}}},mW=ue([Jq,Zc],fW),hW=ue([bn,t0,lW,oW,cW,dW,uW,rt,Gc,Jk,mW,Zc,Qq],(e,t,n,r,l,o,d,u,m,h,p,g,b)=>{var{chartData:y,dataStartIndex:S,dataEndIndex:E}=m;if(!(g==null||d==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||l==null||o==null||h==null)){var{data:C}=g,A;if(C!=null&&C.length>0?A=C:A=y?.slice(S,E+1),A!=null)return Uq({layout:u,barSettings:g,pos:d,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:o,stackedData:p,displayedData:A,offset:e,cells:b})}}),eD=e=>{var{chartData:t}=e,n=Yt(),r=$n();return v.useEffect(()=>r?()=>{}:(n(Zw(t)),()=>{n(Zw(void 0))}),[t,n,r]),null},F5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tD=Or({name:"brush",initialState:F5,reducers:{setBrushSettings(e,t){return t.payload==null?F5:t.payload}}}),{setBrushSettings:sX}=tD.actions,pW=tD.reducer;function gW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tx{static create(t){return new Tx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],l=n[n.length-1];return r<=l?t>=r&&t<=l:t>=l&&t<=r}}gW(Tx,"EPS",1e-4);function xW(e){return(e%180+180)%180}var bW=function(t){var{width:n,height:r}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=xW(l),d=o*Math.PI/180,u=Math.atan(r/n),m=d>u&&d<Math.PI-u?r/Math.sin(d):n/Math.cos(d);return Math.abs(m)},jW={dots:[],areas:[],lines:[]},nD=Or({name:"referenceElements",initialState:jW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ja(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ja(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ja(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:lX,removeDot:oX,addArea:cX,removeArea:dX,addLine:uX,removeLine:fX}=nD.actions,SW=nD.reducer,AW=v.createContext(void 0),wW=e=>{var{children:t}=e,[n]=v.useState("".concat(xc("recharts"),"-clip")),r=wm();if(r==null)return null;var{x:l,y:o,width:d,height:u}=r;return v.createElement(AW.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:l,y:o,height:u,width:d}))),t)};function Wl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function rD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],l=0;l<e.length;l+=t)r.push(e[l]);return r}function EW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bW(r,n)}function CW(e,t,n){var r=n==="width",{x:l,y:o,width:d,height:u}=e;return t===1?{start:r?l:o,end:r?l+d:o+u}:{start:r?l+d:o+u,end:r?l:o}}function Cf(e,t,n,r,l){if(e*t<e*r||e*t>e*l)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-l)<=0}function TW(e,t){return rD(e,t+1)}function OW(e,t,n,r,l){for(var o=(r||[]).slice(),{start:d,end:u}=t,m=0,h=1,p=d,g=function(){var S=r?.[m];if(S===void 0)return{v:rD(r,h)};var E=m,C,A=()=>(C===void 0&&(C=n(S,E)),C),O=S.coordinate,w=m===0||Cf(e,O,A,p,u);w||(m=0,p=d,h+=1),w&&(p=O+e*(A()/2+l),m+=h)},b;h<=o.length;)if(b=g(),b)return b.v;return[]}function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=DW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NW(e,t,n,r,l){for(var o=(r||[]).slice(),d=o.length,{start:u}=t,{end:m}=t,h=function(b){var y=o[b],S,E=()=>(S===void 0&&(S=n(y,b)),S);if(b===d-1){var C=e*(y.coordinate+e*E()/2-m);o[b]=y=Un(Un({},y),{},{tickCoord:C>0?y.coordinate-C*e:y.coordinate})}else o[b]=y=Un(Un({},y),{},{tickCoord:y.coordinate});var A=Cf(e,y.tickCoord,E,u,m);A&&(m=y.tickCoord-e*(E()/2+l),o[b]=Un(Un({},y),{},{isShow:!0}))},p=d-1;p>=0;p--)h(p);return o}function zW(e,t,n,r,l,o){var d=(r||[]).slice(),u=d.length,{start:m,end:h}=t;if(o){var p=r[u-1],g=n(p,u-1),b=e*(p.coordinate+e*g/2-h);d[u-1]=p=Un(Un({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate});var y=Cf(e,p.tickCoord,()=>g,m,h);y&&(h=p.tickCoord-e*(g/2+l),d[u-1]=Un(Un({},p),{},{isShow:!0}))}for(var S=o?u-1:u,E=function(O){var w=d[O],z,T=()=>(z===void 0&&(z=n(w,O)),z);if(O===0){var M=e*(w.coordinate-e*T()/2-m);d[O]=w=Un(Un({},w),{},{tickCoord:M<0?w.coordinate-M*e:w.coordinate})}else d[O]=w=Un(Un({},w),{},{tickCoord:w.coordinate});var N=Cf(e,w.tickCoord,T,m,h);N&&(m=w.tickCoord+e*(T()/2+l),d[O]=Un(Un({},w),{},{isShow:!0}))},C=0;C<S;C++)E(C);return d}function Ox(e,t,n){var{tick:r,ticks:l,viewBox:o,minTickGap:d,orientation:u,interval:m,tickFormatter:h,unit:p,angle:g}=e;if(!l||!l.length||!r)return[];if(Ie(m)||ui.isSsr){var b;return(b=TW(l,Ie(m)?m:0))!==null&&b!==void 0?b:[]}var y=[],S=u==="top"||u==="bottom"?"width":"height",E=p&&S==="width"?pc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(w,z)=>{var T=typeof h=="function"?h(w.value,z):w.value;return S==="width"?EW(pc(T,{fontSize:t,letterSpacing:n}),E,g):pc(T,{fontSize:t,letterSpacing:n})[S]},A=l.length>=2?On(l[1].coordinate-l[0].coordinate):1,O=CW(o,A,S);return m==="equidistantPreserveStart"?OW(A,O,C,l,d):(m==="preserveStart"||m==="preserveStartEnd"?y=zW(A,O,C,l,d,m==="preserveStartEnd"):y=NW(A,O,C,l,d),y.filter(w=>w.isShow))}var PW=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:l=0,tickMargin:o=0}=e,d=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>d&&(d=g.width)}});var u=n?n.getBoundingClientRect().width:0,m=l+o,h=d+m+u+(n?r:0);return Math.round(h)}return 0},_W=["axisLine","width","height","className","hide","ticks"],IW=["viewBox"],RW=["viewBox"];function xv(e,t){if(e==null)return{};var n,r,l=BW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function BW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function FW(e){var{x:t,y:n,width:r,height:l,orientation:o,mirror:d,axisLine:u,otherSvgProps:m}=e;if(!u)return null;var h=xn(xn(xn({},m),Xn(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!d||o==="bottom"&&d);h=xn(xn({},h),{},{x1:t,y1:n+p*l,x2:t+r,y2:n+p*l})}else{var g=+(o==="left"&&!d||o==="right"&&d);h=xn(xn({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+l})}return v.createElement("line",Bs({},h,{className:ot("recharts-cartesian-axis-line",Ns(u,"className"))}))}function GW(e,t,n,r,l,o,d,u,m){var h,p,g,b,y,S,E=u?-1:1,C=e.tickSize||d,A=Ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,b=n+ +!u*l,g=b-E*C,S=g-E*m,y=A;break;case"left":g=b=e.coordinate,p=t+ +!u*r,h=p-E*C,y=h-E*m,S=A;break;case"right":g=b=e.coordinate,p=t+ +u*r,h=p+E*C,y=h+E*m,S=A;break;default:h=p=e.coordinate,b=n+ +u*l,g=b+E*C,S=g+E*m,y=A;break}return{line:{x1:h,y1:g,x2:p,y2:b},tick:{x:y,y:S}}}function qW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function WW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function HW(e){var{option:t,tickProps:n,value:r}=e,l,o=ot(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))l=v.cloneElement(t,xn(xn({},n),{},{className:o}));else if(typeof t=="function")l=t(xn(xn({},n),{},{className:o}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=ot(d,t?.className)),l=v.createElement(ym,Bs({},n,{className:d}),r)}return l}function KW(e){var{ticks:t=[],tick:n,tickLine:r,stroke:l,tickFormatter:o,unit:d,padding:u,tickTextProps:m,orientation:h,mirror:p,x:g,y:b,width:y,height:S,tickSize:E,tickMargin:C,fontSize:A,letterSpacing:O,getTicksConfig:w,events:z}=e,T=Ox(xn(xn({},w),{},{ticks:t}),A,O),M=qW(h,p),N=WW(h,p),I=Xn(w),$=Ms(n),B={};typeof r=="object"&&(B=r);var R=xn(xn({},I),{},{fill:"none"},B),q=T.map((W,K)=>{var{line:H,tick:D}=GW(W,g,b,y,S,h,E,p,C),k=xn(xn(xn(xn({textAnchor:M,verticalAnchor:N},I),{},{stroke:"none",fill:l},$),D),{},{index:K,payload:W,visibleTicksCount:T.length,tickFormatter:o,padding:u},m);return v.createElement(ln,Bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Pc(z,W,K)),r&&v.createElement("line",Bs({},R,H,{className:ot("recharts-cartesian-axis-tick-line",Ns(r,"className"))})),n&&v.createElement(HW,{option:n,tickProps:k,value:"".concat(typeof o=="function"?o(W.value,K):W.value).concat(d||"")}))});return q.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},q):null}var VW=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:l,className:o,hide:d,ticks:u}=e,m=xv(e,_W),[h,p]=v.useState(""),[g,b]=v.useState(""),y=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return PW({ticks:y.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=v.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=C;var A=C[0];if(A){var O=window.getComputedStyle(A),w=O.fontSize,z=O.letterSpacing;(w!==h||z!==g)&&(p(w),b(z))}}},[h,g]);return d||r!=null&&r<=0||l!=null&&l<=0?null:v.createElement(ln,{className:ot("recharts-cartesian-axis",o),ref:S},v.createElement(FW,{x:e.x,y:e.y,width:r,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xn(e)}),v.createElement(KW,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:m}),v.createElement(QU,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement(lF,{label:e.label,labelRef:e.labelRef}),e.children))}),YW=v.memo(VW,(e,t)=>{var{viewBox:n}=e,r=xv(e,IW),{viewBox:l}=t,o=xv(t,RW);return Wl(n,l)&&Wl(r,o)}),Dx=v.forwardRef((e,t)=>{var n=jn(e,kx);return v.createElement(YW,Bs({},n,{ref:t}))});Dx.displayName="CartesianAxis";var XW=["x1","y1","x2","y2","key"],QW=["offset"],ZW=["xAxisId","yAxisId"],JW=["xAxisId","yAxisId"];function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(r){eH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eH(e,t,n){return(t=tH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(null,arguments)}function Tf(e,t){if(e==null)return{};var n,r,l=rH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function rH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aH=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:l,width:o,height:d,ry:u}=e;return v.createElement("rect",{x:r,y:l,ry:u,width:o,height:d,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aD(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:l,x2:o,y2:d,key:u}=t,m=Tf(t,XW),h=Xn(m),{offset:p}=h,g=Tf(h,QW);n=v.createElement("line",Es({},g,{x1:r,y1:l,x2:o,y2:d,fill:"none",key:u}))}return n}function iH(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:o,yAxisId:d}=e,u=Tf(e,ZW),m=l.map((h,p)=>{var g=Fn(Fn({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return aD(r,g)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function sH(e){var{y:t,height:n,vertical:r=!0,verticalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:o,yAxisId:d}=e,u=Tf(e,JW),m=l.map((h,p)=>{var g=Fn(Fn({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return aD(r,g)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function lH(e){var{horizontalFill:t,fillOpacity:n,x:r,y:l,width:o,height:d,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=u.map(g=>Math.round(g+l-l)).sort((g,b)=>g-b);l!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var y=!h[b+1],S=y?l+d-g:h[b+1]-g;if(S<=0)return null;var E=b%t.length;return v.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:S,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function oH(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:l,y:o,width:d,height:u,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var h=m.map(g=>Math.round(g+l-l)).sort((g,b)=>g-b);l!==h[0]&&h.unshift(0);var p=h.map((g,b)=>{var y=!h[b+1],S=y?l+d-g:h[b+1]-g;if(S<=0)return null;var E=b%n.length;return v.createElement("rect",{key:"react-".concat(b),x:g,y:o,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var cH=(e,t)=>{var{xAxis:n,width:r,height:l,offset:o}=e;return nT(Ox(Fn(Fn(Fn({},kx),n),{},{ticks:rT(n),viewBox:{x:0,y:0,width:r,height:l}})),o.left,o.left+o.width,t)},dH=(e,t)=>{var{yAxis:n,width:r,height:l,offset:o}=e;return nT(Ox(Fn(Fn(Fn({},kx),n),{},{ticks:rT(n),viewBox:{x:0,y:0,width:r,height:l}})),o.top,o.top+o.height,t)},uH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function rn(e){var t=r0(),n=a0(),r=uT(),l=Fn(Fn({},jn(e,uH)),{},{x:Ie(e.x)?e.x:r.left,y:Ie(e.y)?e.y:r.top,width:Ie(e.width)?e.width:r.width,height:Ie(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:d,x:u,y:m,width:h,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:y}=l,S=$n(),E=Re($=>Gw($,"xAxis",o,S)),C=Re($=>Gw($,"yAxis",d,S));if(!Ie(h)||h<=0||!Ie(p)||p<=0||!Ie(u)||u!==+u||!Ie(m)||m!==+m)return null;var A=l.verticalCoordinatesGenerator||cH,O=l.horizontalCoordinatesGenerator||dH,{horizontalPoints:w,verticalPoints:z}=l;if((!w||!w.length)&&typeof O=="function"){var T=b&&b.length,M=O({yAxis:C?Fn(Fn({},C),{},{ticks:T?b:C.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);af(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(w=M)}if((!z||!z.length)&&typeof A=="function"){var N=y&&y.length,I=A({xAxis:E?Fn(Fn({},E),{},{ticks:N?y:E.ticks}):void 0,width:t,height:n,offset:r},N?!0:g);af(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(z=I)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(aH,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),v.createElement(lH,Es({},l,{horizontalPoints:w})),v.createElement(oH,Es({},l,{verticalPoints:z})),v.createElement(iH,Es({},l,{offset:r,horizontalPoints:w,xAxis:E,yAxis:C})),v.createElement(sH,Es({},l,{offset:r,verticalPoints:z,xAxis:E,yAxis:C})))}rn.displayName="CartesianGrid";var iD=(e,t,n,r)=>Sa(e,"xAxis",t,r),sD=(e,t,n,r)=>ja(e,"xAxis",t,r),lD=(e,t,n,r)=>Sa(e,"yAxis",n,r),oD=(e,t,n,r)=>ja(e,"yAxis",n,r),fH=ue([rt,iD,lD,sD,oD],(e,t,n,r,l)=>wa(e,"xAxis")?_s(t,r,!1):_s(n,l,!1)),mH=(e,t,n,r,l)=>l;function hH(e){return e.type==="line"}var pH=ue([Kc,mH],(e,t)=>e.filter(hH).find(n=>n.id===t)),gH=ue([rt,iD,lD,sD,oD,pH,fH,Gc],(e,t,n,r,l,o,d,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=u;if(!(o==null||t==null||n==null||r==null||l==null||r.length===0||l.length===0||d==null)){var{dataKey:g,data:b}=o,y;if(b!=null&&b.length>0?y=b:y=m?.slice(h,p+1),y!=null)return BH({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataKey:g,bandSize:d,displayedData:y})}});function cD(e){var t=Ms(e),n=3,r=2;if(t!=null){var{r:l,strokeWidth:o}=t,d=Number(l),u=Number(o);return(Number.isNaN(d)||d<0)&&(d=n),(Number.isNaN(u)||u<0)&&(u=r),{r:d,strokeWidth:u}}return{r:n,strokeWidth:r}}var yH=["id"],vH=["type","layout","connectNulls","needClip"],xH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(r){bH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mx(e,t){if(e==null)return{};var n,r,l=AH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function AH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(null,arguments)}var wH=e=>{var{dataKey:t,name:n,stroke:r,legendType:l,hide:o}=e;return[{inactive:o,dataKey:t,type:l,color:r,value:Qi(n,t),payload:e}]};function EH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:l,fill:o,name:d,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:Qi(d,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var dD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CH(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],l=0;l<t;++l)r=[...r,...n];return r}var TH=(e,t,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return dD(t,e);for(var l=Math.floor(e/r),o=e%r,d=t-e,u=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>o){u=[...n.slice(0,m),o-h];break}var p=u.length%2===0?[0,d]:[d];return[...CH(n,l),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function OH(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ot("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(px,$s({},t,{className:r}))}return n}function kH(e,t){return e==null?!1:t?!0:e.length===1}function DH(e){var{clipPathId:t,points:n,props:r}=e,{dot:l,dataKey:o,needClip:d}=r;if(!kH(n,l))return null;var{id:u}=r,m=Mx(r,yH),h=jm(l),p=Xn(m),g=WE(l),b=n.map((S,E)=>{var C=br(br(br({key:"dot-".concat(E),r:3},p),g),{},{index:E,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return OH(l,C)}),y={clipPath:d?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return v.createElement(ln,$s({className:"recharts-line-dots",key:"dots"},y),b)}function MH(e){var{showLabels:t,children:n,points:r}=e,l=v.useMemo(()=>r?.map(o=>{var d={x:o.x,y:o.y,width:0,height:0};return br(br({},d),{},{value:o.value,payload:o.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(hx,{value:t?l:null},n)}function K5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:l,props:o}=e,{type:d,layout:u,connectNulls:m,needClip:h}=o,p=Mx(o,vH),g=br(br({},Qn(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:u,connectNulls:m,strokeDasharray:l??o.strokeDasharray});return v.createElement(v.Fragment,null,r?.length>1&&v.createElement(_l,$s({},g,{pathRef:n})),v.createElement(DH,{points:r,clipPathId:t,props:o}))}function NH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zH(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:l,longestAnimatedLengthRef:o}=e,{points:d,strokeDasharray:u,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:b,width:y,height:S,onAnimationEnd:E,onAnimationStart:C}=n,A=l.current,O=Ql(n,"recharts-line-"),[w,z]=v.useState(!1),T=!w,M=v.useCallback(()=>{typeof E=="function"&&E(),z(!1)},[E]),N=v.useCallback(()=>{typeof C=="function"&&C(),z(!0)},[C]),I=NH(r.current),$=o.current;return v.createElement(MH,{points:d,showLabels:T},n.children,v.createElement(Xl,{animationId:O,begin:h,duration:p,isActive:m,easing:g,onAnimationEnd:M,onAnimationStart:N,key:O},B=>{var R=Et($,I+$,B),q=Math.min(R,I),W;if(m)if(u){var K="".concat(u).split(/[,\s]+/gim).map(k=>parseFloat(k));W=TH(q,I,K)}else W=dD(I,q);else W=u==null?void 0:String(u);if(A){var H=A.length/d.length,D=B===1?d:d.map((k,_)=>{var F=Math.floor(_*H);if(A[F]){var Y=A[F];return br(br({},k),{},{x:Et(Y.x,k.x,B),y:Et(Y.y,k.y,B)})}return b?br(br({},k),{},{x:Et(y*2,k.x,B),y:Et(S/2,k.y,B)}):br(br({},k),{},{x:k.x,y:k.y})});return l.current=D,v.createElement(K5,{props:n,points:D,clipPathId:t,pathRef:r,strokeDasharray:W})}return B>0&&I>0&&(l.current=d,o.current=q),v.createElement(K5,{props:n,points:d,clipPathId:t,pathRef:r,strokeDasharray:W})}),v.createElement(vm,{label:n.label}))}function PH(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),l=v.useRef(0),o=v.useRef(null);return v.createElement(zH,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:l,pathRef:o})}var _H=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ct(e.payload,t)});class IH extends v.Component{render(){var{hide:t,dot:n,points:r,className:l,xAxisId:o,yAxisId:d,top:u,left:m,width:h,height:p,id:g,needClip:b}=this.props;if(t)return null;var y=ot("recharts-line",l),S=g,{r:E,strokeWidth:C}=cD(n),A=jm(n),O=E*2+C;return v.createElement(v.Fragment,null,v.createElement(ln,{className:y},b&&v.createElement("defs",null,v.createElement(Cx,{clipPathId:S,xAxisId:o,yAxisId:d}),!A&&v.createElement("clipPath",{id:"clipPath-dots-".concat(S)},v.createElement("rect",{x:m-O/2,y:u-O/2,width:h+O,height:p+O}))),v.createElement(Qk,{xAxisId:o,yAxisId:d,data:r,dataPointFormatter:_H,errorBarOffset:0},v.createElement(PH,{props:this.props,clipPathId:S}))),v.createElement(yv,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var uD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ui.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function RH(e){var t=jn(e,uD),{activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:o,animationEasing:d,connectNulls:u,dot:m,hide:h,isAnimationActive:p,label:g,legendType:b,xAxisId:y,yAxisId:S,id:E}=t,C=Mx(t,xH),{needClip:A}=Em(y,S),O=wm(),w=Bc(),z=$n(),T=Re(B=>gH(B,y,S,z,E));if(w!=="horizontal"&&w!=="vertical"||T==null||O==null)return null;var{height:M,width:N,x:I,y:$}=O;return v.createElement(IH,$s({},C,{id:E,connectNulls:u,dot:m,activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:o,animationEasing:d,isAnimationActive:p,hide:h,label:g,legendType:b,xAxisId:y,yAxisId:S,points:T,layout:w,height:M,width:N,left:I,top:$,needClip:A}))}function BH(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:o,dataKey:d,bandSize:u,displayedData:m}=e;return m.map((h,p)=>{var g=Ct(h,d);if(t==="horizontal"){var b=rf({axis:n,ticks:l,bandSize:u,entry:h,index:p}),y=Lt(g)?null:r.scale(g);return{x:b,y,value:g,payload:h}}var S=Lt(g)?null:n.scale(g),E=rf({axis:r,ticks:o,bandSize:u,entry:h,index:p});return S==null||E==null?null:{x:S,y:E,value:g,payload:h}}).filter(Boolean)}function $H(e){var t=jn(e,uD),n=$n();return v.createElement(Am,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(Sx,{legendPayload:wH(t)}),v.createElement(Sm,{fn:EH,args:t}),v.createElement(Ax,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(RH,$s({},t,{id:r}))))}var Xi=v.memo($H);Xi.displayName="Line";var fD=(e,t,n,r)=>Sa(e,"xAxis",t,r),mD=(e,t,n,r)=>ja(e,"xAxis",t,r),hD=(e,t,n,r)=>Sa(e,"yAxis",n,r),pD=(e,t,n,r)=>ja(e,"yAxis",n,r),LH=ue([rt,fD,hD,mD,pD],(e,t,n,r,l)=>wa(e,"xAxis")?_s(t,r,!1):_s(n,l,!1)),UH=(e,t,n,r,l)=>l,gD=ue([Kc,UH],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),FH=(e,t,n,r,l)=>{var o,d=gD(e,t,n,r,l);if(d!=null){var u=rt(e),m=wa(u,"xAxis"),h;if(m?h=kc(e,"yAxis",n,r):h=kc(e,"xAxis",t,r),h!=null){var{stackId:p}=d,g=lm(d);if(!(p==null||g==null)){var b=(o=h[p])===null||o===void 0?void 0:o.stackedData;return b?.find(y=>y.key===g)}}}},GH=ue([rt,fD,hD,mD,pD,FH,Gc,LH,gD],(e,t,n,r,l,o,d,u,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=d;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||l==null||r.length===0||l.length===0||u==null)){var{data:b}=m,y;if(b&&b.length>0?y=b:y=h?.slice(p,g+1),y!=null){var S=void 0;return dK({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataStartIndex:p,areaSettings:m,stackedData:o,displayedData:y,chartBaseValue:S,bandSize:u})}}}),qH=["id"],WH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yD(e,t){if(e==null)return{};var n,r,l=HH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function HH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(r){KH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(null,arguments)}function Of(e,t){return e&&e!=="none"?e:t}var XH=e=>{var{dataKey:t,name:n,stroke:r,fill:l,legendType:o,hide:d}=e;return[{inactive:d,dataKey:t,type:o,color:Of(r,l),value:Qi(n,t),payload:e}]};function QH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:l,fill:o,name:d,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:o,dataKey:t,nameKey:void 0,name:Qi(d,t),hide:u,type:e.tooltipType,color:Of(r,o),unit:m}}}var ZH=(e,t)=>{var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ot("recharts-area-dot",typeof e!="boolean"?e.className:"");n=v.createElement(px,ti({},t,{className:r}))}return n};function JH(e,t){return e==null?!1:t?!0:e.length===1}function eK(e){var{clipPathId:t,points:n,props:r}=e,{needClip:l,dot:o,dataKey:d}=r;if(!JH(n,o))return null;var u=jm(o),m=Xn(r),h=WE(o),p=n.map((b,y)=>{var S=Xa(Xa(Xa({key:"dot-".concat(y),r:3},m),h),{},{index:y,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:n});return ZH(o,S)}),g={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return v.createElement(ln,ti({className:"recharts-area-dots"},g),p)}function tK(e){var{showLabels:t,children:n,points:r}=e,l=r.map(o=>{var d={x:o.x,y:o.y,width:0,height:0};return Xa(Xa({},d),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return v.createElement(hx,{value:t?l:null},n)}function Y5(e){var{points:t,baseLine:n,needClip:r,clipPathId:l,props:o}=e,{layout:d,type:u,stroke:m,connectNulls:h,isRange:p}=o,{id:g}=o,b=yD(o,qH),y=Xn(b);return v.createElement(v.Fragment,null,t?.length>1&&v.createElement(ln,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},v.createElement(_l,ti({},y,{id:g,points:t,connectNulls:h,type:u,baseLine:n,layout:d,stroke:"none",className:"recharts-area-area"})),m!=="none"&&v.createElement(_l,ti({},y,{className:"recharts-area-curve",layout:d,type:u,connectNulls:h,fill:"none",points:t})),m!=="none"&&p&&v.createElement(_l,ti({},y,{className:"recharts-area-curve",layout:d,type:u,connectNulls:h,fill:"none",points:n}))),v.createElement(eK,{points:t,props:b,clipPathId:l}))}function nK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:l}=e,o=r[0].y,d=r[r.length-1].y;if(!yn(o)||!yn(d))return null;var u=t*Math.abs(o-d),m=Math.max(...r.map(h=>h.x||0));return Ie(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.x||0),m)),Ie(m)?v.createElement("rect",{x:0,y:o<d?o:o-u,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}function rK(e){var{alpha:t,baseLine:n,points:r,strokeWidth:l}=e,o=r[0].x,d=r[r.length-1].x;if(!yn(o)||!yn(d))return null;var u=t*Math.abs(o-d),m=Math.max(...r.map(h=>h.y||0));return Ie(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.y||0),m)),Ie(m)?v.createElement("rect",{x:o<d?o:o-u,y:0,width:u,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}function aK(e){var{alpha:t,layout:n,points:r,baseLine:l,strokeWidth:o}=e;return n==="vertical"?v.createElement(nK,{alpha:t,points:r,baseLine:l,strokeWidth:o}):v.createElement(rK,{alpha:t,points:r,baseLine:l,strokeWidth:o})}function iK(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:l,previousBaselineRef:o}=e,{points:d,baseLine:u,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:y}=r,S=Ql(r,"recharts-area-"),[E,C]=v.useState(!1),A=!E,O=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),w=v.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),z=l.current,T=o.current;return v.createElement(tK,{showLabels:A,points:d},r.children,v.createElement(Xl,{animationId:S,begin:h,duration:p,isActive:m,easing:g,onAnimationEnd:O,onAnimationStart:w,key:S},M=>{if(z){var N=z.length/d.length,I=M===1?d:d.map((B,R)=>{var q=Math.floor(R*N);if(z[q]){var W=z[q];return Xa(Xa({},B),{},{x:Et(W.x,B.x,M),y:Et(W.y,B.y,M)})}return B}),$;return Ie(u)?$=Et(T,u,M):Lt(u)||Cr(u)?$=Et(T,0,M):$=u.map((B,R)=>{var q=Math.floor(R*N);if(Array.isArray(T)&&T[q]){var W=T[q];return Xa(Xa({},B),{},{x:Et(W.x,B.x,M),y:Et(W.y,B.y,M)})}return B}),M>0&&(l.current=I,o.current=$),v.createElement(Y5,{points:I,baseLine:$,needClip:t,clipPathId:n,props:r})}return M>0&&(l.current=d,o.current=u),v.createElement(ln,null,m&&v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},v.createElement(aK,{alpha:M,points:d,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),v.createElement(ln,{clipPath:"url(#animationClipPath-".concat(n,")")},v.createElement(Y5,{points:d,baseLine:u,needClip:t,clipPathId:n,props:r})))}),v.createElement(vm,{label:r.label}))}function sK(e){var{needClip:t,clipPathId:n,props:r}=e,l=v.useRef(null),o=v.useRef();return v.createElement(iK,{needClip:t,clipPathId:n,props:r,previousPointsRef:l,previousBaselineRef:o})}class lK extends v.PureComponent{render(){var{hide:t,dot:n,points:r,className:l,top:o,left:d,needClip:u,xAxisId:m,yAxisId:h,width:p,height:g,id:b,baseLine:y}=this.props;if(t)return null;var S=ot("recharts-area",l),E=b,{r:C,strokeWidth:A}=cD(n),O=jm(n),w=C*2+A;return v.createElement(v.Fragment,null,v.createElement(ln,{className:S},u&&v.createElement("defs",null,v.createElement(Cx,{clipPathId:E,xAxisId:m,yAxisId:h}),!O&&v.createElement("clipPath",{id:"clipPath-dots-".concat(E)},v.createElement("rect",{x:d-w/2,y:o-w/2,width:p+w,height:g+w}))),v.createElement(sK,{needClip:u,clipPathId:E,props:this.props})),v.createElement(yv,{points:r,mainColor:Of(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&v.createElement(yv,{points:y,mainColor:Of(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var vD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ui.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function oK(e){var t,n=jn(e,vD),{activeDot:r,animationBegin:l,animationDuration:o,animationEasing:d,connectNulls:u,dot:m,fill:h,fillOpacity:p,hide:g,isAnimationActive:b,legendType:y,stroke:S,xAxisId:E,yAxisId:C}=n,A=yD(n,WH),O=Bc(),w=Sk(),{needClip:z}=Em(E,C),T=$n(),{points:M,isRange:N,baseLine:I}=(t=Re(K=>GH(K,E,C,T,e.id)))!==null&&t!==void 0?t:{},$=wm();if(O!=="horizontal"&&O!=="vertical"||$==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:B,width:R,x:q,y:W}=$;return!M||!M.length?null:v.createElement(lK,ti({},A,{activeDot:r,animationBegin:l,animationDuration:o,animationEasing:d,baseLine:I,connectNulls:u,dot:m,fill:h,fillOpacity:p,height:B,hide:g,layout:O,isAnimationActive:b,isRange:N,legendType:y,needClip:z,points:M,stroke:S,width:R,left:q,top:W,xAxisId:E,yAxisId:C}))}var cK=(e,t,n,r,l)=>{var o=n??t;if(Ie(o))return o;var d=e==="horizontal"?l:r,u=d.scale.domain();if(d.type==="number"){var m=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return o==="dataMin"?h:o==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function dK(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:l,layout:o,chartBaseValue:d,xAxis:u,yAxis:m,displayedData:h,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:y}=e,S=l&&l.length,E=cK(o,d,n,u,m),C=o==="horizontal",A=!1,O=h.map((z,T)=>{var M;S?M=l[p+T]:(M=Ct(z,r),Array.isArray(M)?A=!0:M=[E,M]);var N=M[1]==null||S&&!t&&Ct(z,r)==null;return C?{x:rf({axis:u,ticks:g,bandSize:y,entry:z,index:T}),y:N?null:m.scale(M[1]),value:M,payload:z}:{x:N?null:u.scale(M[1]),y:rf({axis:m,ticks:b,bandSize:y,entry:z,index:T}),value:M,payload:z}}),w;return S||A?w=O.map(z=>{var T=Array.isArray(z.value)?z.value[0]:null;return C?{x:z.x,y:T!=null&&z.y!=null?m.scale(T):null,payload:z.payload}:{x:T!=null?u.scale(T):null,y:z.y,payload:z.payload}}):w=C?m.scale(E):u.scale(E),{points:O,baseLine:w,isRange:A}}function uK(e){var t=jn(e,vD),n=$n();return v.createElement(Am,{id:t.id,type:"area"},r=>v.createElement(v.Fragment,null,v.createElement(Sx,{legendPayload:XH(t)}),v.createElement(Sm,{fn:QH,args:t}),v.createElement(Ax,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:aT(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),v.createElement(oK,ti({},t,{id:r}))))}var bv=v.memo(uK);bv.displayName="Area";var fK=["dangerouslySetInnerHTML","ticks"],mK=["id"],hK=["domain"],pK=["domain"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function kf(e,t){if(e==null)return{};var n,r,l=gK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function gK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yK(e){var t=Yt();return v.useLayoutEffect(()=>(t(qG(e)),()=>{t(WG(e))}),[e,t]),null}var vK=e=>{var{xAxisId:t,className:n}=e,r=Re(t0),l=$n(),o="xAxis",d=Re(C=>io(C,o,t,l)),u=Re(C=>JO(C,o,t,l)),m=Re(C=>YO(C,t)),h=Re(C=>N9(C,t)),p=Re(C=>DO(C,t));if(m==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:b}=e,y=kf(e,fK),{id:S}=p,E=kf(p,mK);return v.createElement(Dx,jv({},y,E,{scale:d,x:h.x,y:h.y,width:m.width,height:m.height,className:ot("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},xK={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,height:yr.height,hide:!1,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tickCount:yr.tickCount,type:yr.type,xAxisId:0},bK=e=>{var t,n,r,l,o,d=jn(e,xK);return v.createElement(v.Fragment,null,v.createElement(yK,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.xAxisId,scale:d.scale,type:d.type,padding:d.padding,allowDataOverflow:d.allowDataOverflow,domain:d.domain,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,height:d.height,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(r=d.angle)!==null&&r!==void 0?r:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(o=d.tick)!==null&&o!==void 0?o:!0,tickFormatter:d.tickFormatter}),v.createElement(vK,d))},jK=(e,t)=>{var{domain:n}=e,r=kf(e,hK),{domain:l}=t,o=kf(t,pK);return Wl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Wl({domain:n},{domain:l}):!1},an=v.memo(bK,jK);an.displayName="XAxis";var SK=["dangerouslySetInnerHTML","ticks"],AK=["id"],wK=["domain"],EK=["domain"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function Df(e,t){if(e==null)return{};var n,r,l=CK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function CK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TK(e){var t=Yt();return v.useLayoutEffect(()=>(t(HG(e)),()=>{t(KG(e))}),[e,t]),null}var OK=e=>{var{yAxisId:t,className:n,width:r,label:l}=e,o=v.useRef(null),d=v.useRef(null),u=Re(t0),m=$n(),h=Yt(),p="yAxis",g=Re(T=>io(T,p,t,m)),b=Re(T=>XO(T,t)),y=Re(T=>P9(T,t)),S=Re(T=>JO(T,p,t,m)),E=Re(T=>MO(T,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!b||mx(l)||v.isValidElement(l)||E==null)){var T=o.current;if(T){var M=T.getCalculatedWidth();Math.round(b.width)!==Math.round(M)&&h(VG({id:t,width:M}))}}},[S,b,h,l,t,r,E]),b==null||y==null||E==null)return null;var{dangerouslySetInnerHTML:C,ticks:A}=e,O=Df(e,SK),{id:w}=E,z=Df(E,AK);return v.createElement(Dx,Sv({},O,z,{ref:o,labelRef:d,scale:g,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:ot("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:S}))},kK={allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,hide:!1,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tickCount:vr.tickCount,type:vr.type,width:vr.width,yAxisId:0},DK=e=>{var t,n,r,l,o,d=jn(e,kK);return v.createElement(v.Fragment,null,v.createElement(TK,{interval:(t=d.interval)!==null&&t!==void 0?t:"preserveEnd",id:d.yAxisId,scale:d.scale,type:d.type,domain:d.domain,allowDataOverflow:d.allowDataOverflow,dataKey:d.dataKey,allowDuplicatedCategory:d.allowDuplicatedCategory,allowDecimals:d.allowDecimals,tickCount:d.tickCount,padding:d.padding,includeHidden:(n=d.includeHidden)!==null&&n!==void 0?n:!1,reversed:d.reversed,ticks:d.ticks,width:d.width,orientation:d.orientation,mirror:d.mirror,hide:d.hide,unit:d.unit,name:d.name,angle:(r=d.angle)!==null&&r!==void 0?r:0,minTickGap:(l=d.minTickGap)!==null&&l!==void 0?l:5,tick:(o=d.tick)!==null&&o!==void 0?o:!0,tickFormatter:d.tickFormatter}),v.createElement(OK,d))},MK=(e,t)=>{var{domain:n}=e,r=Df(e,wK),{domain:l}=t,o=Df(t,EK);return Wl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:Wl({domain:n},{domain:l}):!1},sn=v.memo(DK,MK);sn.displayName="YAxis";var jy={exports:{}},Sy={};var X5;function NK(){if(X5)return Sy;X5=1;var e=Hl();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Sy.useSyncExternalStoreWithSelector=function(m,h,p,g,b){var y=l(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=d(function(){function C(T){if(!A){if(A=!0,O=T,T=g(T),b!==void 0&&S.hasValue){var M=S.value;if(b(M,T))return w=M}return w=T}if(M=w,n(O,T))return M;var N=g(T);return b!==void 0&&b(M,N)?(O=T,M):(O=T,w=N)}var A=!1,O,w,z=p===void 0?null:p;return[function(){return C(h())},z===null?void 0:function(){return C(z())}]},[h,p,g,b]);var E=r(m,y[0],y[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Sy}var Q5;function zK(){return Q5||(Q5=1,jy.exports=NK()),jy.exports}zK();function PK(e){e()}function _K(){let e=null,t=null;return{clear(){e=null,t=null},notify(){PK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!r||e===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var Z5={notify(){},get:()=>[]};function IK(e,t){let n,r=Z5,l=0,o=!1;function d(E){p();const C=r.subscribe(E);let A=!1;return()=>{A||(A=!0,C(),g())}}function u(){r.notify()}function m(){S.onStateChange&&S.onStateChange()}function h(){return o}function p(){l++,n||(n=e.subscribe(m),r=_K())}function g(){l--,n&&l===0&&(n(),n=void 0,r.clear(),r=Z5)}function b(){o||(o=!0,p())}function y(){o&&(o=!1,g())}const S={addNestedSub:d,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return S}var RK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BK=RK(),$K=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LK=$K(),UK=()=>BK||LK?v.useLayoutEffect:v.useEffect,FK=UK(),GK=Symbol.for("react-redux-context"),qK=typeof globalThis<"u"?globalThis:{};function WK(){if(!v.createContext)return{};const e=qK[GK]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var HK=WK();function KK(e){const{children:t,context:n,serverState:r,store:l}=e,o=v.useMemo(()=>{const m=IK(l);return{store:l,subscription:m,getServerState:r?()=>r:void 0}},[l,r]),d=v.useMemo(()=>l.getState(),[l]);FK(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,d]);const u=n||HK;return v.createElement(u.Provider,{value:o},t)}var VK=KK,YK=(e,t)=>t,Nx=ue([YK,rt,TO,An,gk,pi,BL,bn],GL),zx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},xD=Xr("mouseClick"),bD=Ic();bD.startListening({actionCreator:xD,effect:(e,t)=>{var n=e.payload,r=Nx(t.getState(),zx(n));r?.activeIndex!=null&&t.dispatch(K9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Av=Xr("mouseMove"),jD=Ic();jD.startListening({actionCreator:Av,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=ax(r,r.tooltip.settings.shared),o=Nx(r,zx(n));l==="axis"&&(o?.activeIndex!=null?t.dispatch(lk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(sk()))}});var J5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},SD=Or({name:"rootProps",initialState:J5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:J5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),XK=SD.reducer,{updateOptions:QK}=SD.actions,AD=Or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ZK}=AD.actions,JK=AD.reducer,wD=Xr("keyDown"),ED=Xr("focus"),Px=Ic();Px.startListening({actionCreator:wD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var d=Number(ix(l,lo(n))),u=pi(n);if(o==="Enter"){var m=jf(n,"axis","hover",String(l.index));t.dispatch(fv({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:m}));return}var h=B9(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,b=d+g*p;if(!(u==null||b>=u.length||b<0)){var y=jf(n,"axis","hover",String(b));t.dispatch(fv({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Px.startListening({actionCreator:ED,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var o="0",d=jf(n,"axis","hover",String(o));t.dispatch(fv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:d}))}}}});var Gr=Xr("externalEvent"),CD=Ic();CD.startListening({actionCreator:Gr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:kL(n),activeDataKey:bk(n),activeIndex:Ki(n),activeLabel:xk(n),activeTooltipIndex:Ki(n),isTooltipActive:DL(n)};e.payload.handler(r,e.payload.reactEvent)}}});var eV=ue([so],e=>e.tooltipItemPayloads),tV=ue([eV,Xc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var l=e.find(u=>u.settings.dataKey===r);if(l!=null){var{positions:o}=l;if(o!=null){var d=t(o,n);return d}}}),TD=Xr("touchMove"),OD=Ic();OD.startListening({actionCreator:TD,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=ax(r,r.tooltip.settings.shared);if(l==="axis"){var o=Nx(r,zx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(lk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var d,u=n.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(sT),p=(d=m.getAttribute(lT))!==null&&d!==void 0?d:void 0,g=tV(t.getState(),h,p);t.dispatch(ik({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var nV=kC({brush:pW,cartesianAxis:YG,chartData:iU,errorBars:hq,graphicalItems:hG,layout:vI,legend:AR,options:eU,polarAxis:OF,polarOptions:JK,referenceElements:SW,rootProps:XK,tooltip:V9}),rV=function(t){return G4({reducer:nV,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([bD.middleware,jD.middleware,Px.middleware,CD.middleware,OD.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(UC({type:"raf"}))},devTools:ui.devToolsEnabled})};function kD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,l=$n(),o=v.useRef(null);if(l)return n;o.current==null&&(o.current=rV(t));var d=Yv;return v.createElement(VK,{context:d,store:o.current},n)}function DD(e){var{layout:t,margin:n}=e,r=Yt(),l=$n();return v.useEffect(()=>{l||(r(pI(t)),r(hI(n)))},[r,l,t,n]),null}function MD(e){var t=Yt();return v.useEffect(()=>{t(QK(e))},[t,e]),null}var aV=["children"];function iV(e,t){if(e==null)return{};var n,r,l=sV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function sV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(null,arguments)}var lV={width:"100%",height:"100%",display:"block"},oV=v.forwardRef((e,t)=>{var n=r0(),r=a0(),l=pT();if(!Ll(n)||!Ll(r))return null;var{children:o,otherAttributes:d,title:u,desc:m}=e,h,p;return typeof d.tabIndex=="number"?h=d.tabIndex:h=l?0:void 0,typeof d.role=="string"?p=d.role:p=l?"application":void 0,v.createElement(Rv,Mf({},d,{title:u,desc:m,role:p,tabIndex:h,width:n,height:r,style:lV,ref:t}),o)}),cV=e=>{var{children:t}=e,n=Re(Yf);if(!n)return null;var{width:r,height:l,y:o,x:d}=n;return v.createElement(Rv,{width:r,height:l,x:d,y:o},t)},eE=v.forwardRef((e,t)=>{var{children:n}=e,r=iV(e,aV),l=$n();return l?v.createElement(cV,null,n):v.createElement(oV,Mf({ref:t},r),n)});function dV(){var e=Yt(),[t,n]=v.useState(null),r=Re(HI);return v.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;yn(o)&&o!==r&&e(yI(o))}},[t,e,r]),n}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function uV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){fV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(null,arguments)}var pV=()=>(hU(),null);function Nf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var gV=v.forwardRef((e,t)=>{var n,r,l=v.useRef(null),[o,d]=v.useState({containerWidth:Nf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Nf((r=e.style)===null||r===void 0?void 0:r.height)}),u=v.useCallback((h,p)=>{d(g=>{var b=Math.round(h),y=Math.round(p);return g.containerWidth===b&&g.containerHeight===y?g:{containerWidth:b,containerHeight:y}})},[]),m=v.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var b=S=>{var{width:E,height:C}=S[0].contentRect;u(E,C)},y=new ResizeObserver(b);y.observe(h),l.current=y}},[t,u]);return v.useEffect(()=>()=>{var h=l.current;h?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(Qf,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Ls({ref:m},e)))}),yV=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[l,o]=v.useState({containerWidth:Nf(n),containerHeight:Nf(r)}),d=v.useCallback((m,h)=>{o(p=>{var g=Math.round(m),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=v.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:h,height:p}=m.getBoundingClientRect();d(h,p)}},[t,d]);return v.createElement(v.Fragment,null,v.createElement(Qf,{width:l.containerWidth,height:l.containerHeight}),v.createElement("div",Ls({ref:u},e)))}),vV=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(Qf,{width:n,height:r}),v.createElement("div",Ls({ref:t},e)))}),xV=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return ri(n)||ri(r)?v.createElement(yV,Ls({},e,{ref:t})):v.createElement(vV,Ls({},e,{ref:t}))});function bV(e){return e===!0?gV:xV}var jV=v.forwardRef((e,t)=>{var{children:n,className:r,height:l,onClick:o,onContextMenu:d,onDoubleClick:u,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:S,onTouchStart:E,style:C,width:A,responsive:O,dispatchTouchEvents:w=!0}=e,z=v.useRef(null),T=Yt(),[M,N]=v.useState(null),[I,$]=v.useState(null),B=dV(),R=n0(),q=R?.width>0?R.width:A,W=R?.height>0?R.height:l,K=v.useCallback(ee=>{B(ee),typeof t=="function"&&t(ee),N(ee),$(ee),ee!=null&&(z.current=ee)},[B,t,N,$]),H=v.useCallback(ee=>{T(xD(ee)),T(Gr({handler:o,reactEvent:ee}))},[T,o]),D=v.useCallback(ee=>{T(Av(ee)),T(Gr({handler:h,reactEvent:ee}))},[T,h]),k=v.useCallback(ee=>{T(sk()),T(Gr({handler:p,reactEvent:ee}))},[T,p]),_=v.useCallback(ee=>{T(Av(ee)),T(Gr({handler:g,reactEvent:ee}))},[T,g]),F=v.useCallback(()=>{T(ED())},[T]),Y=v.useCallback(ee=>{T(wD(ee.key))},[T]),U=v.useCallback(ee=>{T(Gr({handler:d,reactEvent:ee}))},[T,d]),L=v.useCallback(ee=>{T(Gr({handler:u,reactEvent:ee}))},[T,u]),te=v.useCallback(ee=>{T(Gr({handler:m,reactEvent:ee}))},[T,m]),V=v.useCallback(ee=>{T(Gr({handler:b,reactEvent:ee}))},[T,b]),X=v.useCallback(ee=>{T(Gr({handler:E,reactEvent:ee}))},[T,E]),Q=v.useCallback(ee=>{w&&T(TD(ee)),T(Gr({handler:S,reactEvent:ee}))},[T,w,S]),ae=v.useCallback(ee=>{T(Gr({handler:y,reactEvent:ee}))},[T,y]),pe=bV(O);return v.createElement(Tk.Provider,{value:M},v.createElement(HE.Provider,{value:I},v.createElement(pe,{width:q??C?.width,height:W??C?.height,className:ot("recharts-wrapper",r),style:uV({position:"relative",cursor:"default",width:q,height:W},C),onClick:H,onContextMenu:U,onDoubleClick:L,onFocus:F,onKeyDown:Y,onMouseDown:te,onMouseEnter:D,onMouseLeave:k,onMouseMove:_,onMouseUp:V,onTouchEnd:ae,onTouchMove:Q,onTouchStart:X,ref:K},v.createElement(pV,null),n)))}),SV=["width","height","responsive","children","className","style","compact","title","desc"];function AV(e,t){if(e==null)return{};var n,r,l=wV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function wV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ND=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:l,children:o,className:d,style:u,compact:m,title:h,desc:p}=e,g=AV(e,SV),b=Xn(g);return m?v.createElement(v.Fragment,null,v.createElement(Qf,{width:n,height:r}),v.createElement(eE,{otherAttributes:b,title:h,desc:p},o)):v.createElement(jV,{className:d,style:u,width:n,height:r,responsive:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(eE,{otherAttributes:b,title:h,desc:p,ref:t},v.createElement(wW,null,o)))});function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}var EV={top:5,right:5,bottom:5,left:5},CV={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EV,reverseStackOrder:!1,syncMethod:"index",responsive:!1},_x=v.forwardRef(function(t,n){var r,l=jn(t.categoricalChartProps,CV),{chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,p={chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(kD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:o},v.createElement(eD,{chartData:h.data}),v.createElement(DD,{layout:l.layout,margin:l.margin}),v.createElement(MD,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),v.createElement(ND,wv({},l,{ref:n})))}),TV=["axis"],Jc=v.forwardRef((e,t)=>v.createElement(_x,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TV,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t})),OV=["axis","item"],Zn=v.forwardRef((e,t)=>v.createElement(_x,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OV,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t}));function kV(e){var t=Yt();return v.useEffect(()=>{t(ZK(e))},[t,e]),null}var DV=["layout"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function MV(e,t){if(e==null)return{};var n,r,l=NV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function NV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zV={top:5,right:5,bottom:5,left:5},PV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:zV,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},_V=v.forwardRef(function(t,n){var r,l=jn(t.categoricalChartProps,PV),{layout:o}=l,d=MV(l,DV),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,g={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(kD,{preloadedState:{options:g},reduxStoreName:(r=l.id)!==null&&r!==void 0?r:u},v.createElement(eD,{chartData:l.data}),v.createElement(DD,{layout:o,margin:l.margin}),v.createElement(MD,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),v.createElement(kV,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),v.createElement(ND,Ev({},d,{ref:n})))}),IV=["item"],RV={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ed=v.forwardRef((e,t)=>{var n=jn(e,RV);return v.createElement(_V,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:IV,tooltipPayloadSearcher:gm,categoricalChartProps:n,ref:t})}),BV=["axis"],$V=v.forwardRef((e,t)=>v.createElement(_x,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BV,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t}));const ke=({variant:e="stat",icon:t,value:n,label:r,color:l,trend:o,trendType:d,onClick:u,children:m,className:h="",style:p,fontSize:g=1})=>{const{colors:b}=Aa(),[y,S]=v.useState(!1),A={...{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",position:"relative",overflow:"hidden",cursor:u?"pointer":"default",...p},...y&&u?{boxShadow:"0 12px 40px 0 rgba(31, 38, 135, 0.25)",background:"rgba(255, 255, 255, 0.85)"}:{}},O={position:"absolute",top:0,left:0,right:0,height:"3px",background:`linear-gradient(90deg, ${l||b.primary} 0%, ${b.secondary} 100%)`,opacity:y?1:0},w={display:"flex",alignItems:"center",gap:"1rem"},z={width:`${60*g}px`,height:`${60*g}px`,borderRadius:`${.75*g}rem`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.1)",color:l||b.primary},T={flex:1},M={margin:"0 0 0.5rem 0",color:b.textSecondary,fontSize:`${.875*g}rem`,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},N={margin:0,color:b.text,fontSize:`${2*g*.7}rem`,fontWeight:700},I={marginTop:"0.5rem",fontSize:`${.75*g}rem`,fontWeight:600,display:"flex",alignItems:"center",gap:"0.25rem",color:d==="positive"?"#27ae60":d==="negative"?"#e74c3c":b.textSecondary};return e==="custom"&&m?a.jsxs("div",{className:h,style:A,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:u,children:[a.jsx("div",{style:O}),m]}):a.jsxs("div",{className:h,style:A,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:u,children:[a.jsx("div",{style:O}),a.jsxs("div",{style:w,children:[t&&a.jsx("div",{style:z,children:t}),a.jsxs("div",{style:T,children:[r&&a.jsx("h3",{style:M,children:r}),n!==void 0&&a.jsx("p",{style:N,children:n}),o&&a.jsx("p",{style:I,children:o})]})]})]})},LV=({data:e})=>{const t=[{name:"Science",students:45,teachers:8},{name:"Mathematics",students:38,teachers:6},{name:"English",students:32,teachers:5},{name:"History",students:28,teachers:4},{name:"Arts",students:22,teachers:3}],n=[{name:"Science",value:45,color:"#667eea"},{name:"Mathematics",value:38,color:"#764ba2"},{name:"English",value:32,color:"#f093fb"},{name:"History",value:28,color:"#4facfe"},{name:"Arts",value:22,color:"#27ae60"}],r=e.financial||{monthlyRevenue:0,totalFees:0,expenses:0,profit:0},l=b=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(b)}`,o={width:"100%"},d={margin:"0 0 2rem 0",color:"#333",fontSize:"2rem"},u={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(210px, 1fr))",gap:"1.125rem"},m={margin:"2.5rem 0 1.5rem 0",fontSize:"1.5rem",fontWeight:600,color:"#333",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},h={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},p={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},g={margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .dashboard-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        .chart-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        @media (max-width: 768px) {
          .charts-container {
            grid-template-columns: 1fr;
          }
        }
      `}),a.jsxs("div",{style:o,children:[a.jsx("h2",{style:d,children:"Admin Dashboard"}),a.jsxs("div",{style:u,children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Vt,{size:21}),value:e.stats?.totalStudents||0,label:"Total Students",color:"#667eea",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(vc,{size:21}),value:e.stats?.totalTeachers||0,label:"Total Teachers",color:"#48bb78",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(Pt,{size:21}),value:e.stats?.totalClasses||0,label:"Total Classes",color:"#ed8936",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:21}),value:e.stats?.pendingAdmissions||0,label:"Pending Approvals",color:"#9f7aea",fontSize:.75})]}),a.jsx("div",{style:m,children:"Financial Overview"}),a.jsxs("div",{style:u,children:[a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:21}),value:l(r.monthlyRevenue),label:"Monthly Revenue",color:"#667eea",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(UE,{size:21}),value:l(r.totalFees),label:"Total Fees",color:"#48bb78",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:21}),value:l(r.expenses),label:"Monthly Expenses",color:"#e53e3e",fontSize:.75}),a.jsx(ke,{variant:"stat",icon:a.jsx(Za,{size:21}),value:l(r.profit),label:"Net Profit",color:"#667eea",fontSize:.75})]}),a.jsx("div",{style:m,children:"Department Statistics"}),a.jsxs("div",{style:h,className:"charts-container",children:[a.jsxs("div",{style:p,className:"chart-card",children:[a.jsx("h3",{style:g,children:"Students & Teachers by Department"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"name"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"students",fill:"#667eea",name:"Students"}),a.jsx(Jt,{dataKey:"teachers",fill:"#764ba2",name:"Teachers"})]})})]}),a.jsxs("div",{style:p,className:"chart-card",children:[a.jsx("h3",{style:g,children:"Student Distribution by Department"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(ed,{children:[a.jsx(oo,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:b=>`${b.name} ${(b.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((b,y)=>a.jsx(gi,{fill:b.color},`cell-${y}`))}),a.jsx(zt,{})]})})]})]})]})]})},UV=()=>{const e=[{label:"My Classes",value:"5",icon:a.jsx(Pt,{size:28}),color:"#667eea"},{label:"Total Students",value:"142",icon:a.jsx(Vt,{size:28}),color:"#48bb78"},{label:"Assignments",value:"12",icon:a.jsx(lt,{size:28}),color:"#ed8936"},{label:"Upcoming Exams",value:"3",icon:a.jsx(We,{size:28}),color:"#9f7aea"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Teacher Dashboard"})}),a.jsx("div",{className:"dashboard-grid",children:e.map(t=>a.jsx(ke,{variant:"stat",icon:t.icon,value:t.value,label:t.label,color:t.color},t.label))})]})},FV=()=>{const e=[{label:"My Courses",value:"6",icon:a.jsx(Pt,{size:28}),color:"#667eea"},{label:"Assignments",value:"8",icon:a.jsx(Ty,{size:28}),color:"#48bb78"},{label:"Upcoming Exams",value:"2",icon:a.jsx(We,{size:28}),color:"#ed8936"},{label:"Average Grade",value:"A-",icon:a.jsx(Bl,{size:28}),color:"#9f7aea"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Dashboard"})}),a.jsx("div",{className:"dashboard-grid",children:e.map(t=>a.jsx(ke,{variant:"stat",icon:t.icon,value:t.value,label:t.label,color:t.color},t.label))})]})},GV=()=>{const e={monthlyRevenue:45e3,totalFees:38e4,expenses:35e3,profit:1e4},t=[{month:"Jan",Revenue:4e4,Expenses:3e4,Profit:1e4},{month:"Feb",Revenue:42e3,Expenses:32e3,Profit:1e4},{month:"Mar",Revenue:45e3,Expenses:35e3,Profit:1e4},{month:"Apr",Revenue:48e3,Expenses:33e3,Profit:15e3},{month:"May",Revenue:5e4,Expenses:34e3,Profit:16e3},{month:"Jun",Revenue:52e3,Expenses:36e3,Profit:16e3}],n=[{name:"Fee Collection",value:28e4,color:"#667eea"},{name:"Other Income",value:1e5,color:"#764ba2"}],r=m=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(m)}`,l={margin:"2.5rem 0 1.5rem 0",fontSize:"1.5rem",fontWeight:600,color:"#333",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},o={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},d={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},u={margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .chart-card:hover {
          box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.25);
          background: rgba(255, 255, 255, 0.85);
        }
        @media (max-width: 768px) {
          .charts-container {
            grid-template-columns: 1fr;
          }
        }
      `}),a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Accountant Dashboard"})}),a.jsx("div",{style:l,children:"Financial Overview"}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:28}),value:r(e.monthlyRevenue),label:"Monthly Revenue",color:"#667eea",trend:"+12% from last month",trendType:"positive"}),a.jsx(ke,{variant:"stat",icon:a.jsx(UE,{size:28}),value:r(e.totalFees),label:"Total Fees",color:"#48bb78",trend:"+8% from last year",trendType:"positive"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:28}),value:r(e.expenses),label:"Monthly Expenses",color:"#e53e3e",trend:"-5% from last month",trendType:"negative"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Za,{size:28}),value:r(e.profit),label:"Net Profit",color:"#667eea",trend:"+15% from last month",trendType:"positive"})]}),a.jsx("div",{style:l,children:"Financial Analytics"}),a.jsxs("div",{style:o,className:"charts-container",children:[a.jsxs("div",{style:d,className:"chart-card",children:[a.jsx("h3",{style:u,children:"Monthly Financial Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{formatter:m=>r(m)}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"Revenue",fill:"#667eea",name:"Revenue"}),a.jsx(Jt,{dataKey:"Expenses",fill:"#e53e3e",name:"Expenses"}),a.jsx(Jt,{dataKey:"Profit",fill:"#48bb78",name:"Profit"})]})})]}),a.jsxs("div",{style:d,className:"chart-card",children:[a.jsx("h3",{style:u,children:"Revenue by Category"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(ed,{children:[a.jsx(oo,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:m=>`${m.name} ${(m.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((m,h)=>a.jsx(gi,{fill:m.color},`cell-${h}`))}),a.jsx(zt,{formatter:m=>r(m)})]})})]})]})]})]})},qV=({role:e})=>{const t=Jr(),{colors:n}=Aa(),[r,l]=v.useState([]),o=C=>{l(A=>A.includes(C)?A.filter(O=>O!==C):[...A,C])},u=v.useMemo(()=>{const C=[{title:"Dashboard",path:`/dashboard/${e}`,icon:a.jsx(M6,{size:20})}];return e==="teacher"&&C.push({title:"Students",path:`/dashboard/${e}/students`,icon:a.jsx(Vt,{size:20})},{title:"Attendance",path:`/dashboard/${e}/attendance`,icon:a.jsx(ZS,{size:20})},{title:"Assignments",path:`/dashboard/${e}/assignments`,icon:a.jsx(lt,{size:20})},{title:"Exams & Results",path:`/dashboard/${e}/exams`,icon:a.jsx(wr,{size:20})},{title:"Timetable",path:`/dashboard/${e}/timetable`,icon:a.jsx(We,{size:20})}),e==="student"&&C.push({title:"My Courses",path:`/dashboard/${e}/my-courses`,icon:a.jsx(Pt,{size:20})},{title:"Assignments",path:`/dashboard/${e}/assignments`,icon:a.jsx(Ty,{size:20})},{title:"Papers",path:`/dashboard/${e}/papers`,icon:a.jsx(lt,{size:20})},{title:"My Grades",path:`/dashboard/${e}/my-grades`,icon:a.jsx(Bl,{size:20})}),e==="accountant"&&C.push({title:"Accounts",path:`/dashboard/${e}/accounts`,icon:a.jsx(qt,{size:20}),subMenus:[{title:"Overview",path:"/accounts"},{title:"Student Fee Collection",path:"/accounts/fees"},{title:"Teacher Payroll",path:"/accounts/payroll"},{title:"Expenses",path:"/accounts/expenses"},{title:"Reports",path:"/accounts/reports"},{title:"Transactions",path:"/accounts/transactions"}]}),e==="admin"&&C.push({title:"Teachers",path:`/dashboard/${e}/teachers`,icon:a.jsx(Vt,{size:20}),subMenus:[{title:"All Teachers",path:"/teachers"},{title:"Teacher Performance",path:"/teachers/performance"}]},{title:"Students",path:`/dashboard/${e}/students`,icon:a.jsx(wr,{size:20}),subMenus:[{title:"All Students",path:"/students"},{title:"Student Records",path:"/students/records"},{title:"Student Assignments",path:"/students/assignments"},{title:"Tests Papers",path:"/students/tests"},{title:"Quizzes",path:"/students/quizzes"}]},{title:"Classes",path:`/dashboard/${e}/classes`,icon:a.jsx(Pt,{size:20})},{title:"Subjects",path:`/dashboard/${e}/subjects`,icon:a.jsx(Jz,{size:20})},{title:"Attendance",path:`/dashboard/${e}/attendance/mark`,icon:a.jsx(ZS,{size:20}),subMenus:[{title:"Mark Attendance",path:"/attendance/mark"},{title:"View Attendance",path:"/attendance/view"},{title:"Attendance Reports",path:"/attendance/reports"},{title:"Daily Reports",path:"/attendance/daily"}]},{title:"Exams",path:`/dashboard/${e}/exams`,icon:a.jsx(lt,{size:20}),subMenus:[{title:"All Exams",path:"/exams"},{title:"Results",path:"/exams/results"},{title:"Admit Cards",path:"/exams/admit-cards"}]},{title:"Accounts",path:`/dashboard/${e}/accounts`,icon:a.jsx(qt,{size:20}),subMenus:[{title:"Overview",path:"/accounts"},{title:"Fee Management",path:"/accounts/fee-management"},{title:"Student Fee Collection",path:"/accounts/fees"},{title:"Teacher Payroll",path:"/accounts/payroll"},{title:"Expenses",path:"/accounts/expenses"},{title:"Reports",path:"/accounts/reports"},{title:"Transactions",path:"/accounts/transactions"}]},{title:"Admissions",path:`/dashboard/${e}/admissions`,icon:a.jsx(Ty,{size:20}),subMenus:[{title:"Applications",path:"/admissions"},{title:"Admission Reports",path:"/admissions/reports"}]},{title:"Reports",path:`/dashboard/${e}/reports`,icon:a.jsx(Bl,{size:20}),subMenus:[{title:"Academic Reports",path:"/reports/academic"},{title:"Attendance Reports",path:"/reports/attendance"}]},{title:"User Management",path:`/dashboard/${e}/users`,icon:a.jsx(fP,{size:20}),subMenus:[{title:"All Users",path:"/users"},{title:"User Activity",path:"/users/activity"}]},{title:"Multi Branch",path:`/dashboard/${e}/branches`,icon:a.jsx(Wi,{size:20}),subMenus:[{title:"All Branches",path:"/branches"},{title:"Add Branch",path:"/branches/add"},{title:"Branch Settings",path:"/branches/settings"},{title:"Branch Transfer",path:"/branches/transfer"},{title:"Branch Reports",path:"/branches/reports"}]},{title:"Settings",path:`/dashboard/${e}/settings`,icon:a.jsx(LE,{size:20}),subMenus:[{title:"Master Data",path:"/settings/master-data"},{title:"Theme Settings",path:"/settings/theme"},{title:"Button Examples",path:"/settings/buttons"},{title:"Badge Examples",path:"/settings/badges"},{title:"Icon Button Examples",path:"/settings/icon-buttons"}]}),C},[e]),m={width:"260px",background:n.sidebar,color:n.text,height:"100vh",position:"fixed",left:0,top:0,overflowY:"auto",boxShadow:"2px 0 10px rgba(0, 0, 0, 0.05)",zIndex:1e3,borderRight:`1px solid ${n.border}`},h={padding:"1.5rem",borderBottom:`1px solid ${n.border}`},p={margin:0,fontSize:"1.25rem",fontWeight:600,color:n.text},g={padding:"1rem 0"},b=(C,A)=>({display:"flex",alignItems:"center",padding:"0.875rem 1.5rem",color:C?n.active:n.text,textDecoration:"none",cursor:"pointer",borderLeft:`3px solid ${C?n.active:"transparent"}`,background:C?n.surface:A?n.background:"transparent",fontWeight:C?600:400}),y={marginRight:"0.75rem",width:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:n.textSecondary},S={listStyle:"none",padding:0,margin:0,background:n.background},E=C=>({display:"block",padding:"0.75rem 1.5rem 0.75rem 3.5rem",color:C?n.active:n.textSecondary,textDecoration:"none",borderLeft:`3px solid ${C?n.active:"transparent"}`,fontSize:"0.9rem",background:C?n.surface:"transparent",fontWeight:C?600:400});return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .menu-title:hover {
          background: ${n.background} !important;
          border-left-color: ${n.hover} !important;
        }
        .sub-menu a:hover {
          background: ${n.surface} !important;
          border-left-color: ${n.hover} !important;
          padding-left: 4rem;
          color: ${n.text} !important;
        }
        .menu-title.active .menu-icon {
          color: ${n.active} !important;
        }
        .sidebar::-webkit-scrollbar {
          width: 6px;
        }
        .sidebar::-webkit-scrollbar-track {
          background: ${n.background};
        }
        .sidebar::-webkit-scrollbar-thumb {
          background: ${n.border};
          border-radius: 3px;
        }
        .sidebar::-webkit-scrollbar-thumb:hover {
          background: ${n.textSecondary};
        }
      `}),a.jsxs("aside",{className:"sidebar",style:m,children:[a.jsx("div",{style:h,children:a.jsx("h2",{style:p,children:"Scholyman"})}),a.jsx("nav",{style:g,children:u.map(C=>{const A=t.pathname===C.path||t.pathname.startsWith(C.path+"/"),O=r.includes(C.title);return a.jsx("div",{style:{marginBottom:"0.25rem"},children:C.subMenus?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:b(A,O),className:"menu-title",onClick:()=>o(C.title),children:[a.jsx("span",{style:y,className:"menu-icon",children:C.icon}),a.jsx("span",{style:{flex:1},children:C.title}),a.jsx(s6,{size:16,style:{transform:O?"rotate(180deg)":"rotate(0deg)"}})]}),O&&a.jsx("ul",{style:S,children:C.subMenus.map(w=>{const z=t.pathname===`/dashboard/${e}${w.path}`;return a.jsx("li",{style:{margin:0},children:a.jsx(Rl,{to:`/dashboard/${e}${w.path}`,style:E(z),className:z?"active":"",children:w.title})},w.path)})})]}):a.jsxs(Rl,{to:C.path,style:b(A,!1),className:A?"active":"",children:[a.jsx("span",{style:y,className:"menu-icon",children:C.icon}),a.jsx("span",{style:{flex:1},children:C.title})]})},C.title)})})]})]})},WV=({role:e})=>{const t=vt(),{colors:n}=Aa(),r=()=>{t("/")},l={background:n.navbar,borderBottom:`1px solid ${n.border}`,color:n.text,padding:"1.5rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",position:"sticky",top:0,zIndex:100},o={margin:0,fontSize:"1.5rem",fontWeight:600,color:n.text},d={display:"flex",alignItems:"center",gap:"1rem"},u={background:n.background,color:n.active,padding:"0.5rem 1rem",borderRadius:"0.5rem",fontWeight:600,fontSize:"0.875rem"},m={background:n.button,color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:500};return a.jsxs("header",{style:l,children:[a.jsx("h1",{style:o,children:"Scholyman"}),a.jsxs("div",{style:d,children:[a.jsx("span",{style:u,children:e.toUpperCase()}),a.jsx("button",{onClick:r,style:m,onMouseEnter:h=>{h.currentTarget.style.background=n.buttonHover},onMouseLeave:h=>{h.currentTarget.style.background=n.button},children:"Logout"})]})]})},nE=({role:e,children:t})=>{const{colors:n}=Aa(),r={minHeight:"100vh",background:n.background,display:"flex"},l={flex:1,marginLeft:"260px",display:"flex",flexDirection:"column",background:n.background},o={padding:"2rem",flex:1,minHeight:"calc(100vh - 80px)"};return a.jsxs("div",{style:r,children:[a.jsx(qV,{role:e}),a.jsxs("div",{style:l,children:[a.jsx(WV,{role:e}),a.jsx("main",{style:o,children:t})]})]})},HV=()=>{const{role:e}=qn(),t=vt(),n=Jr(),[r,l]=v.useState(null),[o,d]=v.useState(!0),[u,m]=v.useState(null);return v.useEffect(()=>{if(!e||!["admin","teacher","student","accountant"].includes(e)){t("/");return}const h="http://localhost:5001/api",p=localStorage.getItem("auth_token");if(!p){t("/");return}fetch(`${h}/dashboard/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}}).then(g=>{if(!g.ok){if(g.status===401){localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),t("/");return}throw new Error(`HTTP error! status: ${g.status}`)}return g.json()}).then(g=>{if(g.success&&g.data)if(e==="admin"&&g.data){const b={stats:{totalStudents:g.data.totalStudents||0,totalTeachers:g.data.totalTeachers||0,totalClasses:g.data.totalClasses||0,totalSubjects:g.data.totalSubjects||0,pendingAdmissions:g.data.pendingAdmissions||0,activeExams:g.data.activeExams||0,totalUsers:g.data.totalUsers||0},financial:g.data.financial,recentFeeCollections:g.data.recentFeeCollections};l({admin:b})}else l({[e]:g.data});else if(e==="admin"&&g){const b={stats:{totalStudents:g.totalStudents||0,totalTeachers:g.totalTeachers||0,totalClasses:g.totalClasses||0,totalSubjects:g.totalSubjects||0,pendingAdmissions:g.pendingAdmissions||0,activeExams:g.activeExams||0,totalUsers:g.totalUsers||0},financial:g.financial,recentFeeCollections:g.recentFeeCollections};l({admin:b})}else l({[e]:g});d(!1)}).catch(g=>{console.error("Error fetching dashboard data:",g),m(g.message),d(!1),l(null)})},[e,t]),o?a.jsx("div",{className:"loading",children:"Loading..."}):e?u?a.jsx(nE,{role:e,children:a.jsxs("div",{className:"error-message",children:[a.jsx("h2",{children:"Connection Error"}),a.jsx("p",{children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Retry"})]})}):a.jsxs(nE,{role:e,children:[a.jsx(iz,{}),n.pathname===`/dashboard/${e}`&&a.jsxs(a.Fragment,{children:[e==="admin"&&r?.admin&&a.jsx(LV,{data:r.admin}),e==="teacher"&&a.jsx(UV,{}),e==="student"&&a.jsx(FV,{}),e==="accountant"&&a.jsx(GV,{})]})]}):null},we=({variant:e="primary",size:t="md",children:n,isLoading:r=!1,fullWidth:l=!1,className:o="",disabled:d,style:u,...m})=>{const{colors:h}=Aa(),p={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontFamily:"inherit",fontWeight:600,border:"none",borderRadius:"0.5rem",cursor:d||r?"not-allowed":"pointer",textDecoration:"none",position:"relative",opacity:d||r?.6:1,...u},g={sm:{padding:"0.5rem 1rem",fontSize:"0.875rem"},md:{padding:"0.75rem 1.5rem",fontSize:"1rem"},lg:{padding:"1rem 2rem",fontSize:"1.125rem"}},b={primary:{background:`linear-gradient(135deg, ${h.button} 0%, ${h.secondary} 100%)`,color:"white"},secondary:{background:h.background,color:h.text},danger:{background:"#e53e3e",color:"white"},success:{background:"#48bb78",color:"white"},outline:{background:"transparent",color:h.button,border:`2px solid ${h.button}`}},y={primary:{boxShadow:`0 5px 15px ${h.button}40`,background:`linear-gradient(135deg, ${h.buttonHover} 0%, ${h.secondary} 100%)`},secondary:{background:h.surface},danger:{background:"#c53030",boxShadow:"0 5px 15px rgba(229, 62, 62, 0.4)"},success:{background:"#38a169",boxShadow:"0 5px 15px rgba(72, 187, 120, 0.4)"},outline:{background:h.button,color:"white"}},[S,E]=v.useState(!1),C={...p,...g[t],...b[e],...S&&!d&&!r?y[e]:{},...l?{width:"100%"}:{}},A={width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%"};return a.jsx(a.Fragment,{children:a.jsxs("button",{className:o,style:C,disabled:d||r,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),...m,children:[r&&a.jsx("span",{style:A}),a.jsx("span",{style:{opacity:r?.7:1},children:n})]})})},Se=({children:e,variant:t="primary",size:n="md",rounded:r=!0,className:l="",style:o})=>{const d={pending:{backgroundColor:"rgba(234, 179, 8, 0.1)",color:"#facc15",border:"1px solid rgba(234, 179, 8, 0.2)"},approved:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ade80",border:"1px solid rgba(34, 197, 94, 0.2)"},active:{backgroundColor:"rgba(14, 165, 233, 0.1)",color:"#38bdf8",border:"1px solid rgba(14, 165, 233, 0.2)"},rejected:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)"},late:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#fb923c",border:"1px solid rgba(249, 115, 22, 0.2)"},absent:{backgroundColor:"rgba(244, 63, 94, 0.1)",color:"#fb7185",border:"1px solid rgba(244, 63, 94, 0.2)"},onLeave:{backgroundColor:"rgba(99, 102, 241, 0.1)",color:"#818cf8",border:"1px solid rgba(99, 102, 241, 0.2)"},excellent:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},good:{backgroundColor:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)"},average:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"},poor:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},high:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},medium:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"},low:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},passed:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},failed:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.2)"},paid:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.2)"},partial:{backgroundColor:"rgba(249, 115, 22, 0.1)",color:"#f97316",border:"1px solid rgba(249, 115, 22, 0.2)"}},u={primary:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none"},secondary:{background:"#f0f0f0",color:"#333",border:"none"},success:{backgroundColor:"rgba(34, 197, 94, 0.1)",color:"#4ade80",border:"1px solid rgba(34, 197, 94, 0.2)"},danger:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.2)"},warning:{backgroundColor:"rgba(234, 179, 8, 0.1)",color:"#eab308",border:"1px solid rgba(234, 179, 8, 0.2)"},info:{backgroundColor:"rgba(14, 165, 233, 0.1)",color:"#38bdf8",border:"1px solid rgba(14, 165, 233, 0.2)"}},p={display:"inline-flex",alignItems:"center",fontWeight:500,whiteSpace:"nowrap",boxSizing:"border-box",...d[t]||u[t]||u.primary,...{sm:{padding:"0.125rem 0.625rem",fontSize:"0.75rem",borderRadius:r?"9999px":"0.25rem"},md:{padding:"0.125rem 0.625rem",fontSize:"0.75rem",borderRadius:r?"9999px":"0.375rem"},lg:{padding:"0.25rem 0.875rem",fontSize:"0.875rem",borderRadius:r?"9999px":"0.5rem"}}[n],...o};return a.jsx("span",{className:l,style:p,children:e})},qs={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},zD=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...qs,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.432 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),PD=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...qs,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6 18.25m0 0h12M10.56 2.25H13.5v1.5H10.56v-1.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9h1.5a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V12a3 3 0 0 1 3-3H6m12 0a42.415 42.415 0 0 0-12 0"})]}),_D=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...qs,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),ID=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...qs,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),RD=({className:e="w-6 h-6",size:t=18})=>a.jsxs("svg",{...qs,className:e,width:t,height:t,children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]}),KV=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...qs,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),VV=({className:e="w-6 h-6",size:t=18})=>a.jsx("svg",{...qs,className:e,width:t,height:t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),Ye=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="View"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(zD,{size:n==="sm"?14:n==="md"?16:18})}),Hr=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Print"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(PD,{size:n==="sm"?14:n==="md"?16:18})}),Ot=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Edit"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(_D,{size:n==="sm"?14:n==="md"?16:18})}),Ft=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Delete"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(229, 62, 62, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#e53e3e"},children:a.jsx(ID,{size:n==="sm"?14:n==="md"?16:18})}),qr=({onClick:e,variant:t="outline",size:n="sm",disabled:r=!1,isLoading:l=!1,title:o="Approve"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(72, 187, 120, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#48bb78"},children:a.jsx(RD,{size:n==="sm"?14:n==="md"?16:18})}),co=({onClick:e,variant:t="outline",size:n="md",disabled:r=!1,isLoading:l=!1,title:o="Add"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:"#3b82f6"},children:a.jsx(KV,{size:n==="sm"?14:n==="md"?16:18})}),Bn=({onClick:e,variant:t="outline",size:n="md",disabled:r=!1,isLoading:l=!1,title:o="Back"})=>a.jsx(we,{variant:t,size:n,onClick:e,disabled:r,isLoading:l,title:o,style:{padding:n==="sm"?"0.25rem 0.5rem":n==="md"?"0.5rem 0.75rem":"0.75rem 1rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:a.jsx(VV,{size:n==="sm"?14:n==="md"?16:18})}),et=({isOpen:e,onClose:t,title:n,children:r,size:l="md",showCloseButton:o=!0,closeOnOverlayClick:d=!0,customMaxWidth:u})=>{if(v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const m=C=>{d&&C.target===C.currentTarget&&t()},h={sm:"400px",md:"600px",lg:"800px",xl:"1200px"},p={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},g={background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",width:"100%",maxWidth:u||h[l]},b={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e0e0e0"},y={margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},S={background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",color:"#666",borderRadius:"0.25rem"},E={padding:"1.5rem",overflowY:"auto",flex:1};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        .modal-body-scroll::-webkit-scrollbar {
          width: 6px;
        }
        .modal-body-scroll::-webkit-scrollbar-track {
          background: #f5f5f5;
        }
        .modal-body-scroll::-webkit-scrollbar-thumb {
          background: #d0d0d0;
          border-radius: 3px;
        }
        .modal-body-scroll::-webkit-scrollbar-thumb:hover {
          background: #b0b0b0;
        }
      `}),a.jsx("div",{style:p,onClick:m,children:a.jsxs("div",{style:g,children:[(n||o)&&a.jsxs("div",{style:b,children:[n&&a.jsx("h2",{style:y,children:n}),o&&a.jsx("button",{style:S,onClick:t,onMouseEnter:C=>{C.currentTarget.style.background="#f5f5f5",C.currentTarget.style.color="#333"},onMouseLeave:C=>{C.currentTarget.style.background="none",C.currentTarget.style.color="#666"},children:a.jsx(ya,{size:20})})]}),a.jsx("div",{style:E,className:"modal-body-scroll",children:r})]})})]})},Ws=({title:e,fields:t,sections:n,onSubmit:r,submitButtonText:l="Submit",submitButtonIcon:o,initialData:d={},onFieldChange:u,customSectionContent:m={}})=>{const{colors:h}=Aa(),p=()=>{const D={};return t.forEach(k=>{k.multiple?D[k.name]=d[k.name]??k.defaultValue??[]:D[k.name]=d[k.name]??k.defaultValue??""}),D},[g,b]=v.useState(p),[y,S]=v.useState({});Cv.useEffect(()=>{if(Object.keys(d).length>0){const D={};t.forEach(k=>{if(k.multiple)D[k.name]=d[k.name]??k.defaultValue??[];else{const _=d[k.name];D[k.name]=_??k.defaultValue??""}}),console.log("Updating form data from initialData:",D),b(D)}},[d]);const E=(D,k)=>{b(_=>({..._,[D]:k})),u&&u(D,k),y[D]&&S(_=>{const F={..._};return delete F[D],F})},C=()=>{const D={};return t.forEach(k=>{if(k.required)if(k.multiple){const _=g[k.name];(!Array.isArray(_)||_.length===0)&&(D[k.name]=`${k.label} is required`)}else g[k.name]||(D[k.name]=`${k.label} is required`);k.type==="email"&&g[k.name]&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g[k.name])||(D[k.name]="Please enter a valid email address"))}),S(D),Object.keys(D).length===0},A=D=>{D.preventDefault(),C()&&r(g)},O=()=>{if(n&&n.length>0){const _=[];return n.forEach(F=>{const Y=t.filter(V=>F.fieldNames.includes(V.name)),U=m[F.title];if(Y.length===0&&U){_.push({title:F.title,fields:[]});return}let L=[],te=!0;Y.forEach((V,X)=>{V.thirdWidth||V.halfWidth?(L.push(V),(L.length===3||X===Y.length-1||!Y[X+1]?.thirdWidth&&!Y[X+1]?.halfWidth)&&(_.push({title:te?F.title:void 0,fields:[...L]}),te=!1,L=[])):(L.length>0&&(_.push({title:te?F.title:void 0,fields:[...L]}),te=!1,L=[]),_.push({title:te?F.title:void 0,fields:[V]}),te=!1)}),L.length>0&&_.push({title:te?F.title:void 0,fields:L})}),_}const D=[];let k=[];return t.forEach((_,F)=>{if(_.thirdWidth||_.halfWidth){k.push(_);const Y=t[F+1];(!Y||!Y.thirdWidth&&!Y.halfWidth||k.length===3)&&(D.push({fields:[...k]}),k=[])}else k.length>0&&(D.push({fields:[...k]}),k=[]),D.push({fields:[_]})}),k.length>0&&D.push({fields:k}),D},[w,z]=v.useState(new Set),T=D=>{z(k=>new Set(k).add(D))},M=D=>{z(k=>{const _=new Set(k);return _.delete(D),_})},N=D=>{const k=!!y[D.name],_=w.has(D.name),F=`field-${D.name}`,Y={padding:"0.625rem 0.75rem",borderWidth:"2px",borderStyle:"solid",borderColor:k?"#e53e3e":h.border,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",background:"white",width:"100%",boxSizing:"border-box"},U={outline:"none",borderColor:k?"#e53e3e":h.active},L={...Y,..._?U:{}},te={fontWeight:500,color:h.text,fontSize:"0.85rem",marginBottom:"0.375rem"},V={color:"#e53e3e",fontSize:"0.8rem",marginTop:"0.25rem"},X={display:"flex",flexDirection:"column",gap:"0.375rem",flex:D.thirdWidth||D.halfWidth?"1":void 0},Q=()=>{switch(D.type){case"select":if(D.multiple){const ae=Array.isArray(g[D.name])?g[D.name]:[];return a.jsx("select",{id:F,multiple:!0,value:ae,onChange:pe=>{const ee=Array.from(pe.target.selectedOptions,xe=>xe.value);E(D.name,ee)},onFocus:()=>T(D.name),onBlur:()=>M(D.name),required:D.required,style:{...L,minHeight:"120px",padding:"0.5rem"},children:D.options?.map((pe,ee)=>a.jsx("option",{value:pe.value,children:pe.label},pe.key||pe.value||`option-${ee}`))})}else return a.jsxs("select",{id:F,value:g[D.name]||"",onChange:ae=>E(D.name,ae.target.value),onFocus:()=>T(D.name),onBlur:()=>M(D.name),required:D.required,disabled:D.disabled,style:{...L,...D.disabled?{opacity:.6,cursor:"not-allowed"}:{}},children:[a.jsx("option",{value:"",children:D.placeholder||`Select ${D.label}`}),Array.isArray(D.options)&&D.options.map((ae,pe)=>a.jsx("option",{value:ae.value,children:ae.label},ae.key||ae.value||`option-${pe}`))]});case"textarea":return a.jsx("textarea",{id:F,value:g[D.name]||"",onChange:ae=>E(D.name,ae.target.value),onFocus:()=>T(D.name),onBlur:()=>M(D.name),placeholder:D.placeholder,required:D.required,rows:D.rows||4,style:{...L,resize:"vertical",minHeight:"80px"}});default:return a.jsx("input",{id:F,type:D.type,value:g[D.name]||"",onChange:ae=>E(D.name,ae.target.value),onFocus:()=>T(D.name),onBlur:()=>M(D.name),placeholder:D.placeholder,required:D.required,disabled:D.disabled,min:D.min,max:D.max,style:{...L,...D.disabled?{opacity:.6,cursor:"not-allowed",backgroundColor:"#f5f5f5"}:{}}})}};return a.jsxs("div",{style:X,children:[a.jsxs("label",{htmlFor:F,style:te,children:[D.label," ",D.required&&a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),Q(),k&&a.jsx("span",{style:V,children:y[D.name]})]},D.name)},I={padding:"1rem 2rem",paddingTop:"1rem",minHeight:"100vh",background:h.background},$={marginBottom:"1rem"},B={fontSize:"1.5rem",fontWeight:700,color:h.text,margin:0},R={background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",maxWidth:"1200px",margin:"0 auto"},q={display:"flex",flexDirection:"column",gap:"1rem"},W={fontSize:"0.95rem",fontWeight:600,color:h.text,marginTop:"0.75rem",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.5px"},K={display:"flex",gap:"1rem",width:"100%"},H=O();return a.jsxs("div",{style:I,children:[a.jsx("div",{style:$,children:a.jsx("h1",{style:B,children:e})}),a.jsx("div",{style:R,children:a.jsxs("form",{onSubmit:A,style:q,children:[H.map((D,k)=>{const _=D.title&&m[D.title],F=D.fields&&D.fields.length>0;return a.jsxs("div",{children:[D.title&&a.jsx("div",{style:{...W,marginTop:k===0?0:"1rem"},children:D.title}),_&&D.title&&a.jsx("div",{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:m[D.title]}),F&&(F&&D.fields.length===1&&!D.fields[0].thirdWidth&&!D.fields[0].halfWidth?N(D.fields[0]):a.jsx("div",{style:K,children:D.fields.map(Y=>N(Y))}))]},k)}),a.jsxs(we,{type:"submit",variant:"primary",size:"md",fullWidth:!0,style:{marginTop:"0.75rem"},children:[o||a.jsx(Zt,{size:16}),l]})]})})]})},or=({isOpen:e,onClose:t,title:n,fields:r,sections:l,onSubmit:o,submitButtonText:d="Submit",submitButtonIcon:u,initialData:m={},onFieldChange:h,size:p="md",closeOnOverlayClick:g=!0})=>{const{colors:b}=Aa(),y=()=>{const X={};return r.forEach(Q=>{X[Q.name]=m[Q.name]??Q.defaultValue??""}),X},[S,E]=v.useState(y),[C,A]=v.useState({}),[O,w]=v.useState(new Set),z=v.useRef(e);v.useEffect(()=>{if(e&&!z.current)if(Object.keys(m).length>0){const X={};r.forEach(Q=>{X[Q.name]=m[Q.name]??Q.defaultValue??""}),E(X)}else E(y());!e&&z.current&&(E(y()),A({}),w(new Set)),z.current=e},[e]),v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const T=(X,Q)=>{const ae={...S,[X]:Q};E(ae),C[X]&&A(pe=>{const ee={...pe};return delete ee[X],ee}),h&&h(X,Q,ae)},M=()=>{const X={};return r.forEach(Q=>{Q.required&&!S[Q.name]&&(X[Q.name]=`${Q.label} is required`),Q.type==="email"&&S[Q.name]&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(S[Q.name])||(X[Q.name]="Please enter a valid email address"))}),A(X),Object.keys(X).length===0},N=X=>{X.preventDefault(),M()&&o(S)},I=X=>{w(Q=>new Set(Q).add(X))},$=X=>{w(Q=>{const ae=new Set(Q);return ae.delete(X),ae})},B=()=>{if(l&&l.length>0){const ae=[];return l.forEach(pe=>{const ee=r.filter(de=>pe.fieldNames.includes(de.name));let xe=[],ge=!0;ee.forEach((de,Ee)=>{de.thirdWidth||de.halfWidth?(xe.push(de),(xe.length===3||Ee===ee.length-1||!ee[Ee+1]?.thirdWidth&&!ee[Ee+1]?.halfWidth)&&(ae.push({title:ge?pe.title:void 0,fields:[...xe]}),ge=!1,xe=[])):(xe.length>0&&(ae.push({title:ge?pe.title:void 0,fields:[...xe]}),ge=!1,xe=[]),ae.push({title:ge?pe.title:void 0,fields:[de]}),ge=!1)}),xe.length>0&&ae.push({title:ge?pe.title:void 0,fields:xe})}),ae}const X=[];let Q=[];return r.forEach((ae,pe)=>{if(ae.thirdWidth||ae.halfWidth){Q.push(ae);const ee=r[pe+1];(!ee||!ee.thirdWidth&&!ee.halfWidth||Q.length===3)&&(X.push({fields:[...Q]}),Q=[])}else Q.length>0&&(X.push({fields:[...Q]}),Q=[]),X.push({fields:[ae]})}),Q.length>0&&X.push({fields:Q}),X},R=X=>{const Q=!!C[X.name],ae=O.has(X.name),pe=`modal-field-${X.name}`,ee={padding:"0.625rem 0.75rem",borderWidth:"2px",borderStyle:"solid",borderColor:Q?"#e53e3e":b.border,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",background:"white",width:"100%",boxSizing:"border-box"},xe={outline:"none",borderColor:Q?"#e53e3e":b.active},ge={...ee,...ae?xe:{}},de={fontWeight:500,color:b.text,fontSize:"0.85rem",marginBottom:"0.375rem"},Ee={color:"#e53e3e",fontSize:"0.8rem",marginTop:"0.25rem"},Z={display:"flex",flexDirection:"column",gap:"0.375rem",flex:X.thirdWidth||X.halfWidth?"1":void 0},ye=()=>{switch(X.type){case"select":return a.jsxs("select",{id:pe,value:S[X.name]||"",onChange:De=>T(X.name,De.target.value),onFocus:()=>I(X.name),onBlur:()=>$(X.name),required:X.required,style:ge,children:[a.jsx("option",{value:"",children:X.placeholder||`Select ${X.label}`}),X.options?.map(De=>a.jsx("option",{value:De.value,children:De.label},De.value))]});case"textarea":return a.jsx("textarea",{id:pe,value:S[X.name]||"",onChange:De=>T(X.name,De.target.value),onFocus:()=>I(X.name),onBlur:()=>$(X.name),placeholder:X.placeholder,required:X.required,rows:X.rows||4,style:{...ge,resize:"vertical",minHeight:"80px"}});default:return a.jsx("input",{id:pe,type:X.type,value:S[X.name]||"",onChange:De=>T(X.name,De.target.value),onFocus:()=>I(X.name),onBlur:()=>$(X.name),placeholder:X.placeholder,required:X.required,min:X.min,max:X.max,style:ge})}};return a.jsxs("div",{style:Z,children:[a.jsxs("label",{htmlFor:pe,style:de,children:[X.label," ",X.required&&a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),ye(),Q&&a.jsx("span",{style:Ee,children:C[X.name]})]},X.name)};if(!e)return null;const q=X=>{g&&X.target===X.currentTarget&&t()},W={sm:"400px",md:"600px",lg:"800px",xl:"1200px"},K={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},H={background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",width:"100%",maxWidth:W[p]},D={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:`1px solid ${b.border}`},k={fontSize:"1.25rem",fontWeight:600,color:b.text,margin:0},_={background:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",color:b.textSecondary},F={padding:"1.5rem",overflowY:"auto",flex:1},Y={display:"flex",flexDirection:"column",gap:"1.25rem"},U={fontSize:"1rem",fontWeight:600,color:b.text,marginBottom:"0.75rem",paddingBottom:"0.5rem",borderBottom:`2px solid ${b.border}`},L={display:"flex",gap:"1rem",alignItems:"flex-start"},te={display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1.5rem",borderTop:`1px solid ${b.border}`,background:"#f8f9fa"},V=B();return a.jsx(a.Fragment,{children:a.jsx("div",{style:K,onClick:q,children:a.jsxs("div",{style:H,onClick:X=>X.stopPropagation(),children:[a.jsxs("div",{style:D,children:[a.jsx("h2",{style:k,children:n}),a.jsx("button",{type:"button",onClick:t,style:_,onMouseEnter:X=>{X.currentTarget.style.background="#f0f0f0",X.currentTarget.style.color=b.text},onMouseLeave:X=>{X.currentTarget.style.background="transparent",X.currentTarget.style.color=b.textSecondary},children:a.jsx(ya,{size:20})})]}),a.jsx("div",{style:F,children:a.jsx("form",{id:"create-form-modal",onSubmit:N,style:Y,children:V.map((X,Q)=>a.jsxs("div",{children:[X.title&&a.jsx("h3",{style:U,children:X.title}),X.fields&&X.fields.length>0&&a.jsx("div",{style:X.fields.some(ae=>ae.thirdWidth||ae.halfWidth)?L:{},children:X.fields.map(ae=>R(ae))})]},Q))})}),a.jsxs("div",{style:te,children:[a.jsx(we,{type:"button",variant:"outline",size:"md",onClick:t,children:"Cancel"}),a.jsxs(we,{type:"submit",form:"create-form-modal",variant:"primary",size:"md",children:[u||a.jsx(Zt,{size:16}),d]})]})]})})})},Qt=({sections:e,title:t,columns:n=2})=>{const{colors:r}=Aa(),l={padding:"0.5rem 0"},o={marginBottom:"1.5rem"},d={marginBottom:"0.75rem",fontSize:"1rem",fontWeight:600,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},u={display:"flex",flexDirection:"column"},m={display:"block",fontSize:"0.8rem",color:"#666",marginBottom:"0.1rem"},h={margin:0,fontSize:"0.9rem",fontWeight:500},p={margin:0,fontSize:"0.9rem"},g=(y,S)=>{let E;y.spanFull?E="1 / -1":y.span&&y.span>1&&(E=`span ${y.span}`);const C={...u,gridColumn:E},A=y.icon,O=y.key||y.label||S;return a.jsxs("div",{style:C,children:[a.jsxs("label",{style:m,children:[A&&a.jsx(A,{size:14,style:{display:"inline",marginRight:"0.25rem"}}),y.label]}),y.renderAsBadge?a.jsx("div",{style:{display:"inline-block"},children:a.jsx(Se,{variant:y.renderAsBadge.variant,size:y.renderAsBadge.size||"sm",children:y.value})}):y.customRender?y.customRender(y.value):a.jsx("p",{style:typeof y.value=="string"&&y.value.length>50?p:h,children:y.value})]},O)},b=(y,S)=>{const E=y.icon,A={display:"grid",gridTemplateColumns:`repeat(${y.columns??n}, 1fr)`,gap:"0.25rem"};return a.jsxs("div",{style:o,children:[a.jsxs("h3",{style:d,children:[E&&a.jsx(E,{size:18}),y.title]}),y.customContent?y.customContent:a.jsx("div",{style:A,children:y.fields.map((O,w)=>g(O,w))})]},S)};return a.jsxs("div",{style:l,children:[t&&a.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:600,color:r.text},children:t}),e.map((y,S)=>b(y,S))]})},ta=({columns:e,data:t,emptyMessage:n="No data found",emptyMessageColSpan:r,onRowClick:l,rowKey:o,className:d="",style:u})=>{const m=Array.isArray(t)?t:[],h=(y,S)=>o?o(y,S):y.id!==void 0?y.id:S,p=(y,S,E)=>{if(y.render){const C=y.accessor?y.accessor(S):S[y.key];return y.render(C,S,E)}return y.accessor?y.accessor(S):S[y.key]},g={textAlign:"left"},b={textAlign:"left"};return a.jsx("div",{className:`table-container ${d}`,style:u,children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsx("tr",{children:e.map(y=>a.jsx("th",{style:{...b,textAlign:y.align||"left",...y.width?{width:y.width}:{}},children:y.header},y.key))})}),a.jsx("tbody",{children:m.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:r||e.length,style:{textAlign:"center",padding:"2rem",color:"#999"},children:n})}):m.map((y,S)=>a.jsx("tr",{onClick:()=>l?.(y,S),style:{cursor:l?"pointer":"default"},children:e.map(E=>a.jsx("td",{style:{...g,textAlign:E.align||"left"},children:p(E,y,S)},E.key))},h(y,S)))})]})})},Ce="http://localhost:5001/api";class YV extends Error{status;constructor(t,n){super(n),this.status=t,this.name="ApiError"}}const XV=()=>localStorage.getItem("auth_token");async function Te(e){if(!e.ok){let t;try{t=await e.json()}catch{t={error:e.statusText,message:e.statusText}}const n=t.message||t.error||t.errors?.[0]?.msg||e.statusText,r=new YV(e.status,n);throw r.errorData=t,r}return e.json()}async function Oe(e,t={}){const n=XV(),r={"Content-Type":"application/json",...t.headers};return n&&(r.Authorization=`Bearer ${n}`),fetch(e,{...t,headers:r})}const le={students:{getAll:()=>Oe(`${Ce}/students`).then(Te),getById:e=>Oe(`${Ce}/students/${e}`).then(Te),create:e=>Oe(`${Ce}/students`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/students/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/students/${e}`,{method:"DELETE"}).then(Te),getByClass:e=>Oe(`${Ce}/students/class/${encodeURIComponent(e)}`).then(Te)},teachers:{getAll:()=>Oe(`${Ce}/teachers`).then(Te),getById:e=>Oe(`${Ce}/teachers/${e}`).then(Te),create:e=>Oe(`${Ce}/teachers`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/teachers/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/teachers/${e}`,{method:"DELETE"}).then(Te)},subjects:{getAll:()=>Oe(`${Ce}/subjects`).then(Te),getById:e=>Oe(`${Ce}/subjects/${e}`).then(Te),create:e=>Oe(`${Ce}/subjects`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/subjects/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/subjects/${e}`,{method:"DELETE"}).then(Te)},classes:{getAll:()=>Oe(`${Ce}/classes`).then(Te),getById:e=>Oe(`${Ce}/classes/${e}`).then(Te),create:e=>Oe(`${Ce}/classes`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/classes/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/classes/${e}`,{method:"DELETE"}).then(Te)},grades:{getAll:()=>Oe(`${Ce}/classes`).then(Te),getById:e=>Oe(`${Ce}/classes/${e}`).then(Te),create:e=>Oe(`${Ce}/classes`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/classes/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/classes/${e}`,{method:"DELETE"}).then(Te)},admissions:{getAll:()=>Oe(`${Ce}/admissions`).then(Te),getById:e=>Oe(`${Ce}/admissions/${e}`).then(Te),create:e=>Oe(`${Ce}/admissions`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/admissions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/admissions/${e}`,{method:"DELETE"}).then(Te),getByStatus:e=>Oe(`${Ce}/admissions/status/${e}`).then(Te)},exams:{getAll:()=>Oe(`${Ce}/exams`).then(Te),getById:e=>Oe(`${Ce}/exams/${e}`).then(Te),create:e=>Oe(`${Ce}/exams`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/exams/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/exams/${e}`,{method:"DELETE"}).then(Te)},examResults:{getAll:()=>Oe(`${Ce}/exam-results`).then(Te),getById:e=>Oe(`${Ce}/exam-results/${e}`).then(Te),getByExamId:e=>Oe(`${Ce}/exam-results?examId=${e}`).then(Te),create:e=>Oe(`${Ce}/exam-results`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/exam-results/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/exams/results/${e}`,{method:"DELETE"}).then(Te)},assignments:{getAll:()=>Oe(`${Ce}/assignments`).then(Te),getById:e=>Oe(`${Ce}/assignments/${e}`).then(Te),getByClass:e=>Oe(`${Ce}/assignments/class/${encodeURIComponent(e)}`).then(Te),create:e=>Oe(`${Ce}/assignments`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/assignments/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/assignments/${e}`,{method:"DELETE"}).then(Te)},assignmentSubmissions:{getAll:()=>Oe(`${Ce}/assignments/submissions/all`).then(Te),getById:e=>Oe(`${Ce}/assignments/submissions/${e}`).then(Te),getByAssignmentId:e=>Oe(`${Ce}/assignments/submissions/assignment/${e}`).then(Te),getByStudentId:e=>Oe(`${Ce}/assignments/submissions/student/${e}`).then(Te),create:e=>Oe(`${Ce}/assignments/submissions`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/assignments/submissions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/assignments/submissions/${e}`,{method:"DELETE"}).then(Te)},fees:{gradeFees:{getAll:()=>Oe(`${Ce}/fees`).then(Te),getById:e=>Oe(`${Ce}/fees/${e}`).then(Te),getByGrade:e=>Oe(`${Ce}/fees/grade/${encodeURIComponent(e)}`).then(Te),create:e=>Oe(`${Ce}/fees`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/fees/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/fees/${e}`,{method:"DELETE"}).then(Te)},collections:{getAll:()=>Oe(`${Ce}/fee-collections`).then(Te),getById:e=>Oe(`${Ce}/fee-collections/${e}`).then(Te),getByStudentId:e=>Oe(`${Ce}/fee-collections?studentId=${e}`).then(Te),create:e=>Oe(`${Ce}/fee-collections`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/fee-collections/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/fee-collections/${e}`,{method:"DELETE"}).then(Te)}},transactions:{getAll:()=>Oe(`${Ce}/transactions`).then(Te),getById:e=>Oe(`${Ce}/transactions/${e}`).then(Te),create:e=>Oe(`${Ce}/transactions`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/transactions/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/transactions/${e}`,{method:"DELETE"}).then(Te)},expenses:{getAll:()=>Oe(`${Ce}/accounts/expenses`).then(Te),getById:e=>Oe(`${Ce}/accounts/expenses/${e}`).then(Te),create:e=>Oe(`${Ce}/accounts/expenses`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/accounts/expenses/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/accounts/expenses/${e}`,{method:"DELETE"}).then(Te)},payroll:{getAll:()=>Oe(`${Ce}/accounts/payroll`).then(Te),getById:e=>Oe(`${Ce}/accounts/payroll/${e}`).then(Te),create:e=>Oe(`${Ce}/accounts/payroll`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/accounts/payroll/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/accounts/payroll/${e}`,{method:"DELETE"}).then(Te)},attendance:{getAll:e=>{const t=new URLSearchParams;e?.date&&t.append("date",e.date),e?.class&&t.append("class",e.class),e?.studentId&&t.append("studentId",e.studentId);const n=t.toString();return Oe(`${Ce}/attendance${n?`?${n}`:""}`).then(Te)},getById:e=>Oe(`${Ce}/attendance/${e}`).then(Te),create:e=>Oe(`${Ce}/attendance`,{method:"POST",body:JSON.stringify(e)}).then(Te),createBulk:e=>Oe(`${Ce}/attendance/bulk`,{method:"POST",body:JSON.stringify({records:e})}).then(Te),update:(e,t)=>Oe(`${Ce}/attendance/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/attendance/${e}`,{method:"DELETE"}).then(Te)},users:{getAll:()=>Oe(`${Ce}/users`).then(Te),getById:e=>Oe(`${Ce}/users/${e}`).then(Te),create:e=>Oe(`${Ce}/users`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/users/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/users/${e}`,{method:"DELETE"}).then(Te)},masterData:{getAll:e=>{const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status);const n=t.toString();return Oe(`${Ce}/master-data${n?`?${n}`:""}`).then(Te)},getById:e=>Oe(`${Ce}/master-data/${e}`).then(Te),getByCode:(e,t)=>{const n=new URLSearchParams;t&&n.append("type",t);const r=n.toString();return Oe(`${Ce}/master-data/code/${e}${r?`?${r}`:""}`).then(Te)},create:e=>Oe(`${Ce}/master-data`,{method:"POST",body:JSON.stringify(e)}).then(Te),update:(e,t)=>Oe(`${Ce}/master-data/${e}`,{method:"PUT",body:JSON.stringify(t)}).then(Te),delete:e=>Oe(`${Ce}/master-data/${e}`,{method:"DELETE"}).then(Te)}},QV=()=>{const e=vt(),[t,n]=v.useState([]);v.useEffect(()=>{const C=async()=>{try{const O=await le.teachers.getAll();O.data?.teachers?n(O.data.teachers):n([])}catch(O){console.error("Error loading teachers:",O),n([])}};C();const A=setInterval(()=>{C()},3e4);return()=>{clearInterval(A)}},[]);const[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState(!1),h=C=>C.toLowerCase()==="active"?"active":"rejected",p=C=>{if(!C)return"";try{const A=new Date(C);if(isNaN(A.getTime()))return C.toString();const O=A.getFullYear(),w=String(A.getMonth()+1).padStart(2,"0"),z=String(A.getDate()).padStart(2,"0");return`${O}-${w}-${z}`}catch{return C.toString()}},g=C=>{l(C),d(!0)},b=C=>{const A=C._id||C.teacherId||C.id;e(`/dashboard/admin/teachers/edit/${A}`)},y=C=>{l(C),m(!0)},S=async()=>{if(r)try{const C=r._id||r.teacherId||r.id;await le.teachers.delete(C),alert(`Teacher ${r.name} deleted successfully`),m(!1),l(null);const A=await le.teachers.getAll();A.data?.teachers&&n(A.data.teachers)}catch(C){console.error("Error deleting teacher:",C),alert("Failed to delete teacher. Please try again.")}};v.useEffect(()=>{const C=async()=>{try{const A=await le.teachers.getAll();A.data?.teachers&&n(A.data.teachers)}catch(A){console.error("Error loading teachers:",A)}};return window.addEventListener("focus",C),()=>window.removeEventListener("focus",C)},[]);const E=[{key:"id",header:"ID",render:(C,A)=>A.teacherId||A._id||A.id||"N/A"},{key:"name",header:"Name",render:(C,A)=>a.jsx("span",{onClick:()=>e(`/dashboard/admin/teachers/${A._id||A.teacherId||A.id}`),style:{color:"#667eea",cursor:"pointer",fontWeight:500,textDecoration:"none"},onMouseEnter:O=>{O.currentTarget.style.textDecoration="underline"},onMouseLeave:O=>{O.currentTarget.style.textDecoration="none"},children:C||A.name||"N/A"})},{key:"email",header:"Email"},{key:"subject",header:"Subject"},{key:"phone",header:"Phone"},{key:"experience",header:"Experience"},{key:"status",header:"Status",render:C=>a.jsx(Se,{variant:h(C),size:"sm",children:C})},{key:"actions",header:"Actions",render:(C,A)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>g(A)}),a.jsx(Ot,{size:"sm",onClick:()=>b(A)}),a.jsx(Ft,{size:"sm",onClick:()=>y(A)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Teachers"}),a.jsxs(we,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/teachers/add"),children:[a.jsx(If,{size:18}),"Add New Teacher"]})]}),a.jsx(ta,{columns:E,data:t.slice(0,10),emptyMessage:"No teachers found"}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Teacher Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Basic Information",fields:[{label:"Name",value:r.name},{label:"Email",value:r.email,icon:Vr},{label:"Phone",value:r.phone,icon:oa},{label:"Subject",value:r.subject,icon:Pt},{label:"Experience",value:r.experience,icon:Ar},...r.qualification?[{label:"Qualification",value:r.qualification}]:[],...r.joinDate?[{label:"Join Date",value:p(r.joinDate),icon:We}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:h(r.status),size:"sm"}},...r.address?[{label:"Address",value:r.address,icon:Us,spanFull:!0}]:[]]}]})}),a.jsx(et,{isOpen:u,onClose:()=>{m(!1),l(null)},title:"Delete Teacher",size:"md",children:r&&a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#333"},children:["Are you sure you want to delete ",a.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"outline",size:"md",onClick:()=>{m(!1),l(null)},children:"Cancel"}),a.jsxs(we,{variant:"danger",size:"md",onClick:S,children:[a.jsx(Fu,{size:18}),"Delete"]})]})]})})]})},rE=()=>{const e=vt(),{id:t}=qn(),n=!!t,[r,l]=v.useState({});v.useEffect(()=>{n&&t&&(async()=>{try{const m=await le.teachers.getById(t);if(m.data?.teacher){const h=m.data.teacher;let p=0;if(h.experience){const g=h.experience.toString().match(/\d+/);g&&(p=parseInt(g[0])||0)}l({name:h.name||"",email:h.email||"",subject:h.subject||"",phone:h.phone||"",experience:p,qualification:h.qualification||"",address:h.address||"",city:h.city||"",country:h.country||""})}else console.error("Teacher not found"),alert("Teacher not found. Redirecting to teachers list."),e("/dashboard/admin/teachers")}catch(m){console.error("Error loading teacher:",m),alert("Failed to load teacher data. Please try again.")}})()},[t,n,e]);const o=[{name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Enter full name",thirdWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",thirdWidth:!0},{name:"subject",label:"Subject",type:"select",required:!0,thirdWidth:!0,options:[{value:"Mathematics",label:"Mathematics"},{value:"English",label:"English"},{value:"Science",label:"Science"},{value:"History",label:"History"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"}]},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",thirdWidth:!0},{name:"experience",label:"Experience (Years)",type:"number",required:!0,placeholder:"Enter years of experience",min:0,thirdWidth:!0},{name:"qualification",label:"Qualification",type:"text",placeholder:"e.g., M.Sc, B.Ed",thirdWidth:!0},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"city",label:"City",type:"text",placeholder:"Enter city",thirdWidth:!0},{name:"country",label:"Country",type:"text",placeholder:"Enter country",thirdWidth:!0}],d=async u=>{try{if(n&&t)await le.teachers.update(t,{name:u.name,email:u.email,subject:u.subject,phone:u.phone,experience:`${u.experience} years`,qualification:u.qualification||void 0,address:u.address||void 0,city:u.city||void 0,country:u.country||void 0,status:u.status||"Active"})?(alert("Teacher updated successfully!"),e("/dashboard/admin/teachers")):alert("Failed to update teacher. Please try again.");else{const h=u.email.split("@")[0]||u.name.toLowerCase().replace(/\s+/g,"_"),p=Date.now(),g=`${h}_${p}`.substring(0,30),b="Teacher@123";let y,S;try{console.log("Creating user account for teacher:",{username:g,email:u.email,name:u.name}),y=await le.users.create({username:g,email:u.email,password:b,name:u.name,role:"teacher"}),console.log("User created successfully:",y),S=y?.data?.user?._id||y?.data?.user?.id||y?.data?._id||y?._id}catch(A){if((A?.errorData?.message||A?.message||"").includes("already exists")||A?.status===400)try{if(((await le.teachers.getAll())?.data?.teachers||[]).find(M=>M.email?.toLowerCase()===u.email.toLowerCase()))throw new Error(`A teacher with email ${u.email} already exists. Please use a different email or edit the existing teacher.`);try{const M=await le.users.getAll(),I=(M?.data?.users||M?.data||[]).find($=>$.email?.toLowerCase()===u.email.toLowerCase());if(I)if(I.role==="teacher")S=I._id||I.id,console.log("Using existing user account:",S);else throw new Error(`Email ${u.email} is already registered as a ${I.role}. Please use a different email.`);else throw new Error(`Email ${u.email} is already in use. Please use a different email.`)}catch{throw new Error(`Email ${u.email} is already in use. Please use a different email.`)}}catch(w){throw w}else{let w="User creation failed";throw A?.errorData?.message?w=A.errorData.message:A?.errorData?.error?w=typeof A.errorData.error=="string"?A.errorData.error:JSON.stringify(A.errorData.error):A?.errorData?.errors?Array.isArray(A.errorData.errors)?w=A.errorData.errors.map(z=>z.msg||z.message||z).join(", "):typeof A.errorData.errors=="object"&&(w=Object.entries(A.errorData.errors).map(([z,T])=>`${z}: ${T}`).join(", ")):A?.message&&(w=A.message),new Error(`Failed to create user account: ${w}`)}}if(!S)throw console.error("User response:",y),new Error("Failed to get user ID. Please try again.");console.log("Creating teacher with userId:",S);const E=await le.teachers.create({userId:S,name:u.name,email:u.email,subject:u.subject,phone:u.phone,experience:`${u.experience} years`,qualification:u.qualification||void 0,address:u.address||void 0,city:u.city||void 0,country:u.country||void 0,status:u.status||"Active",joinDate:new Date().toISOString().split("T")[0]}),C=E?.data?.teacher?.name||E?.name||"Teacher";alert(`Teacher ${C} added successfully!`),e("/dashboard/admin/teachers")}}catch(m){console.error("Error saving teacher:",m),console.error("Full error object:",JSON.stringify(m,null,2));let h="Failed to save teacher. Please try again.";if(m?.message)h=m.message;else if(m?.errorData?.message)h=m.errorData.message;else if(m?.errorData?.error)h=typeof m.errorData.error=="string"?m.errorData.error:JSON.stringify(m.errorData.error);else if(m?.errorData?.errors){if(Array.isArray(m.errorData.errors))h=m.errorData.errors.map(p=>p.msg||p.message||p).join(", ");else if(typeof m.errorData.errors=="object"){const p=Object.entries(m.errorData.errors);p.length>0?h=p.map(([g,b])=>`${g.charAt(0).toUpperCase()+g.slice(1).replace(/([A-Z])/g," $1")}: ${b}`).join("; "):h=m.errorData.error||m.errorData.message||"Validation failed"}}else m?.error?h=typeof m.error=="string"?m.error:JSON.stringify(m.error):m?.statusText&&(h=m.statusText);console.error("Extracted error message:",h),alert(`Error: ${h}`)}};return a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/teachers"),title:"Back to Teachers"})}),a.jsx(Ws,{title:n?"Edit Teacher":"Add New Teacher",fields:o,onSubmit:d,submitButtonText:n?"Update Teacher":"Add Teacher",submitButtonIcon:a.jsx(Zt,{size:16}),initialData:r},t||"new")]})},BD=({schedules:e,timeSlots:t,daysOfWeek:n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],onCellClick:r,cellHeight:l="80px"})=>{const[o,d]=v.useState("weekdays"),u=()=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date().getDay()],m=o==="today"?e.filter(W=>W.day===u()):e,h=o==="today"?[u()]:n,g=t||["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],b=W=>{const[K,H]=W.split(":").map(Number);return K*60+(H||0)},y=(W,K)=>m.find(H=>{if(H.day!==W)return!1;const D=b(K);if(H.startTime&&H.endTime){const te=b(H.startTime),V=b(H.endTime);return D>=te&&D<V}const k=H.time.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/g);if(!k||k.length<2)return!1;const _=k[0],F=k[1],Y=te=>{const[V,X]=te.split(/\s*(AM|PM)/),[Q,ae]=V.split(":").map(Number);let pe=Q;return X==="PM"&&Q!==12&&(pe+=12),X==="AM"&&Q===12&&(pe=0),pe*60+(ae||0)},U=Y(_),L=Y(F);return D>=U&&D<L})||null,S={display:"flex",flexDirection:"column",width:"100%",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",overflow:"hidden"},E={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",background:"#f8f9fa",borderBottom:"2px solid #e0e0e0"},C={display:"flex",gap:"0.5rem",background:"white",borderRadius:"0.5rem",padding:"0.25rem",border:"1px solid #e0e0e0"},A=W=>({padding:"0.5rem 1rem",borderRadius:"0.375rem",border:"none",background:W?"#E6E6E6":"transparent",color:W?"#333":"#666",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"}),O={display:"grid",gridTemplateColumns:`120px repeat(${h.length}, 1fr)`,background:"#f8f9fa",borderBottom:"2px solid #e0e0e0"},w={padding:"0.75rem",fontSize:"0.85rem",fontWeight:600,color:"#333",textAlign:"center",borderRight:"1px solid #e0e0e0"},z={padding:"0.75rem",fontSize:"0.85rem",fontWeight:600,color:"#333",textAlign:"center",borderRight:"1px solid #e0e0e0",textTransform:"uppercase",letterSpacing:"0.5px"},T={display:"grid",gridTemplateColumns:`120px repeat(${h.length}, 1fr)`},M={padding:"0.5rem",fontSize:"0.75rem",color:"#666",textAlign:"center",borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",minHeight:l},N={padding:"0.25rem",borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #f0f0f0",minHeight:l,position:"relative",cursor:r?"pointer":"default"},I={...N,background:"#fafafa"},$={padding:"0.5rem",background:"#E6E6E6",color:"#333",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:500,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},B={fontWeight:600,marginBottom:"0.25rem"},R={fontSize:"0.7rem",opacity:.9,display:"flex",alignItems:"center",gap:"0.25rem"},q=W=>{const[K,H]=W.split(":").map(Number),D=K>=12?"PM":"AM";return`${K>12?K-12:K===0?12:K}:${H.toString().padStart(2,"0")} ${D}`};return a.jsxs("div",{style:S,children:[a.jsxs("div",{style:E,children:[a.jsx("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"#333"},children:"Schedule"}),a.jsxs("div",{style:C,children:[a.jsxs("button",{style:A(o==="today"),onClick:()=>d("today"),onMouseEnter:W=>{o!=="today"&&(W.currentTarget.style.background="#E6E6E6")},onMouseLeave:W=>{o!=="today"&&(W.currentTarget.style.background="transparent")},children:[a.jsx(We,{size:14}),"Today"]}),a.jsxs("button",{style:A(o==="weekdays"),onClick:()=>d("weekdays"),onMouseEnter:W=>{o!=="weekdays"&&(W.currentTarget.style.background="#E6E6E6")},onMouseLeave:W=>{o!=="weekdays"&&(W.currentTarget.style.background="transparent")},children:[a.jsx(We,{size:14}),"Weekdays"]})]})]}),a.jsxs("div",{style:O,children:[a.jsx("div",{style:w,children:"Time"}),h.map(W=>a.jsx("div",{style:z,children:W.substring(0,3)},W))]}),a.jsx("div",{style:T,children:g.map(W=>a.jsxs(Cv.Fragment,{children:[a.jsx("div",{style:M,children:q(W)}),h.map(K=>{const H=y(K,W),D=H?N:I;return a.jsx("div",{style:D,onClick:()=>r?.(H,K,W),onMouseEnter:k=>{r&&(k.currentTarget.style.background=H?"#E6E6E6":"#f5f5f5")},onMouseLeave:k=>{r&&(k.currentTarget.style.background=H?"transparent":"#fafafa")},children:H&&a.jsxs("div",{style:$,children:[a.jsxs("div",{style:B,children:[H.subject,H.subjectCode&&a.jsxs("span",{style:{fontSize:"0.65rem",opacity:.8,marginLeft:"0.25rem",fontWeight:400},children:["(",H.subjectCode,")"]})]}),H.class&&a.jsx("div",{style:{fontSize:"0.7rem",opacity:.9,marginBottom:"0.25rem"},children:H.class}),a.jsxs("div",{style:R,children:[a.jsx(Qe,{size:10}),H.time]}),H.room&&a.jsx("div",{style:{fontSize:"0.65rem",opacity:.8,marginTop:"0.25rem"},children:H.room})]})},`${K}-${W}`)})]},W))})]})},ZV=()=>{const{id:e}=qn(),t=vt(),[n,r]=v.useState(null),[l,o]=v.useState([]),[d,u]=v.useState(["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"]),[m,h]=v.useState(!0);v.useEffect(()=>{e&&(async()=>{try{h(!0);const y=await le.teachers.getById(e),S=y?.data?.teacher||y?.data||y;if(S){r(S);try{const E=await le.subjects.getAll(),C=E?.data?.subjects||E?.data||E||[],A=Array.isArray(C)?C:[];console.log("All subjects loaded:",A.length),console.log("Teacher data:",{_id:S._id,id:S.id});const O=(S._id||S.id||"").toString(),w=A.filter($=>{let B=!1;if($.teacherAssignments&&Array.isArray($.teacherAssignments)&&(B=$.teacherAssignments.some(R=>{if(R.teacherId){const q=typeof R.teacherId=="object"?(R.teacherId._id||R.teacherId.id||"").toString():R.teacherId.toString();return String(q)===String(O)}return!1})),!B&&$.teacherId){const R=typeof $.teacherId=="object"?($.teacherId._id||$.teacherId.id||"").toString():$.teacherId.toString();B=String(R)===String(O)}return B&&console.log("Found matching subject:",$.name,"Teacher assigned via:",$.teacherAssignments?"teacherAssignments":"teacherId","with schedules:",$.schedule?.length||0),B});console.log("Teacher subjects found:",w.length);const z=[];let T=1;const M=$=>$?$.charAt(0).toUpperCase()+$.slice(1).toLowerCase():"";w.forEach($=>{const B=Array.isArray($.schedule)?$.schedule:[];B.length===0&&console.log(`Subject "${$.name}" has no schedules`),B.forEach(R=>{if(!R.day||!R.startTime||!R.endTime){console.warn("Invalid schedule entry:",R);return}if(R.teacherId){const k=typeof R.teacherId=="object"?(R.teacherId._id||R.teacherId.id||"").toString():R.teacherId.toString();if(String(k)!==String(O)){console.log(`Skipping schedule entry - assigned to different teacher: ${k} vs ${O}`);return}console.log(`Including schedule entry - assigned to this teacher: ${$.name} on ${R.day}`)}else console.log(`Including shared schedule entry: ${$.name} on ${R.day}`);let q="N/A";if(R.grade&&R.section){const k=R.grade.trim(),F=R.section.trim().replace(/^Section\s*/i,"");q=`${k.split(",")[0].trim()} Section ${F}`}else if(R.grade)q=R.grade.split(",")[0].trim();else{const k=Array.isArray($.grades)?$.grades:[];k.length>0&&(q=k[0])}const W=M(R.day),K=k=>{if(!k)return"";if(k.includes(":")){const[_,F]=k.split(":"),Y=parseInt(_,10),U=Y>=12?"PM":"AM";return`${Y%12||12}:${F||"00"} ${U}`}return k},H=K(R.startTime),D=K(R.endTime);z.push({id:T++,day:W,time:`${H} - ${D}`,subject:$.name||"Unknown Subject",subjectCode:$.code||$.subjectCode||void 0,class:q,room:R.room||"N/A",startTime:R.startTime,endTime:R.endTime})})}),console.log("Total schedules built:",z.length),o(z);const N=new Set;z.forEach($=>{if($.startTime){const[B]=$.startTime.split(":"),R=parseInt(B,10);N.add(`${R.toString().padStart(2,"0")}:00`)}if($.endTime){const[B]=$.endTime.split(":"),R=parseInt(B,10);N.add(`${R.toString().padStart(2,"0")}:00`)}});const I=Array.from(N).sort();if(I.length>0){const $=parseInt(I[0].split(":")[0],10),B=parseInt(I[I.length-1].split(":")[0],10),R=Math.max(7,$-1),q=Math.min(18,B+2),W=[];for(let K=R;K<=q;K++)W.push(`${K.toString().padStart(2,"0")}:00`);u(W)}else u(["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"])}catch(E){console.error("Error loading subjects:",E),o([])}}else r(null)}catch(y){console.error("Error loading teacher:",y),r(null)}finally{h(!1)}})()},[e]);const p=b=>b.toLowerCase()==="active"?"active":"rejected",g=b=>{if(!b)return"";try{const y=new Date(b);if(isNaN(y.getTime()))return b.toString();const S=y.getFullYear(),E=String(y.getMonth()+1).padStart(2,"0"),C=String(y.getDate()).padStart(2,"0");return`${S}-${E}-${C}`}catch{return b.toString()}};return m?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading teacher details..."})})}):n?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/teachers"),title:"Back to Teachers"}),a.jsx("h1",{children:n.name})]})}),a.jsx(ke,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Qt,{columns:5,sections:[{title:"Teacher Information",fields:[{label:"Name",value:n.name},{label:"Email",value:n.email,icon:Vr},{label:"Phone",value:n.phone,icon:oa},{label:"Subject",value:n.subject,icon:Pt},{label:"Experience",value:n.experience,icon:Ar},...n.qualification?[{label:"Qualification",value:n.qualification}]:[],...n.joinDate?[{label:"Join Date",value:g(n.joinDate),icon:We}]:[],{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},...n.city?[{label:"City",value:n.city}]:[],...n.country?[{label:"Country",value:n.country}]:[],...n.address?[{label:"Address",value:n.address,icon:Us,spanFull:!0}]:[]]}]})}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#333"},children:"Teaching Schedule"}),l.length===0?a.jsx(ke,{variant:"custom",style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No schedule assigned yet. Assign this teacher to subjects with schedules to see their teaching schedule here."})}):a.jsx(BD,{schedules:l,timeSlots:d,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cellHeight:"100px"})]})]}):a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/teachers"),title:"Back to Teachers"}),a.jsx("h1",{children:"Teacher Not Found"})]}),a.jsx("p",{children:"The teacher you're looking for doesn't exist."})]})},JV=()=>{const e=[{id:1,name:"John Smith",subject:"Mathematics",rating:4.8,students:125,classes:5,attendance:95,performance:92},{id:2,name:"Sarah Johnson",subject:"English",rating:4.7,students:110,classes:4,attendance:93,performance:89},{id:3,name:"Michael Brown",subject:"Science",rating:4.9,students:98,classes:4,attendance:97,performance:94},{id:4,name:"Emily Davis",subject:"History",rating:4.6,students:85,classes:3,attendance:91,performance:87},{id:5,name:"David Wilson",subject:"Physics",rating:4.8,students:75,classes:3,attendance:96,performance:91}],t=e.map(r=>({name:r.name.split(" ")[0],rating:r.rating,attendance:r.attendance,performance:r.performance})),n=[{month:"Jan",avgRating:4.5,avgPerformance:85},{month:"Feb",avgRating:4.6,avgPerformance:87},{month:"Mar",avgRating:4.7,avgPerformance:89},{month:"Apr",avgRating:4.8,avgPerformance:90},{month:"May",avgRating:4.8,avgPerformance:91},{month:"Jun",avgRating:4.9,avgPerformance:92}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Teacher Performance"})}),a.jsx("div",{className:"section-title",children:"Performance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Teacher Ratings & Performance"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"name"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"rating",fill:"#667eea",name:"Rating"}),a.jsx(Jt,{dataKey:"performance",fill:"#764ba2",name:"Performance %"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Performance Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Jc,{data:n,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Xi,{type:"monotone",dataKey:"avgRating",stroke:"#667eea",name:"Avg Rating"}),a.jsx(Xi,{type:"monotone",dataKey:"avgPerformance",stroke:"#27ae60",name:"Avg Performance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Individual Teacher Performance"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Teacher"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Rating"}),a.jsx("th",{children:"Students"}),a.jsx("th",{children:"Classes"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Performance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{className:"teacher-name-cell",children:a.jsx("strong",{children:r.name})})}),a.jsx("td",{children:r.subject}),a.jsx("td",{children:a.jsxs("div",{className:"rating-cell",children:[a.jsx(tP,{size:14,fill:"#f39c12",color:"#f39c12"}),a.jsx("span",{children:r.rating})]})}),a.jsx("td",{children:r.students}),a.jsx("td",{children:r.classes}),a.jsx("td",{children:a.jsxs(Se,{variant:"high",size:"sm",children:[r.attendance,"%"]})}),a.jsx("td",{children:a.jsxs(Se,{variant:"high",size:"sm",children:[r.performance,"%"]})}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>console.log("View Details",r.id)})})]},r.id))})]})})]})},eY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(1),o=10;v.useEffect(()=>{const M=async()=>{try{const I=await le.students.getAll();I.data?.students?n(I.data.students):n([])}catch(I){console.error("Error loading students:",I),n([])}};M();const N=setInterval(()=>{M()},3e4);return()=>{clearInterval(N)}},[]);const[d,u]=v.useState(null),[m,h]=v.useState(!1),p=M=>M.toLowerCase()==="active"?"active":"rejected",g=M=>{u(M),h(!0)},b=async M=>{const N=A.find(I=>String(I.id)===String(M));if(N&&confirm(`Are you sure you want to delete "${N.name}"?`))try{const I=N.mongoId||N._id||M;await le.students.delete(I);const $=await le.students.getAll();$.data?.students&&n($.data.students),alert("Student deleted successfully!")}catch(I){console.error("Error deleting student:",I),alert("Failed to delete student. Please try again.")}},y=v.useMemo(()=>t.map(M=>({...M,id:M.studentId||M._id||M.id,mongoId:M._id||M.id})),[t]),S=Math.ceil(y.length/o),E=(r-1)*o,C=E+o,A=v.useMemo(()=>y.slice(E,C),[y,E,C]);v.useEffect(()=>{const M=Math.ceil(y.length/o)||1;r>M&&l(1)},[y.length,r,o]);const O=()=>{r>1&&(l(r-1),window.scrollTo({top:0,behavior:"smooth"}))},w=()=>{r<S&&(l(r+1),window.scrollTo({top:0,behavior:"smooth"}))},z=M=>{l(M),window.scrollTo({top:0,behavior:"smooth"})},T=[{key:"id",header:"Student ID",render:(M,N)=>a.jsx("span",{style:{color:"#3b82f6",cursor:"pointer",textDecoration:"underline",fontWeight:600},onClick:()=>e(`/dashboard/admin/students/${N.mongoId||N._id||N.id}`),onMouseEnter:I=>{I.currentTarget.style.color="#2563eb"},onMouseLeave:I=>{I.currentTarget.style.color="#3b82f6"},children:M||N.studentId||N.id||"N/A"})},{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"class",header:"Class"},{key:"phone",header:"Phone"},{key:"parent",header:"Parent/Guardian"},{key:"status",header:"Status",render:M=>a.jsx(Se,{variant:p(M),size:"sm",children:M})},{key:"actions",header:"Actions",render:(M,N)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>g(N)}),a.jsx(Ot,{size:"sm",onClick:()=>e(`/dashboard/admin/students/edit/${N.mongoId||N._id||N.id}`)}),a.jsx(Ft,{size:"sm",onClick:()=>b(N.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{children:[a.jsx("h1",{children:"All Students"}),a.jsxs("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"0.5rem"},children:["Showing ",E+1,"-",Math.min(C,y.length)," of ",y.length," students"]})]})}),a.jsx(ta,{columns:T,data:A,emptyMessage:"No students found"}),y.length>o&&a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem",padding:"1rem"},children:[a.jsxs(we,{variant:"secondary",size:"md",onClick:O,disabled:r===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:r===1?.5:1,cursor:r===1?"not-allowed":"pointer"},children:[a.jsx(RE,{size:18}),"Previous"]}),a.jsx("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:(()=>{const M=[];if(S<=7)for(let N=1;N<=S;N++)M.push(N);else{M.push(1);let N=Math.max(2,r-1),I=Math.min(S-1,r+1);r<=3&&(I=Math.min(5,S-1)),r>=S-2&&(N=Math.max(2,S-4)),N>2&&M.push("...");for(let $=N;$<=I;$++)M.push($);I<S-1&&M.push("..."),M.push(S)}return M.map((N,I)=>typeof N=="string"?a.jsx("span",{style:{padding:"0 0.25rem",color:"#666"},children:"..."},`ellipsis-${I}`):a.jsx("button",{onClick:()=>z(N),style:{padding:"0.5rem 0.75rem",border:"1px solid #ddd",borderRadius:"0.375rem",backgroundColor:r===N?"#3b82f6":"#fff",color:r===N?"#fff":"#333",cursor:"pointer",fontSize:"0.875rem",fontWeight:r===N?600:400,minWidth:"2.5rem"},onMouseEnter:$=>{r!==N&&($.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:$=>{r!==N&&($.currentTarget.style.backgroundColor="#fff")},children:N},N))})()}),a.jsxs(we,{variant:"secondary",size:"md",onClick:w,disabled:r===S,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:r===S?.5:1,cursor:r===S?"not-allowed":"pointer"},children:["Next",a.jsx(BE,{size:18})]})]}),a.jsx(et,{isOpen:m,onClose:()=>{h(!1),u(null)},title:"Student Details",size:"lg",children:d&&a.jsx(Qt,{sections:[{title:"Student Information",fields:[{label:"Name",value:d.name},{label:"Email",value:d.email,icon:Vr},{label:"Phone",value:d.phone,icon:oa},{label:"Class",value:d.class,icon:wr},...d.dateOfBirth?[{label:"Date of Birth",value:d.dateOfBirth,icon:We}]:[],...d.admissionDate?[{label:"Admission Date",value:d.admissionDate,icon:We}]:[],{label:"Status",value:d.status,renderAsBadge:{variant:p(d.status),size:"sm"}},...d.address?[{label:"Address",value:d.address,icon:Us,spanFull:!0}]:[]]},{title:"Parent/Guardian Information",icon:Vt,fields:[{label:"Parent/Guardian Name",value:d.parent},...d.parentPhone?[{label:"Parent Phone",value:d.parentPhone,icon:oa}]:[],...d.parentEmail?[{label:"Parent Email",value:d.parentEmail,icon:Vr}]:[]]}]})})]})},aE=()=>{const e=vt(),{id:t}=qn(),n=!!t,[r,l]=v.useState({}),[o,d]=v.useState([]),[u,m]=v.useState([]),[h,p]=v.useState([]),[g,b]=v.useState(""),[y,S]=v.useState(!0),E=M=>{if(!M)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(M))return M;const N=new Date(M);return isNaN(N.getTime())?"":N.toISOString().split("T")[0]}catch(N){return console.error("Error formatting date:",N),""}},C=M=>{if(!M)return"";const I=M.trim().match(/Grade\s+(\d+)/i);return I?`Grade ${I[1]}`:""},A=M=>{if(!Array.isArray(h)||!M)return[];const N=M.startsWith("Grade")?M:`Grade ${M}`;return h.filter($=>$.status!=="Active"?!1:C($.name||"")===N).map($=>({value:$.section||"",label:`Section ${$.section||""} (${$.name||""}) - ${$.currentStudents||0}/${$.capacity||0} available`}))};v.useEffect(()=>{(async()=>{try{S(!0);const N=await le.classes.getAll();N.data?.classes?p(N.data.classes):p([]);const I=new Set;(N.data?.classes||[]).filter(R=>R.status==="Active").forEach(R=>{const q=C(R.name||"");q&&I.add(q)});const B=Array.from(I).map(R=>{const q=R.match(/\d+/),W=q?parseInt(q[0]):0;return{grade:R,num:W}}).sort((R,q)=>R.num-q.num).map(({grade:R})=>({value:R,label:R}));d(B)}catch(N){console.error("Error loading classes:",N),d([]),p([])}finally{S(!1)}if(n&&t)try{const N=await le.students.getById(t),I=N?.data?.student||N?.student||N||null;if(I){console.log("[EDIT STUDENT] Loaded student data:",I);const $=C(I.class||""),B=(I.section||"").trim();console.log("[EDIT STUDENT] Extracted:",{className:I.class,gradeLevel:$,section:B,studentSection:I.section});const R=E(I.dateOfBirth),q=E(I.admissionDate),W={studentId:I.studentId||I.id||"",name:I.name||"",email:I.email||"",gradeLevel:$||"",section:B||"",phone:I.phone||"",dateOfBirth:R,admissionDate:q,gender:I.gender||"",status:I.status||"Active",address:I.address||"",previousSchool:I.previousSchool||"",city:I.city||"",country:I.country||"",parentName:I.parent||"",parentPhone:I.parentPhone||"",parentEmail:I.parentEmail||""};console.log("[EDIT STUDENT] Setting initial data:",W),l(W),$&&b($)}else console.error("[EDIT STUDENT] Student data not found in response:",N)}catch(N){console.error("Error loading student:",N)}})()},[t,n]),v.useEffect(()=>{if(g){const M=A(g);m(M),r.section&&M.length>0?M.some(I=>I.value===r.section)?console.log("[EDIT STUDENT] Section found in options:",r.section):console.log("[EDIT STUDENT] Section from initial data not found in options:",r.section,"Available:",M.map(I=>I.value)):r.section&&M.length===0&&console.log("[EDIT STUDENT] No sections available for grade:",g)}else m([])},[g,h,r.section]);const O=v.useMemo(()=>{const M=[];return n&&M.push({name:"studentId",label:"Student ID",type:"text",required:!1,placeholder:"Auto-generated",disabled:!0,thirdWidth:!0}),M.push({name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Enter full name",thirdWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",thirdWidth:!0},{name:"gradeLevel",label:"Grade Level",type:"select",required:!0,thirdWidth:!0,options:o,placeholder:y?"Loading grades...":"Select Grade Level"},{name:"section",label:"Section",type:"select",required:!0,thirdWidth:!0,options:u,placeholder:g?u.length>0?"Select Section":"No sections available":"Select Grade Level first",disabled:!g||u.length===0},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",thirdWidth:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0,thirdWidth:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0,thirdWidth:!0},{name:"gender",label:"Gender",type:"select",required:!0,thirdWidth:!0,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],placeholder:"Select Gender"},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"previousSchool",label:"Previous School",type:"text",placeholder:"Enter previous school name",thirdWidth:!0},{name:"city",label:"City",type:"text",placeholder:"Enter city",thirdWidth:!0},{name:"country",label:"Country",type:"text",placeholder:"Enter country",thirdWidth:!0},{name:"parentName",label:"Parent/Guardian Name",type:"text",required:!0,placeholder:"Enter parent/guardian name",thirdWidth:!0},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0,placeholder:"Enter parent phone number",thirdWidth:!0},{name:"parentEmail",label:"Parent Email",type:"email",placeholder:"Enter parent email",thirdWidth:!0},{name:"status",label:"Status",type:"select",required:!0,thirdWidth:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Graduated",label:"Graduated"},{value:"Transferred",label:"Transferred"}],placeholder:"Select Status"}),M},[o,u,y,g,n]),w=v.useMemo(()=>[{title:"Student Information",fieldNames:n?["studentId","name","email","gradeLevel","section","phone","dateOfBirth","admissionDate","gender","status","address","previousSchool","city","country"]:["name","email","gradeLevel","section","phone","dateOfBirth","admissionDate","gender","status","address","previousSchool","city","country"]},{title:"Parent/Guardian Information",fieldNames:["parentName","parentPhone","parentEmail"]}],[n]),z=(M,N)=>{M==="gradeLevel"?(b(N),l(I=>({...I,gradeLevel:N,section:""}))):l(I=>({...I,[M]:N}))},T=async M=>{try{const N=M.gradeLevel||"",I=M.section||"",$=N&&I?`${N} Section ${I}`:N;if(n&&t){const B=await le.students.update(t,{name:M.name,email:M.email,class:$,section:I,phone:M.phone,parent:M.parentName,status:M.status||"Active",dateOfBirth:M.dateOfBirth,admissionDate:M.admissionDate,gender:M.gender,address:M.address||void 0,parentPhone:M.parentPhone,parentEmail:M.parentEmail||void 0,previousSchool:M.previousSchool||void 0});B?(alert("Student updated successfully!"),console.log("Updated student:",B),e("/dashboard/admin/students")):alert("Failed to update student. Please try again.")}else{const B=await le.students.create({name:M.name,email:M.email,class:$,section:I,phone:M.phone,parent:M.parentName,status:M.status||"Active",dateOfBirth:M.dateOfBirth,admissionDate:M.admissionDate,gender:M.gender,address:M.address||void 0,parentPhone:M.parentPhone,parentEmail:M.parentEmail||void 0,previousSchool:M.previousSchool||void 0}),R=B?.data?.student?.name||B?.name||"Student";alert(`Student ${R} added successfully!`),console.log("New student created:",B),e("/dashboard/admin/students")}}catch(N){console.error("Error saving student:",N),alert("Failed to save student. Please try again.")}};return a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/students"),title:"Back to Students"})}),a.jsx(Ws,{title:n?"Edit Student":"Add New Student",fields:O,sections:w,onSubmit:T,submitButtonText:n?"Update Student":"Add Student",submitButtonIcon:a.jsx(Zt,{size:16}),initialData:r,onFieldChange:z},t||"new")]})},tY=()=>{const{id:e}=qn(),t=vt(),[n,r]=v.useState(null),[l,o]=v.useState([]),[d,u]=v.useState([]),[m,h]=v.useState([]),[p,g]=v.useState(!0);v.useEffect(()=>{e&&(async()=>{try{g(!0);const S=await le.students.getById(e),E=S?.data?.student||S?.data||S;if(E){r(E);const C=E.class||"",A=E.section||"",O=C.match(/Grade\s*(\d+)/i),w=O?`Grade ${O[1]}`:"";if(w)try{const z=await le.subjects.getAll(),T=z?.data?.subjects||z?.data||z||[],N=(Array.isArray(T)?T:[]).filter(H=>{const k=(H.grades||[]).includes(w),F=(H.teacherAssignments||[]).some(Y=>(Y.gradeSections||[]).some(L=>L.grade===w&&(!A||L.sections?.includes(A))));return k||F});o(N);const I=[],$=new Set;let B=1;const R=H=>H?H.charAt(0).toUpperCase()+H.slice(1).toLowerCase():"";N.forEach(H=>{(Array.isArray(H.schedule)?H.schedule:[]).forEach(k=>{const _=(k.grade||"").trim(),F=(k.section||"").trim(),Y=w.match(/\d+/)?.[0]||"",L=(_.match(/\d+/)?.[0]||"")===Y||_===w||_===C||_&&C.includes(_)||_&&_.includes(w),te=!F||F===A||F.toUpperCase()===A.toUpperCase()||A&&F.includes(A)||A&&A.includes(F);if(L&&te&&k.day&&k.startTime&&k.endTime){const V=R(k.day);$.add(k.startTime),$.add(k.endTime),I.push({id:B++,day:V,time:`${k.startTime} - ${k.endTime}`,subject:H.name,class:C,room:k.room||"N/A",startTime:k.startTime,endTime:k.endTime})}})});const q=Array.from($).sort((H,D)=>{const[k,_]=H.split(":").map(Number),[F,Y]=D.split(":").map(Number);return k*60+_-(F*60+Y)}),W=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],K=q.length>0?q:W;console.log("[STUDENT SCHEDULE] Loaded schedules:",{studentGrade:w,studentSection:A,className:C,subjectsCount:N.length,schedulesCount:I.length,timeSlots:K,subjects:N.map(H=>({name:H.name,scheduleCount:(H.schedule||[]).length,schedules:(H.schedule||[]).map(D=>({day:D.day,grade:D.grade,section:D.section,time:`${D.startTime}-${D.endTime}`}))}))}),u(I),h(K)}catch(z){console.error("Error loading subjects and schedules:",z),o([]),u([])}}else r(null)}catch(S){console.error("Error loading student:",S),r(null)}finally{g(!1)}})()},[e]);const b=y=>y?.toLowerCase()==="active"?"active":"rejected";return p?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading student details..."})})}):n?a.jsxs("div",{className:"page-container",style:{paddingTop:"0.5rem"},children:[a.jsx("div",{style:{marginBottom:"0.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/students"),title:"Back to Students"})}),a.jsx(ke,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Qt,{columns:8,sections:[{title:"Student Information",fields:[{label:"Student ID",value:n.studentId||n.id||"N/A"},{label:"Name",value:n.name},{label:"Gender",value:n.gender||"N/A"},{label:"Status",value:n.status||"Active",renderAsBadge:{variant:b(n.status),size:"sm"}},{label:"Class",value:n.class||"N/A",icon:wr},{label:"Section",value:n.section||"N/A"},...n.dateOfBirth?[{label:"Date of Birth",value:new Date(n.dateOfBirth).toLocaleDateString(),icon:We}]:[],{label:"Phone",value:n.phone,icon:oa},{label:"Email",value:n.email,icon:Vr},...n.admissionDate?[{label:"Admission Date",value:new Date(n.admissionDate).toLocaleDateString(),icon:We,span:2}]:[],...n.address?[{label:"Address",value:n.address,icon:Us}]:[],...n.previousSchool?[{label:"Previous School",value:n.previousSchool}]:[]]},{title:"Parent/Guardian Information",icon:Vt,columns:5,fields:[{label:"Parent/Guardian Name",value:n.parent||"N/A"},...n.parentPhone?[{label:"Parent Phone",value:n.parentPhone,icon:oa}]:[],...n.parentEmail?[{label:"Parent Email",value:n.parentEmail,icon:Vr}]:[]]}]})}),l.length>0&&a.jsxs(ke,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:[a.jsxs("h2",{style:{marginBottom:"1rem",fontSize:"1.5rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Pt,{size:20}),"Subjects (",l.length,")"]}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:l.map((y,S)=>a.jsxs(Se,{variant:"info",size:"md",children:[y.name," ",y.code&&`(${y.code})`]},y._id||y.id||S))})]}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:20}),"Class Schedule"]}),d.length>0?a.jsx(BD,{schedules:d,timeSlots:m,daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cellHeight:"100px"}):a.jsx(ke,{variant:"custom",style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No schedule available for this student. Assign subjects with schedules to this student's grade and section to see their class schedule here."})})]})]}):a.jsx("div",{className:"page-container",children:a.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[a.jsx("p",{children:"Student not found"}),a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/students"),title:"Back to Students"})]})})},nY=()=>{const e=[{id:1,name:"Alice Johnson",class:"Grade 10A",attendance:95,averageGrade:88,totalSubjects:6,completedAssignments:45,pendingAssignments:3},{id:2,name:"Bob Williams",class:"Grade 9B",attendance:92,averageGrade:85,totalSubjects:5,completedAssignments:38,pendingAssignments:5},{id:3,name:"Charlie Brown",class:"Grade 11A",attendance:98,averageGrade:91,totalSubjects:7,completedAssignments:52,pendingAssignments:2},{id:4,name:"Diana Prince",class:"Grade 10B",attendance:89,averageGrade:82,totalSubjects:6,completedAssignments:42,pendingAssignments:4}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Records"})}),a.jsx("div",{className:"section-title",children:"Individual Student Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Average Grade"}),a.jsx("th",{children:"Subjects"}),a.jsx("th",{children:"Completed Assignments"}),a.jsx("th",{children:"Pending Assignments"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.slice(0,10).map(t=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:t.name})}),a.jsx("td",{children:t.class}),a.jsx("td",{children:a.jsxs(Se,{variant:t.attendance>=90?"high":t.attendance>=80?"medium":"low",size:"sm",children:[t.attendance,"%"]})}),a.jsx("td",{children:a.jsxs(Se,{variant:t.averageGrade>=85?"high":t.averageGrade>=75?"medium":"low",size:"sm",children:[t.averageGrade,"%"]})}),a.jsx("td",{children:t.totalSubjects}),a.jsx("td",{children:t.completedAssignments}),a.jsx("td",{children:a.jsx(Se,{variant:"pending",size:"sm",children:t.pendingAssignments})}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>console.log("View Details",t.id)})})]},t.id))})]})})]})},rY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(null),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(!1),[p,g]=v.useState(!0);v.useEffect(()=>{b()},[]);const b=async()=>{try{g(!0);const[T]=await Promise.all([le.assignments.getAll()]),M={data:{submissions:[]}},N=T.data?.assignments||[],I=M.data?.submissions||M.data||[],B=N.map(R=>{const q=R._id||R.id,W=I.filter(k=>String(k.assignmentId)===String(q)),H=new Set(W.map(k=>k.studentId)).size,D=Math.max(H,25);return{id:q,title:R.title,subject:R.subject,class:R.class,assignedDate:R.assignedDate||R.createdAt||new Date().toISOString().split("T")[0],dueDate:R.dueDate,status:R.status,totalMarks:R.totalMarks,submittedBy:H,totalStudents:D,description:R.description||""}}).sort((R,q)=>{const W=new Date(R.assignedDate).getTime(),K=new Date(q.assignedDate).getTime();return W-K});t(B.slice(0,3))}catch(T){console.error("Error loading assignments:",T),t([])}finally{g(!1)}},y=T=>{switch(T.toLowerCase()){case"active":return"active";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},S=(T,M)=>Math.round(T/M*100),E=T=>{r(T),o(!0)},C=T=>{r(T),u(!0)},A=T=>{r(T),h(!0)},O=async()=>{if(n)try{await le.assignments.delete(n.id),await b(),h(!1),r(null),alert("Assignment deleted successfully!")}catch(T){console.error("Error deleting assignment:",T),alert("Failed to delete assignment. Please try again.")}},w=async T=>{if(n)try{await le.assignments.update(n.id,{title:T.title||n.title,subject:T.subject||n.subject,class:T.class||n.class,assignedDate:T.assignedDate||n.assignedDate,dueDate:T.dueDate||n.dueDate,description:T.description||n.description,status:T.status||n.status}),await b(),u(!1),r(null),alert("Assignment updated successfully!")}catch(M){console.error("Error updating assignment:",M),alert("Failed to update assignment. Please try again.")}},z=[{name:"title",label:"Assignment Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"assignedDate",label:"Assigned Date",type:"date",required:!0},{name:"dueDate",label:"Due Date",type:"date",required:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:4}];return p?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading assignments..."})})}):a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Student Assignments"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Submissions"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No assignments found"})}):e.map(T=>{const M=S(T.submittedBy,T.totalStudents),N=new Date(T.dueDate)<new Date&&T.status==="Active";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:T.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:T.description})]})}),a.jsx("td",{children:T.subject}),a.jsx("td",{children:T.class}),a.jsx("td",{children:T.assignedDate}),a.jsxs("td",{children:[a.jsx("div",{children:T.dueDate}),N&&a.jsx(Se,{variant:"rejected",size:"sm",style:{marginTop:"0.25rem"},children:"Overdue"})]}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsxs("strong",{children:[T.submittedBy," / ",T.totalStudents]}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:[M,"% submitted"]}),a.jsx("div",{style:{width:"100%",height:"4px",background:"#e0e0e0",borderRadius:"2px",marginTop:"0.5rem"},children:a.jsx("div",{style:{width:`${M}%`,height:"100%",background:M===100?"#22c55e":M>=50?"#f59e0b":"#ef4444",borderRadius:"2px"}})})]})}),a.jsx("td",{children:a.jsx(Se,{variant:y(T.status),size:"sm",children:T.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>E(T)}),a.jsx(Ot,{size:"sm",onClick:()=>C(T)}),a.jsx(Ft,{size:"sm",onClick:()=>A(T)})]})})]},T.id)})})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Assignment Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Assignment Information",icon:lt,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject,icon:Pt},{label:"Class",value:n.class},{label:"Assigned Date",value:n.assignedDate,icon:We},{label:"Due Date",value:n.dueDate,icon:Qe},{label:"Submissions",value:`${n.submittedBy} / ${n.totalStudents} (${S(n.submittedBy,n.totalStudents)}%)`},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0},...n.totalMarks?[{label:"Total Marks",value:n.totalMarks.toString()}]:[]]}]})}),a.jsx(or,{isOpen:d,onClose:()=>{u(!1),r(null)},title:"Edit Assignment",fields:z,onSubmit:w,submitButtonText:"Update Assignment",initialData:n?{title:n.title,subject:n.subject,class:n.class,assignedDate:n.assignedDate,dueDate:n.dueDate,status:n.status,description:n.description}:{}}),a.jsx(et,{isOpen:m,onClose:()=>{h(!1),r(null)},title:"Delete Assignment",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone. All submissions for this assignment will also be deleted."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{h(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:O,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},aY=()=>{const[e,t]=v.useState([{id:1,title:"Mathematics Mid-Term Test",subject:"Mathematics",class:"Grade 10A",examDate:"2024-03-20",duration:"90 minutes",totalMarks:100,status:"Scheduled",conductedBy:"John Smith",description:"Covers chapters 1-5: Algebra, Geometry, and Trigonometry"},{id:2,title:"English Literature Test",subject:"English",class:"Grade 9B",examDate:"2024-03-18",duration:"60 minutes",totalMarks:50,status:"Completed",conductedBy:"Sarah Johnson",description:"Test on Shakespeare's Romeo and Juliet"},{id:3,title:"Science Practical Test",subject:"Science",class:"Grade 8A",examDate:"2024-03-25",duration:"120 minutes",totalMarks:100,status:"Scheduled",conductedBy:"Michael Brown",description:"Practical examination on Chemistry experiments"},{id:4,title:"History Quiz",subject:"History",class:"Grade 11A",examDate:"2024-03-15",duration:"45 minutes",totalMarks:50,status:"Completed",conductedBy:"Emily Davis",description:"Quiz on World War II and its aftermath"},{id:5,title:"Physics Unit Test",subject:"Physics",class:"Grade 12A",examDate:"2024-03-22",duration:"90 minutes",totalMarks:100,status:"Scheduled",conductedBy:"David Wilson",description:"Unit test on Mechanics and Thermodynamics"}]),[n,r]=v.useState(null),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(!1),p=w=>{switch(w.toLowerCase()){case"scheduled":return"pending";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},g=w=>{switch(w.toLowerCase()){case"scheduled":return a.jsx(Qe,{size:16});case"completed":return a.jsx(Rn,{size:16});case"cancelled":return a.jsx(Hi,{size:16});default:return a.jsx(Qe,{size:16})}},b=w=>{r(w),o(!0)},y=w=>{r(w),u(!0)},S=w=>{r(w),h(!0)},E=()=>{n&&(t(e.filter(w=>w.id!==n.id)),h(!1),r(null),alert("Test paper deleted successfully!"))},C=w=>{n&&(t(e.map(z=>z.id===n.id?{...z,title:w.title||z.title,subject:w.subject||z.subject,class:w.class||z.class,examDate:w.examDate||z.examDate,duration:w.duration||z.duration,totalMarks:parseInt(w.totalMarks)||z.totalMarks,status:w.status||z.status,description:w.description||z.description}:z)),u(!1),r(null),alert("Test paper updated successfully!"))},A=w=>{const z=window.open("","_blank");z&&(z.document.write(`
        <html>
          <head>
            <title>${w.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #333; }
              .info { margin: 10px 0; }
              .label { font-weight: bold; }
            </style>
          </head>
          <body>
            <h1>${w.title}</h1>
            <div class="info"><span class="label">Subject:</span> ${w.subject}</div>
            <div class="info"><span class="label">Class:</span> ${w.class}</div>
            <div class="info"><span class="label">Exam Date:</span> ${w.examDate}</div>
            <div class="info"><span class="label">Duration:</span> ${w.duration}</div>
            <div class="info"><span class="label">Total Marks:</span> ${w.totalMarks}</div>
            <div class="info"><span class="label">Description:</span> ${w.description}</div>
            <div class="info"><span class="label">Conducted By:</span> ${w.conductedBy}</div>
          </body>
        </html>
      `),z.document.close(),z.print())},O=[{name:"title",label:"Test Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"examDate",label:"Exam Date",type:"date",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 90 minutes"},{name:"totalMarks",label:"Total Marks",type:"number",required:!0,min:1},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Scheduled",label:"Scheduled"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:3}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Tests Papers"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Exam Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(w=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:w.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:w.description})]})}),a.jsx("td",{children:w.subject}),a.jsx("td",{children:w.class}),a.jsx("td",{children:w.examDate}),a.jsx("td",{children:w.duration}),a.jsx("td",{children:a.jsx("strong",{children:w.totalMarks})}),a.jsx("td",{children:w.conductedBy}),a.jsx("td",{children:a.jsxs(Se,{variant:p(w.status),size:"sm",children:[g(w.status),w.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>b(w)}),a.jsx(Ot,{size:"sm",onClick:()=>y(w)}),a.jsx(Hr,{size:"sm",onClick:()=>A(w)}),a.jsx(Ft,{size:"sm",onClick:()=>S(w)})]})})]},w.id))})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Test Paper Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Test Information",icon:lt,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject,icon:Pt},{label:"Class",value:n.class},{label:"Exam Date",value:n.examDate,icon:We},{label:"Duration",value:n.duration,icon:Qe},{label:"Total Marks",value:n.totalMarks.toString()},{label:"Conducted By",value:n.conductedBy},{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0}]}]})}),a.jsx(or,{isOpen:d,onClose:()=>{u(!1),r(null)},title:"Edit Test Paper",fields:O,onSubmit:C,submitButtonText:"Update Test",initialData:n?{title:n.title,subject:n.subject,class:n.class,examDate:n.examDate,duration:n.duration,totalMarks:n.totalMarks.toString(),status:n.status,description:n.description}:{}}),a.jsx(et,{isOpen:m,onClose:()=>{h(!1),r(null)},title:"Delete Test Paper",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{h(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:E,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},iY=()=>{const[e,t]=v.useState([{id:1,title:"Mathematics Chapter 5 Quiz",subject:"Mathematics",class:"Grade 10A",quizDate:"2024-03-20",duration:"30 minutes",totalQuestions:20,totalMarks:20,status:"Active",conductedBy:"John Smith",description:"Quick quiz on algebraic expressions and equations",attemptsAllowed:2,passingMarks:12},{id:2,title:"English Vocabulary Quiz",subject:"English",class:"Grade 9B",quizDate:"2024-03-18",duration:"20 minutes",totalQuestions:15,totalMarks:15,status:"Active",conductedBy:"Sarah Johnson",description:"Test your knowledge of advanced vocabulary words",attemptsAllowed:1,passingMarks:10},{id:3,title:"Science Biology Quiz",subject:"Science",class:"Grade 8A",quizDate:"2024-03-25",duration:"25 minutes",totalQuestions:18,totalMarks:18,status:"Scheduled",conductedBy:"Michael Brown",description:"Quiz on cell structure and functions",attemptsAllowed:2,passingMarks:11},{id:4,title:"History World War II Quiz",subject:"History",class:"Grade 11A",quizDate:"2024-03-15",duration:"35 minutes",totalQuestions:25,totalMarks:25,status:"Completed",conductedBy:"Emily Davis",description:"Multiple choice questions on World War II events",attemptsAllowed:1,passingMarks:15},{id:5,title:"Physics Mechanics Quiz",subject:"Physics",class:"Grade 12A",quizDate:"2024-03-22",duration:"40 minutes",totalQuestions:22,totalMarks:22,status:"Scheduled",conductedBy:"David Wilson",description:"Quiz on Newton's laws and motion",attemptsAllowed:2,passingMarks:14}]),[n,r]=v.useState(null),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(!1),p=w=>{switch(w.toLowerCase()){case"active":return"active";case"scheduled":return"pending";case"completed":return"approved";case"cancelled":return"rejected";default:return"pending"}},g=w=>{switch(w.toLowerCase()){case"active":return a.jsx(Rn,{size:16});case"scheduled":return a.jsx(Qe,{size:16});case"completed":return a.jsx(Rn,{size:16});case"cancelled":return a.jsx(Hi,{size:16});default:return a.jsx(Qe,{size:16})}},b=w=>{r(w),o(!0)},y=w=>{r(w),u(!0)},S=w=>{r(w),h(!0)},E=()=>{n&&(t(e.filter(w=>w.id!==n.id)),h(!1),r(null),alert("Quiz deleted successfully!"))},C=w=>{n&&(t(e.map(z=>z.id===n.id?{...z,title:w.title||z.title,subject:w.subject||z.subject,class:w.class||z.class,quizDate:w.quizDate||z.quizDate,duration:w.duration||z.duration,totalQuestions:parseInt(w.totalQuestions)||z.totalQuestions,totalMarks:parseInt(w.totalMarks)||z.totalMarks,passingMarks:parseInt(w.passingMarks)||z.passingMarks,attemptsAllowed:parseInt(w.attemptsAllowed)||z.attemptsAllowed,status:w.status||z.status,description:w.description||z.description}:z)),u(!1),r(null),alert("Quiz updated successfully!"))},A=w=>{const z=window.open("","_blank");z&&(z.document.write(`
        <html>
          <head>
            <title>${w.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              h1 { color: #333; }
              .info { margin: 10px 0; }
              .label { font-weight: bold; }
            </style>
          </head>
          <body>
            <h1>${w.title}</h1>
            <div class="info"><span class="label">Subject:</span> ${w.subject}</div>
            <div class="info"><span class="label">Class:</span> ${w.class}</div>
            <div class="info"><span class="label">Date:</span> ${w.quizDate}</div>
            <div class="info"><span class="label">Duration:</span> ${w.duration}</div>
            <div class="info"><span class="label">Total Questions:</span> ${w.totalQuestions}</div>
            <div class="info"><span class="label">Total Marks:</span> ${w.totalMarks}</div>
            <div class="info"><span class="label">Passing Marks:</span> ${w.passingMarks}</div>
            <div class="info"><span class="label">Description:</span> ${w.description}</div>
            <div class="info"><span class="label">Conducted By:</span> ${w.conductedBy}</div>
          </body>
        </html>
      `),z.document.close(),z.print())},O=[{name:"title",label:"Quiz Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"text",required:!0},{name:"quizDate",label:"Quiz Date",type:"date",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 30 minutes"},{name:"totalQuestions",label:"Total Questions",type:"number",required:!0,min:1},{name:"totalMarks",label:"Total Marks",type:"number",required:!0,min:1},{name:"passingMarks",label:"Passing Marks",type:"number",required:!0,min:1},{name:"attemptsAllowed",label:"Attempts Allowed",type:"number",required:!0,min:1},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Scheduled",label:"Scheduled"},{value:"Completed",label:"Completed"},{value:"Cancelled",label:"Cancelled"}]},{name:"description",label:"Description",type:"textarea",spanFull:!0,rows:3}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Quizzes"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Quiz Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Questions"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Passing Marks"}),a.jsx("th",{children:"Attempts"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(w=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:w.title}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:w.description})]})}),a.jsx("td",{children:w.subject}),a.jsx("td",{children:w.class}),a.jsx("td",{children:w.quizDate}),a.jsx("td",{children:w.duration}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(m6,{size:14,style:{color:"#666"}}),a.jsx("strong",{children:w.totalQuestions})]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(Ar,{size:14,style:{color:"#666"}}),a.jsx("strong",{children:w.totalMarks})]})}),a.jsx("td",{children:a.jsxs(Se,{variant:"info",size:"sm",children:[w.passingMarks," / ",w.totalMarks]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[a.jsx(Vt,{size:14,style:{color:"#666"}}),w.attemptsAllowed]})}),a.jsx("td",{children:w.conductedBy}),a.jsx("td",{children:a.jsxs(Se,{variant:p(w.status),size:"sm",children:[g(w.status),w.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>b(w)}),a.jsx(Ot,{size:"sm",onClick:()=>y(w)}),a.jsx(Hr,{size:"sm",onClick:()=>A(w)}),a.jsx(Ft,{size:"sm",onClick:()=>S(w)})]})})]},w.id))})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Quiz Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Quiz Information",icon:Pt,fields:[{label:"Title",value:n.title},{label:"Subject",value:n.subject},{label:"Class",value:n.class},{label:"Quiz Date",value:n.quizDate,icon:We},{label:"Duration",value:n.duration,icon:Qe},{label:"Total Questions",value:n.totalQuestions.toString()},{label:"Total Marks",value:n.totalMarks.toString()},{label:"Passing Marks",value:`${n.passingMarks} / ${n.totalMarks}`},{label:"Attempts Allowed",value:n.attemptsAllowed.toString()},{label:"Conducted By",value:n.conductedBy},{label:"Status",value:n.status,renderAsBadge:{variant:p(n.status),size:"sm"}},{label:"Description",value:n.description,spanFull:!0}]}]})}),a.jsx(or,{isOpen:d,onClose:()=>{u(!1),r(null)},title:"Edit Quiz",fields:O,onSubmit:C,submitButtonText:"Update Quiz",initialData:n?{title:n.title,subject:n.subject,class:n.class,quizDate:n.quizDate,duration:n.duration,totalQuestions:n.totalQuestions.toString(),totalMarks:n.totalMarks.toString(),passingMarks:n.passingMarks.toString(),attemptsAllowed:n.attemptsAllowed.toString(),status:n.status,description:n.description}:{}}),a.jsx(et,{isOpen:m,onClose:()=>{h(!1),r(null)},title:"Delete Quiz",size:"md",children:n&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',n.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{h(!1),r(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:E,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},sY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState([]),[h,p]=v.useState(!1);v.useEffect(()=>{const C=async()=>{try{const[O,w]=await Promise.all([le.grades.getAll(),le.students.getAll()]);let z=[];Array.isArray(w)?z=w:w?.data?.students?z=w.data.students:w?.data&&Array.isArray(w.data)?z=w.data:w?.students&&(z=w.students);const T=Array.isArray(z)?z.filter(M=>(M.status==="Active"||!M.status)&&M.class):[];if(O.data?.classes){const M=O.data.classes.map(N=>{const I=N.grade||N.name||"",$=N.section||"",R=T.filter(q=>{const W=(q.class||"").trim();if(!W)return!1;const K=I.startsWith("Grade")?I:`Grade ${I}`;return W.startsWith(K)?W.replace(K,"").trim().toLowerCase()===$.toLowerCase():!1}).length;return{...N,id:N._id||N.code||N.id,name:N.grade||N.name||"Unknown",section:N.section||"",capacity:N.capacity||0,currentStudents:R,description:N.description||"",status:N.status||"Active",code:N.code||"",room:N.room||"",schedule:N.schedule||"",teacher:N.teacher||"",classId:N._id}});n(M)}else n([])}catch(O){console.error("Error loading grades:",O),n([])}};C();const A=setInterval(()=>{C()},3e4);return()=>{clearInterval(A)}},[]);const g=async C=>{l(C),d(!0),p(!0);try{const A=await le.subjects.getAll(),O=A?.data?.subjects||A?.data||A||[],w=Array.isArray(O)?O:[],z=C.name||C.grade||"",T=w.filter(M=>(M.grades||[]).includes(z));m(T)}catch(A){console.error("Error loading subjects:",A),m([])}finally{p(!1)}},b=C=>{const A=C.classId||C._id||C.id;e(`/dashboard/admin/classes/edit/${A}`)},y=async C=>{if(window.confirm("Are you sure you want to delete this grade?"))try{await le.grades.delete(String(C));const[A,O]=await Promise.all([le.grades.getAll(),le.students.getAll()]);let w=[];Array.isArray(O)?w=O:O?.data?.students?w=O.data.students:O?.data&&Array.isArray(O.data)?w=O.data:O?.students&&(w=O.students);const z=Array.isArray(w)?w.filter(T=>(T.status==="Active"||!T.status)&&T.class):[];if(A.data?.classes){const T=A.data.classes.map(M=>{const N=M.grade||M.name||"",I=M.section||"",B=z.filter(R=>{const q=(R.class||"").trim();if(!q)return!1;const W=N.startsWith("Grade")?N:`Grade ${N}`;return q.startsWith(W)?q.replace(W,"").trim().toLowerCase()===I.toLowerCase():!1}).length;return{...M,id:M._id||M.code||M.id,name:M.grade||M.name||"Unknown",section:M.section||"",capacity:M.capacity||0,currentStudents:B,description:M.description||"",status:M.status||"Active",code:M.code||"",room:M.room||"",schedule:M.schedule||"",teacher:M.teacher||"",classId:M._id}});n(T)}alert("Grade deleted successfully!")}catch(A){console.error("Error deleting grade:",A),alert("Failed to delete grade. Please try again.")}},S=C=>C==="Active"?"success":"danger",E=[{key:"name",header:"Grade",render:(C,A)=>a.jsx("strong",{children:A.name})},{key:"section",header:"Section",render:(C,A)=>a.jsxs(Se,{variant:"info",size:"sm",children:["Sec ",A.section]})},{key:"capacity",header:"Capacity"},{key:"currentStudents",header:"Current Students"},{key:"available",header:"Available",render:(C,A)=>{const O=A.capacity-A.currentStudents,w=A.currentStudents/A.capacity*100;return a.jsxs("div",{children:[a.jsx("span",{style:{color:O>0?"#10b981":"#ef4444"},children:O}),a.jsx("div",{style:{width:"60px",height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",marginTop:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${w}%`,height:"100%",backgroundColor:w>90?"#ef4444":w>70?"#f59e0b":"#10b981"}})})]})}},{key:"description",header:"Description",render:(C,A)=>{const O=A.description||C||"";return a.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",maxWidth:"300px",display:"block"},children:O||"No description"})}},{key:"status",header:"Status",render:C=>a.jsx(Se,{variant:S(C),size:"sm",children:C})},{key:"actions",header:"Actions",render:(C,A)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>g(A)}),a.jsx(Ot,{size:"sm",onClick:()=>b(A)}),a.jsx(Ft,{size:"sm",onClick:()=>y(A.classId||A._id||A.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Classes (Grades)"}),a.jsx(co,{size:"md",onClick:()=>e("/dashboard/admin/classes/add"),title:"Add New Grade"})]}),a.jsx(ta,{columns:E,data:t.slice(0,10),emptyMessage:"No grades found"}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Grade Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Grade Information",icon:wr,fields:[{label:"Grade Name",value:r.name,icon:wr},{label:"Section",value:`Section ${r.section}`,icon:Pt},{label:"Student Capacity",value:r.capacity.toString(),icon:Vt},{label:"Current Students",value:r.currentStudents.toString(),icon:Vt},{label:"Available Spots",value:(r.capacity-r.currentStudents).toString()},{label:"Status",value:r.status,renderAsBadge:{variant:S(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[],{label:"Assigned Subjects",value:h?"Loading subjects...":u.length===0?"No subjects assigned":u.map((C,A)=>`${A+1}. ${C.name}`).join(`
`),spanFull:!0,customRender:C=>h?a.jsx("div",{style:{color:"#6b7280"},children:"Loading subjects..."}):u.length===0?a.jsx("div",{style:{color:"#6b7280"},children:"No subjects assigned"}):a.jsx("div",{style:{lineHeight:"1.8"},children:u.map((A,O)=>a.jsxs("div",{style:{marginBottom:"0.25rem"},children:[O+1,". ",A.name," ",A.code&&`(${A.code})`]},A._id||A.id))})}]}]})})]})},iE=()=>{const e=vt(),{id:t}=qn(),n=!!t,[r,l]=v.useState({}),[o,d]=v.useState(!1);v.useEffect(()=>{n&&t&&(async()=>{try{d(!0);const p=await le.grades.getById(String(t));if(p.data?.class){const g=p.data.class;l({name:g.name||g.grade,code:g.code||"",section:g.section||"",capacity:(g.capacity||0).toString(),status:g.status||"Active",description:g.description||""})}}catch(p){console.error("Error loading grade:",p),alert("Failed to load grade data. Please try again.")}finally{d(!1)}})()},[t,n]);const u=[{name:"name",label:"Grade Name",type:"text",required:!0,placeholder:"e.g., Grade 1, Grade 2, Grade 10"},{name:"code",label:"Class Code",type:"text",required:!0,placeholder:"e.g., G1A, G2B, G10C"},{name:"section",label:"Section",type:"text",required:!0,placeholder:"Enter section (e.g., A, B, C)",thirdWidth:!0},{name:"capacity",label:"Student Capacity",type:"number",required:!0,placeholder:"30",min:1,thirdWidth:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active"},{name:"description",label:"Description",type:"textarea",placeholder:"Enter grade description",rows:3}],m=async h=>{try{if(n&&t){const p={name:h.name,code:h.code,section:h.section,capacity:parseInt(h.capacity)||30,description:h.description||"",status:h.status||"Active"};await le.grades.update(String(t),p)?(alert("Grade updated successfully!"),e("/dashboard/admin/classes")):alert("Failed to update grade. Please try again.")}else{const p={name:h.name,code:h.code,section:h.section,capacity:parseInt(h.capacity)||30,description:h.description||"",status:h.status||"Active"};await le.grades.create(p)?(alert("Grade created successfully!"),e("/dashboard/admin/classes")):alert("Failed to create grade. Please try again.")}}catch(p){console.error("Error saving grade:",p),alert("Failed to save grade. Please try again.")}};return o&&n?a.jsx("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading grade data..."})})}):a.jsxs("div",{style:{padding:"1rem 2rem",paddingTop:"1rem"},children:[a.jsx("div",{style:{marginBottom:"1rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/classes"),title:"Back to Classes"})}),a.jsx(Ws,{title:n?"Edit Grade":"Add New Grade",fields:u,onSubmit:m,submitButtonText:n?"Update Grade":"Create Grade",submitButtonIcon:a.jsx(Zt,{size:16}),initialData:r},t||"new")]})},lY=({isOpen:e,onClose:t,title:n,message:r,type:l="warning",onConfirm:o,confirmText:d="OK",showCancel:u=!1,cancelText:m="Cancel"})=>{const h=()=>{switch(l){case"error":return"#e53e3e";case"info":return"#667eea";default:return"#ed8936"}},p=()=>{if(n)return n;switch(l){case"error":return"Error";case"info":return"Information";default:return"Warning"}};return a.jsx(et,{isOpen:e,onClose:t,title:p(),size:"md",closeOnOverlayClick:!o,children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",width:"48px",height:"48px",borderRadius:"50%",background:`${h()}15`,color:h()},children:a.jsx(oP,{size:24})}),a.jsx("div",{style:{flex:1},children:typeof r=="string"?a.jsx("div",{style:{whiteSpace:"pre-line",lineHeight:"1.6",color:"#333",fontSize:"0.95rem"},children:r}):r})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1.5rem"},children:[u&&a.jsx(we,{variant:"outline",size:"md",onClick:t,children:m}),a.jsx(we,{variant:l==="error"?"danger":"primary",size:"md",onClick:()=>{o&&o(),t()},children:d})]})]})})},oY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState([]),[h,p]=v.useState([]),[g,b]=v.useState([]),[y,S]=v.useState([]),[E,C]=v.useState([]),[A,O]=v.useState({isOpen:!1,title:"",message:"",type:"warning"}),w=(k,_,F="warning")=>{O({isOpen:!0,title:k,message:_,type:F})};v.useEffect(()=>{const k=async()=>{try{const[F,Y,U]=await Promise.all([le.subjects.getAll(),le.classes.getAll(),le.masterData.getAll({type:"room",status:"Active"})]);F.data?.subjects?n(F.data.subjects):n([]),Y.data?.classes?p(Y.data.classes):p([]),U.data?.masterData?S(U.data.masterData):S([])}catch(F){console.error("Error loading data:",F),n([]),p([]),S([])}};k();const _=setInterval(()=>{k()},3e4);return()=>{clearInterval(_)}},[]);const z=k=>{if(!k)return"active";const _=k.toLowerCase();return _==="active"?"active":_==="inactive"?"rejected":"active"},T=async k=>{const _=t.find(F=>(F._id||F.id||F.mongoId)===k);if(_&&confirm(`Are you sure you want to delete "${_.name}"?`))try{const F=_._id||_.id||_.mongoId||k;await le.subjects.delete(F);const Y=await le.subjects.getAll();Y.data?.subjects&&n(Y.data.subjects),w("Success","Subject deleted successfully!","info")}catch(F){console.error("Error deleting subject:",F),w("Error","Failed to delete subject. Please try again.","error")}},M=async k=>{console.log("[FRONTEND] handleManageSchedule - START",{subjectId:k._id||k.id,subjectName:k.name});let _=k;try{console.log("[FRONTEND] Fetching fresh subject from API...");const[L,te]=await Promise.all([le.subjects.getById(k._id||k.id),le.subjects.getAll()]);_=L.data?.subject||L.subject||L;const V=te.data?.subjects||te.subjects||[],X=_._id||_.id,Q=V.filter(ae=>(ae._id||ae.id)!==X);C(Q),console.log("[FRONTEND] Fresh subject received:",{subjectId:_._id||_.id,scheduleCount:_.schedule?.length||0,scheduleEntries:(_.schedule||[]).map(ae=>({day:ae.day,room:ae.room,slot:ae.slot,slotType:typeof ae.slot,grade:ae.grade,section:ae.section,startTime:ae.startTime,endTime:ae.endTime}))})}catch(L){console.error("[FRONTEND] Error loading fresh subject data:",L)}l(_);const F=[];if(_.teacherAssignments&&Array.isArray(_.teacherAssignments)&&_.teacherAssignments.length>0)_.teacherAssignments.forEach(L=>{if(L.teacherId){const te=typeof L.teacherId=="object"?L.teacherId:null;if(te){const V=te._id||te.id,X=te.name||"Unknown",Q=te.subject||"N/A";F.push({value:String(V),label:`${X} (${Q})`})}}});else if(_.teacherId){const L=typeof _.teacherId=="object"?_.teacherId:null;if(L){const te=L._id||L.id,V=L.name||"Unknown",X=L.subject||"N/A";F.push({value:String(te),label:`${V} (${X})`})}}if(F.length===0)try{const L=await le.teachers.getAll();(L.data?.teachers||L.teachers||[]).forEach(V=>{const X=V._id||V.id,Q=V.name||"Unknown",ae=V.subject||"N/A";F.push({value:String(X),label:`${Q} (${ae})`})})}catch(L){console.error("Error loading all teachers:",L)}b(F);const Y=new Map;(_.schedule||[]).forEach(L=>{const te=L.grade||(Array.isArray(L.grades)&&L.grades.length>0?L.grades[0]:""),V=L.teacherId?typeof L.teacherId=="object"?L.teacherId._id||L.teacherId.id:L.teacherId:"";let X="";L.slot!==void 0&&L.slot!==null&&L.slot!==""&&(X=String(L.slot).trim());const Q=`${L.startTime||""}_${L.endTime||""}_${L.room||""}_${V}_${te}_${L.section||""}_${X}`;if(Y.has(Q)){const ae=Y.get(Q),pe=L.day||L.days?.[0];pe&&!ae.days.includes(pe)&&ae.days.push(pe),L.slot!==void 0&&L.slot!==null&&L.slot!==""&&(ae.slot=String(L.slot).trim())}else{const ae=L.day||L.days?.[0]||"Monday";let pe="";if(L.slot!==void 0&&L.slot!==null&&L.slot!==""){const ee=typeof L.slot=="number"?L.slot:parseInt(String(L.slot),10);isNaN(ee)?pe=String(L.slot).trim():pe=String(ee)}Y.set(Q,{startTime:L.startTime||"09:00",endTime:L.endTime||"10:00",room:L.room||"",slot:pe,grade:te,section:L.section||(Array.isArray(L.sections)&&L.sections.length>0?L.sections[0]:""),teacherId:V,days:[ae]})}});const U=Array.from(Y.values()).map(L=>{let te="";if(L.slot!==void 0&&L.slot!==null&&L.slot!==""){const V=typeof L.slot=="number"?L.slot:parseInt(String(L.slot).trim(),10);!isNaN(V)&&V>=0?te=String(V):te=String(L.slot).trim()}return{...L,slot:te,days:L.days.sort((V,X)=>{const Q=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return Q.indexOf(V)-Q.indexOf(X)})}});console.log("[FRONTEND] Converted schedule entries for UI:",U.map(L=>({room:L.room,slot:L.slot,slotType:typeof L.slot,grade:L.grade,section:L.section,days:L.days,startTime:L.startTime,endTime:L.endTime}))),m(U),d(!0),console.log("[FRONTEND] handleManageSchedule - END - Modal opened")},N=()=>{m([...u,{days:["Monday"],startTime:"09:00",endTime:"10:00",room:"",slot:"",grade:"",section:"",teacherId:""}])},I=k=>{const _=u[k],F=_.grade||(Array.isArray(_.grades)&&_.grades.length>0?_.grades[0]:""),Y={days:Array.isArray(_.days)?[..._.days]:_.day?[_.day]:["Monday"],startTime:_.startTime||"09:00",endTime:_.endTime||"10:00",room:_.room||"",slot:_.slot!==void 0?_.slot:"",grade:F,section:_.section||(Array.isArray(_.sections)&&_.sections.length>0?_.sections[0]:""),teacherId:_.teacherId||""};m([...u,Y])},$=k=>{m(u.filter((_,F)=>F!==k))},B=(k,_,F)=>{const Y=[...u];Y[k]={...Y[k],[_]:F},m(Y)},R=(k,_)=>{const F=[...u],Y=Array.isArray(F[k].days)?F[k].days:F[k].day?[F[k].day]:[];Y.includes(_)?F[k].days=Y.filter(U=>U!==_):F[k].days=[...Y,_],F[k].day&&delete F[k].day,m(F)},q=(k,_)=>{const F=[...u];F[k].grade=_,F[k].section="",F[k].grades&&delete F[k].grades,m(F)},W=(k,_)=>{const F=[...u];F[k].section=_,m(F)},K=async()=>{if(r){console.log("[FRONTEND] handleSaveSchedule - START",{subjectId:r._id||r.id,scheduleEntriesCount:u.length,scheduleEntries:u.map((k,_)=>({index:_,room:k.room,slot:k.slot,slotType:typeof k.slot,grade:k.grade,section:k.section,days:k.days,startTime:k.startTime,endTime:k.endTime}))});for(let k=0;k<u.length;k++){const _=u[k];if((Array.isArray(_.days)?_.days:_.day?[_.day]:[]).length===0){w("Validation Error",`Time Slot ${k+1} must have at least one day selected.`,"error");return}}try{const k=r._id||r.id;for(let Y=0;Y<u.length;Y++){const U=u[Y],L=U.grade||(Array.isArray(U.grades)&&U.grades.length>0?U.grades[0]:"");if(!U.room){w("Validation Error",`Time Slot ${Y+1} must have a room selected.`,"error");return}if(!U.startTime){w("Validation Error",`Time Slot ${Y+1} must have a start time.`,"error");return}if(!U.endTime){w("Validation Error",`Time Slot ${Y+1} must have an end time.`,"error");return}if(!L){w("Validation Error",`Time Slot ${Y+1} must have a grade selected.`,"error");return}if(!U.section){w("Validation Error",`Time Slot ${Y+1} must have a section selected.`,"error");return}const te=Array.isArray(U.days)?U.days:U.day?[U.day]:[],V=U.slot!==void 0&&U.slot!==null&&U.slot!==""?String(U.slot).trim():"",X=U.teacherId?typeof U.teacherId=="object"?U.teacherId._id||U.teacherId.id:U.teacherId:null;if(V)for(const Q of te){const ae=E.find(pe=>(pe.schedule||[]).some(xe=>{const ge=xe.slot!==void 0&&xe.slot!==null&&xe.slot!==""?String(xe.slot).trim():"";return xe.room===U.room&&ge===V&&xe.day===Q}));if(ae){const pe=ae.code||ae.name||"Unknown Subject";w("Conflict Detected",`Time Slot ${Y+1} conflicts with "${pe}" schedule:

 Room: ${U.room}
 Slot: ${V}
 Day: ${Q}

Please select a different room, slot, or day to avoid conflicts.`,"warning");return}if(X){const pe=E.find(ee=>(ee.schedule||[]).some(ge=>{const de=ge.slot!==void 0&&ge.slot!==null&&ge.slot!==""?String(ge.slot).trim():"",Ee=ge.teacherId?typeof ge.teacherId=="object"?ge.teacherId._id||ge.teacherId.id:ge.teacherId:null;return Ee&&String(Ee)===String(X)&&de===V&&ge.day===Q}));if(pe){const ee=pe.code||pe.name||"Unknown Subject",xe=U.teacherId?typeof U.teacherId=="object"?U.teacherId.name:"Selected Teacher":"N/A";w("Teacher Conflict Detected",`Time Slot ${Y+1} conflicts with teacher's existing schedule for "${ee}":

 Teacher: ${xe}
 Slot: ${V}
 Day: ${Q}

A teacher cannot be scheduled for multiple subjects at the same time slot and day.

Please select a different slot, day, or teacher to avoid conflicts.`,"warning");return}}}}const _=[];u.forEach((Y,U)=>{const L=Array.isArray(Y.days)?Y.days:Y.day?[Y.day]:["Monday"],te=Y.grade||(Array.isArray(Y.grades)&&Y.grades.length>0?Y.grades[0]:"");console.log(`[FRONTEND] Processing schedule entry ${U}:`,{rawSlot:Y.slot,rawSlotType:typeof Y.slot,days:L,room:Y.room,grade:te,section:Y.section}),L.forEach(V=>{const X=Y.slot!==void 0&&Y.slot!==null&&Y.slot!==""?String(Y.slot).trim():void 0,Q={day:V,startTime:Y.startTime,endTime:Y.endTime,room:Y.room||"",slot:X,grade:te,section:Y.section||"",teacherId:Y.teacherId||void 0};console.log(`[FRONTEND] Created schedule entry for day ${V}:`,Q),_.push(Q)})}),console.log("[FRONTEND] Formatted schedule to send to backend:",_.map(Y=>({day:Y.day,room:Y.room,slot:Y.slot,slotType:typeof Y.slot,grade:Y.grade,section:Y.section}))),console.log("[FRONTEND] Sending update request to backend..."),await le.subjects.update(k,{...r,schedule:_}),console.log("[FRONTEND] Update request completed");const F=await le.subjects.getAll();F.data?.subjects&&n(F.data.subjects),w("Success","Schedule updated successfully!","info"),d(!1),l(null),m([])}catch(k){console.error("Error updating schedule:",k),w("Error","Failed to update schedule. Please try again.","error")}}},H=k=>{if(!k)return"";const _=k.replace(/^Grade\s+/i,"").trim(),F=_.match(/(\d+)([A-Z])/i);return F?`${F[1]}${F[2].toUpperCase()}`:_},D=[{key:"name",header:"Subject Name",render:k=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Pt,{size:16,style:{color:"#667eea"}}),a.jsx("strong",{children:k})]})},{key:"code",header:"Code",render:k=>a.jsx("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.25rem",fontSize:"0.85rem",fontWeight:600,color:"#667eea"},children:k})},{key:"credits",header:"Credits",render:k=>a.jsx("strong",{children:k})},{key:"category",header:"Category"},{key:"assignedGrades",header:"Assigned Grades",render:(k,_)=>{const F=_.grades||[];if(F.length===0)return a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades assigned"});const Y=F.map(U=>H(U)).filter(U=>U).sort((U,L)=>{const te=parseInt(U.match(/\d+/)?.[0]||"0"),V=parseInt(L.match(/\d+/)?.[0]||"0");return te!==V?te-V:U.localeCompare(L)});return a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",alignItems:"center"},children:Y.map((U,L)=>a.jsx(Se,{variant:"info",size:"sm",children:U},L))})}},{key:"schedule",header:"Schedule",render:(k,_)=>{const F=_.schedule||[];return F.length===0?a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No schedule"}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[F.slice(0,2).map((Y,U)=>a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666"},children:[Y.day,": ",Y.startTime," - ",Y.endTime]},U)),F.length>2&&a.jsxs("span",{style:{fontSize:"0.7rem",color:"#999"},children:["+",F.length-2," more"]})]})}},{key:"status",header:"Status",render:k=>a.jsx(Se,{variant:z(k),size:"sm",children:k||"Active"})},{key:"actions",header:"Actions",render:(k,_)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>e(`/dashboard/admin/subjects/${_._id||_.id||_.mongoId}`)}),a.jsx(Ot,{size:"sm",onClick:()=>e(`/dashboard/admin/subjects/edit/${_._id||_.id||_.mongoId}`)}),a.jsxs("button",{onClick:()=>M(_),style:{padding:"0.25rem 0.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},title:"Manage Schedule",children:[a.jsx(Qe,{size:12}),"Schedule"]}),a.jsx(Ft,{size:"sm",onClick:()=>T(_.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Subjects"}),a.jsx(co,{size:"md",onClick:()=>e("/dashboard/admin/subjects/add"),title:"Add New Subject"})]}),a.jsx(ta,{columns:D,data:t.slice(0,10),emptyMessage:"No subjects found"}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null),m([])},title:`Manage Schedule - ${r?.name||""}${r?.code?` (${r.code})`:""}`,size:"lg",customMaxWidth:"1000px",children:r&&a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"#333"},children:"Time Schedule"}),a.jsxs("button",{onClick:N,style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:16}),"Add Time Slot"]})]}),u.length===0?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:'No schedule entries. Click "Add Time Slot" to create one.'}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:u.map((k,_)=>a.jsxs("div",{style:{padding:"1rem",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[a.jsxs("h4",{style:{fontSize:"0.9rem",fontWeight:600,color:"#374151"},children:["Time Slot ",_+1]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs("button",{onClick:()=>I(_),style:{padding:"0.25rem 0.5rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},title:"Copy this time slot",children:[a.jsx($E,{size:12}),"Copy"]}),a.jsx("button",{onClick:()=>$(_),style:{padding:"0.25rem 0.5rem",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},children:"Remove"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"0.75rem",alignItems:"flex-start",justifyContent:"flex-start"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Days *"}),a.jsx("div",{style:{display:"flex",flexWrap:"nowrap",gap:"0.35rem",alignItems:"center"},children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(F=>{const Y=F.substring(0,3),L=(Array.isArray(k.days)?k.days:k.day?[k.day]:[]).includes(F),te=k.slot!==void 0&&k.slot!==null&&k.slot!==""?String(k.slot):null,V=te&&u.some((ge,de)=>de===_||ge.room!==k.room||!ge.slot||String(ge.slot)!==te?!1:(Array.isArray(ge.days)?ge.days:ge.day?[ge.day]:[]).includes(F)),X=te&&E.some(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"";return Ee.room===k.room&&Z===te&&Ee.day===F})),Q=k.teacherId?typeof k.teacherId=="object"?k.teacherId._id||k.teacherId.id:k.teacherId:null,ae=te&&Q&&E.some(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"",ye=Ee.teacherId?typeof Ee.teacherId=="object"?Ee.teacherId._id||Ee.teacherId.id:Ee.teacherId:null;return ye&&String(ye)===String(Q)&&Z===te&&Ee.day===F}));let pe=null;te&&(pe=E.find(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"";return Ee.room===k.room&&Z===te&&Ee.day===F})),!pe&&Q&&(pe=E.find(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"",ye=Ee.teacherId?typeof Ee.teacherId=="object"?Ee.teacherId._id||Ee.teacherId.id:Ee.teacherId:null;return ye&&String(ye)===String(Q)&&Z===te&&Ee.day===F}))));const ee=pe?pe.code||pe.name||"Unknown":null,xe=(V||X||ae)&&!L;return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.2rem",padding:"0.35rem 0.5rem",background:L?"#667eea":xe?"#f3f4f6":"#f7fafc",color:L?"white":xe?"#9ca3af":"#4a5568",border:`2px solid ${L?"#667eea":xe?"#d1d5db":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:xe?"not-allowed":"pointer",fontSize:"0.75rem",fontWeight:L?600:400,whiteSpace:"nowrap",flexShrink:0,opacity:xe?.6:1},children:[a.jsx("input",{type:"checkbox",checked:L,onChange:()=>{xe||R(_,F)},disabled:!!xe,style:{display:"none"}}),L&&a.jsx("span",{style:{fontSize:"0.65rem"},children:""}),Y,xe&&ee&&a.jsxs("span",{style:{fontSize:"0.6rem",fontStyle:"italic",marginLeft:"0.2rem",color:"#dc2626"},children:["(",ee,")"]})]},F)})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Teacher"}),a.jsxs("select",{value:k.teacherId||"",onChange:F=>B(_,"teacherId",F.target.value),style:{width:"auto",minWidth:"126px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Teacher"}),g.map(F=>a.jsx("option",{value:F.value,children:F.label},F.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Grade *"}),a.jsxs("select",{value:k.grade||(Array.isArray(k.grades)&&k.grades.length>0?k.grades[0]:""),onChange:F=>q(_,F.target.value),style:{width:"auto",minWidth:"77px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),(()=>{const F=L=>{if(!L)return null;const te=L.match(/^(Grade\s+\d+)/i);return te?te[1]:null},Y=new Map;return h.forEach(L=>{if(L.status==="Active"&&L.name){const te=F(L.name);te&&!Y.has(te)&&Y.set(te,te)}}),Array.from(Y.values()).sort((L,te)=>{const V=parseInt(L.match(/\d+/)?.[0]||"0"),X=parseInt(te.match(/\d+/)?.[0]||"0");return V-X}).map(L=>a.jsx("option",{value:L,children:L},L))})()]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"0.75rem",alignItems:"flex-start",justifyContent:"flex-start"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Room *"}),a.jsxs("select",{value:k.room||"",onChange:F=>{const Y=F.target.value,U=[...u];if(U[_]={...U[_],room:Y,slot:""},Y){const L=y.find(te=>te.code===Y||te._id===Y||te.id===Y);if(L&&L.data)if(L.data.timeSlots&&Array.isArray(L.data.timeSlots)&&L.data.timeSlots.length>0){const te=L.data.timeSlots.find(V=>V.startTime&&V.endTime);te&&(U[_].startTime=te.startTime,U[_].endTime=te.endTime,U[_].slot="0")}else L.data.startTime&&(U[_].startTime=L.data.startTime,U[_].endTime=L.data.endTime)}else U[_].startTime="09:00",U[_].endTime="10:00";m(U)},style:{width:"auto",minWidth:"150px",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"0.875rem"},children:[a.jsx("option",{value:"",children:"Select Room"}),y.map(F=>a.jsxs("option",{value:F.code,children:[F.name," (",F.code,")"]},F._id||F.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Slot"}),(()=>{if(!k.room)return a.jsx("div",{style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f3f4f6",color:"#9ca3af",fontSize:"0.875rem",textAlign:"center"},children:"Select Room First"});const F=y.find(Q=>Q.code===k.room||Q._id===k.room||Q.id===k.room);if(!F||!F.data?.timeSlots||!Array.isArray(F.data.timeSlots))return a.jsx("div",{style:{padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"#f3f4f6",color:"#9ca3af",fontSize:"0.875rem",textAlign:"center"},children:"No Slots Available"});const Y=F.data.timeSlots.filter(Q=>Q.startTime&&Q.endTime),U=()=>{const Q=new Set,ae=k.slot!==void 0&&k.slot!==null&&k.slot!==""?String(k.slot):null,pe=Array.isArray(k.days)?k.days:k.day?[k.day]:[];return u.forEach((ee,xe)=>{if(xe!==_&&ee.room===k.room&&ee.slot!==void 0&&ee.slot!==""){const ge=String(ee.slot),de=Array.isArray(ee.days)?ee.days:ee.day?[ee.day]:[],Ee=pe.some(Z=>de.includes(Z));ge!==ae&&Ee&&Q.add(ge)}}),Q},L=(Q,ae)=>{if(u.some((ge,de)=>de===_||ge.room!==k.room||!ge.slot||String(ge.slot)!==Q?!1:(Array.isArray(ge.days)?ge.days:ge.day?[ge.day]:[]).includes(ae)))return!0;const ee=k.teacherId?typeof k.teacherId=="object"?k.teacherId._id||k.teacherId.id:k.teacherId:null;return!!(E.some(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"";return Ee.room===k.room&&Z===Q&&Ee.day===ae}))||ee&&E.some(de=>(de.schedule||[]).some(Z=>{const ye=Z.slot!==void 0&&Z.slot!==null&&Z.slot!==""?String(Z.slot).trim():"",De=Z.teacherId?typeof Z.teacherId=="object"?Z.teacherId._id||Z.teacherId.id:Z.teacherId:null;return De&&String(De)===String(ee)&&ye===Q&&Z.day===ae})))},te=(Q,ae)=>{const pe=E.find(xe=>(xe.schedule||[]).some(de=>{const Ee=de.slot!==void 0&&de.slot!==null&&de.slot!==""?String(de.slot).trim():"";return de.room===k.room&&Ee===Q&&de.day===ae}));if(pe)return pe.code||pe.name||"Unknown";const ee=k.teacherId?typeof k.teacherId=="object"?k.teacherId._id||k.teacherId.id:k.teacherId:null;if(ee){const xe=E.find(ge=>(ge.schedule||[]).some(Ee=>{const Z=Ee.slot!==void 0&&Ee.slot!==null&&Ee.slot!==""?String(Ee.slot).trim():"",ye=Ee.teacherId?typeof Ee.teacherId=="object"?Ee.teacherId._id||Ee.teacherId.id:Ee.teacherId:null;return ye&&String(ye)===String(ee)&&Z===Q&&Ee.day===ae}));if(xe)return xe.code||xe.name||"Unknown"}return null},V=U(),X=Q=>{if(!Q)return"";const[ae,pe]=Q.split(":"),ee=parseInt(ae),xe=ee>=12?"PM":"AM";return`${ee%12||12}:${pe}${xe}`};return a.jsx("div",{children:a.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"0.25rem",padding:"0.25rem",alignItems:"flex-start",justifyContent:"flex-start"},children:Y.map((Q,ae)=>{const pe=String(ae);let ee="";if(k.slot!==void 0&&k.slot!==null&&k.slot!==""){const Z=typeof k.slot=="number"?k.slot:parseInt(String(k.slot).trim(),10);!isNaN(Z)&&Z>=0?ee=String(Z):ee=String(k.slot).trim()}const xe=ee===pe,ge=Array.isArray(k.days)?k.days:k.day?[k.day]:[];let de=!1,Ee=null;if(ge.length>0){for(const Z of ge)if(L(pe,Z)){de=!0,Ee=te(pe,Z);break}}else de=V.has(pe);return xe&&(de=!1,Ee=null),_===0&&ae<3&&console.log(`[FRONTEND] Radio Button Render - Entry ${_}, Slot ${ae}:`,{rawEntrySlot:k.slot,rawEntrySlotType:typeof k.slot,normalizedEntrySlot:ee,slotValue:pe,isSelected:xe,isUsed:de,entryRoom:k.room,entryGrade:k.grade}),a.jsxs("label",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.15rem",padding:"0.25rem 0.4rem",background:"transparent",color:xe?"#667eea":de?"#9ca3af":"#374151",border:"none",cursor:de?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:xe?600:400,opacity:de?.6:1,whiteSpace:"nowrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem"},children:[a.jsx("input",{type:"radio",name:`slot-${_}`,value:pe,checked:xe,disabled:de,onChange:()=>{if(!de){const Z=[...u];if(Z[_]={...Z[_],slot:pe},F.data?.timeSlots&&Array.isArray(F.data.timeSlots)){const ye=F.data.timeSlots[ae];ye&&ye.startTime&&ye.endTime&&(Z[_].startTime=ye.startTime,Z[_].endTime=ye.endTime)}m(Z)}},style:{margin:0,cursor:de?"not-allowed":"pointer"}}),a.jsx("span",{children:Q.name||`Slot ${ae+1}`}),de&&a.jsx("span",{style:{fontSize:"0.65rem",fontStyle:"italic",color:"#dc2626"},children:Ee?`(Reserved by ${Ee})`:"(Reserved)"})]}),xe&&Q.startTime&&Q.endTime&&a.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:400,color:"#000000",marginTop:"0.1rem"},children:[X(Q.startTime),"-",X(Q.endTime)]})]},ae)})})})})()]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem",color:"#374151"},children:"Select Section *"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:(()=>{const F=k.grade||(Array.isArray(k.grades)&&k.grades.length>0?k.grades[0]:"");if(!F)return a.jsx("span",{style:{fontSize:"0.85rem",color:"#9ca3af",fontStyle:"italic"},children:"Please select a grade first"});const Y=Q=>{if(!Q)return null;const ae=Q.match(/^(Grade\s+\d+)/i);return ae?ae[1]:null},U=F.startsWith("Grade")?F:`Grade ${F}`,L=h.filter(Q=>Q.status!=="Active"||!Q.section?!1:Y(Q.name||"")===U).map(Q=>Q.section).filter(Boolean).sort(),V=Array.from(new Set(L)).filter(Q=>Q.toUpperCase()==="A"||Q.toUpperCase()==="B"),X=k.section||"";return V.length>0?V.map(Q=>{const ae=X===Q;return a.jsxs("label",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.25rem",padding:"0.2rem 0.35rem",minWidth:"28px",height:"28px",background:ae?"#10b981":"#f7fafc",color:ae?"white":"#4a5568",border:`2px solid ${ae?"#10b981":"#e2e8f0"}`,borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:ae?600:400,lineHeight:"1"},children:[a.jsx("input",{type:"radio",name:`section-${_}`,checked:ae,onChange:()=>W(_,Q),style:{display:"none"}}),ae&&a.jsx("span",{style:{fontSize:"0.7rem",lineHeight:"1"},children:""}),a.jsx("span",{style:{lineHeight:"1"},children:Q})]},Q)}):a.jsxs("span",{style:{fontSize:"0.85rem",color:"#9ca3af",fontStyle:"italic"},children:["No sections available for ",F]})})()})]})]})]})]},_))}),a.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[a.jsx("button",{onClick:()=>{d(!1),l(null),m([])},style:{padding:"0.5rem 1rem",background:"#e5e7eb",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:K,style:{padding:"0.5rem 1rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Save Schedule"})]})]})}),a.jsx(lY,{isOpen:A.isOpen,onClose:()=>O({...A,isOpen:!1}),title:A.title,message:A.message,type:A.type})]})},cY=({teachers:e,allClasses:t,value:n,onChange:r})=>{const[l,o]=v.useState(n?.teacherId||""),[d,u]=v.useState(n?.gradeSections||[]),m=A=>{if(!A)return null;const O=A.match(/^(Grade\s+\d+)/i);return O?O[1]:null},h=A=>{if(!Array.isArray(t)||!A)return[];const O=A.startsWith("Grade")?A:`Grade ${A}`,w=t.filter(T=>T.status!=="Active"?!1:m(T.name||"")===O);return[...new Set(w.map(T=>T.section).filter(Boolean))].map(T=>({value:T,label:`Section ${T}`}))},p=()=>{if(!Array.isArray(t))return[];const A=new Map;return t.forEach(O=>{if(O.status==="Active"&&O.name){const w=m(O.name);w&&!A.has(w)&&A.set(w,w)}}),Array.from(A.values()).sort((O,w)=>{const z=parseInt(O.match(/\d+/)?.[0]||"0"),T=parseInt(w.match(/\d+/)?.[0]||"0");return z-T}).map(O=>({value:O,label:O}))},g=A=>{if(o(A),A){const O={teacherId:A,gradeSections:d.length>0?d:[]};r?.(O)}else r?.(null)},b=()=>{const A=[...d,{grade:"",sections:[]}];u(A),l&&r?.({teacherId:l,gradeSections:A})},y=A=>{const O=d.filter((w,z)=>z!==A);u(O),l&&r?.({teacherId:l,gradeSections:O})},S=(A,O)=>{const w=[...d];w[A]={grade:O,sections:[]},u(w),l&&r?.({teacherId:l,gradeSections:w})},E=(A,O)=>{const w=[...d],z=w[A].sections||[];z.includes(O)?w[A].sections=z.filter(T=>T!==O):w[A].sections=[...z,O],u(w),l&&r?.({teacherId:l,gradeSections:w})},C=p();return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr auto auto 0.5fr 2fr",gap:"1rem",alignItems:"flex-end"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Select Teacher *"}),a.jsxs("select",{value:l,onChange:A=>g(A.target.value),style:{width:"100%",padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select a teacher"}),e.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]})]}),a.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",paddingBottom:"0.5rem"},children:a.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",whiteSpace:"nowrap"},children:"Select Grade *"})}),a.jsxs("button",{type:"button",onClick:b,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,whiteSpace:"nowrap",height:"fit-content"},children:[a.jsx(ia,{size:16}),"Add Grade"]}),l&&d.length>0&&d[0]&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:d[0].grade,onChange:A=>S(0,A.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),C.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]})]}),l&&d.length>0&&d[0]?.grade&&(()=>{const A=h(d[0].grade);return A.length>0?a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:A.map(O=>{const w=d[0].sections.includes(O.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:w?"#667eea":"#f7fafc",color:w?"white":"#4a5568",border:`2px solid ${w?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:w?600:400},children:[a.jsx("input",{type:"checkbox",checked:w,onChange:()=>E(0,O.value),style:{display:"none"}}),w&&a.jsx(Ka,{size:14}),O.label]},O.value)})})]}):null})()]}),l&&d.length>1&&a.jsx("div",{children:d.slice(1).map((A,O)=>{const w=O+1,z=A.grade?h(A.grade):[];return a.jsx("div",{style:{padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",marginBottom:"1rem",background:"white"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[a.jsxs("div",{style:{flex:.5},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:A.grade,onChange:T=>S(w,T.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),C.map(T=>a.jsx("option",{value:T.value,children:T.label},T.value))]})]}),A.grade&&z.length>0&&a.jsxs("div",{style:{flex:2},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:z.map(T=>{const M=A.sections.includes(T.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:M?"#667eea":"#f7fafc",color:M?"white":"#4a5568",border:`2px solid ${M?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:M?600:400},children:[a.jsx("input",{type:"checkbox",checked:M,onChange:()=>E(w,T.value),style:{display:"none"}}),M&&a.jsx(Ka,{size:14}),T.label]},T.value)})})]}),a.jsx("button",{type:"button",onClick:()=>y(w),style:{padding:"0.5rem",background:"#fed7d7",color:"#c53030",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Remove this grade",children:a.jsx(ya,{size:16})})]})},w)})}),l&&d.length===0&&a.jsx("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem",textAlign:"center",color:"#718096",fontSize:"0.9rem"},children:'Click "Add Grade" to assign this teacher to specific grades and sections'})]})},sE=()=>{const e=vt(),{id:t}=qn(),n=!!t,[r,l]=v.useState({}),[o,d]=v.useState([]),[u,m]=v.useState([]),[h,p]=v.useState([]),[g,b]=v.useState([{teacherId:"",gradeSections:[]}]),[y,S]=v.useState(!0);v.useEffect(()=>{S(!0);const O=async()=>{try{const T=await le.grades.getAll();if(T.data?.classes){const W=new Map,K=k=>{if(!k)return null;const _=k.match(/^(Grade\s+\d+)/i);return _?_[1]:null};T.data.classes.forEach(k=>{const _=K(k.name||"")||"Unknown";if(!W.has(_)){const F=T.data.classes.filter(Y=>(K(Y.name||"")||"Unknown")===_);W.set(_,{id:_,name:_,status:F[0]?.status||"Active"})}});const D=Array.from(W.values()).filter(k=>k.status==="Active").sort((k,_)=>{const F=parseInt(k.name.match(/\d+/)?.[0]||"0"),Y=parseInt(_.name.match(/\d+/)?.[0]||"0");return F-Y}).map(k=>({value:k.id,label:k.name}));d(D)}const M=await le.teachers.getAll(),N=M?.data?.teachers||M?.data||M||[],$=(Array.isArray(N)?N:[]).filter(W=>W.status==="Active"||!W.status).map(W=>({value:W._id||W.id,label:`${W.name} (${W.subject||"N/A"})`}));m($);const B=await le.classes.getAll(),R=B?.data?.classes||B?.data||B||[],q=Array.isArray(R)?R:[];p(q)}catch(T){console.error("Error loading data:",T)}},w=async()=>{if(typeof t!="string"||t.trim()===""){console.log("Skipping subject load - no valid ID",{isEditMode:n,id:t,idType:typeof t});return}if(!n){console.log("Skipping subject load - not in edit mode",{isEditMode:n,id:t});return}try{console.log("Loading subject with ID:",t);const T=await le.subjects.getById(t);console.log("Subject response:",T);const M=T?.data?.subject||T?.data||T;if(M){let N="";M.teacherId&&(typeof M.teacherId=="object"&&M.teacherId._id?N=M.teacherId._id.toString():typeof M.teacherId=="string"?N=M.teacherId:N=M.teacherId.toString());const I=Array.isArray(M.grades)?M.grades:[],$=M.credits!=null?String(M.credits):"0",B=[];if(M.teacherAssignments&&Array.isArray(M.teacherAssignments)&&M.teacherAssignments.length>0)M.teacherAssignments.forEach(q=>{if(q.teacherId){const W=typeof q.teacherId=="object"?q.teacherId._id||q.teacherId.id:q.teacherId,K=Array.isArray(q.gradeSections)?q.gradeSections.filter(H=>H&&H.grade&&H.grade.trim()!=="").map(H=>({grade:H.grade,sections:Array.isArray(H.sections)?H.sections.filter(D=>D&&D.trim()!==""):[]})):[];B.push({teacherId:String(W),gradeSections:K})}}),b(B.length>0?B:[{teacherId:"",gradeSections:[]}]);else if(N&&I.length>0){const q=new Map;I.forEach(W=>{const K=W.match(/^(Grade \d+)/i);if(K){const H=K[1],D=W.replace(H,"").trim();q.has(H)||q.set(H,[]),D&&q.get(H).push(D)}else q.has(W)||q.set(W,[])}),B.push({teacherId:N,gradeSections:Array.from(q.entries()).map(([W,K])=>({grade:W,sections:K.length>0?K:[]}))}),b(B)}else b([{teacherId:"",gradeSections:[]}]);const R={name:M.name||"",code:M.code||"",category:M.category||"",level:M.level||"",credits:$,description:M.description||"",grades:I,teacherId:N,status:M.status||"Active"};console.log("Setting initial data:",R),l(R)}else console.error("Subject not found in response")}catch(T){if(n&&t){console.error("Error loading subject:",T);const M=T?.errorData?.message||T?.message||"Failed to load subject data";alert(`Failed to load subject: ${M}`)}else console.log("Not loading subject (not in edit mode)")}};(async()=>{try{await O(),await w()}finally{S(!1)}})()},[t,n]);const E=v.useMemo(()=>[{name:"name",label:"Subject Name",type:"text",required:!0,placeholder:"e.g., Mathematics, English, Science",halfWidth:!0},{name:"code",label:"Subject Code",type:"text",required:!0,placeholder:"e.g., MATH, ENG, SCI",halfWidth:!0},{name:"category",label:"Category",type:"select",required:!0,options:[{value:"Core",label:"Core Subject"},{value:"Elective",label:"Elective Subject"},{value:"Language",label:"Language"},{value:"Science",label:"Science"},{value:"Arts",label:"Arts"},{value:"Physical Education",label:"Physical Education"}],halfWidth:!0},{name:"level",label:"Level",type:"select",required:!0,options:[{value:"Elementary",label:"Elementary"},{value:"Middle School",label:"Middle School"},{value:"High School",label:"High School"},{value:"Advanced",label:"Advanced"}],halfWidth:!0},{name:"credits",label:"Credits",type:"number",required:!0,placeholder:"3",min:1,max:5,halfWidth:!0},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active",halfWidth:!0},{name:"description",label:"Description",type:"textarea",placeholder:"Enter subject description",rows:4}],[u,o]),C=[{title:"Subject Information",fieldNames:["name","code","category","level"]},{title:"Additional Details",fieldNames:["credits","status","description"]},{title:"Assignments",fieldNames:[]}],A=async O=>{try{let w=[];const z=[],T=g.filter(I=>I.teacherId&&I.teacherId.trim()!=="");T.forEach(I=>{I.teacherId&&(z.push(String(I.teacherId)),I.gradeSections.forEach($=>{$.grade&&$.grade.trim()!==""&&($.sections&&$.sections.length>0?$.sections.forEach(B=>{if(B&&B.trim()!==""){const R=`${$.grade}${B}`;w.includes(R)||w.push(R)}}):w.includes($.grade)||w.push($.grade))}))});const M=T.map(I=>{const $=I.gradeSections.filter(B=>B.grade&&B.grade.trim()!=="");return $.length>0?{teacherId:String(I.teacherId),gradeSections:$.map(B=>({grade:B.grade,sections:(B.sections||[]).filter(R=>R&&R.trim()!=="")}))}:null}).filter(I=>I!==null),N={name:O.name,code:O.code,category:O.category,level:O.level,credits:parseInt(O.credits)||0,description:O.description||"",grades:w,status:O.status||"Active"};if(N.teacherAssignments=M,z.length>0?N.teacherId=z[0]:N.teacherId=null,console.log("Submitting subject data:",N),n&&t){const I=await le.subjects.update(t,N);if(I){const $=I?.data?.subject?.name||O.name||"Subject";alert(`Subject "${$}" updated successfully!`),console.log("Subject updated:",I)}}else{const I=await le.subjects.create(N),$=I?.data?.subject?.name||I?.name||"Subject";alert(`Subject "${$}" created successfully!`),console.log("New subject created:",I)}e("/dashboard/admin/subjects")}catch(w){console.error("Error saving subject:",w);const z=w?.errorData?.message||w?.message||"Failed to save subject. Please try again.";alert(`Failed to save subject: ${z}`)}};return y?a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading subject data..."})})]}):a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx(Ws,{title:n?"Edit Subject":"Add New Subject",fields:E,sections:C,onSubmit:A,submitButtonText:n?"Update Subject":"Create Subject",submitButtonIcon:a.jsx(Zt,{size:18}),initialData:r,customSectionContent:{Assignments:a.jsxs("div",{style:{marginTop:"1rem",marginBottom:"1rem"},children:[g.map((O,w)=>a.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#333",margin:0},children:w===0?"First Teacher":w===1?"Second Teacher":w===2?"Third Teacher":`Teacher ${w+1}`}),a.jsx("button",{type:"button",onClick:()=>{const z=g.filter((T,M)=>M!==w);z.length===0?b([{teacherId:"",gradeSections:[]}]):b(z)},style:{padding:"0.25rem 0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Remove Teacher"})]}),a.jsx(cY,{teachers:u.filter(z=>!g.map(M=>M.teacherId).filter((M,N)=>N!==w&&M).includes(z.value)),allClasses:h,value:O,onChange:z=>{const T=[...g];T[w]=z||{teacherId:"",gradeSections:[]},b(T)}})]},w)),a.jsxs("button",{type:"button",onClick:()=>{b([...g,{teacherId:"",gradeSections:[]}])},style:{padding:"0.75rem 1.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("span",{children:"+"}),"Add Another Teacher"]})]})}},`${t||"new"}-${JSON.stringify(r)}`)]})},dY=()=>{const{id:e}=qn(),t=vt(),[n,r]=v.useState(!1),[l,o]=v.useState(!1),[d,u]=v.useState(null),[m,h]=v.useState(null),[p,g]=v.useState([]),[b,y]=v.useState([]);v.useEffect(()=>{if(typeof e!="string"||e.trim()===""){console.log("Skipping subject load - no valid ID",{id:e,idType:typeof e});return}(async()=>{try{console.log("Loading subject with ID:",e);const I=await le.subjects.getById(e);if(I?.data?.subject){const $=I.data.subject;h($),S($,b)}else console.error("Subject not found in response:",I),h(null)}catch(I){console.error("Error loading subject:",I);const $=I?.errorData?.message||I?.message||"Failed to load subject";console.error("Subject loading error details:",$),h(null)}})()},[e]);const S=(N,I)=>{const $=[];if(N.teacherAssignments&&Array.isArray(N.teacherAssignments))N.teacherAssignments.forEach((B,R)=>{if(B.teacherId){const q=typeof B.teacherId=="object"?B.teacherId:I.find(W=>(W._id||W.id)===B.teacherId);if(q){const W=[];B.gradeSections&&Array.isArray(B.gradeSections)&&B.gradeSections.forEach(K=>{K.sections&&K.sections.length>0?K.sections.forEach(H=>{W.push(`${K.grade}${H}`)}):W.push(K.grade)}),$.push({id:R+1,subjectId:N._id||N.id,teacherId:q._id||q.id,teacherName:q.name||"Unknown",teacherEmail:q.email||"N/A",experience:q.experience||"N/A",status:q.status||"Active",grades:W})}}});else if(N.teacherId){const B=typeof N.teacherId=="object"?N.teacherId:I.find(R=>(R._id||R.id)===N.teacherId);B&&$.push({id:1,subjectId:N._id||N.id,teacherId:B._id||B.id,teacherName:B.name||"Unknown",teacherEmail:B.email||"N/A",experience:B.experience||"N/A",status:B.status||"Active",grades:N.grades||[]})}g($)};v.useEffect(()=>{m&&b.length>0&&S(m,b)},[m,b.length]);const[E,C]=v.useState([]),[A,O]=v.useState([]);if(v.useEffect(()=>{(async()=>{try{const I=await le.teachers.getAll();if(I.data?.teachers){const $=Array.isArray(I.data.teachers)?I.data.teachers.filter(B=>B!=null):[];if(y($),m){const B=$.filter(R=>{if(!R)return!1;const q=R._id||R.id||R.mongoId;return!p.some(W=>String(W.teacherId)===String(q))});C(B)}else C($)}else y([]),C([])}catch(I){console.error("Error loading teachers:",I),y([]),C([])}})()},[m,p.length]),v.useEffect(()=>{(async()=>{try{const I=await le.grades.getAll();if(I.data?.classes){const $=new Map;I.data.classes.forEach(q=>{const W=q.grade||"Unknown";if(!$.has(W)){const K=I.data.classes.filter(H=>(H.grade||"Unknown")===W);$.set(W,{id:W,name:W,section:"",capacity:0,currentStudents:0,description:"",status:K[0]?.status||"Active"})}});const R=Array.from($.values()).filter(q=>q.status==="Active").map(q=>({value:q.id,label:q.name}));O(R)}}catch(I){console.error("Error loading grades:",I)}})()},[]),!m)return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx("p",{children:"Loading subject details..."}),e&&typeof e=="string"&&e.trim()!==""&&a.jsx("p",{style:{fontSize:"0.875rem",color:"#999",marginTop:"0.5rem"},children:"If this message persists, the subject may not exist."})]})]});const w=[{name:"teacher",label:"Select Teacher",type:"select",required:!0,options:E.filter(N=>N!=null).map(N=>({value:(N._id||N.id||N.mongoId||"").toString(),label:`${N.name||"Unknown"} (${N.experience||"N/A"})`}))},{name:"grades",label:"Assign to Grades",type:"select",required:!0,multiple:!0,placeholder:"Select grades this teacher will teach",options:A.filter(N=>m.grades?.includes(N.value))}],z=[{name:"grades",label:"Assign to Grades",type:"select",required:!0,multiple:!0,placeholder:"Select grades this teacher will teach",options:A.filter(N=>m.grades?.includes(N.value))}],T=N=>{if(!m)return;const I=N.teacher,$=E.find(B=>String(B._id||B.id||B.mongoId)===String(I));if($){const B=Array.isArray(N.grades)?N.grades:[],R={subjectId:m._id||m.id||m.mongoId,teacherId:$._id||$.id||$.mongoId,teacherName:$.name,teacherEmail:$.email||"N/A",experience:$.experience||"N/A",status:$.status||"Active",grades:B,id:Date.now()};g(q=>[...q,R]),r(!1),alert(`Teacher ${$.name} assigned successfully to ${B.join(", ")}!`)}},M=N=>{if(!d)return;const I=Array.isArray(N.grades)?N.grades:[],$={...d,grades:I};$&&(g(B=>B.map(R=>R.id===$.id?$:R)),o(!1),u(null),alert(`Grades updated successfully for ${$.teacherName}!`))};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/subjects"),title:"Back to Subjects"})}),a.jsx("div",{className:"page-header",style:{marginBottom:"2rem"},children:a.jsxs("h1",{style:{fontSize:"0.875rem"},children:["Subject Details: ",m.name]})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem",marginBottom:"2rem"},children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Pt,{size:28}),value:m.name,label:"Subject Name",color:"#667eea",fontSize:.65}),a.jsx(ke,{variant:"stat",icon:a.jsx(Vt,{size:28}),value:p.length,label:"Assigned Teachers",color:"#48bb78",fontSize:.65}),a.jsx(ke,{variant:"stat",icon:a.jsx(E6,{size:28}),value:m.category,label:"Category",color:"#ed8936",fontSize:.65}),a.jsx(ke,{variant:"stat",icon:a.jsx(wr,{size:28}),value:m.credits,label:"Credits",color:"#9f7aea",fontSize:.65})]}),a.jsx(ke,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsx(Qt,{columns:6,sections:[{title:"Subject Information",icon:Pt,fields:[{label:"Subject Code",value:m.code||"N/A",icon:rP},{label:"Category",value:m.category||"N/A",renderAsBadge:{variant:"info",size:"sm"}},{label:"Level",value:m.level||"N/A",icon:Ar},{label:"Credits",value:(m.credits!=null?m.credits:0).toString(),icon:Ar},{label:"Status",value:m.status||"Active",renderAsBadge:{variant:m.status?.toLowerCase()==="active"?"success":"secondary",size:"sm"}},{label:"Description",value:m.description||"No description available",icon:lt},{label:"Assigned Grades",value:m.grades&&m.grades.length>0?m.grades.join(", "):"No grades assigned",icon:wr,spanFull:!0}]},...m.schedule&&m.schedule.length>0?[{title:"Schedule",icon:Qe,fields:[],customContent:(()=>{const N=new Map;m.schedule.forEach(q=>{const W=q.grade||"Unknown",K=`${q.startTime||""}_${q.endTime||""}_${q.room||""}_${q.section||""}`;N.has(W)||N.set(W,new Map);const H=N.get(W);if(H.has(K)){const D=H.get(K),k=q.day||q.days?.[0];k&&!D.days.includes(k)&&D.days.push(k)}else{const D=q.day||q.days?.[0]||"Monday";H.set(K,{days:[D],startTime:q.startTime||"",endTime:q.endTime||"",room:q.room||"",grade:W,section:q.section||""})}});const I=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},B=q=>{const W=q.match(/\d+/);return W?parseInt(W[0],10):999},R=Array.from(N.keys()).sort((q,W)=>B(q)-B(W));return a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:R.map(q=>{const W=N.get(q),K=Array.from(W.values());return K.sort((H,D)=>H.section<D.section?-1:H.section>D.section?1:0),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("h4",{style:{margin:0,fontSize:"0.9rem",fontWeight:600,color:"#333",marginBottom:"0.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb"},children:q}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",paddingLeft:"0.5rem"},children:K.map((H,D)=>{const _=H.days.sort((Y,U)=>I.indexOf(Y)-I.indexOf(U)).map(Y=>`${$[Y]||Y.substring(0,3)} `).join(", "),F=`${H.startTime} - ${H.endTime}${H.room?` (Room: ${H.room})`:""}${H.section?` | Section: ${H.section}`:""}`;return a.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[a.jsxs("label",{style:{display:"block",fontSize:"0.8rem",color:"#666",marginBottom:"0.2rem"},children:[a.jsx(We,{size:14,style:{display:"inline",marginRight:"0.25rem"}}),_]}),a.jsx("p",{style:{margin:0,fontSize:"0.9rem",fontWeight:500},children:F})]},D)})})]},q)})})})()}]:[]]})}),a.jsxs(ke,{variant:"custom",style:{padding:"1.5rem",fontSize:"1em"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx("h2",{className:"section-title",style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},children:"Assigned Teachers"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p.map(N=>{const I=(m.schedule||[]).filter(W=>{if(!W.teacherId)return!1;const K=typeof W.teacherId=="object"?(W.teacherId._id||W.teacherId.id||"").toString():W.teacherId.toString();return String(K)===String(N.teacherId)}),$=new Map;I.forEach(W=>{const K=`${W.startTime||""}_${W.endTime||""}_${W.room||""}_${W.grade||""}_${W.section||""}`;if($.has(K)){const H=$.get(K),D=W.day||W.days?.[0];D&&!H.days.includes(D)&&H.days.push(D)}else{const H=W.day||W.days?.[0]||"Monday";$.set(K,{days:[H],startTime:W.startTime||"",endTime:W.endTime||"",room:W.room||"",grade:W.grade||"",section:W.section||""})}});const B=Array.from($.values()),R=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],q={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"};return a.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"1rem",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[a.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:600,color:"#333"},children:N.teacherName}),a.jsx(Se,{variant:N.status.toLowerCase()==="active"?"success":"secondary",size:"sm",children:N.status})]}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"0.5rem"},children:[a.jsxs("span",{style:{fontSize:"0.85rem",color:"#666"},children:["Email: ",N.teacherEmail]}),a.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:""}),a.jsxs("span",{style:{fontSize:"0.85rem",color:"#666"},children:["Experience: ",N.experience]})]}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",marginBottom:"0.75rem"},children:[a.jsx("span",{style:{fontSize:"0.85rem",color:"#666",marginRight:"0.25rem"},children:"Grades:"}),N.grades&&N.grades.length>0?N.grades.map((W,K)=>a.jsx(Se,{variant:"info",size:"sm",children:W},K)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades"})]})]}),B.length>0?a.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[a.jsxs("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.9rem",fontWeight:600,color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14}),"Teaching Schedule"]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem"},children:B.map((W,K)=>{const D=W.days.sort((_,F)=>R.indexOf(_)-R.indexOf(F)).map(_=>`${q[_]||_.substring(0,3)} `).join(", "),k=`${W.startTime} - ${W.endTime}${W.room?` (Room: ${W.room})`:""}${W.grade?` | Grade: ${W.grade}`:""}${W.section?` | Section: ${W.section}`:""}`;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:"0.5rem",backgroundColor:"white",borderRadius:"4px",border:"1px solid #e5e7eb"},children:[a.jsxs("label",{style:{display:"block",fontSize:"0.75rem",color:"#666",marginBottom:"0.2rem",fontWeight:500},children:[a.jsx(We,{size:12,style:{display:"inline",marginRight:"0.25rem"}}),D]}),a.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:500,color:"#333"},children:k})]},K)})})]}):a.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:a.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#999",fontStyle:"italic"},children:"No schedule assigned yet for this teacher."})})]},N.id)}),p.length===0&&a.jsx("div",{style:{textAlign:"center",color:"#999",padding:"2rem",fontSize:"0.9rem"},children:'No teachers assigned yet. Click "Assign Teacher" to add one.'})]})]}),a.jsx(or,{isOpen:n,onClose:()=>r(!1),title:"Assign Teacher to Subject",fields:w,onSubmit:T,submitButtonText:"Assign Teacher",submitButtonIcon:a.jsx(Ka,{size:18}),size:"md"}),a.jsx(or,{isOpen:l,onClose:()=>{o(!1),u(null)},title:`Edit Grades for ${d?.teacherName||"Teacher"}`,fields:z,onSubmit:M,submitButtonText:"Update Grades",submitButtonIcon:a.jsx(Ka,{size:18}),size:"md",initialData:d?{grades:d.grades}:{}})]})},uY=()=>{const[e]=PE(),t=e.get("date"),n=e.get("class"),[r,l]=v.useState(n||""),[o,d]=v.useState(t||new Date().toISOString().split("T")[0]);v.useEffect(()=>{t&&d(t),n&&l(decodeURIComponent(n))},[t,n]);const[u,m]=v.useState([]),[h,p]=v.useState([]),[g,b]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const z=await le.classes.getAll();if(z.data?.classes){const M=z.data.classes.filter(N=>N.status==="Active").map(N=>({value:N._id||N.id,label:`${N.name} (${N.code})`}));p(M)}}catch(z){console.error("Error loading class options:",z),p([])}})()},[]);const y=async()=>{if(!r||!o){m([]);return}try{b(!0);const w=await le.classes.getById(r),z=w.data?.class||w.class||w,T=z.name||"",M=z.code||"",N=z.section||"";console.log("[ATTENDANCE] Loading students for class:",{className:T,classCode:M,classSection:N,selectedClass:r});const I=await le.students.getAll(),$=I.data?.students||I.students||[];console.log("[ATTENDANCE] All students loaded:",$.length),$.length>0&&console.log("[ATTENDANCE] Sample student structure:",{firstStudent:$[0],keys:Object.keys($[0]||{}),has_id:!!$[0]?._id,hasId:!!$[0]?.id,hasStudentId:!!$[0]?.studentId});const B=N?`${T} Section ${N}`:T,R=$.filter(k=>{const _=(k.class||"").trim(),F=(k.section||"").trim(),Y=T.split(" ").slice(0,2).join(" ");console.log("[ATTENDANCE] Checking student:",{studentName:k.name,studentClass:_,studentSection:F,className:T,fullClassName:B,classSection:N,gradeFromClassName:Y});const U=_===B,L=_===T,te=_.includes(Y)&&N&&F===N,X=U||L||te||_===Y&&F===N;return X&&console.log("[ATTENDANCE]  Student matched:",k.name),X});console.log("[ATTENDANCE] Filtered students for class:",R.length,R.map(k=>({id:k.studentId||k._id||k.id,name:k.name,class:k.class})));const q=await le.attendance.getAll({date:o,class:B}),K=(q.data?.attendance||q.attendance||[])[0],H=new Map;K&&K.students&&Array.isArray(K.students)&&K.students.forEach(k=>{const _=k.studentId?._id||k.studentId||k.studentId?.toString();if(_){let F="absent";const Y=(k.status||"").toLowerCase();Y==="present"?F="present":Y==="absent"?F="absent":Y==="late"?F="late":Y==="excused"&&(F="leave"),H.set(String(_),{status:F,remarks:k.remarks})}}),console.log("[ATTENDANCE] Existing attendance document:",{found:!!K,studentsCount:K?.students?.length||0,mappedCount:H.size});const D=R.map(k=>{const _=k.studentId||k.id||"N/A";let F=k._id;!F&&k.id&&typeof k.id=="object"&&k.id._id?F=k.id._id:!F&&k.id&&!k.studentId&&(F=k.id),console.log("[ATTENDANCE] Student mapping:",{name:k.name,studentId:_,_id:k._id,id:k.id,extractedMongoId:F,allKeys:Object.keys(k)}),F||console.error("[ATTENDANCE] No MongoDB _id found for student:",k);const Y=H.get(String(F));return{id:_,mongoId:F||"",name:k.name,status:Y?.status||"present",existingAttendanceId:K?._id||K?.id}});console.log("[ATTENDANCE] Students with attendance:",D.length),m(D)}catch(w){console.error("[ATTENDANCE] Error loading students:",w),m([]),alert("Failed to load students. Please check the class selection and try again.")}finally{b(!1)}},S=(w,z)=>{m(T=>T.map(M=>String(M.id)===String(w)?{...M,status:z}:M))},E=w=>u.filter(z=>z.status===w).length,C=w=>{switch(w){case"present":return"Present";case"absent":return"Absent";case"late":return"Late";case"leave":return"Excused";default:return"Absent"}},A=async()=>{if(!r||!o){alert("Please select a class and date");return}if(u.length===0){alert("No students to mark attendance for. Please load students first.");return}let w="",z=[];try{b(!0);const T=await le.classes.getById(r),M=T.data?.class||T.class||T,N=M.name||"",I=M.section||"";w=I?`${N} Section ${I}`:N,console.log("[ATTENDANCE] Saving attendance for:",u.length,"students"),console.log("[ATTENDANCE] Class details:",{gradeName:N,section:I,className:w});const $=u.filter(_=>!_.mongoId);if($.length>0){alert(`Error: ${$.length} student(s) are missing MongoDB IDs. Please reload the students.`);return}z=u.map(_=>({studentId:_.mongoId,status:C(_.status),remarks:"On time"}));const B=z.filter(_=>!_.studentId||!/^[0-9a-fA-F]{24}$/.test(_.studentId));if(B.length>0){console.error("[ATTENDANCE] Invalid student IDs found:",B),alert(`Error: ${B.length} student(s) have invalid MongoDB IDs. Please reload the students.`);return}const R={class:w,date:o,students:z};console.log("[ATTENDANCE] Saving attendance document:",{class:w,date:o,studentsCount:z.length,studentsArray:z.map(_=>({studentId:_.studentId,status:_.status}))});const q=u[0]?.existingAttendanceId;let W;if(q){console.log("[ATTENDANCE] Updating existing attendance:",q);const _={students:z};W=await le.attendance.update(q,_)}else console.log("[ATTENDANCE] Creating new attendance"),W=await le.attendance.create(R);console.log("[ATTENDANCE] Save response:",W);const K=E("present"),H=E("absent"),D=E("late"),k=E("leave");alert(`Attendance marked successfully!
Present: ${K}
Absent: ${H}
Late: ${D}
On Leave: ${k}`),await y()}catch(T){console.error("[ATTENDANCE] Error saving attendance:",T),console.error("[ATTENDANCE] Error type:",typeof T),console.error("[ATTENDANCE] Error constructor:",T?.constructor?.name),console.error("[ATTENDANCE] Error keys:",Object.keys(T||{})),console.error("[ATTENDANCE] Error details:",{message:T?.message,status:T?.status,name:T?.name,response:T?.response,data:T?.data,errorData:T?.errorData,stack:T?.stack});let M="Failed to save attendance. Please try again.";if(T?.message?M=T.message:T?.errorData?.message?M=T.errorData.message:T?.errorData?.error?M=T.errorData.error:T?.response?.data?.message?M=T.response.data.message:T?.data?.message?M=T.data.message:typeof T=="string"?M=T:T?.toString&&(M=T.toString()),console.error("[ATTENDANCE] Final error message:",M),(M.includes("already marked")||T?.status===400&&M.includes("already"))&&w&&z.length>0){console.log("[ATTENDANCE] Duplicate detected, fetching existing attendance to update...");try{const N=await le.attendance.getAll({date:o,class:w}),$=(N.data?.attendance||N.attendance||[])[0];if($&&$._id){console.log("[ATTENDANCE] Found existing attendance, updating:",$._id);const B={students:z},R=await le.attendance.update($._id,B);console.log("[ATTENDANCE] Update response:",R);const q=E("present"),W=E("absent"),K=E("late"),H=E("leave");alert(`Attendance updated successfully!
Present: ${q}
Absent: ${W}
Late: ${K}
On Leave: ${H}`),await y();return}else console.error("[ATTENDANCE] Existing attendance not found, cannot update")}catch(N){console.error("[ATTENDANCE] Retry also failed:",N),console.error("[ATTENDANCE] Retry error details:",{message:N?.message,status:N?.status,errorData:N?.errorData})}}else M.includes("already marked")&&(!w||z.length===0)&&console.error("[ATTENDANCE] Cannot retry: missing className or studentsArray");alert(`Error: ${M}`)}finally{b(!1)}},O=w=>{switch(w){case"present":return"approved";case"absent":return"absent";case"late":return"late";case"leave":return"onLeave";default:return"pending"}};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Mark Attendance"})}),a.jsx(ke,{variant:"custom",className:"filter-card",children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[a.jsxs("div",{className:"filter-group",style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{children:"Select Class:"}),a.jsxs("select",{value:r,onChange:w=>l(w.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"},children:[a.jsx("option",{value:"",children:"Select Class"}),h.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]})]}),a.jsxs("div",{className:"filter-group",style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{children:"Date:"}),a.jsx("input",{type:"date",value:o,onChange:w=>d(w.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"}})]}),a.jsx("div",{style:{marginBottom:"0"},children:a.jsxs(we,{onClick:y,variant:"primary",size:"md",disabled:!r||!o||g,children:[a.jsx(We,{size:18,style:{marginRight:"0.5rem"}}),"Apply"]})})]})}),a.jsx(ke,{variant:"custom",style:{marginBottom:"1.5rem"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-around",padding:"1rem"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#10b981"},children:E("present")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Present"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#f87171"},children:E("absent")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Absent"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#fb923c"},children:E("late")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Late"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#818cf8"},children:E("leave")}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"On Leave"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:600,color:"#333"},children:u.length}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#666"},children:"Total"})]})]})}),a.jsxs(ke,{variant:"custom",children:[a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Late"}),a.jsx("th",{children:"Leave"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:g?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem"},children:"Loading students..."})}):u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem",color:"#666"},children:r&&o?'No students found for this class. Please click "Apply" to load students.':'Please select a class and date, then click "Apply" to load students.'})}):u.map(w=>a.jsxs("tr",{children:[a.jsx("td",{children:w.studentId||w.id||"N/A"}),a.jsx("td",{children:a.jsx("strong",{children:w.name})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${w.id}`,checked:w.status==="present",onChange:()=>S(w.id,"present"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${w.id}`,checked:w.status==="absent",onChange:()=>S(w.id,"absent"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${w.id}`,checked:w.status==="late",onChange:()=>S(w.id,"late"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx("input",{type:"radio",name:`attendance-${w.id}`,checked:w.status==="leave",onChange:()=>S(w.id,"leave"),style:{cursor:"pointer"}})}),a.jsx("td",{children:a.jsx(Se,{variant:O(w.status),size:"sm",children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})})]},w.id))})]})}),a.jsx("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"flex-end"},children:a.jsxs(we,{onClick:A,variant:"primary",size:"md",children:[a.jsx(Zt,{size:18}),"Save Attendance"]})})]})]})},fY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[l,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{r(!0);const p=await le.attendance.getAll(),g=p.data?.attendance||p.attendance||[];t(g)}catch(p){console.error("Error loading attendance:",p),o(p.message||"Failed to load attendance data")}finally{r(!1)}})()},[]);const d=v.useMemo(()=>{let h=0,p=0,g=0,b=0;e.forEach(C=>{C.students?.forEach(A=>{A.status==="Present"?h++:A.status==="Absent"?p++:A.status==="Late"?g++:A.status==="Excused"&&b++})});const y=h+p+g+b,S=y>0?(h/y*100).toFixed(1):"0.0",E=e.length;return{totalPresent:h,totalAbsent:p,totalLate:g,totalExcused:b,averageAttendance:S,totalDays:E}},[e]),u=v.useMemo(()=>e.map(h=>{const p=h.students?.length||0,g=h.students?.filter(A=>A.status==="Present").length||0,b=h.students?.filter(A=>A.status==="Absent").length||0,y=h.students?.filter(A=>A.status==="Late").length||0,S=h.students?.filter(A=>A.status==="Excused").length||0,E=p>0?Math.round((g+y+S)/p*100):0,C=new Date(h.date);return{id:h._id,date:C.toLocaleDateString("en-GB"),dateObj:C,class:h.class,total:p,present:g,absent:b,late:y,excused:S,percentage:E}}).sort((h,p)=>p.dateObj.getTime()-h.dateObj.getTime()).slice(0,10).map(({dateObj:h,...p})=>p),[e]),m=v.useMemo(()=>{const h=new Map;e.forEach(b=>{h.has(b.class)||h.set(b.class,{present:0,total:0});const y=h.get(b.class);b.students?.forEach(S=>{y.total++,(S.status==="Present"||S.status==="Late"||S.status==="Excused")&&y.present++})});const p=b=>{const y=b.match(/Grade\s+(\d+)/i);return y?parseInt(y[1],10):999},g=b=>{const y=b.match(/Section\s+([A-Z])/i);return y?y[1].toUpperCase():"Z"};return Array.from(h.entries()).map(([b,y])=>({class:b,attendance:y.total>0?Math.round(y.present/y.total*100):0,gradeNumber:p(b),section:g(b)})).sort((b,y)=>b.gradeNumber!==y.gradeNumber?b.gradeNumber-y.gradeNumber:b.section.localeCompare(y.section)).map(({gradeNumber:b,section:y,...S})=>S)},[e]);return n?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"View Attendance"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:a.jsx("p",{children:"Loading attendance data..."})})]}):l?a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"View Attendance"})}),a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#e74c3c"},children:a.jsxs("p",{children:["Error: ",l]})})]}):a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"View Attendance"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(We,{size:18}),"Filter Records"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Rn,{size:24}),label:"Total Present",value:d.totalPresent.toLocaleString(),color:"#27ae60"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Hi,{size:24}),label:"Total Absent",value:d.totalAbsent.toLocaleString(),color:"#e74c3c"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:24}),label:"Average Attendance",value:`${d.averageAttendance}%`,color:"#3498db"}),a.jsx(ke,{variant:"stat",icon:a.jsx(We,{size:24}),label:"Total Days",value:d.totalDays,color:"#9b59b6"})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsx("div",{className:"charts-container",children:a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Attendance by Class"}),m.length>0?a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:m,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"class"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"attendance",fill:"#667eea",name:"Attendance %"})]})}):a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:a.jsx("p",{children:"No class data available"})})]})}),a.jsx("div",{className:"section-title",children:"Recent Attendance Records"}),a.jsx("div",{className:"table-container",children:u.length>0?a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:u.map(h=>a.jsxs("tr",{children:[a.jsx("td",{children:h.date}),a.jsx("td",{children:h.class}),a.jsx("td",{children:h.total}),a.jsx("td",{children:a.jsx(Se,{variant:"success",size:"sm",children:h.present})}),a.jsx("td",{children:a.jsx(Se,{variant:"absent",size:"sm",children:h.absent})}),a.jsx("td",{children:a.jsxs(Se,{variant:h.percentage>=90?"high":h.percentage>=80?"medium":"low",size:"sm",children:[h.percentage,"%"]})}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>console.log("View Details",h.id)})})]},h.id))})]}):a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:a.jsx("p",{children:"No attendance records found"})})})]})},mY=()=>{const e=[{id:1,name:"Alice Johnson",class:"Grade 10A",totalDays:120,present:115,absent:5,percentage:95.8,status:"Good"},{id:2,name:"Bob Williams",class:"Grade 9B",totalDays:120,present:108,absent:12,percentage:90,status:"Good"},{id:3,name:"Charlie Brown",class:"Grade 11A",totalDays:120,present:118,absent:2,percentage:98.3,status:"Excellent"},{id:4,name:"Diana Prince",class:"Grade 10B",totalDays:120,present:105,absent:15,percentage:87.5,status:"Warning"},{id:5,name:"Edward Lee",class:"Grade 12A",totalDays:120,present:110,absent:10,percentage:91.7,status:"Good"}],t=[{name:"Excellent (95%+)",value:45,color:"#27ae60"},{name:"Good (85-94%)",value:35,color:"#3498db"},{name:"Warning (75-84%)",value:15,color:"#f39c12"},{name:"Critical (<75%)",value:5,color:"#e74c3c"}],n=[{month:"Jan",avgAttendance:90},{month:"Feb",avgAttendance:92},{month:"Mar",avgAttendance:93},{month:"Apr",avgAttendance:94},{month:"May",avgAttendance:95},{month:"Jun",avgAttendance:96}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Attendance Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Er,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Attendance"}),a.jsx("p",{children:"93.6%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(d6,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Students at Risk"}),a.jsx("p",{children:"12"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(lt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Er,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Improvement Rate"}),a.jsx("p",{children:"+2.5%"})]})]})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Attendance Status Distribution"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(ed,{children:[a.jsx(oo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:r=>`${r.name} ${(r.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((r,l)=>a.jsx(gi,{fill:r.color},`cell-${l}`))}),a.jsx(zt,{})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Attendance Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:n,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"avgAttendance",fill:"#667eea",name:"Avg Attendance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Individual Student Attendance"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total Days"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.name})}),a.jsx("td",{children:r.class}),a.jsx("td",{children:r.totalDays}),a.jsx("td",{children:r.present}),a.jsx("td",{children:r.absent}),a.jsx("td",{children:a.jsxs(Se,{variant:r.percentage>=95?"high":r.percentage>=85?"medium":"low",size:"sm",children:[r.percentage,"%"]})}),a.jsx("td",{children:a.jsx(Se,{variant:r.status.toLowerCase()==="excellent"?"excellent":r.status.toLowerCase()==="good"?"good":r.status.toLowerCase()==="warning"?"warning":"danger",size:"sm",children:r.status})}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>console.log("View Report",r.id)})})]},r.id))})]})})]})},hY=()=>{const e=vt(),[t,n]=v.useState("2024-03-15"),[r,l]=v.useState("2024-03-15"),[o,d]=v.useState(!1),[u,m]=v.useState(null),p=[{date:"2024-03-15",classes:[{class:"Grade 9A",present:28,absent:2,total:30,percentage:93.3},{class:"Grade 9B",present:25,absent:3,total:28,percentage:89.3},{class:"Grade 10A",present:23,absent:2,total:25,percentage:92},{class:"Grade 10B",present:24,absent:1,total:25,percentage:96}],totalPresent:100,totalAbsent:8,totalStudents:108,overallPercentage:92.6},{date:"2024-03-14",classes:[{class:"Grade 9A",present:29,absent:1,total:30,percentage:96.7},{class:"Grade 9B",present:27,absent:1,total:28,percentage:96.4},{class:"Grade 10A",present:24,absent:1,total:25,percentage:96},{class:"Grade 10B",present:25,absent:0,total:25,percentage:100}],totalPresent:105,totalAbsent:3,totalStudents:108,overallPercentage:97.2},{date:"2024-03-13",classes:[{class:"Grade 9A",present:27,absent:3,total:30,percentage:90},{class:"Grade 9B",present:26,absent:2,total:28,percentage:92.9},{class:"Grade 10A",present:22,absent:3,total:25,percentage:88},{class:"Grade 10B",present:23,absent:2,total:25,percentage:92}],totalPresent:98,totalAbsent:10,totalStudents:108,overallPercentage:90.7}].find(S=>S.date===r),g=()=>{l(t)},b=S=>{m(S),d(!0)},y=S=>{e(`/dashboard/admin/attendance/mark?date=${r}&class=${encodeURIComponent(S)}`)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Daily Attendance Reports"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.jsxs("label",{htmlFor:"date-selector",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:[a.jsx(We,{size:18}),"Select Date:"]}),a.jsx("input",{id:"date-selector",type:"date",value:t,onChange:S=>n(S.target.value),style:{padding:"0.5rem 0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),a.jsx(we,{variant:"primary",size:"md",onClick:g,children:"Apply"})]})]}),p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginBottom:"2rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)",display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",gap:"1.5rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Vt,{size:20,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Total"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#333"},children:p.totalStudents})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Rn,{size:20,style:{color:"#22c55e"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Present"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#22c55e"},children:p.totalPresent})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Hi,{size:20,style:{color:"#ef4444"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Absent"}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:700,color:"#ef4444"},children:p.totalAbsent})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:20,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginBottom:"0.25rem"},children:"Overall"}),a.jsxs(Se,{variant:p.overallPercentage>=90?"high":p.overallPercentage>=80?"medium":"low",size:"md",children:[p.overallPercentage,"%"]})]})]})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Attendance %"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:p.classes.map((S,E)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:S.class})}),a.jsx("td",{children:S.total}),a.jsx("td",{children:a.jsx(Se,{variant:"success",size:"sm",children:S.present})}),a.jsx("td",{children:a.jsx(Se,{variant:"absent",size:"sm",children:S.absent})}),a.jsx("td",{children:a.jsxs(Se,{variant:S.percentage>=90?"high":S.percentage>=80?"medium":"low",size:"sm",children:[S.percentage,"%"]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>b(S)}),a.jsx(Ot,{size:"sm",onClick:()=>y(S.class)})]})})]},E))})]})})]}):a.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[a.jsx(We,{size:48,style:{marginBottom:"1rem",opacity:.5}}),a.jsx("p",{style:{fontSize:"1.1rem",margin:0},children:"No attendance data found for the selected date."})]}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),m(null)},title:"Attendance Details",size:"lg",children:u&&a.jsx(Qt,{sections:[{title:"Class Information",fields:[{label:"Class",value:u.class,icon:Vt},{label:"Date",value:r,icon:We}]},{title:"Attendance Statistics",fields:[{label:"Total Students",value:u.total.toString(),icon:Vt},{label:"Present",value:u.present.toString(),icon:Rn,badge:{variant:"success",text:`${u.present} students`}},{label:"Absent",value:u.absent.toString(),icon:Hi,badge:{variant:"absent",text:`${u.absent} students`}},{label:"Attendance Percentage",value:`${u.percentage}%`,badge:{variant:u.percentage>=90?"success":u.percentage>=80?"warning":"danger",text:`${u.percentage}%`}}]}]})})]})},pY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(null),[o,d]=v.useState(!1);v.useEffect(()=>{const A=async()=>{try{const w=await le.exams.getAll();w.data?.exams?n(w.data.exams):n([])}catch(w){console.error("Error loading exams:",w),n([])}};A();const O=setInterval(()=>{A()},3e4);return()=>{clearInterval(O)}},[]);const u=A=>A.toLowerCase()==="completed"?"approved":A.toLowerCase()==="scheduled"?"pending":"active",m=A=>{if(!A)return"";const O=A.match(/(\d+)\s+Section\s+([A-Z])/i);if(O)return`${O[1]}${O[2].toUpperCase()}`;const w=A.match(/Grade\s+(\d+)([A-Z])/i);if(w)return`${w[1]}${w[2].toUpperCase()}`;const z=A.match(/(\d+)([A-Z])/i);if(z)return`${z[1]}${z[2].toUpperCase()}`;const T=A.match(/Grade\s+(\d+)\s+Sec\s+([A-Z])/i);if(T)return`${T[1]}${T[2].toUpperCase()}`;const M=A.match(/Grade\s+(\d+)\s+Section\s+([A-Z])/i);if(M)return`${M[1]}${M[2].toUpperCase()}`;const N=A.match(/(\d+).*?([A-Z])/i);return N?`${N[1]}${N[2].toUpperCase()}`:A.trim()},h=async A=>{const O=t.find(w=>w.id===A||w._id===A);if(!O){alert("Exam not found!");return}if(confirm(`Are you sure you want to finish "${O.name}"? This will mark the exam as completed and enable grading.`))try{await le.exams.update(A,{status:"Completed"}),n(z=>z.map(T=>T.id===A||T._id===A?{...T,status:"Completed"}:T));const w=await le.exams.getAll();w.data?.exams?n(w.data.exams):Array.isArray(w)&&n(w),alert("Exam marked as completed! You can now proceed with grading.")}catch(w){console.error("Error finishing exam:",w);const z=await le.exams.getAll();z.data?.exams?n(z.data.exams):Array.isArray(z)&&n(z),alert("Failed to finish exam. Please try again.")}},p=async A=>{try{const O=await le.exams.getById(A);O.data?.exam?(l(O.data.exam),d(!0)):O.exam&&(l(O.exam),d(!0))}catch(O){console.error("Error loading exam:",O),alert("Failed to load exam details.")}},g=A=>{e(`/dashboard/admin/exams/edit/${A}`)},b=async A=>{const O=t.find(w=>w.id===A||w._id===A);if(O&&confirm(`Are you sure you want to delete "${O.name}"?`))try{await le.exams.delete(A);const w=await le.exams.getAll();w.data?.exams?n(w.data.exams):Array.isArray(w)&&n(w),alert("Exam deleted successfully!")}catch(w){console.error("Error deleting exam:",w),alert("Failed to delete exam. Please try again.")}},[y,S]=v.useState([]);v.useEffect(()=>{(async()=>{try{const O=await le.teachers.getAll();O.data?.teachers&&S(O.data.teachers)}catch(O){console.error("Error loading teachers:",O)}})()},[]);const E=A=>{const O=y.find(w=>w.id===A);return O?O.name:`Teacher #${A}`},C=[{key:"id",header:"ID"},{key:"name",header:"Exam Name",render:A=>a.jsx("strong",{children:A})},{key:"subject",header:"Subject"},{key:"grades",header:"Grades",render:(A,O)=>{const w=O.classes&&O.classes.length>0?O.classes:O.grades||[];if(w.length===0)return a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No classes"});const z=w.map(T=>m(T)).filter(T=>T).sort((T,M)=>{const N=parseInt(T.match(/\d+/)?.[0]||"0"),I=parseInt(M.match(/\d+/)?.[0]||"0");return N!==I?N-I:T.localeCompare(M)});return a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem",alignItems:"center"},children:z.map((T,M)=>a.jsx(Se,{variant:"info",size:"sm",children:T},M))})}},{key:"date",header:"Date",render:A=>{let O=A;if(A)try{const w=new Date(A);isNaN(w.getTime())||(O=w.toISOString().split("T")[0])}catch{const z=String(A).match(/(\d{4}-\d{2}-\d{2})/);z&&(O=z[1])}return a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),O]})}},{key:"time",header:"Time",render:A=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14,style:{color:"#666"}}),A]})},{key:"duration",header:"Duration"},{key:"sections",header:"Sections",render:(A,O)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(wr,{size:14,style:{color:"#666"}}),O.sections?.length||0]})},{key:"totalMarks",header:"Total Marks",render:A=>a.jsx("strong",{children:A})},{key:"status",header:"Status",render:A=>a.jsx(Se,{variant:u(A),size:"sm",children:A})},{key:"actions",header:"Actions",render:(A,O)=>{const w=O.id||O._id,z=(O.status||"Scheduled").toLowerCase(),T=z==="completed"||z==="finished",M=z==="scheduled"||z==="in progress";return a.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[a.jsx(Ye,{size:"sm",onClick:()=>p(w)}),!T&&a.jsx(Ot,{size:"sm",onClick:()=>g(w)}),M&&a.jsx(we,{variant:"primary",size:"sm",onClick:()=>h(w),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Finish Exam"}),T&&a.jsx(we,{variant:"primary",size:"sm",onClick:()=>e(`/dashboard/admin/exams/grade/${w}`),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Grade"}),a.jsx(Ft,{size:"sm",onClick:()=>b(w)})]})}}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"All Exams"}),a.jsx(co,{size:"md",onClick:()=>e("/dashboard/admin/exams/create"),title:"Create New Exam"})]}),a.jsx(ta,{columns:C,data:t.slice(0,10),emptyMessage:"No exams found"}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Exam Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Exam Information",icon:Pt,fields:[{label:"Exam Name",value:r.name},{label:"Subject",value:r.subject},{label:"Date",value:r.date,icon:We},{label:"Time",value:r.time,icon:Qe},{label:"Duration",value:r.duration},{label:"Total Marks",value:r.totalMarks.toString()},...r.passingMarks?[{label:"Passing Marks",value:r.passingMarks.toString()}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:u(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[]]},{title:"Assigned Grades",fields:[{label:"Grades",value:r.grades&&r.grades.length>0?r.grades.map((A,O)=>a.jsx(Se,{variant:"info",size:"sm",style:{marginRight:"0.25rem"},children:A},O)):"No grades assigned",spanFull:!0}]},{title:"Exam Sections",icon:lt,fields:r.sections&&r.sections.length>0?r.sections.map((A,O)=>({label:A.name,value:`${A.marks} marks${A.description?` - ${A.description}`:""}`,spanFull:!0})):[{label:"Sections",value:"No sections defined",spanFull:!0}]},{title:"Grade Assignments",icon:Vt,fields:r.gradeAssignments&&r.gradeAssignments.length>0?r.gradeAssignments.map((A,O)=>({label:A.grade,value:E(A.teacherId),spanFull:!1})):[{label:"Assignments",value:"No grade assignments",spanFull:!0}]}]})})]})},lE=()=>{const e=vt(),{id:t}=qn(),n=!!t,{colors:r}=Aa(),[l,o]=v.useState({name:"",subject:"",date:"",time:"",startTime:"",duration:"",totalMarks:"",passingMarks:"",description:""}),[d,u]=v.useState({}),[m,h]=v.useState([{id:1,name:"Section A",description:"",marks:0}]),[p,g]=v.useState([{teacherId:"",gradeSections:[]}]),[b,y]=v.useState([]),[S,E]=v.useState([]),[C,A]=v.useState({}),[O,w]=v.useState([]),[z,T]=v.useState([]),[M,N]=v.useState([]),[I,$]=v.useState(!1),[B,R]=v.useState({}),[q,W]=v.useState(null),K=se=>{if(se)if(typeof se=="object"){if(se._id){const me=se._id;return typeof me=="object"&&me.toString&&typeof me.toString=="function"?me.toString():String(me)}if(se.toString&&typeof se.toString=="function")return se.toString();if(se.id){const me=se.id;return typeof me=="object"&&me.toString?me.toString():String(me)}return String(se)}else return se};v.useEffect(()=>{n&&t?(async()=>{try{const me=await le.exams.getById(t),ne=me.data?.exam||me.exam;if(ne){let be=ne.date;ne.date&&typeof ne.date=="string"&&ne.date.includes("T")&&(be=ne.date.split("T")[0]);let Ne=ne.time;if(ne.time&&typeof ne.time=="string"&&ne.time.includes("T")){const qe=ne.time.match(/T(\d{2}):(\d{2})/);qe&&(Ne=`${qe[1]}:${qe[2]}`)}let Le=ne.startTime||ne.time||"";if(Le&&typeof Le=="string"&&Le.includes("T")){const qe=Le.match(/T(\d{2}):(\d{2})/);qe&&(Le=`${qe[1]}:${qe[2]}`)}if(o({name:ne.name||"",subject:ne.subject||"",date:be||"",time:Ne||"",startTime:Le,duration:ne.duration||"",totalMarks:ne.totalMarks?ne.totalMarks.toString():"",passingMarks:ne.passingMarks?ne.passingMarks.toString():"",description:ne.description||""}),W(ne),ne.sections&&Array.isArray(ne.sections)&&ne.sections.length>0&&h(ne.sections),ne.gradeAssignments&&Array.isArray(ne.gradeAssignments)&&ne.gradeAssignments.length>0){const qe=new Map;ne.gradeAssignments.forEach(ft=>{const bt=String(K(ft.teacherId)||"");if(!bt)return;qe.has(bt)||qe.set(bt,[]);let Fe="",Ze=null;const Wn=ft.grade?.match(/^(\d+)([A-Z])$/i);if(Wn)Fe=`Grade ${Wn[1]}`,Ze=Wn[2].toUpperCase();else{const kr=ft.grade?.match(/Grade\s*(\d+)([A-Z])/i);if(kr)Fe=`Grade ${kr[1]}`,Ze=kr[2].toUpperCase();else{const Ea=ft.grade?.match(/Grade\s*(\d+)/i);if(Ea)Fe=`Grade ${Ea[1]}`,Ze=null;else{const Ca=ft.grade?.match(/(\d+)/);Ca&&(Fe=`Grade ${Ca[1]}`)}}}if(Fe){const kr=qe.get(bt).find(Ea=>Ea.grade===Fe);kr?Ze&&!kr.sections.includes(Ze)&&kr.sections.push(Ze):qe.get(bt).push({grade:Fe,sections:Ze?[Ze]:[]})}});const It=Array.from(qe.entries()).map(([ft,bt])=>({teacherId:ft,gradeSections:bt.map(Fe=>({...Fe,sections:Fe.sections.sort()}))}));g(It.length>0?It:[{teacherId:"",gradeSections:[]}])}else g([{teacherId:"",gradeSections:[]}])}}catch(me){console.error("Error loading exam:",me),alert("Failed to load exam data. Please try again.")}})():W(null)},[t,n]),v.useEffect(()=>{if(n&&q&&O.length>0){const se=q.classes||q.grades||[];if(Array.isArray(se)&&se.length>0){const me=new Map;se.forEach(be=>{const Ne=be.match(/^(\d+)([A-Z])$/i);if(Ne){const Le=Ne[1],qe=Ne[2].toUpperCase(),It=`Grade ${Le}`;me.has(It)||me.set(It,[]),me.get(It).includes(qe)||me.get(It).push(qe)}else{const Le=be.match(/Grade\s*(\d+)([A-Z])?/i);if(Le){const qe=Le[1],It=Le[2],ft=`Grade ${qe}`;It?(me.has(ft)||me.set(ft,[]),me.get(ft).includes(It.toUpperCase())||me.get(ft).push(It.toUpperCase())):me.has(ft)||me.set(ft,[])}}});const ne=Array.from(me.entries()).map(([be,Ne])=>({grade:be,sections:Ne.sort()}));y(ne.length>0?ne:[]),Z(ne)}else y([]),E([]),A({})}},[n,q,O]),v.useEffect(()=>{(async()=>{try{const me=await le.classes.getAll();me.data?.classes&&w(me.data.classes.filter(ne=>ne.status==="Active"))}catch(me){console.error("Error loading classes:",me)}})()},[]),v.useEffect(()=>{(async()=>{try{const me=await le.subjects.getAll();me.data?.subjects&&T(me.data.subjects)}catch(me){console.error("Error loading subjects:",me)}})()},[]),v.useEffect(()=>{(async()=>{try{const me=await le.teachers.getAll();me.data?.teachers?N(me.data.teachers):Array.isArray(me)?N(me):me.teachers&&N(me.teachers)}catch(me){console.error("Error loading teachers:",me)}})()},[]);const H=se=>{const me=se.match(/(\d+)\s+Section\s+([A-Z])/i);if(me)return`${me[1]}${me[2].toUpperCase()}`;const ne=se.match(/Grade\s+(\d+)([A-Z])/i);if(ne)return`${ne[1]}${ne[2].toUpperCase()}`;const be=se.match(/(\d+)([A-Z])/i);return be?`${be[1]}${be[2].toUpperCase()}`:se},D=(se,me)=>{o(ne=>({...ne,[se]:me})),d[se]&&u(ne=>{const be={...ne};return delete be[se],be})},k=()=>{R({name:"",description:"",marks:0}),$(!0)},_=()=>{if(B.name&&B.marks){const se={id:m.length+1,name:B.name,description:B.description||"",marks:typeof B.marks=="number"?B.marks:parseInt(String(B.marks))||0};h([...m,se]),$(!1),R({})}},F=se=>{h(m.filter(me=>me.id!==se))},Y=(se,me)=>{const ne=[...p];ne[se]={teacherId:me,gradeSections:ne[se].gradeSections.length>0?ne[se].gradeSections:[]},g(ne)},U=se=>{const me=[...p];me[se]={...me[se],gradeSections:[...me[se].gradeSections,{grade:"",sections:[]}]},g(me)},L=(se,me)=>{const ne=[...p];ne[se]={...ne[se],gradeSections:ne[se].gradeSections.filter((be,Ne)=>Ne!==me)},g(ne)},te=(se,me,ne)=>{const be=[...p];be[se].gradeSections[me]={grade:ne,sections:[]},g(be)},V=(se,me,ne)=>{const be=[...p],Ne=be[se].gradeSections[me].sections||[];Ne.includes(ne)?be[se].gradeSections[me].sections=Ne.filter(Le=>Le!==ne):be[se].gradeSections[me].sections=[...Ne,ne],g(be)},X=se=>{const me=p.filter((ne,be)=>be!==se);me.length===0?g([{teacherId:"",gradeSections:[]}]):g(me)},Q=()=>{const se={};return l.name.trim()||(se.name="Exam name is required"),l.subject||(se.subject="Subject is required"),l.date||(se.date="Exam date is required"),l.time||(se.time="Exam time is required"),l.duration||(se.duration="Duration is required"),l.totalMarks||(se.totalMarks="Total marks is required"),S.length===0&&(se.classes="Please select at least one class"),m.length===0&&(se.sections="Please add at least one exam section"),u(se),Object.keys(se).length===0},ae=async se=>{if(se.preventDefault(),!Q())return;const me=m.reduce((Fe,Ze)=>Fe+Ze.marks,0),ne=parseInt(l.totalMarks)||0;if(me!==ne&&!confirm(`Section marks total (${me}) doesn't match total marks (${ne}). Continue anyway?`))return;const be=[];S.forEach(Fe=>{const Ze=C[Fe]||[];Ze.length>0?Ze.forEach(Wn=>{const Ea=H(Fe).match(/(\d+)/)?.[1]||"";be.push(`${Ea}${Wn}`)}):be.push(Fe)});const Ne=Array.from(new Set(S.map(Fe=>{const Ze=Fe.match(/Grade\s+(\d+)/i);return Ze?`Grade ${Ze[1]}`:""}).filter(Boolean))),Le=[];p.filter(Fe=>Fe.teacherId&&Fe.teacherId.trim()!=="").forEach(Fe=>{const Ze=K(Fe.teacherId);Ze&&Fe.gradeSections.filter(Wn=>Wn.grade&&Wn.grade.trim()!=="").forEach(Wn=>{Wn.sections.length>0?Wn.sections.forEach(kr=>{const Ca=`${Wn.grade.match(/\d+/)?.[0]||""}${kr}`;Le.push({grade:Ca,teacherId:Ze})}):Le.push({grade:Wn.grade,teacherId:Ze})})});const qe=m.map(Fe=>({name:Fe.name,description:Fe.description||"",marks:Fe.marks||0})),It=z.find(Fe=>Fe.name===l.subject||Fe.code===l.subject),ft=It?._id||It?.id,bt={name:l.name,subject:l.subject,subjectId:ft,grades:Ne,classes:be.length>0?be:S,date:l.date,time:l.time,startTime:l.startTime||l.time,duration:l.duration,totalMarks:ne,passingMarks:l.passingMarks?parseInt(l.passingMarks):void 0,description:l.description||"",sections:qe,gradeAssignments:Le};try{if(n&&t){const Fe=await le.exams.update(t,bt);if(Fe){const Ze=Fe?.data?.exam?.name||Fe?.name||"Exam";alert(`Exam "${Ze}" updated successfully!`),e("/dashboard/admin/exams")}}else{const Fe=await le.exams.create({...bt,status:"Scheduled"}),Ze=Fe?.data?.exam?.name||Fe?.name||"Exam";alert(`Exam "${Ze}" created successfully!`),e("/dashboard/admin/exams")}}catch(Fe){console.error("Error saving exam:",Fe);const Ze=Fe?.message||Fe?.errorData?.message||Fe?.errorData?.error||"Failed to save exam. Please try again.";alert(Ze)}},pe=()=>{if(!Array.isArray(O))return[];const se=new Map;return O.forEach(me=>{if(me.status==="Active"&&me.name){const ne=me.name.match(/^(Grade\s+\d+)/i);if(ne){const be=ne[1];se.has(be)||se.set(be,be)}}}),Array.from(se.values()).sort((me,ne)=>{const be=parseInt(me.match(/\d+/)?.[0]||"0"),Ne=parseInt(ne.match(/\d+/)?.[0]||"0");return be-Ne}).map(me=>({value:me,label:me}))},ee=se=>{if(!Array.isArray(O)||!se)return[];const me=se.startsWith("Grade")?se:`Grade ${se}`,ne=O.filter(Ne=>{if(Ne.status!=="Active")return!1;const Le=Ne.name?.match(/^(Grade\s+\d+)/i);return Le&&Le[1]===me});return[...new Set(ne.map(Ne=>Ne.section).filter(Boolean))].map(Ne=>({value:Ne,label:`Section ${Ne}`}))},xe=(se,me)=>{const ne=[...b];ne[se]={grade:me,sections:[]},y(ne),Z(ne)},ge=(se,me)=>{const ne=[...b],be=ne[se].sections||[];be.includes(me)?ne[se].sections=be.filter(Ne=>Ne!==me):ne[se].sections=[...be,me],y(ne),Z(ne)},de=()=>{y([...b,{grade:"",sections:[]}])},Ee=se=>{const me=b.filter((ne,be)=>be!==se);y(me),Z(me)},Z=se=>{const me=[],ne={};se.forEach(be=>{be.grade&&(be.sections.length>0?be.sections.forEach(Ne=>{const qe=`${be.grade.match(/\d+/)?.[0]||""}${Ne}`;me.includes(qe)||me.push(qe)}):me.includes(be.grade)||me.push(be.grade))}),E(me),A(ne)},ye={padding:"2rem",maxWidth:"1200px",margin:"0 auto",background:r.background,minHeight:"100vh"},De={background:r.surface,borderRadius:"0.75rem",padding:"2rem",marginBottom:"2rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:`1px solid ${r.border}`},ze={fontSize:"1.75rem",fontWeight:700,color:r.text,margin:"0 0 2rem 0",display:"flex",alignItems:"center",gap:"0.75rem"},He={display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},Dt={flex:"0 0 calc(50% - 0.5rem)",minWidth:"200px"},_t={flex:"0 0 calc(33.333% - 0.67rem)",minWidth:"150px"},xt={display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:r.text},ht={width:"100%",padding:"0.75rem",border:`1px solid ${d.name||d.subject||d.date?"#e53e3e":r.border}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",backgroundColor:r.surface,color:r.text,transition:"border-color 0.2s"},cr={...ht,minHeight:"100px",resize:"vertical"},Je={color:"#e53e3e",fontSize:"0.8rem",marginTop:"0.25rem"};return a.jsxs("div",{style:ye,children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/exams"),title:"Back to Exams"})}),a.jsx("form",{onSubmit:ae,children:a.jsxs("div",{style:De,children:[a.jsxs("h1",{style:ze,children:[a.jsx(Pt,{size:28,color:r.button}),n?"Edit Exam":"Create New Exam"]}),a.jsxs("div",{style:He,children:[a.jsxs("div",{style:Dt,children:[a.jsxs("label",{style:xt,children:["Exam Name ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"text",value:l.name,onChange:se=>D("name",se.target.value),placeholder:"e.g., Mid-Term Exam, Final Exam",style:ht,required:!0}),d.name&&a.jsx("div",{style:Je,children:d.name})]}),a.jsxs("div",{style:Dt,children:[a.jsxs("label",{style:xt,children:["Subject ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsxs("select",{value:l.subject,onChange:se=>D("subject",se.target.value),style:ht,required:!0,children:[a.jsx("option",{value:"",children:"Select Subject"}),z.map((se,me)=>a.jsxs("option",{value:se.name,children:[se.name," (",se.code,")"]},se.id||se._id||`subject-${me}`))]}),d.subject&&a.jsx("div",{style:Je,children:d.subject})]})]}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("label",{style:xt,children:["Assign to Classes ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[b.length>0&&b[0]&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto auto 0.5fr 2fr",gap:"1rem",alignItems:"flex-end"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",paddingBottom:"0.5rem"},children:a.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",whiteSpace:"nowrap"},children:"Select Grade *"})}),a.jsxs("button",{type:"button",onClick:de,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,whiteSpace:"nowrap",height:"fit-content"},children:[a.jsx(ia,{size:16}),"Add Grade"]}),a.jsx("div",{children:a.jsxs("select",{value:b[0].grade,onChange:se=>xe(0,se.target.value),style:{width:"100%",padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),pe().map((se,me)=>a.jsx("option",{value:se.value,children:se.label},`grade-${se.value}-${me}`))]})}),b[0]?.grade&&(()=>{const se=ee(b[0].grade);return se.length>0?a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:se.map((me,ne)=>{const be=b[0].sections.includes(me.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:be?"#667eea":"#f7fafc",color:be?"white":"#4a5568",border:`2px solid ${be?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:be?600:400},children:[a.jsx("input",{type:"checkbox",checked:be,onChange:()=>ge(0,me.value),style:{display:"none"}}),be&&a.jsx(Ka,{size:14}),me.label]},`section-${me.value}-${ne}`)})})]}):null})()]}),b.length>1&&a.jsx("div",{children:b.slice(1).map((se,me)=>{const ne=me+1,be=se.grade?ee(se.grade):[];return a.jsx("div",{style:{padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",marginBottom:"1rem",background:"white"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[a.jsxs("div",{style:{flex:.5},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:se.grade,onChange:Ne=>xe(ne,Ne.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),pe().map(Ne=>a.jsx("option",{value:Ne.value,children:Ne.label},Ne.value))]})]}),se.grade&&be.length>0&&a.jsxs("div",{style:{flex:2},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:be.map((Ne,Le)=>{const qe=se.sections.includes(Ne.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:qe?"#667eea":"#f7fafc",color:qe?"white":"#4a5568",border:`2px solid ${qe?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:qe?600:400},children:[a.jsx("input",{type:"checkbox",checked:qe,onChange:()=>ge(ne,Ne.value),style:{display:"none"}}),qe&&a.jsx(Ka,{size:14}),Ne.label]},`section-${ne}-${Ne.value}-${Le}`)})})]}),a.jsx("button",{type:"button",onClick:()=>Ee(ne),style:{padding:"0.5rem",background:"#fed7d7",color:"#c53030",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Remove this grade",children:a.jsx(ya,{size:16})})]})},ne)})}),b.length===0&&a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:de,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500},children:[a.jsx(ia,{size:16}),"Add Grade"]})})]}),d.classes&&a.jsx("div",{style:Je,children:d.classes}),S.length===0&&!d.classes&&a.jsx("div",{style:{...Je,color:r.textSecondary,marginTop:"0.5rem"},children:"Please select at least one grade"})]}),a.jsxs("div",{style:He,children:[a.jsxs("div",{style:_t,children:[a.jsxs("label",{style:xt,children:["Exam Date ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"date",value:l.date,onChange:se=>D("date",se.target.value),style:{...ht,width:"100%",maxWidth:"180px"},required:!0}),d.date&&a.jsx("div",{style:Je,children:d.date})]}),a.jsxs("div",{style:_t,children:[a.jsxs("label",{style:xt,children:["Start Time ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"time",value:l.startTime,onChange:se=>D("startTime",se.target.value),style:{...ht,width:"100%",maxWidth:"180px"}})]}),a.jsxs("div",{style:_t,children:[a.jsxs("label",{style:xt,children:["Exam Time ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"time",value:l.time,onChange:se=>D("time",se.target.value),style:{...ht,width:"100%",maxWidth:"180px"},required:!0}),d.time&&a.jsx("div",{style:Je,children:d.time})]}),a.jsxs("div",{style:_t,children:[a.jsxs("label",{style:xt,children:["Duration ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"text",value:l.duration,onChange:se=>D("duration",se.target.value),placeholder:"2h 30m",style:{...ht,width:"100%",maxWidth:"200px"},required:!0}),d.duration&&a.jsx("div",{style:Je,children:d.duration})]}),a.jsxs("div",{style:_t,children:[a.jsxs("label",{style:xt,children:["Total Marks ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"number",value:l.totalMarks,onChange:se=>D("totalMarks",se.target.value),placeholder:"100",min:0,max:9999,style:{...ht,width:"100%",maxWidth:"180px"},required:!0}),d.totalMarks&&a.jsx("div",{style:Je,children:d.totalMarks})]}),a.jsxs("div",{style:_t,children:[a.jsx("label",{style:xt,children:"Passing Marks"}),a.jsx("input",{type:"number",value:l.passingMarks,onChange:se=>D("passingMarks",se.target.value),placeholder:"e.g., 40",min:0,max:9999,style:{...ht,width:"100%",maxWidth:"180px"}})]})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:xt,children:"Description"}),a.jsx("textarea",{value:l.description,onChange:se=>D("description",se.target.value),placeholder:"Enter exam description or instructions",rows:4,style:cr})]}),a.jsxs("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:`1px solid ${r.border}`},children:[a.jsxs("label",{style:{...xt,margin:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Vt,{size:18}),"Teacher Assignments (Grading Teachers)"]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[p.map((se,me)=>a.jsxs("div",{style:{marginBottom:"0",padding:"1.5rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",backgroundColor:"#fafafa"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,color:"#333",margin:0},children:me===0?"First Teacher":me===1?"Second Teacher":me===2?"Third Teacher":`Teacher ${me+1}`}),a.jsx("button",{type:"button",onClick:()=>X(me),style:{padding:"0.25rem 0.75rem",background:"#ef4444",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Remove Teacher"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Select Teacher *"}),a.jsxs("select",{value:se.teacherId,onChange:ne=>Y(me,ne.target.value),style:{width:"100%",padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select a teacher"}),M.filter(ne=>{const be=p.map(Le=>Le.teacherId).filter((Le,qe)=>qe!==me&&Le),Ne=String(ne._id||ne.id||"");return!be.includes(Ne)}).map(ne=>{const be=ne._id||ne.id||"",Ne=ne.name||"Unknown",Le=ne.subject||"N/A";return a.jsxs("option",{value:be,children:[Ne," (",Le,")"]},be)})]})]}),se.teacherId&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[se.gradeSections.length>0&&se.gradeSections[0]&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto auto 0.5fr 2fr",gap:"1rem",alignItems:"flex-end"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",paddingBottom:"0.5rem"},children:a.jsx("label",{style:{fontWeight:500,fontSize:"0.9rem",whiteSpace:"nowrap"},children:"Select Grade *"})}),a.jsxs("button",{type:"button",onClick:()=>U(me),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500,whiteSpace:"nowrap",height:"fit-content"},children:[a.jsx(ia,{size:16}),"Add Grade"]}),a.jsx("div",{children:a.jsxs("select",{value:se.gradeSections[0].grade,onChange:ne=>te(me,0,ne.target.value),style:{width:"100%",padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),pe().map(ne=>a.jsx("option",{value:ne.value,children:ne.label},ne.value))]})}),se.gradeSections[0]?.grade&&(()=>{const ne=ee(se.gradeSections[0].grade);return ne.length>0?a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:ne.map((be,Ne)=>{const Le=se.gradeSections[0].sections.includes(be.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:Le?"#667eea":"#f7fafc",color:Le?"white":"#4a5568",border:`2px solid ${Le?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:Le?600:400},children:[a.jsx("input",{type:"checkbox",checked:Le,onChange:()=>V(me,0,be.value),style:{display:"none"}}),Le&&a.jsx(Ka,{size:14}),be.label]},`teacher-${me}-section-${be.value}-${Ne}`)})})]}):null})()]}),se.gradeSections.length>1&&a.jsx("div",{children:se.gradeSections.slice(1).map((ne,be)=>{const Ne=be+1,Le=ne.grade?ee(ne.grade):[];return a.jsx("div",{style:{padding:"1rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",marginBottom:"1rem",background:"white"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[a.jsxs("div",{style:{flex:.5},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Grade"}),a.jsxs("select",{value:ne.grade,onChange:qe=>te(me,Ne,qe.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:"Select Grade"}),pe().map(qe=>a.jsx("option",{value:qe.value,children:qe.label},qe.value))]})]}),ne.grade&&Le.length>0&&a.jsxs("div",{style:{flex:2},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.85rem",fontWeight:500},children:"Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:Le.map((qe,It)=>{const ft=ne.sections.includes(qe.value);return a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:ft?"#667eea":"#f7fafc",color:ft?"white":"#4a5568",border:`2px solid ${ft?"#667eea":"#e2e8f0"}`,borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:ft?600:400},children:[a.jsx("input",{type:"checkbox",checked:ft,onChange:()=>V(me,Ne,qe.value),style:{display:"none"}}),ft&&a.jsx(Ka,{size:14}),qe.label]},`teacher-${me}-grade-${Ne}-section-${qe.value}-${It}`)})})]}),a.jsx("button",{type:"button",onClick:()=>L(me,Ne),style:{padding:"0.5rem",background:"#fed7d7",color:"#c53030",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Remove this grade",children:a.jsx(ya,{size:16})})]})},Ne)})}),se.gradeSections.length===0&&a.jsx("div",{children:a.jsxs("button",{type:"button",onClick:()=>U(me),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:500},children:[a.jsx(ia,{size:16}),"Add Grade"]})})]})]})]},me)),a.jsxs("button",{type:"button",onClick:()=>{g([...p,{teacherId:"",gradeSections:[]}])},style:{padding:"0.75rem 1.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"0.5rem",width:"auto"},children:[a.jsx("span",{children:"+"}),"Add Another Teacher"]})]})]}),a.jsxs("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:`1px solid ${r.border}`},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsxs("label",{style:{...xt,margin:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(lt,{size:18}),"Exam Sections"]}),a.jsxs(we,{variant:"primary",size:"sm",type:"button",onClick:k,children:[a.jsx(ia,{size:16}),"Add Section"]})]}),d.sections&&a.jsx("div",{style:Je,children:d.sections}),m.length>0?a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[m.map((se,me)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"#f7f7f7",borderRadius:"0.5rem",border:`1px solid ${r.border}`},children:[a.jsxs("div",{children:[a.jsx("strong",{style:{fontSize:"0.9rem"},children:se.name}),se.description&&a.jsx("div",{style:{fontSize:"0.8rem",color:r.textSecondary,marginTop:"0.25rem"},children:se.description}),a.jsxs("div",{style:{fontSize:"0.8rem",color:r.textSecondary,marginTop:"0.25rem"},children:["Marks: ",a.jsx("strong",{children:se.marks})]})]}),a.jsx(we,{variant:"outline",size:"sm",type:"button",onClick:()=>F(se.id),style:{color:"#e53e3e",borderColor:"#e53e3e"},children:a.jsx(ya,{size:14})})]},se.id||`section-${me}`)),a.jsx("div",{style:{marginTop:"0.5rem",padding:"0.75rem",background:"#e6f3ff",borderRadius:"0.5rem"},children:a.jsxs("strong",{style:{fontSize:"0.9rem"},children:["Total Section Marks: ",m.reduce((se,me)=>se+me.marks,0)]})})]}):a.jsx("p",{style:{color:r.textSecondary,fontSize:"0.9rem"},children:'No sections added yet. Click "Add Section" to add one.'})]}),a.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[a.jsx(we,{variant:"outline",type:"button",onClick:()=>e("/dashboard/admin/exams"),children:"Cancel"}),a.jsxs(we,{variant:"primary",type:"submit",children:[a.jsx(Zt,{size:18}),n?"Update Exam":"Create Exam"]})]})]})}),a.jsx(et,{isOpen:I,onClose:()=>$(!1),title:"Add Exam Section",size:"md",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Section Name *"}),a.jsx("input",{type:"text",value:B.name||"",onChange:se=>R({...B,name:se.target.value}),placeholder:"e.g., Section A: Multiple Choice",style:ht})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Description"}),a.jsx("textarea",{value:B.description||"",onChange:se=>R({...B,description:se.target.value}),placeholder:"Section description or instructions",rows:3,style:cr})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:"Marks *"}),a.jsx("input",{type:"number",value:B.marks||"",onChange:se=>R({...B,marks:parseInt(se.target.value)||0}),placeholder:"20",min:0,style:ht})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"outline",size:"md",type:"button",onClick:()=>$(!1),children:"Cancel"}),a.jsxs(we,{variant:"primary",size:"md",type:"button",onClick:_,children:[a.jsx(Zt,{size:16}),"Add Section"]})]})]})})]})},oE=()=>{const{id:e,role:t}=qn(),n=vt(),r=Jr(),l=t||(r.pathname.includes("/teacher/")?"teacher":"admin"),[o,d]=v.useState(),[u,m]=v.useState([]),[h,p]=v.useState({}),[g,b]=v.useState(null),[y,S]=v.useState(!1);v.useEffect(()=>{(async()=>{if(e)try{const z=await le.exams.getById(e),T=z.data?.exam||z.exam;if(!T){console.error("Exam not found");return}d(T);const M=await le.students.getAll();if(!M.data?.students){m([]);return}const N=M.data.students;console.log("Sample students (first 3):",N.slice(0,3).map(B=>({id:B.id||B._id,studentId:B.studentId,name:B.name,class:B.class})));let I=[];const $=B=>{if(!B)return"";const R=B.match(/(\d+)([A-Z])/i);if(R)return`${R[1]}${R[2].toUpperCase()}`;const q=B.match(/(\d+)/);return q?q[1]:B};if(T.classes&&T.classes.length>0){const B=T.classes.map(R=>{const q=R.match(/(\d+)([A-Z])/i);return q?`${q[1]}${q[2].toUpperCase()}`:R});I=N.filter(R=>{const q=$(R.class||"");return B.some(W=>{const K=$(W);return q===K||q.includes(K)||K.includes(q)})})}else T.grades&&T.grades.length>0&&(I=N.filter(B=>T.grades.some(R=>{const q=R.replace(/Grade\s*/i,"").trim(),W=B.class?.match(/Grade\s*(\d+)/i);return W?W[1]===q:!1})));m(I);try{const B=T._id||T.id,R=T.examId;console.log("Loading exam results for exam:",{currentExamId:B,currentExamIdCustom:R});let q=[],W;try{W=await le.examResults.getByExamId(B),q=W.data?.results||W.data||[],console.log("Fetched results by ObjectId:",q.length)}catch(K){console.warn("Failed to fetch by ObjectId, trying custom examId:",K)}if(q.length===0&&R)try{W=await le.examResults.getByExamId(R),q=W.data?.results||W.data||[],console.log("Fetched results by custom examId:",q.length)}catch(K){console.warn("Failed to fetch by custom examId:",K)}if(q.length===0){console.log("Falling back to fetch all and filter");const K=await le.examResults.getAll();q=(K.data?.results||K.data||[]).filter(D=>{let k;if(typeof D.examId=="string"?k=D.examId:D.examId&&typeof D.examId=="object"?k=D.examId.examId||D.examId._id||D.examId.id||String(D.examId):k=D.examId?String(D.examId):void 0,!k)return!1;const _=String(k)===String(B),F=R&&String(k)===String(R);return _||F})}if(console.log("Final exam results count:",q.length),q.length>0){const K={};q.forEach(H=>{const D=H.studentId?._id||H.studentId?.id||H.studentId||H.studentId?.studentId,k=I.find(_=>{const F=_.studentId,Y=_.id||_._id;return!!(D&&typeof D=="string"&&D.startsWith("S")&&F&&String(F)===String(D)||Y&&String(Y)===String(D)||F&&String(F)===String(D))});if(console.log("Processing result for student:",{resultStudentId:D,resultStudentIdType:typeof D,enrolledStudentsCount:I.length,enrolledStudentIds:I.map(_=>({customId:_.studentId,objectId:_.id||_._id,name:_.name})),foundStudent:!!k,studentName:k?.name,remarks:H.remarks}),k){let _={};try{if(H.remarks){const Q=typeof H.remarks=="string"?JSON.parse(H.remarks):H.remarks;Q.sectionMarks&&typeof Q.sectionMarks=="object"&&(_=Q.sectionMarks,console.log("Loaded section marks map for student:",k.name,_))}}catch(Q){console.error("Error parsing section marks:",Q,H.remarks)}const F=T.sections?.map(Q=>{const ae=Q._id||Q.id,pe=ae?.toString?ae.toString():String(ae);let ee;const xe=Object.keys(_);if(console.log(`Section ${Q.name} (ID: ${pe}): Available keys in map:`,xe),ee=_[pe],ee===void 0&&ae){const ge=typeof ae=="object"&&ae.toString?ae.toString():String(ae);ee=_[ge]}if(ee===void 0)for(const ge of xe){if(String(ge)===pe||String(ge)===String(ae)){ee=_[ge];break}const de=String(ge).slice(-12),Ee=String(ae).slice(-12);if(de===Ee&&de.length===12){ee=_[ge];break}}if(ee===void 0&&xe.length===T.sections?.length){const ge=T.sections.findIndex(de=>String(de._id||de.id)===String(ae));ge>=0&&ge<xe.length&&(ee=_[xe[ge]])}return console.log(`Section ${Q.name} (ID: ${pe}): savedMarks =`,ee),{sectionId:Q._id||Q.id,sectionName:Q.name,marksObtained:ee!==void 0?ee:null,maxMarks:Q.marks}})||[],Y=F.reduce((Q,ae)=>{const pe=ae.marksObtained;return Q+(pe??0)},0),U=T?Y/T.totalMarks*100:0,L=T?.passingMarks||(T?T.totalMarks*.33:33),te=Y>=L;let V="F",X="Failed";te?(U>=90?V="A+":U>=80?V="A":U>=70?V="B+":U>=60?V="B":U>=50?V="C+":U>=40?V="C":U>=33?V="D":V="F",X="Passed"):(V="F",X="Failed"),K[String(k.id||k._id)]={studentId:k.id||k._id,studentName:k.name,class:k.class,sectionGrades:F,totalMarks:Y,percentage:Math.round(U*100)/100,grade:V,status:X}}}),I.forEach(H=>{const D=String(H.id||H._id);K[D]||(K[D]={studentId:H.id||H._id,studentName:H.name,class:H.class,sectionGrades:T.sections?.map(k=>({sectionId:k._id||k.id,sectionName:k.name,marksObtained:null,maxMarks:k.marks}))||[],totalMarks:0,percentage:0,grade:"F",status:"Failed"})}),p(K)}else{const K={};I.forEach(H=>{const D=String(H.id||H._id);K[D]={studentId:H.id||H._id,studentName:H.name,class:H.class,sectionGrades:T.sections?.map(k=>({sectionId:k._id||k.id,sectionName:k.name,marksObtained:0,maxMarks:k.marks}))||[],totalMarks:0,percentage:0,grade:"F",status:"Failed"}}),p(K)}}catch(B){console.error("Error loading exam results:",B);const R={};I.forEach(q=>{const W=String(q.id||q._id);R[W]={studentId:q.id||q._id,studentName:q.name,class:q.class,sectionGrades:T.sections?.map(K=>({sectionId:K._id||K.id,sectionName:K.name,marksObtained:0,maxMarks:K.marks}))||[],totalMarks:0,percentage:0,grade:"F",status:"Failed"}}),p(R)}}catch(z){console.error("Error loading exam data:",z),m([])}})()},[e]);const E=v.useCallback((w,z,T)=>{p(M=>{const N=M[String(w)];if(!N)return M;const I=o?.sections.find(_=>String(_._id||_.id)===String(z));if(!I)return M;const $=I.marks,B=T===null?null:Math.min(Math.max(0,T),$),R=N.sectionGrades.map(_=>String(_.sectionId)===String(z)?{..._,marksObtained:B}:_),q=R.reduce((_,F)=>{const Y=F.marksObtained;return _+(Y??0)},0),W=o?q/o.totalMarks*100:0,K=o?.passingMarks||(o?o.totalMarks*.33:33),H=q>=K;let D="F",k="Failed";return H?(W>=90?D="A+":W>=80?D="A":W>=70?D="B+":W>=60?D="B":W>=50?D="C+":W>=40?D="C":W>=33?D="D":D="F",k="Passed"):(D="F",k="Failed"),{...M,[String(w)]:{...N,sectionGrades:R,totalMarks:q,percentage:Math.round(W*100)/100,grade:D,status:k}}})},[o]),C=async()=>{if(o)try{const w=o._id||o.id,T=Object.values(h).map(async M=>{const N={};M.sectionGrades.forEach($=>{const B=$.sectionId,R=B?.toString?B.toString():String(B);$.marksObtained!==null&&$.marksObtained!==void 0&&(N[R]=$.marksObtained)});const I={examId:w,studentId:M.studentId,marksObtained:M.totalMarks,totalMarks:o.totalMarks,percentage:M.percentage,grade:M.grade,status:M.status==="Passed"?"Pass":"Fail",remarks:JSON.stringify({sectionMarks:N})};try{const $=u.find(W=>{const K=String(W.id||W._id),H=String(M.studentId);return K===H||String(W.studentId)===H||K===H});if(!$){console.error("Student not found for grade:",M);return}const B=$.id||$._id;let R=null;try{const W=await le.examResults.getByExamId(w);R=(W.data?.results||W.data||[]).find(H=>{const D=H.studentId?._id||H.studentId?.id||H.studentId||H.studentId?.studentId,k=String(D),_=String(B),F=String($.studentId||"");return k===_||k===F||String(D)===String(B)})}catch(W){console.warn("Error fetching existing results:",W)}const q={...I,examId:w,studentId:B};if(R){const W=R._id||R.id;console.log("Updating existing result:",W,q),await le.examResults.update(W,q)}else console.log("Creating new result:",q),await le.examResults.create(q)}catch($){console.error(`Error saving grade for student ${M.studentId}:`,$)}});await Promise.all(T),alert("Grades saved successfully!"),n(`/dashboard/${l}/exams`)}catch(w){console.error("Error saving grades:",w),alert("Failed to save grades. Please try again.")}},A=w=>{b(w),S(!0)},O=w=>w==="A+"||w==="A"?"excellent":w==="B+"||w==="B"?"warning":w==="C+"?"average":"poor";return o?a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx(Bn,{size:"md",onClick:()=>n(`/dashboard/${l}/exams`),title:"Back to Exams"}),a.jsxs("div",{children:[a.jsxs("h1",{children:["Grade Exam: ",o.name]}),a.jsxs("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:[o.examId&&`${o.examId} | `,(()=>{const w=o.subjectId&&typeof o.subjectId=="object"?o.subjectId.code:null;return w?`${w} - `:""})(),o.subject," - ",o.date?new Date(o.date).toLocaleDateString():"N/A"," | Total Marks: ",o.totalMarks,o.passingMarks&&` | Passing Marks: ${o.passingMarks}`]})]})]}),a.jsxs(we,{variant:"primary",onClick:C,children:[a.jsx(Zt,{size:18}),"Save All Grades"]})]}),a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem",padding:"1rem",marginBottom:"1.5rem"},children:[a.jsx("h3",{style:{margin:"0 0 0.75rem 0",fontSize:"1rem",fontWeight:600},children:"Exam Sections"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:o.sections?.map(w=>a.jsxs(Se,{variant:"info",size:"sm",children:[w.name," (",w.marks," marks)"]},w._id||w.id))})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Class"}),o.sections?.map(w=>a.jsxs("th",{children:[w.name,a.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:400,color:"#999"},children:["(Max: ",w.marks,")"]})]},w._id||w.id)),a.jsx("th",{children:"Total"}),a.jsx("th",{children:"Percentage"}),a.jsx("th",{children:"Grade"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7+(o.sections?.length||0),style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No students enrolled in this exam"})}):u.map(w=>{const z=String(w.id||w._id),T=h[z];return T?a.jsxs("tr",{children:[a.jsx("td",{children:w.studentId||w.id||w._id}),a.jsx("td",{children:a.jsx("strong",{children:w.name})}),a.jsx("td",{children:w.class}),o.sections?.map(M=>{const N=M._id||M.id,I=String(N);let $=T.sectionGrades.find(R=>{const q=R.sectionId;return(q?.toString?q.toString():String(q))===I||String(q)===String(N)});if(!$&&T.sectionGrades.length===o.sections.length){const R=o.sections.findIndex(q=>String(q._id||q.id)===I);R>=0&&R<T.sectionGrades.length&&($=T.sectionGrades[R])}const B=(()=>{if($){const R=$.marksObtained;if(R!=null)return String(R)}return""})();return a.jsx("td",{children:a.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:String(M.marks).length+1,value:B,onChange:R=>{const q=R.target.value;if(q===""||q==="-")E(String(w.id||w._id),N,null);else{const W=parseFloat(q);!isNaN(W)&&W>=0&&W<=M.marks&&E(String(w.id||w._id),N,W)}},onBlur:R=>{const q=R.target.value.trim();if(q==="")E(String(w.id||w._id),N,null);else{const W=parseFloat(q);if(!isNaN(W)){const K=Math.min(Math.max(0,W),M.marks);E(String(w.id||w._id),N,K)}}},style:{width:"60px",padding:"0.375rem",border:"1px solid #ddd",borderRadius:"0.375rem",fontSize:"0.9rem",textAlign:"center",appearance:"none",MozAppearance:"textfield"},onWheel:R=>{R.target.blur()}})},N)}),a.jsx("td",{children:a.jsxs("strong",{children:[T.totalMarks," / ",o.totalMarks]})}),a.jsxs("td",{children:[T.percentage.toFixed(1),"%"]}),a.jsx("td",{children:a.jsx(Se,{variant:O(T.grade),size:"sm",children:T.grade})}),a.jsx("td",{children:a.jsx(Se,{variant:T.status==="Passed"?"success":"danger",size:"sm",children:T.status})}),a.jsx("td",{children:a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>A(w),children:[a.jsx(ca,{size:14}),"View"]})})]},z):null})})]})}),a.jsx(et,{isOpen:y,onClose:()=>{S(!1),b(null)},title:"Student Details",size:"lg",children:g&&h[String(g.id)]&&a.jsx(Qt,{sections:[{title:"Student Information",icon:ca,fields:[{label:"Name",value:g.name},{label:"Class",value:g.class},{label:"Email",value:g.email}]},{title:"Exam Grades",icon:Pt,fields:[...o.sections?.map(w=>{const z=w._id||w.id,T=String(g.id||g._id),N=h[T]?.sectionGrades.find($=>String($.sectionId)===String(z)),I=N?.marksObtained!==null&&N?.marksObtained!==void 0?N.marksObtained:0;return{label:w.name,value:`${I} / ${w.marks}`}})||[],{label:"Total Marks",value:`${h[String(g.id||g._id)].totalMarks} / ${o.totalMarks}`},{label:"Percentage",value:`${h[String(g.id||g._id)].percentage.toFixed(1)}%`},{label:"Grade",value:h[String(g.id||g._id)].grade,renderAsBadge:{variant:O(h[String(g.id||g._id)].grade),size:"sm"}},{label:"Status",value:h[String(g.id||g._id)].status,renderAsBadge:{variant:h[String(g.id||g._id)].status==="Passed"?"success":"danger",size:"sm"}}]}]})})]}):a.jsx("div",{className:"page-container",children:a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx("p",{children:"Exam not found"}),a.jsx(we,{variant:"primary",onClick:()=>n(`/dashboard/${l}/exams`),children:"Back to Exams"})]})})},gY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState([]),[o,d]=v.useState([]),[u,m]=v.useState(""),[h,p]=v.useState("all"),[g,b]=v.useState(!0),[y,S]=v.useState(!1),[E,C]=v.useState("all");v.useEffect(()=>{A()},[]),v.useEffect(()=>{T()},[t,u,h,o]);const A=async()=>{try{b(!0);const B=await le.students.getAll(),R=B.data?.students||B.data||[],q=await le.examResults.getAll(),W=q.data?.results||q.data||[];n(R),d(W),l(R)}catch(B){console.error("Error loading data:",B)}finally{b(!1)}},O=B=>{const R=B.studentId||B.id||B._id,q=o.filter(H=>{const D=H.studentId?.studentId||H.studentId?._id||H.studentId;return String(D)===String(R)});if(q.length===0)return 0;const W=q.reduce((H,D)=>H+(D.marksObtained||0),0),K=q.reduce((H,D)=>H+(D.totalMarks||0),0);return K===0?0:W/K*100},w=B=>{const R=B.studentId||B.id||B._id,q=o.filter(H=>{const D=H.studentId?.studentId||H.studentId?._id||H.studentId;return String(D)===String(R)});if(q.length===0)return{obtained:0,total:0};const W=q.reduce((H,D)=>H+(D.marksObtained||0),0),K=q.reduce((H,D)=>H+(D.totalMarks||0),0);return{obtained:W,total:K}},z=B=>{const R=B.studentId||B.id||B._id,q=o.filter(D=>{const k=D.studentId?.studentId||D.studentId?._id||D.studentId;return String(k)===String(R)});if(q.length===0)return{status:"No Results",variant:"secondary"};const W=q.every(D=>{const k=D.status||"";return k.toLowerCase()==="pass"||k.toLowerCase()==="passed"}),H=O(B)>=50;return W&&H?{status:"Pass",variant:"excellent"}:W||H?{status:"Pass",variant:"excellent"}:{status:"Fail",variant:"poor"}},T=()=>{let B=[...t];if(h!=="all"&&(B=B.filter(R=>R.class===h)),u){const R=u.toLowerCase();B=B.filter(q=>q.name?.toLowerCase().includes(R)||(q.studentId||q.id)?.toString().toLowerCase().includes(R)||q.class?.toLowerCase().includes(R))}l(B)},M=()=>{const B=t.map(R=>R.class).filter(Boolean);return Array.from(new Set(B)).sort()},N=B=>{const R=B.studentId||B.id||B._id;e(`/dashboard/admin/exams/results/${R}`)},I=()=>{const R=(E==="all"?t:t.filter(H=>H.class===E)).map(H=>{const D=O(H),{obtained:k,total:_}=w(H),{status:F,variant:Y}=z(H);return{studentId:H.studentId||H.id||H._id,name:H.name,class:H.class,marks:_>0?`${k} / ${_}`:"N/A",percentage:D.toFixed(1),status:F,variant:Y}}),q=window.open("","_blank");if(!q){alert("Please allow popups to print the results");return}const W=R.map((H,D)=>{const k=Y=>Y>=90?"#065f46":Y>=80?"#92400e":Y>=70?"#9a3412":"#991b1b",_=Y=>Y==="excellent"?"#065f46":Y==="poor"?"#991b1b":"#64748b",F=parseFloat(H.percentage);return`
        <tr style="border-bottom: 1px solid #e5e7eb; background: ${D%2===0?"#ffffff":"#f9fafb"};">
          <td style="padding: 10px; text-align: center; border-right: 1px solid #e5e7eb;">${D+1}</td>
          <td style="padding: 10px; border-right: 1px solid #e5e7eb; color: #2563eb; font-weight: 600;">${H.studentId}</td>
          <td style="padding: 10px; border-right: 1px solid #e5e7eb;"><strong>${H.name}</strong></td>
          <td style="padding: 10px; border-right: 1px solid #e5e7eb;">${H.class}</td>
          <td style="padding: 10px; text-align: center; border-right: 1px solid #e5e7eb; font-weight: 600;">${H.marks}</td>
          <td style="padding: 10px; text-align: center; border-right: 1px solid #e5e7eb;">
            <span style="
              padding: 4px 8px;
              border-radius: 4px;
              font-weight: 700;
              font-size: 0.75rem;
              color: ${k(F)};
              background: ${k(F)}20;
            ">${H.percentage}%</span>
          </td>
          <td style="padding: 10px; text-align: center;">
            <span style="
              padding: 4px 8px;
              border-radius: 4px;
              font-weight: 700;
              font-size: 0.75rem;
              color: ${_(H.variant)};
              background: ${_(H.variant)}20;
            ">${H.status}</span>
          </td>
        </tr>
      `}).join(""),K=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Exam Results - ${E}</title>
          <meta charset="UTF-8">
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            @media print {
              @page {
                size: A4;
                margin: 0.8cm;
              }
              body {
                margin: 0;
                padding: 0;
              }
            }
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              margin: 0;
              padding: 20px;
              color: #1f2937;
              background: #ffffff;
            }
            .header {
              text-align: center;
              margin-bottom: 25px;
              padding-bottom: 15px;
              border-bottom: 3px solid #1e40af;
            }
            .header h1 {
              margin: 0 0 5px 0;
              color: #1e40af;
              font-size: 24px;
              font-weight: 700;
            }
            .header p {
              margin: 5px 0;
              color: #64748b;
              font-size: 14px;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 20px;
              border: 2px solid #e2e8f0;
              border-radius: 6px;
              overflow: hidden;
            }
            thead {
              background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
              color: white;
            }
            th {
              padding: 12px 10px;
              text-align: left;
              font-weight: 700;
              font-size: 0.8rem;
              text-transform: uppercase;
              border-right: 1px solid rgba(255, 255, 255, 0.2);
            }
            th:last-child {
              border-right: none;
            }
            th[style*="text-align: center"] {
              text-align: center;
            }
            tbody tr {
              border-bottom: 1px solid #e5e7eb;
            }
            tbody tr:last-child {
              border-bottom: none;
            }
            td {
              padding: 10px;
              font-size: 0.85rem;
              border-right: 1px solid #e5e7eb;
            }
            td:last-child {
              border-right: none;
            }
            .footer {
              margin-top: 30px;
              text-align: center;
              color: #64748b;
              font-size: 0.8rem;
              padding-top: 20px;
              border-top: 2px solid #e5e7eb;
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>EXAM RESULTS</h1>
            <p>${E==="all"?"All Classes":`Class: ${E}`}</p>
            <p>Academic Year ${new Date().getFullYear()}</p>
          </div>
          
          <table>
            <thead>
              <tr>
                <th style="text-align: center; width: 40px;">Sr.</th>
                <th>Student ID</th>
                <th>Student Name</th>
                <th>Class</th>
                <th style="text-align: center;">Marks</th>
                <th style="text-align: center;">Percentage</th>
                <th style="text-align: center;">Status</th>
              </tr>
            </thead>
            <tbody>
              ${W}
            </tbody>
          </table>
          
          <div class="footer">
            <p>Generated on ${new Date().toLocaleDateString()}</p>
          </div>
          
          <script>
            window.onload = function() {
              window.print();
            };
          <\/script>
        </body>
      </html>
    `;q.document.write(K),q.document.close(),S(!1)},$=[{key:"studentId",header:"Student ID",render:(B,R)=>{const q=R.studentId||R.id||R._id||"N/A";return a.jsx("span",{style:{color:"#2563eb",cursor:"pointer",textDecoration:"underline",fontWeight:600},onClick:()=>N(R),children:q})}},{key:"name",header:"Student Name",render:(B,R)=>a.jsx("strong",{children:R?.name||"N/A"})},{key:"class",header:"Class",render:(B,R)=>R?.class||"N/A"},{key:"totalMarks",header:"Marks",render:(B,R)=>{const{obtained:q,total:W}=w(R);return W===0?a.jsx("span",{style:{color:"#999"},children:"N/A"}):a.jsxs("span",{style:{fontWeight:600,color:"#1e293b"},children:[q," / ",W]})}},{key:"overallPercentage",header:"Percentage",render:(B,R)=>{const q=O(R),W=K=>K>=90?"excellent":K>=80?"warning":K>=70?"average":"poor";return a.jsxs(Se,{variant:W(q),size:"sm",children:[q.toFixed(1),"%"]})}},{key:"overallStatus",header:"Status",render:(B,R)=>{const{status:q,variant:W}=z(R);return a.jsx(Se,{variant:W,size:"sm",children:q})}}];return g?a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading students..."})})}):a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Exam Results"}),a.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"Click on a student ID to view their exam report"})]}),a.jsxs(we,{variant:"primary",onClick:()=>S(!0),style:{marginTop:"0.5rem"},children:[a.jsx(zl,{size:18,style:{marginRight:"0.5rem"}}),"Print Results"]})]}),a.jsx(et,{isOpen:y,onClose:()=>S(!1),title:"Print Exam Results",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Select Class"}),a.jsxs("select",{value:E,onChange:B=>C(B.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",background:"white"},children:[a.jsx("option",{value:"all",children:"All Classes"}),M().map(B=>a.jsx("option",{value:B,children:B},B))]})]}),a.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"secondary",onClick:()=>S(!1),children:"Cancel"}),a.jsxs(we,{variant:"primary",onClick:I,children:[a.jsx(zl,{size:16,style:{marginRight:"0.5rem"}}),"Print"]})]})]})}),t.length>0&&a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[a.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[a.jsx(_f,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),a.jsx("input",{type:"text",placeholder:"Search by name, ID, or class...",value:u,onChange:B=>m(B.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem"}})]}),a.jsx("div",{style:{minWidth:"150px"},children:a.jsxs("select",{value:h,onChange:B=>p(B.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",background:"white"},children:[a.jsx("option",{value:"all",children:"All Classes"}),M().map(B=>a.jsx("option",{value:B,children:B},B))]})}),a.jsxs("div",{style:{color:"#666",fontSize:"0.9rem"},children:["Showing ",r.length," of ",t.length," students"]})]}),t.length>0&&a.jsx("div",{className:"table-container",children:a.jsx(ta,{data:r,columns:$,emptyMessage:"No students found"})}),t.length===0&&!g&&a.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem"},children:[a.jsx(wr,{size:48,style:{marginBottom:"1rem",opacity:.5}}),a.jsx("p",{children:"No students found"})]})]})},yY=()=>{const{id:e}=qn(),t=vt(),[n,r]=v.useState(null),[l,o]=v.useState([]),[d,u]=v.useState(!0);v.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{u(!0);const b=await le.students.getById(e||""),y=b?.data?.student||b?.data||b;if(!y){r(null);return}r(y);const S=y.studentId||y._id||y.id;let E=[];try{const T=await le.exams.getAll();E=T?.data?.exams||T?.data||T||[],Array.isArray(E)||(E=[])}catch(T){console.error("Error fetching all exams:",T)}let C;try{C=await le.examResults.getAll()}catch(T){console.error("Error fetching exam results:",T),C={data:{results:[]}}}const A=C?.data?.results||C?.data||C||[],O=Array.isArray(A)?A:[],w=O.filter(T=>{const M=T.studentId?.studentId||T.studentId?._id||T.studentId||T.studentIdCustom;return String(M)===String(S)||String(M)===String(y._id)||String(M)===String(y.id)});console.log("Filtered student results:",{studentIdForQuery:S,totalResults:O.length,studentResultsCount:w.length,allExamsCount:E.length,firstResult:w[0],firstResultExamId:w[0]?.examId,firstResultExamIdType:typeof w[0]?.examId});const z=await Promise.all(w.map(async T=>{try{let M=null,N=null;if(T.examId?typeof T.examId=="object"&&T.examId!==null?(N=T.examId._id||T.examId.examId||null,T.examId.name&&(M={name:T.examId.name,subject:T.examId.subject,date:T.examId.date,totalMarks:T.examId.totalMarks})):typeof T.examId=="string"&&(N=T.examId):T.examIdCustom&&(N=T.examIdCustom),console.log("Processing result:",{resultExamId:T.examId,examIdForFetch:N,resultKeys:Object.keys(T)}),N){let $=E.find(B=>B.examId===N||B._id===N||String(B._id)===String(N));if($)console.log("Found exam in pre-fetched list:",{examId:$.examId,examName:$.name});else try{console.log("Fetching exam with ID:",N);const B=await le.exams.getById(N);$=B?.data?.exam||B?.data||B,console.log("Fetched exam response:",{hasData:!!$,examName:$?.name,examSubject:$?.subject,examSubjectId:$?.subjectId,examDate:$?.date,examKeys:$?Object.keys($):[]})}catch(B){console.error("Error fetching full exam data:",B,"for examId:",N),$=E.find(R=>R.examId===N)}$?M={...M,...$,name:$.name||M?.name,date:$.date||M?.date,subject:$.subject||M?.subject}:console.warn("No exam data found for examId:",N)}else console.warn("No examId found for result:",{examId:T.examId,examIdCustom:T.examIdCustom,resultId:T._id});let I=null;if(M?.subjectId&&typeof M.subjectId=="object"&&M.subjectId.name)I={name:M.subjectId.name,code:M.subjectId.code||""};else if(M?.subject)I={name:M.subject,code:""};else if(M?.subjectId&&(typeof M.subjectId=="string"||typeof M.subjectId=="object"))try{const $=typeof M.subjectId=="string"?M.subjectId:M.subjectId._id||M.subjectId.toString(),B=await le.subjects.getById($),R=B?.data?.subject||B?.data||B;R&&R.name&&(I={name:R.name,code:R.code||""})}catch($){console.error("Error fetching subject:",$)}return{...T,exam:M||{},subject:I}}catch(M){return console.error("Error processing result:",M,T),T}}));o(z)}catch(b){console.error("Error loading student exam results:",b),r(null),o([])}finally{u(!1)}},h=b=>{const y=b.toUpperCase();return y==="A+"||y==="A"?"excellent":y==="B+"||y==="B"?"warning":y==="C+"?"average":y==="C"||y==="D"||y==="F"?"poor":"secondary"},p=()=>{if(!n||l.length===0){alert("No data available to print");return}const b=window.open("","_blank");if(!b){alert("Please allow popups to print the result card");return}const y=l.reduce((O,w)=>O+(w.marksObtained||0),0),S=l.reduce((O,w)=>{const z=w.exam||{},T=w.totalMarks||z.totalMarks||100;return O+T},0),E=S>0?(y/S*100).toFixed(1):"0.0",C=l.map((O,w)=>{const z=O.exam||{},T=O.subject||z.subjectId||{},M=T?.code||"",N=T?.name||z.subject||"N/A",I=O.marksObtained||0,$=O.totalMarks||z.totalMarks||100,B=O.percentage||0,R=O.grade||"N/A",q=O.status||"N/A";return`
        <tr>
          <td style="text-align: center;">${w+1}</td>
          <td>
            ${M?`<strong style="color: #1e40af;">${M}</strong> - `:""}
            ${N}
          </td>
          <td style="text-align: center;">
            <strong>${I} / ${$}</strong>
          </td>
          <td style="text-align: center;">${B.toFixed(1)}%</td>
          <td style="text-align: center;">
            <span style="
              padding: 4.5px 9px;
              border-radius: 4.5px;
              font-weight: 700;
              font-size: 0.6375rem;
              letter-spacing: 0.225px;
              display: inline-block;
              ${R==="A+"||R==="A"?"background: #d1fae5; color: #065f46; border: 0.75px solid #a7f3d0;":""}
              ${R==="B+"||R==="B"?"background: #fef3c7; color: #92400e; border: 0.75px solid #fde68a;":""}
              ${R==="C+"?"background: #fed7aa; color: #9a3412; border: 0.75px solid #fdba74;":""}
              ${R==="C"||R==="D"||R==="F"?"background: #fee2e2; color: #991b1b; border: 0.75px solid #fecaca;":""}
            ">${R}</span>
          </td>
          <td style="text-align: center;">
            <span style="
              padding: 4.5px 9px;
              border-radius: 4.5px;
              font-weight: 700;
              font-size: 0.6375rem;
              letter-spacing: 0.225px;
              display: inline-block;
              ${q==="Pass"||q==="Passed"?"background: #d1fae5; color: #065f46; border: 0.75px solid #a7f3d0;":"background: #fee2e2; color: #991b1b; border: 0.75px solid #fecaca;"}
            ">${q}</span>
          </td>
        </tr>
      `}).join(""),A=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Result Card - ${n.name}</title>
          <meta charset="UTF-8">
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            
            @media print {
              @page {
                size: A4;
                margin: 0.8cm;
              }
              body {
                margin: 0;
                padding: 0;
              }
              .no-print {
                display: none !important;
              }
            }
            
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              margin: 0;
              padding: 22.5px;
              padding-bottom: 120px;
              color: #1f2937;
              background: #ffffff;
              line-height: 1.5;
              position: relative;
              min-height: 100vh;
            }
            
            .branding {
              text-align: center;
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid #e5e7eb;
            }
            
            .branding h2 {
              margin: 0;
              color: #1e40af;
              font-size: 20px;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            
            .branding p {
              margin: 5px 0 0 0;
              color: #64748b;
              font-size: 11px;
              font-weight: 500;
            }
            
            .header {
              text-align: center;
              margin-bottom: 26px;
              padding-bottom: 19px;
              border-bottom: 3px solid #1e40af;
              position: relative;
            }
            
            .header::after {
              content: '';
              position: absolute;
              bottom: -3px;
              left: 50%;
              transform: translateX(-50%);
              width: 75px;
              height: 3px;
              background: #3b82f6;
            }
            
            .header h1 {
              margin: 0 0 7.5px 0;
              color: #1e40af;
              font-size: 24px;
              font-weight: 700;
              letter-spacing: 0.75px;
              text-transform: uppercase;
            }
            
            .header p {
              margin: 3.75px 0;
              color: #4b5563;
              font-size: 12px;
              font-weight: 500;
            }
            
            .student-info {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 15px;
              margin-bottom: 26px;
              padding: 19px;
              background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
              border: 1.5px solid #e2e8f0;
              border-radius: 9px;
              box-shadow: 0 1.5px 6px rgba(0, 0, 0, 0.08);
            }
            
            .info-item {
              margin-bottom: 0;
            }
            
            .info-label {
              font-weight: 600;
              color: #64748b;
              font-size: 0.64rem;
              text-transform: uppercase;
              letter-spacing: 0.375px;
              margin-bottom: 4.5px;
            }
            
            .info-value {
              font-size: 0.825rem;
              color: #1e293b;
              margin-top: 0;
              font-weight: 500;
            }
            
            .info-value strong {
              color: #1e40af;
              font-weight: 700;
            }
            
            table {
              width: 100%;
              border-collapse: separate;
              border-spacing: 0;
              margin-top: 19px;
              background: white;
              border: 1.5px solid #e2e8f0;
              border-radius: 6px;
              overflow: hidden;
              box-shadow: 0 1.5px 6px rgba(0, 0, 0, 0.06);
            }
            
            thead {
              background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
              color: white;
            }
            
            th {
              padding: 10.5px 9px;
              text-align: left;
              font-weight: 700;
              font-size: 0.675rem;
              text-transform: uppercase;
              letter-spacing: 0.375px;
              border-right: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            th:last-child {
              border-right: none;
            }
            
            th[style*="text-align: center"] {
              text-align: center;
            }
            
            tbody tr {
              border-bottom: 1px solid #e5e7eb;
              transition: background-color 0.2s;
            }
            
            tbody tr:last-child {
              border-bottom: none;
            }
            
            tbody tr:nth-child(even) {
              background-color: #f9fafb;
            }
            
            tbody tr:hover {
              background-color: #f3f4f6;
            }
            
            td {
              padding: 10.5px 9px;
              font-size: 0.7125rem;
              border-right: 1px solid #e5e7eb;
            }
            
            td:last-child {
              border-right: none;
            }
            
            tbody tr:last-child td {
              border-top: 2.25px solid #1e40af;
              background: #eff6ff !important;
              font-size: 0.75rem;
            }
            
            .footer {
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              margin-top: 0;
              display: flex;
              justify-content: space-between;
              padding: 22.5px 22.5px;
              border-top: 2.25px solid #e5e7eb;
              background: white;
            }
            
            .signature {
              text-align: center;
              width: 187.5px;
            }
            
            .signature-line {
              border-top: 1.5px solid #1f2937;
              margin-top: 45px;
              padding-top: 6px;
              font-weight: 600;
              color: #374151;
              font-size: 0.675rem;
            }
            
            /* Badge styles for grade and status */
            span[style*="padding: 4px 8px"] {
              display: inline-block;
              padding: 4.5px 9px !important;
              border-radius: 4.5px !important;
              font-weight: 700 !important;
              font-size: 0.6375rem !important;
              letter-spacing: 0.225px;
            }
          </style>
        </head>
        <body>
          <div class="branding">
            <h2>MySchool</h2>
            <p>Excellence in Education</p>
          </div>
          
          <div class="header">
            <h1>DETAILED MARKS CERTIFICATE (DMC)</h1>
            <p>Academic Year ${new Date().getFullYear()}</p>
          </div>

          <div class="student-info">
            <div class="info-item">
              <div class="info-label">Student ID</div>
              <div class="info-value"><strong>${n.studentId||n.id||"N/A"}</strong></div>
            </div>
            <div class="info-item">
              <div class="info-label">Student Name</div>
              <div class="info-value"><strong>${n.name||"N/A"}</strong></div>
            </div>
            <div class="info-item">
              <div class="info-label">Class</div>
              <div class="info-value">${n.class||"N/A"}</div>
            </div>
            ${n.section?`
            <div class="info-item">
              <div class="info-label">Section</div>
              <div class="info-value">${n.section}</div>
            </div>
            `:""}
            <div class="info-item">
              <div class="info-label">Exam Name</div>
              <div class="info-value">
                ${(()=>{const O=l.map(w=>w.exam?.name).filter(Boolean).filter((w,z,T)=>T.indexOf(w)===z);return O.length>0?O.join(", "):"N/A"})()}
              </div>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="text-align: center; width: 50px;">Sr.</th>
                <th>Subject</th>
                <th style="text-align: center;">Marks</th>
                <th style="text-align: center;">Percentage</th>
                <th style="text-align: center;">Grade</th>
                <th style="text-align: center;">Status</th>
              </tr>
            </thead>
            <tbody>
              ${C}
              <tr>
                <td colspan="2" style="text-align: right; font-weight: 700; color: #1e40af;">
                  <strong>Total Marks:</strong>
                </td>
                <td style="text-align: center; font-weight: 700; color: #1e40af; font-size: 0.7875rem;">
                  <strong>${y} / ${S}</strong>
                </td>
                <td style="text-align: center; font-weight: 700; color: #1e40af; font-size: 0.7875rem;">
                  <strong>${E}%</strong>
                </td>
                <td colspan="2"></td>
              </tr>
            </tbody>
          </table>

          <div class="footer">
            <div class="signature">
              <div class="signature-line">Student Signature</div>
            </div>
            <div class="signature">
              <div class="signature-line">Authorized Signature</div>
            </div>
          </div>

          <script>
            window.onload = function() {
              window.print();
            };
          <\/script>
        </body>
      </html>
    `;b.document.write(A),b.document.close()};if(d)return a.jsx("div",{className:"page-container",children:a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading exam results..."})})});if(!n)return a.jsx("div",{className:"page-container",children:a.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[a.jsx("p",{children:"Student not found"}),a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/exams/results"),title:"Back to Exam Results"})]})});const g=[{key:"subject",header:"Subject",render:(b,y)=>{const S=y.subject||y.exam?.subjectId||{},E=S?.code||"",C=S?.name||y.exam?.subject||"N/A";return C==="N/A"&&console.log("Subject data for row:",{rowSubject:y.subject,examSubjectId:y.exam?.subjectId,examSubject:y.exam?.subject,fullRow:y}),a.jsxs("div",{children:[E&&a.jsxs("strong",{children:[E," - "]}),C]})}},{key:"marks",header:"Marks",render:(b,y)=>{const S=y.marksObtained||0,E=y.totalMarks||y.exam?.totalMarks||100;return a.jsxs("div",{style:{fontWeight:600},children:[S," / ",E]})}},{key:"percentage",header:"Percentage",render:(b,y)=>`${(y.percentage||0).toFixed(1)}%`},{key:"grade",header:"Grade",render:(b,y)=>{const S=y.grade||"N/A";return a.jsx(Se,{variant:h(S),size:"sm",children:S})}},{key:"status",header:"Status",render:(b,y)=>{const S=y.status||"N/A";return a.jsx(Se,{variant:S==="Pass"||S==="Passed"?"success":"danger",size:"sm",children:S})}}];return a.jsxs("div",{className:"page-container",style:{paddingTop:"0.5rem"},children:[a.jsx("div",{style:{marginBottom:"0.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>t("/dashboard/admin/exams/results"),title:"Back to Exam Results"})}),a.jsx(ke,{variant:"custom",style:{marginBottom:"2rem",padding:"1.5rem"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("h1",{style:{margin:0,fontSize:"1.75rem",color:"#333",marginBottom:"0.5rem"},children:n.name}),a.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexWrap:"wrap",fontSize:"0.9rem",color:"#666",marginBottom:"0.75rem"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Student ID:"})," ",n.studentId||n.id||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Class:"})," ",n.class||"N/A"]}),n.section&&a.jsxs("div",{children:[a.jsx("strong",{children:"Section:"})," ",n.section]})]}),l.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.5rem"},children:[a.jsx("strong",{children:"Exam Name:"})," ",a.jsx("span",{style:{color:"#333"},children:(()=>{const b=l.map(y=>y.exam?.name).filter(Boolean).filter((y,S,E)=>E.indexOf(y)===S);return b.length>0?b.join(", "):"N/A"})()})]}),a.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.5rem"},children:[a.jsx("strong",{children:"Total Marks:"})," ",a.jsx("span",{style:{color:"#333",fontWeight:600},children:(()=>{const b=l.reduce((S,E)=>S+(E.marksObtained||0),0),y=l.reduce((S,E)=>S+(E.totalMarks||E.exam?.totalMarks||100),0);return`${b} / ${y}`})()})]}),a.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[a.jsx("strong",{children:"Overall Percentage:"})," ",a.jsx("span",{style:{color:"#333",fontWeight:600},children:(()=>{const b=l.reduce((E,C)=>E+(C.marksObtained||0),0),y=l.reduce((E,C)=>E+(C.totalMarks||C.exam?.totalMarks||100),0);return`${(y>0?b/y*100:0).toFixed(1)}%`})()})]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[a.jsxs(Se,{variant:"info",size:"lg",children:[l.length," ",l.length===1?"Exam":"Exams"]}),l.length>0&&a.jsxs(we,{variant:"primary",size:"md",onClick:p,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(zl,{size:18}),"Print Result Card"]})]})]})}),a.jsxs("div",{style:{marginBottom:"2rem"},children:[a.jsxs("h2",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",color:"#333",display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ar,{size:20}),"Exam Results (",l.length,")"]}),l.length>0?a.jsx("div",{className:"table-container",children:a.jsx(ta,{data:l,columns:g,emptyMessage:"No exam results available"})}):a.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#999"},children:[a.jsx(Ar,{size:48,style:{marginBottom:"1rem",opacity:.5}}),a.jsx("p",{children:"No exam results available for this student"})]})]})]})},vY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[l,o]=v.useState([]),[d,u]=v.useState(""),[m,h]=v.useState("all"),[p,g]=v.useState("all"),[b,y]=v.useState(!1),[S,E]=v.useState(null),[C,A]=v.useState({});v.useEffect(()=>{O(),w()},[]),v.useEffect(()=>{e.length>0&&n.length>0&&T()},[e,n]),v.useEffect(()=>{M()},[n,d,m,p,C]);const O=async()=>{try{const K=await le.exams.getAll();K.data?.exams&&t(K.data.exams)}catch(K){console.error("Error loading exams:",K)}},w=async()=>{try{const H=(await le.students.getAll()).data?.students||[];r(H),o(H)}catch(K){console.error("Error loading students:",K)}},z=K=>{if(!K)return"";let H=K.replace(/Grade\s*/gi,"").trim();H=H.replace(/Section\s*/gi,"").trim();const D=H.match(/(\d+)\s*([A-Z])?/i);if(D){const k=D[1],_=D[2]?D[2].toUpperCase():"";return`${k}${_}`}return H.toUpperCase()},T=()=>{const K={};n.forEach(H=>{const D=String(H.id||H._id),k=H.class||"",_=z(k),F=e.filter(Y=>{const U=Y.classes||[];return U.length===0?!1:U.some(L=>{const te=z(L);if(_===te)return!0;if(/^\d+$/.test(te)){const V=_.match(/^(\d+)/);return V&&V[1]===te}if(/^\d+$/.test(_)){const V=te.match(/^(\d+)/);return V&&V[1]===_}return!1})});F.length>0&&(K[D]=F)}),A(K)},M=()=>{let K=[...n];if(m!=="all"&&(K=K.filter(H=>H.class===m)),p!=="all"&&(K=K.filter(H=>(H.class||"").toLowerCase().includes(p.toLowerCase()))),d){const H=d.toLowerCase();K=K.filter(D=>D.name?.toLowerCase().includes(H)||(D.studentId||D.id)?.toString().toLowerCase().includes(H)||D.class?.toLowerCase().includes(H))}K=K.filter(H=>{const D=String(H.id||H._id);return C[D]&&C[D].length>0}),o(K)},N=()=>{const K=n.map(H=>H.class).filter(Boolean);return Array.from(new Set(K)).sort()},I=K=>{E(K),y(!0)},$=K=>{const H=window.open("","_blank");H&&(H.document.write(q(K)),H.document.close(),H.print())},B=()=>{l.forEach((K,H)=>{setTimeout(()=>{$(K)},H*500)})},R=()=>{alert("Download all admit cards feature - to be implemented with PDF library")},q=K=>{const H=String(K.id||K._id),D=C[H]||[],k=Array.from(new Set(D.map(U=>U.name).filter(U=>!!U))),_=k.length>0?k.join(", "):"All Examinations",F=(U,L)=>{if(!L)return"N/A";try{let te=0,V=0;const X=U.match(/(\d+):(\d+)/);X&&(te=parseInt(X[1]),V=parseInt(X[2]));let Q=0,ae=0;const pe=L.match(/(\d+)\s*h/i),ee=L.match(/(\d+)\s*m/i);pe&&(Q=parseInt(pe[1])),ee&&(ae=parseInt(ee[1]));let xe=te+Q,ge=V+ae;return ge>=60&&(xe+=Math.floor(ge/60),ge=ge%60),xe>=24&&(xe=xe%24),`${String(xe).padStart(2,"0")}:${String(ge).padStart(2,"0")}`}catch{return"N/A"}},Y=D.map((U,L)=>{const te=U.date?new Date(U.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",V=U.startTime||U.time||"N/A",X=F(V,U.duration||""),Q=U.subjectId?.code||"",ae=U.subject||"N/A",pe=U.venue||U.room||U.venueName||"N/A";return`
        <tr style="border-bottom: 1px solid #e0e0e0; background: ${L%2===0?"#ffffff":"#f9fafb"};">
          <td style="padding: 10px; text-align: center; border-right: 1px solid #e0e0e0;">${L+1}</td>
          <td style="padding: 10px; border-right: 1px solid #e0e0e0;">
            ${Q?`<strong>${Q}</strong> - `:""}
            ${ae}
          </td>
          <td style="padding: 10px; border-right: 1px solid #e0e0e0;">${te}</td>
          <td style="padding: 10px; border-right: 1px solid #e0e0e0;">${V}</td>
          <td style="padding: 10px; border-right: 1px solid #e0e0e0;">${X}</td>
          <td style="padding: 10px;">${pe}</td>
        </tr>
      `}).join("");return`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Admit Card</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body {
              font-family: Arial, sans-serif;
              padding: 20px;
              background: #f5f5f5;
            }
            .admit-card {
              background: white;
              border: 2px solid #2563eb;
              border-radius: 8px;
              padding: 30px;
              max-width: 800px;
              margin: 0 auto;
              box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            }
            .header {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              border-bottom: 2px solid #2563eb;
              padding-bottom: 20px;
              margin-bottom: 20px;
            }
            .header-content {
              flex: 1;
              text-align: center;
            }
            .header h1 {
              color: #2563eb;
              font-size: 24px;
              margin-bottom: 5px;
            }
            .header p {
              color: #666;
              font-size: 14px;
            }
            .photo-section {
              width: 120px;
              height: 150px;
              border: 1px dashed #ccc;
              padding: 10px;
              background: #f5f5f5;
              display: flex;
              align-items: center;
              justify-content: center;
              flex-shrink: 0;
            }
            .student-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 15px;
              margin-bottom: 20px;
              padding: 15px;
              background: #f9fafb;
              border-radius: 6px;
            }
            .info-field {
              margin-bottom: 8px;
            }
            .info-label {
              font-weight: bold;
              color: #333;
              font-size: 12px;
              margin-bottom: 3px;
            }
            .info-value {
              color: #666;
              font-size: 14px;
            }
            .exams-table {
              width: 100%;
              border-collapse: collapse;
              margin: 20px 0;
              border: 1px solid #d1d5db;
            }
            .exams-table th {
              background: #2563eb;
              color: white;
              padding: 12px;
              text-align: left;
              font-size: 12px;
              font-weight: bold;
              border: 1px solid #1e40af;
              border-bottom: 2px solid #1e40af;
            }
            .exams-table td {
              padding: 10px;
              font-size: 13px;
              border-right: 1px solid #e0e0e0;
              border-bottom: 1px solid #e0e0e0;
            }
            .exams-table tr:nth-child(even) {
              background: #f9fafb;
            }
            .exams-table tr:nth-child(odd) {
              background: #ffffff;
            }
            .exams-table tr:hover {
              background: #f3f4f6;
            }
            .instructions {
              border-top: 1px solid #e5e5e5;
              padding-top: 20px;
              margin-top: 20px;
            }
            .instructions h3 {
              color: #2563eb;
              font-size: 16px;
              margin-bottom: 10px;
            }
            .instructions ul {
              list-style: none;
              padding-left: 0;
            }
            .instructions li {
              padding: 5px 0;
              color: #666;
              font-size: 13px;
            }
            .signature {
              margin-top: 30px;
              display: flex;
              justify-content: space-between;
            }
            .signature div {
              text-align: center;
              border-top: 1px solid #ccc;
              padding-top: 10px;
              width: 45%;
            }
            @media print {
              body { background: white; padding: 0; }
              .admit-card { border: 2px solid #000; box-shadow: none; page-break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <div class="admit-card">
            <div class="header">
              <div style="flex: 0 0 auto;">
                <div class="brand-name">MySchool</div>
              </div>
              <div class="header-content">
                <h1>EXAM ADMIT CARD</h1>
                <p>Academic Year ${new Date().getFullYear()}</p>
                <p style="margin-top: 5px; font-size: 13px; font-weight: 600; color: #333;">${_}</p>
              </div>
              <div class="photo-section">
                <div style="width: 100%; height: 100%; border: 1px solid #ccc; background: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #999; font-size: 12px;">
                  Photo
                </div>
              </div>
            </div>
            <div class="student-info">
              <div class="info-field">
                <div class="info-label">Student ID</div>
                <div class="info-value">${K.studentId||K.id||"N/A"}</div>
              </div>
              <div class="info-field">
                <div class="info-label">Student Name</div>
                <div class="info-value"><strong>${K.name||"N/A"}</strong></div>
              </div>
              <div class="info-field">
                <div class="info-label">Class</div>
                <div class="info-value">${K.class||"N/A"}</div>
              </div>
              <div class="info-field">
                <div class="info-label">Section</div>
                <div class="info-value">${K.section||"N/A"}</div>
              </div>
            </div>
            <h3 style="color: #2563eb; margin: 20px 0 10px 0; font-size: 16px;">Examination Schedule</h3>
            <table class="exams-table">
              <thead>
                <tr>
                  <th style="text-align: center; width: 40px; border-right: 1px solid #1e40af;">Sr.</th>
                  <th style="border-right: 1px solid #1e40af;">Subject</th>
                  <th style="border-right: 1px solid #1e40af;">Date</th>
                  <th style="border-right: 1px solid #1e40af;">Start Time</th>
                  <th style="border-right: 1px solid #1e40af;">End Time</th>
                  <th>Venue</th>
                </tr>
              </thead>
              <tbody>
                ${Y||'<tr><td colspan="6" style="text-align: center; padding: 20px; color: #999; border-right: 1px solid #e0e0e0;">No exams scheduled</td></tr>'}
              </tbody>
            </table>
            <div class="instructions">
              <h3>Instructions:</h3>
              <ul>
                <li> Bring this admit card to the examination hall</li>
                <li> Arrive 15 minutes before the exam time</li>
                <li> Bring required stationery items</li>
                <li> Mobile phones and electronic devices are not allowed</li>
                <li> Follow all examination rules and regulations</li>
                <li> Keep this card safe and bring it for all examinations</li>
              </ul>
            </div>
            <div class="signature">
              <div>
                <div style="font-weight: bold;">Student Signature</div>
              </div>
              <div>
                <div style="font-weight: bold;">Authorized Signature</div>
              </div>
            </div>
          </div>
        </body>
      </html>
    `},W=[{key:"studentId",header:"Student ID",render:(K,H)=>H&&(H.studentId||H.id||H._id)||"N/A"},{key:"name",header:"Student Name",render:(K,H)=>H?a.jsx("strong",{children:H.name||"N/A"}):a.jsx("strong",{children:"N/A"})},{key:"class",header:"Class",render:(K,H)=>H?.class||"N/A"},{key:"section",header:"Section",render:(K,H)=>H?.section||"N/A"},{key:"examsCount",header:"Exams",render:(K,H)=>{if(!H)return a.jsx(Se,{variant:"info",size:"sm",children:"0 Exams"});const D=String(H.id||H._id||""),k=C[D]||[];return a.jsxs(Se,{variant:"info",size:"sm",children:[k.length," ",k.length===1?"Exam":"Exams"]})}},{key:"actions",header:"Actions",render:(K,H)=>H?a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs(we,{variant:"primary",size:"sm",onClick:()=>I(H),children:[a.jsx(lt,{size:16}),"Preview"]}),a.jsxs(we,{variant:"secondary",size:"sm",onClick:()=>$(H),children:[a.jsx(zl,{size:16}),"Print"]})]}):null}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Generate Admit Cards"}),a.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"Generate admit cards showing all exams for each student"})]}),l.length>0&&a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs(we,{variant:"primary",onClick:B,children:[a.jsx(zl,{size:18}),"Print All"]}),a.jsxs(we,{variant:"secondary",onClick:R,children:[a.jsx(Oy,{size:18}),"Download All"]})]})]}),n.length>0&&a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[a.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[a.jsx(_f,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),a.jsx("input",{type:"text",placeholder:"Search by name, ID, or class...",value:d,onChange:K=>u(K.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem"}})]}),a.jsx("div",{style:{minWidth:"150px"},children:a.jsxs("select",{value:m,onChange:K=>h(K.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",background:"white"},children:[a.jsx("option",{value:"all",children:"All Classes"}),N().map(K=>a.jsx("option",{value:K,children:K},K))]})}),a.jsx("div",{style:{minWidth:"120px"},children:a.jsxs("select",{value:p,onChange:K=>g(K.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",background:"white"},children:[a.jsx("option",{value:"all",children:"All Grades"}),Array.from(new Set(n.map(K=>{const D=(K.class||"").match(/grade\s*(\d+)/i);return D?`Grade ${D[1]}`:null}).filter(Boolean))).sort().map(K=>a.jsx("option",{value:K||"",children:K},K||""))]})}),a.jsxs("div",{style:{color:"#666",fontSize:"0.9rem"},children:["Showing ",l.length," of ",n.filter(K=>{const H=String(K.id||K._id);return C[H]&&C[H].length>0}).length," students with exams"]})]}),n.length>0&&a.jsx("div",{className:"table-container",children:a.jsx(ta,{data:l,columns:W,emptyMessage:"No students found with exams"})}),a.jsx(et,{isOpen:b,onClose:()=>y(!1),title:"Admit Card Preview",size:"lg",children:S&&a.jsxs("div",{children:[a.jsxs("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"20px",background:"white",marginBottom:"1rem",maxHeight:"70vh",overflowY:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",borderBottom:"2px solid #2563eb",paddingBottom:"15px",marginBottom:"20px"},children:[a.jsx("div",{style:{flex:0,flexShrink:0},children:a.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#2563eb",marginBottom:"5px"},children:"MySchool"})}),a.jsxs("div",{style:{flex:1,textAlign:"center"},children:[a.jsx("h2",{style:{color:"#2563eb",margin:0},children:"EXAM ADMIT CARD"}),a.jsxs("p",{style:{color:"#666",margin:"5px 0 0 0"},children:["Academic Year ",new Date().getFullYear()]}),(()=>{const K=String(S.id||S._id),H=C[K]||[],D=Array.from(new Set(H.map(_=>_.name).filter(_=>!!_))),k=D.length>0?D.join(", "):"All Examinations";return a.jsx("p",{style:{marginTop:"5px",fontSize:"13px",fontWeight:600,color:"#333"},children:k})})()]}),a.jsx("div",{style:{width:"120px",height:"150px",border:"1px dashed #ccc",padding:"10px",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a.jsx("div",{style:{width:"100%",height:"100%",border:"1px solid #ccc",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"12px"},children:"Photo"})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px",padding:"15px",background:"#f9fafb",borderRadius:"6px"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Student ID:"})," ",S.studentId||S.id||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Student Name:"})," ",S.name||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Class:"})," ",S.class||"N/A"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Section:"})," ",S.section||"N/A"]})]}),a.jsx("h3",{style:{color:"#2563eb",margin:"20px 0 10px 0",fontSize:"16px"},children:"Examination Schedule"}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",border:"1px solid #d1d5db"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#2563eb",color:"white"},children:[a.jsx("th",{style:{padding:"10px",textAlign:"center",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"Sr."}),a.jsx("th",{style:{padding:"10px",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"Subject"}),a.jsx("th",{style:{padding:"10px",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"Date"}),a.jsx("th",{style:{padding:"10px",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"Start Time"}),a.jsx("th",{style:{padding:"10px",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"End Time"}),a.jsx("th",{style:{padding:"10px",fontSize:"12px",border:"1px solid #1e40af",borderBottom:"2px solid #1e40af"},children:"Venue"})]})}),a.jsx("tbody",{children:(()=>{const K=String(S.id||S._id),H=C[K]||[],D=(k,_)=>{if(!_)return"N/A";try{const F=k.match(/(\d+):(\d+)/);if(!F)return"N/A";let Y=parseInt(F[1]),U=parseInt(F[2]);const L=_.match(/(\d+)\s*h/i),te=_.match(/(\d+)\s*m/i);let V=L?parseInt(L[1]):0,X=te?parseInt(te[1]):0,Q=Y+V,ae=U+X;return ae>=60&&(Q+=Math.floor(ae/60),ae=ae%60),Q>=24&&(Q=Q%24),`${String(Q).padStart(2,"0")}:${String(ae).padStart(2,"0")}`}catch{return"N/A"}};return H.length>0?H.map((k,_)=>{const F=k.date?new Date(k.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",Y=k.subjectId?.code||"",U=k.subject||"N/A",L=k.startTime||k.time||"N/A",te=D(L,k.duration||""),V=k.venue||k.room||k.venueName||"N/A";return a.jsxs("tr",{style:{borderBottom:"1px solid #e0e0e0",background:_%2===0?"#ffffff":"#f9fafb"},children:[a.jsx("td",{style:{padding:"10px",textAlign:"center",borderRight:"1px solid #e0e0e0"},children:_+1}),a.jsxs("td",{style:{padding:"10px",borderRight:"1px solid #e0e0e0"},children:[Y?a.jsx("strong",{children:Y}):"",Y?" - ":"",U]}),a.jsx("td",{style:{padding:"10px",borderRight:"1px solid #e0e0e0"},children:F}),a.jsx("td",{style:{padding:"10px",borderRight:"1px solid #e0e0e0"},children:L}),a.jsx("td",{style:{padding:"10px",borderRight:"1px solid #e0e0e0"},children:te}),a.jsx("td",{style:{padding:"10px"},children:V})]},k._id||k.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"20px",color:"#999",borderRight:"1px solid #e0e0e0"},children:"No exams scheduled"})})})()})]}),a.jsxs("div",{style:{borderTop:"1px solid #e5e5e5",paddingTop:"15px"},children:[a.jsx("h3",{style:{color:"#2563eb",fontSize:"14px",marginBottom:"10px"},children:"Instructions:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Bring this admit card to the examination hall"}),a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Arrive 15 minutes before the exam time"}),a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Bring required stationery items"}),a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Mobile phones and electronic devices are not allowed"}),a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Follow all examination rules and regulations"}),a.jsx("li",{style:{padding:"3px 0",fontSize:"12px",color:"#666"},children:" Keep this card safe and bring it for all examinations"})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"secondary",onClick:()=>y(!1),children:"Close"}),a.jsxs(we,{variant:"primary",onClick:()=>$(S),children:[a.jsx(zl,{size:18}),"Print"]})]})]})}),n.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#999",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"0.75rem"},children:[a.jsx(lt,{size:48,style:{marginBottom:"1rem",opacity:.5}}),a.jsx("p",{children:"Loading students and exams..."})]})]})},xY="scholyman_transactions",cE=()=>{try{const e=localStorage.getItem(xY);if(e)return JSON.parse(e)}catch(e){console.error("Error reading transactions from storage:",e)}return[]},dE=()=>{const[e,t]=v.useState([]);v.useEffect(()=>{const m=cE();t(m);const h=()=>{t(cE())};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}},[]);const n=m=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(m)}`,r=e.filter(m=>m.type==="Income"&&m.status==="Completed").reduce((m,h)=>m+Math.abs(h.amount),0),l=e.filter(m=>{const h=new Date(m.date),p=new Date;return m.type==="Income"&&m.status==="Completed"&&h.getMonth()===p.getMonth()&&h.getFullYear()===p.getFullYear()}).reduce((m,h)=>m+Math.abs(h.amount),0),o=e.filter(m=>m.status==="Pending").reduce((m,h)=>m+Math.abs(h.amount),0),d=e.filter(m=>m.type==="Expense"&&m.status==="Completed").reduce((m,h)=>m+Math.abs(h.amount),0),u=e.sort((m,h)=>{const p=new Date(`${m.date} ${m.time}`);return new Date(`${h.date} ${h.time}`).getTime()-p.getTime()}).slice(0,5);return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Accounts Overview"})}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:24}),value:n(r),label:"Total Revenue",color:"#27ae60"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:24}),value:n(l),label:"Monthly Income",color:"#3498db"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:24}),value:n(o),label:"Pending Payments",color:"#f39c12"}),a.jsx(ke,{variant:"stat",icon:a.jsx(_v,{size:24}),value:n(d),label:"Total Expenses",color:"#e74c3c"})]}),a.jsx("div",{className:"section-title",children:"Recent Transactions"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Student/Description"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:u.length>0?u.map(m=>a.jsxs("tr",{children:[a.jsxs("td",{children:["#",m.id]}),a.jsx("td",{children:a.jsx(Se,{variant:m.type==="Income"?"success":"danger",size:"sm",children:m.type})}),a.jsxs("td",{className:m.type==="Expense"?"amount-expense":"amount-income",children:[m.type==="Income"?"+":"",n(Math.abs(m.amount))]}),a.jsxs("td",{children:[a.jsx("div",{children:m.description}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:m.category})]}),a.jsxs("td",{children:[a.jsx("div",{children:m.date}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:m.time})]}),a.jsx("td",{children:a.jsx(Se,{variant:m.status.toLowerCase()==="completed"?"success":m.status.toLowerCase()==="pending"?"pending":"danger",size:"sm",children:m.status})})]},m.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No transactions found. Transactions will appear here as you add expenses, collect fees, or process payroll."})})})]})})]})},bY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1),[l,o]=v.useState(null),[d,u]=v.useState({grade:"",tuitionFee:"",admissionFee:""}),[m,h]=v.useState({});v.useEffect(()=>{p();const z=setInterval(()=>{p()},3e4);return()=>{clearInterval(z)}},[]);const p=async()=>{try{const z=await le.fees.gradeFees.getAll();if(z.data?.fees){const T=z.data.fees;t(T.sort((M,N)=>{const I=parseInt(M.grade.replace("Grade","").trim())||0,$=parseInt(N.grade.replace("Grade","").trim())||0;return I-$}))}else t([])}catch(z){console.error("Error loading fees:",z),t([])}},g=z=>{z?(o(z),u({grade:z.grade,tuitionFee:z.tuitionFee.toString(),admissionFee:z.admissionFee.toString()})):(o(null),u({grade:"",tuitionFee:"",admissionFee:""})),h({}),r(!0)},b=()=>{r(!1),o(null),u({grade:"",tuitionFee:"",admissionFee:""}),h({})},y=()=>{const z={};if(d.grade.trim()||(z.grade="Grade is required"),!d.tuitionFee.trim())z.tuitionFee="Tuition fee is required";else{const T=parseFloat(d.tuitionFee);(isNaN(T)||T<0)&&(z.tuitionFee="Tuition fee must be a valid positive number")}if(!d.admissionFee.trim())z.admissionFee="Admission fee is required";else{const T=parseFloat(d.admissionFee);(isNaN(T)||T<0)&&(z.admissionFee="Admission fee must be a valid positive number")}return l||e.find(M=>M.grade===d.grade)&&(z.grade="Fee for this grade already exists. Please edit the existing one."),h(z),Object.keys(z).length===0},S=async()=>{if(!y())return;const z={grade:d.grade.trim(),tuitionFee:parseFloat(d.tuitionFee),admissionFee:parseFloat(d.admissionFee)};try{if(l){const T=l._id||l.id;await le.fees.gradeFees.update(T,z),alert(`Fee for ${z.grade} updated successfully!`)}else await le.fees.gradeFees.create(z),alert(`Fee for ${z.grade} created successfully!`);b(),await p()}catch(T){console.error("Error saving fee:",T),console.error("Error details:",{message:T?.message,error:T?.error,status:T?.status,stack:T?.stack});let M="Unknown error occurred";T?.message?M=T.message:T?.error?M=typeof T.error=="string"?T.error:JSON.stringify(T.error):T?.response?.data?.error?M=T.response.data.error:T?.response?.data?.message&&(M=T.response.data.message),alert(`Failed to save fee:

${M}

Please check the browser console for more details.`)}},E=async z=>{if(confirm(`Are you sure you want to delete the fee structure for ${z.grade}?`))try{const T=z._id||z.id;await le.fees.gradeFees.delete(T),alert(`Fee for ${z.grade} deleted successfully!`),await p()}catch(T){console.error("Error deleting fee:",T);const M=T?.message||T?.error||"Unknown error";alert(`Failed to delete fee: ${M}`)}},C=z=>{if(!z)return"";const M=z.trim().match(/Grade\s+(\d+)/i);return M?`Grade ${M[1]}`:""},[A,O]=v.useState([]);v.useEffect(()=>{(async()=>{try{const T=await le.classes.getAll();if(T.data?.classes){const M=T.data.classes,N=new Set;M.forEach(B=>{if(B.status==="Active"&&B.name){const R=C(B.name);R&&N.add(R)}});const $=Array.from(N).sort((B,R)=>{const q=parseInt(B.replace("Grade","").trim())||0,W=parseInt(R.replace("Grade","").trim())||0;return q-W}).map(B=>({value:B,label:B}));O($)}else O([])}catch(T){console.error("Error loading grades from classes:",T),O([])}})()},[]);const w=[{key:"grade",header:"Grade"},{key:"tuitionFee",header:"Tuition Fee",render:z=>`Rs ${z.toLocaleString()}`},{key:"admissionFee",header:"Admission Fee",render:z=>`Rs ${z.toLocaleString()}`},{key:"actions",header:"Actions",render:(z,T)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>g(T),children:[a.jsx(Uu,{size:14}),"Edit"]}),a.jsxs(we,{variant:"outline",size:"sm",onClick:()=>E(T),style:{color:"#e53e3e",borderColor:"#e53e3e"},children:[a.jsx(Fu,{size:14}),"Delete"]})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",style:{marginBottom:"1.5rem"},children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Fee Management"}),a.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"Manage tuition fees and admission fees for different grades"})]}),a.jsxs(we,{variant:"primary",onClick:()=>g(),children:[a.jsx(ia,{size:18}),"Add Fee Structure"]})]}),e.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsx(qt,{size:48,style:{color:"#999",marginBottom:"1rem"}}),a.jsx("p",{style:{color:"#666",fontSize:"1rem"},children:"No fee structures configured yet."}),a.jsx("p",{style:{color:"#999",fontSize:"0.9rem",marginTop:"0.5rem"},children:'Click "Add Fee Structure" to create fees for different grades.'})]}):a.jsx(ta,{columns:w,data:e,emptyMessage:"No fee structures found"}),a.jsx(et,{isOpen:n,onClose:b,title:l?`Edit Fee Structure: ${l.grade}`:"Add Fee Structure",size:"md",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Grade ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsxs("select",{value:d.grade,onChange:z=>u({...d,grade:z.target.value}),disabled:!!l,style:{width:"100%",padding:"0.625rem",border:`1px solid ${m.grade?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem",backgroundColor:l?"#f5f5f5":"white",cursor:l?"not-allowed":"pointer"},children:[a.jsx("option",{value:"",children:"Select Grade"}),A.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))]}),m.grade&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:m.grade})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Tuition Fee (Rs) ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"number",value:d.tuitionFee,onChange:z=>u({...d,tuitionFee:z.target.value}),placeholder:"e.g., 200, 300, 500",min:"0",step:"0.01",style:{width:"100%",padding:"0.625rem",border:`1px solid ${m.tuitionFee?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem"}}),m.tuitionFee&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:m.tuitionFee})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500,fontSize:"0.9rem"},children:["Admission Fee (Rs) ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("input",{type:"number",value:d.admissionFee,onChange:z=>u({...d,admissionFee:z.target.value}),placeholder:"e.g., 500, 1000, 2000",min:"0",step:"0.01",style:{width:"100%",padding:"0.625rem",border:`1px solid ${m.admissionFee?"#e53e3e":"#ddd"}`,borderRadius:"0.375rem",fontSize:"0.9rem"}}),m.admissionFee&&a.jsx("div",{style:{color:"#e53e3e",fontSize:"0.75rem",marginTop:"0.25rem"},children:m.admissionFee})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",marginTop:"2rem"},children:[a.jsxs(we,{variant:"outline",size:"md",onClick:b,children:[a.jsx(ya,{size:18}),"Cancel"]}),a.jsxs(we,{variant:"primary",size:"md",onClick:S,children:[a.jsx(Zt,{size:18}),l?"Update":"Create"," Fee Structure"]})]})]})})]})},Ds=async(e,t)=>{try{const n={...e,createdBy:t||"admin"},r=await le.transactions.create(n);return r?.data?.transaction||r?.data||r}catch(n){return console.warn("Transaction creation failed (optional feature):",n?.message||n),null}},uE=()=>{qn();const[e,t]=v.useState([]),[n,r]=v.useState(null),[l,o]=v.useState(!1);v.useEffect(()=>{const m=async()=>{try{const p=await le.transactions.getAll();p?.data?.transactions&&Array.isArray(p.data.transactions)?t(p.data.transactions):Array.isArray(p)?t(p):(console.error("api.transactions.getAll did not return an array:",p),t([]))}catch(p){console.error("Error loading transactions:",p),t([])}};m();const h=setInterval(()=>{m()},3e4);return()=>{clearInterval(h)}},[]);const d=m=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(m)}`,u=v.useMemo(()=>{const m=e.filter(y=>y.type==="Income"&&y.status==="Completed").reduce((y,S)=>y+Math.abs(S.amount),0),h=e.filter(y=>y.type==="Expense"&&y.status==="Completed").reduce((y,S)=>y+Math.abs(S.amount),0),p=new Date,g=e.filter(y=>{const S=new Date(y.date);return y.type==="Income"&&y.status==="Completed"&&S.getMonth()===p.getMonth()&&S.getFullYear()===p.getFullYear()}).reduce((y,S)=>y+Math.abs(S.amount),0),b=e.filter(y=>y.status==="Pending").reduce((y,S)=>y+Math.abs(S.amount),0);return{totalIncome:m,totalExpenses:h,thisMonthIncome:g,pendingAmount:b}},[e]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Transactions"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(ky,{size:18}),"Filter Transactions"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Kp,{size:24}),value:d(u.totalIncome),label:"Total Income",color:"#22c55e"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Hp,{size:24}),value:d(u.totalExpenses),label:"Total Expenses",color:"#ef4444"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Kp,{size:24}),value:d(u.thisMonthIncome),label:"This Month",color:"#667eea"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Hp,{size:24}),value:d(u.pendingAmount),label:"Pending",color:"#f59e0b"})]}),a.jsx("div",{className:"section-title",children:"All Transactions"}),a.jsx(ta,{columns:[{key:"transactionId",header:"Transaction ID",render:(m,h)=>a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,color:"#667eea"},children:h.transactionId||h.id||h._id||"N/A"}),h.expenseId&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Expense: ",typeof h.expenseId=="object"&&h.expenseId?.expenseId?`#${h.expenseId.expenseId}`:`#${h.expenseId}`]}),h.feeId&&a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:typeof h.feeId=="object"&&h.feeId?.studentId?.studentId?`Student: ${h.feeId.studentId.studentId}`:typeof h.feeId=="object"&&h.feeId?.receiptNumber?`Receipt: ${h.feeId.receiptNumber}`:typeof h.feeId=="object"&&h.feeId?._id?`Fee: ${h.feeId._id}`:`Fee: ${h.feeId}`}),h.payrollId&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Payroll: ",typeof h.payrollId=="object"&&h.payrollId?.payrollId?`#${h.payrollId.payrollId}`:typeof h.payrollId=="object"&&h.payrollId?.employeeId?.teacherId?`Teacher: ${h.payrollId.employeeId.teacherId}`:`#${h.payrollId}`]})]})},{key:"date",header:"Date & Time",render:(m,h)=>a.jsxs("div",{children:[a.jsx("div",{children:h.date}),a.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:h.time})]})},{key:"type",header:"Type",render:(m,h)=>a.jsxs(Se,{variant:h.type==="Income"?"success":"danger",size:"sm",children:[h.type==="Income"?a.jsx(Kp,{size:14}):a.jsx(Hp,{size:14}),h.type]})},{key:"category",header:"Category"},{key:"description",header:"Description",render:(m,h)=>a.jsxs("div",{children:[a.jsx("div",{children:h.description}),h.paymentMethod&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:["Payment Method: ",h.paymentMethod]})]})},{key:"amount",header:"Amount",render:(m,h)=>a.jsxs("span",{style:{color:h.type==="Income"?"#22c55e":"#ef4444",fontWeight:600},children:[h.type==="Income"?"+":"",d(Math.abs(h.amount))]})},{key:"status",header:"Status",render:(m,h)=>a.jsx(Se,{variant:h.status.toLowerCase()==="completed"?"success":h.status.toLowerCase()==="pending"?"pending":"danger",size:"sm",children:h.status})},{key:"createdBy",header:"Created By",render:(m,h)=>a.jsx(Se,{variant:h.createdBy==="admin"?"info":h.createdBy==="accountant"?"success":"warning",size:"sm",children:h.createdBy?h.createdBy.charAt(0).toUpperCase()+h.createdBy.slice(1):"Admin"})},{key:"actions",header:"Actions",render:(m,h)=>a.jsx(Ye,{size:"sm",onClick:()=>{r(h),o(!0)}})}],data:e,emptyMessage:"No transactions found"}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Transaction Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Transaction Information",icon:qt,fields:[{label:"Transaction ID",value:n.transactionId||n.id||n._id||"N/A"},{label:"Type",value:n.type,renderAsBadge:{variant:n.type==="Income"?"success":"rejected",size:"sm"}},{label:"Category",value:n.category},{label:"Description",value:n.description,spanFull:!0},{label:"Amount",value:d(Math.abs(n.amount)),icon:qt},{label:"Date",value:n.date,icon:We},{label:"Time",value:n.time,icon:Qe},{label:"Status",value:n.status,renderAsBadge:{variant:n.status==="Completed"?"success":"pending",size:"sm"}},...n.paymentMethod?[{label:"Payment Method",value:n.paymentMethod}]:[],...n.referenceId?[{label:"Reference ID",value:n.referenceId}]:[],...n.createdBy?[{label:"Created By",value:n.createdBy.charAt(0).toUpperCase()+n.createdBy.slice(1)}]:[]]}]})})]})},fE=()=>{const{role:e}=qn(),[t,n]=v.useState(""),[r,l]=v.useState("all"),[o,d]=v.useState("all"),[u,m]=v.useState(1),h=10,[p,g]=v.useState(!1),[b,y]=v.useState(null),[S,E]=v.useState(!1),[C,A]=v.useState(null),O=Z=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(Z)}`,[w,z]=v.useState([]);v.useEffect(()=>{z([{value:"Tuition Fee",label:"Tuition Fee"},{value:"Admission Fee",label:"Admission Fee"},{value:"Registration Fee",label:"Registration Fee"},{value:"Exam Fee",label:"Exam Fee"},{value:"Library Fee",label:"Library Fee"},{value:"Sports Fee",label:"Sports Fee"},{value:"Other",label:"Other"}])},[]);const[T,M]=v.useState([]),[N,I]=v.useState(!0);v.useEffect(()=>{$();const Z=setInterval(()=>{$()},3e4);return()=>{clearInterval(Z)}},[]);const $=async()=>{try{I(!0);const Z=await le.fees.collections.getAll();if(Z.data?.collections){const ye=Z.data.collections;if(console.log("Loaded fee collections:",ye),Array.isArray(ye)){const De=ye.map(ze=>{const He=ze.studentId||{},Dt=He?.name||ze.studentName||"Unknown",_t=He?.studentId||He?._id?.toString()||ze.studentId?.toString()||"Unknown",xt=He?.parent||ze.parentName||"-",ht=He?.class||ze.class||"-";return{...ze,id:ze._id||ze.id,studentId:_t,studentName:Dt,parentName:xt,cnic:He?.cnic||ze.cnic||"-",class:ht,collectedDate:ze.paymentDate?new Date(ze.paymentDate).toISOString().split("T")[0]:ze.collectedDate||"-",status:ze.status||"Unpaid",paidAmount:ze.paidAmount||0,amount:ze.amount||0,feeType:ze.feeType||"Tuition",paymentMethod:ze.paymentMethod||"Cash"}});M(De)}else console.error("Fee collections data is not an array:",ye),M([])}else M([])}catch(Z){console.error("Error loading fee collections:",Z),console.error("Error details:",{message:Z?.message,error:Z?.error,status:Z?.status,url:Z?.url}),Z?.status!==404&&console.warn("Fee collections endpoint returned error:",Z),M([])}finally{I(!1)}},B=v.useMemo(()=>Array.isArray(T)?Array.from(new Set(T.map(ye=>ye.class).filter(Boolean))).sort():[],[T]),[R,q]=v.useState([]);v.useEffect(()=>{(async()=>{try{const ye=await le.students.getAll();if(ye.data?.students){const ze=ye.data.students.map(He=>{const Dt=(He.studentId||He._id||He.id||"").toString();return{value:He._id||He.id||He.studentId,label:`${He.name||"Unknown"} (${Dt}) - ${He.class||"N/A"}`}});q(ze)}}catch(ye){console.error("Error loading students:",ye),q([])}})()},[]);const W=v.useMemo(()=>Array.isArray(T)?T.filter(Z=>{const ye=t.toLowerCase(),De=!t||Z.studentName&&Z.studentName.toLowerCase().includes(ye)||Z.studentId&&Z.studentId.toLowerCase().includes(ye)||Z.parentName&&Z.parentName.toLowerCase().includes(ye)||Z.cnic&&Z.cnic.toLowerCase().includes(ye),ze=r==="all"||Z.status&&Z.status.toLowerCase()===r.toLowerCase(),He=o==="all"||Z.class&&Z.class===o;return De&&ze&&He}):(console.warn("Collections is not an array:",T),[]),[T,t,r,o]),K=Math.ceil(W.length/h),H=(u-1)*h,D=H+h,k=v.useMemo(()=>W.slice(H,D),[W,H,D]);v.useEffect(()=>{const Z=Math.ceil(W.length/h)||1;u>Z&&m(1)},[W.length,u,h]);const _=()=>{u>1&&(m(u-1),window.scrollTo({top:0,behavior:"smooth"}))},F=()=>{u<K&&(m(u+1),window.scrollTo({top:0,behavior:"smooth"}))},Y=Z=>{m(Z),window.scrollTo({top:0,behavior:"smooth"})},U=v.useMemo(()=>Array.isArray(T)?T.filter(Z=>(Z.status||"").toLowerCase()==="paid").reduce((Z,ye)=>Z+(ye.paidAmount||ye.amount||0),0):0,[T]),L=v.useMemo(()=>{if(!Array.isArray(T))return 0;const Z=new Date().toISOString().split("T")[0];return T.filter(ye=>(ye.collectedDate||(ye.paymentDate?new Date(ye.paymentDate).toISOString().split("T")[0]:""))===Z&&(ye.status||"").toLowerCase()==="paid").reduce((ye,De)=>ye+(De.paidAmount||De.amount||0),0)},[T]),te=v.useMemo(()=>Array.isArray(T)?T.length:0,[T]),V=v.useMemo(()=>Array.isArray(T)?T.filter(Z=>{const ye=(Z.status||"").toLowerCase();return ye==="unpaid"||ye==="partial"}).reduce((Z,ye)=>{const De=ye.amount||0,ze=ye.paidAmount||0;return Z+(De-ze)},0):0,[T]),X=Z=>{if(!Z)return"pending";switch(Z.toLowerCase()){case"paid":return"approved";case"unpaid":return"rejected";case"partial":return"pending";case"partial paid":return"pending";case"dues":return"late";default:return"pending"}},Q=Z=>{const ye=Z.match(/Grade\s+(\d+)/i);return ye?`Grade ${ye[1]}`:""},ae=async(Z,ye)=>{if(!Z)return 0;try{const ze=(await le.fees.gradeFees.getByGrade(Z))?.data?.fee||null;return ze?ye==="Tuition Fee"?ze.tuitionFee:ye==="Admission Fee"?ze.admissionFee:0:0}catch(De){return console.error("Error fetching fee:",De),0}},pe=v.useMemo(()=>{const Z=[];if(!b)Z.push({name:"studentId",label:"Student",type:"select",required:!0,options:R,placeholder:"Select Student",halfWidth:!0});else{const ye=b.amount||0,De=b.paidAmount||0,ze=ye-De;Z.push({name:"studentId",label:"Student",type:"text",required:!1,disabled:!0,placeholder:`${b.studentName} (${b.studentId}) - ${b.class}`,halfWidth:!0}),Z.push({name:"totalAmount",label:"Total Fee Amount",type:"number",required:!1,disabled:!0,placeholder:O(ye),halfWidth:!0}),Z.push({name:"paidAmount",label:"Already Paid",type:"number",required:!1,disabled:!0,placeholder:O(De),halfWidth:!0}),Z.push({name:"remainingAmount",label:"Remaining Amount",type:"number",required:!1,disabled:!0,placeholder:O(ze),halfWidth:!0}),Z.push({name:"paymentType",label:"Payment Type",type:"select",required:!0,options:[{value:"full",label:"Full Payment (Pay Remaining Amount)"},{value:"partial",label:"Partial Payment (Enter Custom Amount)"}],placeholder:"Select Payment Type",defaultValue:"full",halfWidth:!0})}return[...Z,{name:"feeType",label:"Fee Type",type:b?"text":"select",required:!0,disabled:!!b,options:b?void 0:w,placeholder:b?b.feeType||"Fee Type":"Select Fee Type",halfWidth:!0},{name:"amount",label:b?"Payment Amount":"Amount",type:"number",required:!0,placeholder:b?"Enter payment amount (for partial payment)":"Enter amount (will auto-fill for Tuition/Admission fees)",min:0,halfWidth:!0},{name:"paymentMethod",label:"Payment Method",type:"select",required:!0,options:[{value:"Cash",label:"Cash"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Credit Card",label:"Credit Card"},{value:"Cheque",label:"Cheque"},{value:"Online Payment",label:"Online Payment"}],placeholder:"Select Payment Method",defaultValue:"Cash",halfWidth:!0},{name:"collectedDate",label:"Collection Date",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0],halfWidth:!0}]},[R,w,b]),ee=async(Z,ye,De)=>{if(Z==="studentId"||Z==="feeType"){const ze=Z==="studentId"?ye:De.studentId,He=Z==="feeType"?ye:De.feeType;if(ze&&He&&(He==="Tuition Fee"||He==="Admission Fee")){const xt=((await le.students.getAll())?.data?.students||[]).find(ht=>(ht.studentId||ht._id||ht.id).toString()===ze);if(xt){const ht=Q(xt.class),cr=await ae(ht,He);cr>0&&setTimeout(()=>{const Je=document.querySelector("#modal-field-amount");if(Je&&Je.value!==cr.toString()){const se=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set;se&&se.call(Je,cr.toString());const me=new Event("input",{bubbles:!0});Je.dispatchEvent(me)}},10)}}}},xe=()=>{const Z=new Date().toISOString().split("T")[0];if(b){const ye=b.amount||0,De=b.paidAmount||0,ze=ye-De;let He=b.feeType;return He==="Tuition"?He="Tuition Fee":He==="Admission"&&(He="Admission Fee"),{studentId:`${b.studentName} (${b.studentId}) - ${b.class}`,totalAmount:ye.toString(),paidAmount:De.toString(),remainingAmount:ze.toString(),amount:ze>0?ze.toString():"0",feeType:He||b.feeType,paymentMethod:b.paymentMethod||"Cash",collectedDate:b.collectedDate||Z,paymentType:"full"}}return{paymentMethod:"Cash",collectedDate:Z,paymentType:"full"}},ge=async Z=>{try{let ye;if(b)ye={id:b.studentId,_id:b._id,studentId:b.studentId,name:b.studentName,class:b.class,parent:b.parentName};else if(ye=((await le.students.getAll())?.data?.students||[]).find(Le=>(Le.studentId||Le._id||Le.id).toString()===Z.studentId),!ye){alert("Student not found. Please select a valid student.");return}let De=parseFloat(Z.amount)||0;const ze=b?b.amount||0:parseFloat(Z.totalAmount||"0"),He=b&&b.paidAmount||0,Dt=ze-He;if(Z.paymentType==="full")De=Dt;else if(Z.paymentType==="partial"){if(De<=0){alert("Please enter a valid payment amount.");return}if(De>Dt){alert(`Payment amount (${O(De)}) cannot exceed remaining amount (${O(Dt)}).`);return}}if(!b&&(Z.feeType==="Tuition Fee"||Z.feeType==="Admission Fee")&&De===0){const be=Q(ye.class);if(De=await ae(be,Z.feeType),De===0){alert(`Fee structure not found for ${be}. Please configure it in Fee Management first.`);return}}if(De<=0){alert("Please enter a valid payment amount.");return}const xt=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),ht=b?.studentName||ye.name,cr=b?.class||ye.class,Je=b?.studentId||ye.id.toString(),se=He+De,me=se>=ze?"Paid":se>0?"Partial":"Unpaid",ne=b?b._id||b.id:void 0;try{await Ds({type:"Income",category:"Fee Collection",description:`${Z.feeType} - ${ht} (${cr})${me==="Partial"?" - Partial Payment":""}`,amount:De,date:Z.collectedDate,time:xt,status:"Completed",paymentMethod:Z.paymentMethod,feeId:ne,referenceId:`fee-${Je}`},e||"admin"),console.log("Transaction entry created successfully")}catch(be){console.warn("Failed to create transaction entry (this is optional):",be?.message||be)}if(b){const be=b._id||b.id;await le.fees.collections.update(be,{paidAmount:se,status:me,paymentMethod:Z.paymentMethod,paymentDate:Z.collectedDate?new Date(Z.collectedDate).toISOString():new Date().toISOString(),remarks:b.remarks||`${Z.feeType} payment - ${me}`});const Ne=me==="Paid"?`Full payment of ${O(De)} processed successfully for ${ht}. Total: ${O(se)}/${O(ze)}`:`Partial payment of ${O(De)} processed successfully for ${ht}. Total paid: ${O(se)}/${O(ze)}. Remaining: ${O(ze-se)}`;alert(Ne)}else{const Le=((await le.students.getAll())?.data?.students||[]).find(bt=>(bt.studentId||bt._id||bt.id).toString()===Je);if(!Le){alert("Student not found. Please try again.");return}const qe=Le._id||Le.id,It=await le.fees.collections.create({studentId:qe,feeType:Z.feeType,amount:De,paymentDate:Z.collectedDate?new Date(Z.collectedDate).toISOString():new Date().toISOString(),paymentMethod:Z.paymentMethod,status:"Paid",paidAmount:De}),ft=It?.data?.collection?.amount||It?.amount||De;alert(`Payment of ${O(ft)} collected successfully for ${ht}`)}await $(),g(!1),y(null)}catch(ye){console.error("Error submitting payment:",ye);let De="Failed to process payment. Please try again.";ye?.message?De=ye.message:ye?.errorData?.error?De=ye.errorData.error:ye?.errorData?.message&&(De=ye.errorData.message),alert(`Error: ${De}`)}},de=Z=>{y(Z),g(!0)},Ee=()=>{y(null),g(!0)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Fees Collection"}),a.jsxs("button",{className:"btn-primary",onClick:Ee,children:[a.jsx(Za,{size:18}),"Collect Fee"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(qt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Collected"}),a.jsx("p",{children:O(U)})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Rn,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Today's Collection"}),a.jsx("p",{children:O(L)})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Za,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Transactions"}),a.jsx("p",{children:te})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Qe,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Pending Collection"}),a.jsx("p",{children:O(V)})]})]})]}),a.jsx(ke,{variant:"custom",style:{marginBottom:"1.5rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:a.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"flex-end"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"250px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(_f,{size:16}),"Search (Name, ID, Parent, CNIC)"]}),a.jsx("input",{type:"text",placeholder:"Search by student name, ID, parent name, or CNIC...",value:t,onChange:Z=>n(Z.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"},onFocus:Z=>Z.target.style.borderColor="#667eea",onBlur:Z=>Z.target.style.borderColor="#e0e0e0"})]}),a.jsxs("div",{style:{minWidth:"180px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(ky,{size:16}),"Payment Status"]}),a.jsxs("select",{value:r,onChange:Z=>l(Z.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},onFocus:Z=>Z.target.style.borderColor="#667eea",onBlur:Z=>Z.target.style.borderColor="#e0e0e0",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"unpaid",children:"Unpaid"}),a.jsx("option",{value:"partial paid",children:"Partial Paid"}),a.jsx("option",{value:"dues",children:"Dues"})]})]}),a.jsxs("div",{style:{minWidth:"180px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:[a.jsx(ky,{size:16}),"Class"]}),a.jsxs("select",{value:o,onChange:Z=>d(Z.target.value),style:{width:"100%",padding:"0.75rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},onFocus:Z=>Z.target.style.borderColor="#667eea",onBlur:Z=>Z.target.style.borderColor="#e0e0e0",children:[a.jsx("option",{value:"all",children:"All Classes"}),B.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]})]})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[a.jsx("div",{className:"section-title",style:{margin:0},children:"Fee Collection Entries"}),W.length>0&&a.jsxs("div",{style:{fontSize:"0.875rem",color:"#666"},children:["Showing ",H+1,"-",Math.min(D,W.length)," of ",W.length," entries"]})]}),N?a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#999"},children:"Loading fee collections..."}):a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Parent Name"}),a.jsx("th",{children:"CNIC"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Fee Type"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Payment Method"}),a.jsx("th",{children:"Collection Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:!Array.isArray(W)||W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:11,style:{textAlign:"center",padding:"2rem",color:"#999"},children:!Array.isArray(T)||T.length===0?'No fee collection records found. Click "Collect Fee" to add a new payment.':"No fee collection records found matching your filters."})}):k.map(Z=>a.jsxs("tr",{children:[a.jsx("td",{children:Z.studentId}),a.jsx("td",{children:a.jsx("strong",{children:Z.studentName})}),a.jsx("td",{children:Z.parentName}),a.jsx("td",{children:Z.cnic||"-"}),a.jsx("td",{children:Z.class}),a.jsx("td",{children:Z.feeType}),a.jsx("td",{children:O(Z.amount)}),a.jsx("td",{children:Z.paymentMethod}),a.jsx("td",{children:Z.collectedDate}),a.jsx("td",{children:a.jsx(Se,{variant:X(Z.status||"paid"),size:"sm",children:Z.status||"Paid"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>{A(Z),E(!0)}}),(Z.status||"Unpaid").toLowerCase()!=="paid"&&a.jsxs(we,{variant:"primary",size:"sm",onClick:()=>de(Z),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(qt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]})]})})]},Z.id))})]})}),W.length>h&&a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem",padding:"1rem"},children:[a.jsxs(we,{variant:"secondary",size:"md",onClick:_,disabled:u===1,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:u===1?.5:1,cursor:u===1?"not-allowed":"pointer"},children:[a.jsx(RE,{size:18}),"Previous"]}),a.jsx("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:(()=>{const Z=[];if(K<=7)for(let ye=1;ye<=K;ye++)Z.push(ye);else{Z.push(1);let ye=Math.max(2,u-1),De=Math.min(K-1,u+1);u<=3&&(De=Math.min(5,K-1)),u>=K-2&&(ye=Math.max(2,K-4)),ye>2&&Z.push("...");for(let ze=ye;ze<=De;ze++)Z.push(ze);De<K-1&&Z.push("..."),Z.push(K)}return Z.map((ye,De)=>typeof ye=="string"?a.jsx("span",{style:{padding:"0 0.25rem",color:"#666"},children:"..."},`ellipsis-${De}`):a.jsx("button",{onClick:()=>Y(ye),style:{padding:"0.5rem 0.75rem",border:"1px solid #ddd",borderRadius:"0.375rem",backgroundColor:u===ye?"#3b82f6":"#fff",color:u===ye?"#fff":"#333",cursor:"pointer",fontSize:"0.875rem",fontWeight:u===ye?600:400,minWidth:"2.5rem"},onMouseEnter:ze=>{u!==ye&&(ze.currentTarget.style.backgroundColor="#f3f4f6")},onMouseLeave:ze=>{u!==ye&&(ze.currentTarget.style.backgroundColor="#fff")},children:ye},ye))})()}),a.jsxs(we,{variant:"secondary",size:"md",onClick:F,disabled:u===K,style:{display:"flex",alignItems:"center",gap:"0.5rem",opacity:u===K?.5:1,cursor:u===K?"not-allowed":"pointer"},children:["Next",a.jsx(BE,{size:18})]})]}),a.jsx(or,{isOpen:p,onClose:()=>{g(!1),y(null)},title:b?"Pay Fee":"Collect Fee Payment",fields:pe,onSubmit:ge,submitButtonText:b?"Pay Amount":"Collect Payment",submitButtonIcon:a.jsx(Za,{size:16}),initialData:xe(),onFieldChange:ee,size:"lg"}),a.jsx(et,{isOpen:S,onClose:()=>{E(!1),A(null)},title:"Fee Receipt",size:"lg",children:C&&a.jsxs("div",{children:[a.jsx(Qt,{sections:[{title:"Receipt Information",icon:qt,fields:[{label:"Student Name",value:C.studentName,icon:ca},{label:"Parent Name",value:C.parentName},{label:"Student ID",value:C.studentId},{label:"Class",value:C.class},{label:"Fee Type",value:C.feeType},{label:"Amount",value:O(C.amount),icon:qt},{label:"Collection Date",value:C.collectedDate,icon:We},{label:"Payment Method",value:C.paymentMethod||"N/A"},{label:"Status",value:C.status,renderAsBadge:{variant:X(C.status),size:"sm"}},...C.cnic?[{label:"CNIC",value:C.cnic}]:[]]}]}),a.jsx("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f5f5f5",borderRadius:"0.5rem"},children:a.jsx("button",{onClick:()=>{const Z=window.open("","_blank");Z&&C&&(Z.document.write(`
                      <html>
                        <head>
                          <title>Fee Receipt - ${C.studentName}</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; }
                            h1 { color: #333; text-align: center; }
                            .receipt-info { margin: 15px 0; }
                            .label { font-weight: bold; }
                            .amount { font-size: 1.5em; font-weight: bold; color: #22c55e; text-align: center; margin: 20px 0; }
                            hr { border: 1px solid #ddd; margin: 20px 0; }
                          </style>
                        </head>
                        <body>
                          <h1>Fee Receipt</h1>
                          <hr>
                          <div class="receipt-info"><span class="label">Student Name:</span> ${C.studentName}</div>
                          <div class="receipt-info"><span class="label">Parent Name:</span> ${C.parentName}</div>
                          <div class="receipt-info"><span class="label">Student ID:</span> ${C.studentId}</div>
                          <div class="receipt-info"><span class="label">Class:</span> ${C.class}</div>
                          <div class="receipt-info"><span class="label">Fee Type:</span> ${C.feeType}</div>
                          <div class="amount">Amount: ${O(C.amount)}</div>
                          <hr>
                          <div class="receipt-info"><span class="label">Collection Date:</span> ${C.collectedDate}</div>
                          <div class="receipt-info"><span class="label">Payment Method:</span> ${C.paymentMethod||"N/A"}</div>
                          <div class="receipt-info"><span class="label">Status:</span> ${C.status}</div>
                        </body>
                      </html>
                    `),Z.document.close(),Z.print())},style:{width:"100%",padding:"0.75rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:500},children:"Print Receipt"})})]})})]})},mE=()=>{qn();const[e,t]=v.useState(!1),[n,r]=v.useState(!1),[l,o]=v.useState(!1),[d,u]=v.useState(null),m=D=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(D)}`,[h,p]=v.useState([{id:1,teacherName:"John Smith",employeeId:"T001",department:"Mathematics",baseSalary:5e3,allowances:500,deductions:200,netSalary:5300,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5300},{id:2,teacherName:"Sarah Johnson",employeeId:"T002",department:"Science",baseSalary:5200,allowances:600,deductions:150,netSalary:5650,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5650},{id:3,teacherName:"Michael Brown",employeeId:"T003",department:"English",baseSalary:4800,allowances:400,deductions:180,netSalary:5020,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5020},{id:4,teacherName:"Emily Davis",employeeId:"T004",department:"History",baseSalary:4900,allowances:450,deductions:0,netSalary:5350,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5350},{id:5,teacherName:"David Wilson",employeeId:"T005",department:"Physics",baseSalary:5100,allowances:550,deductions:0,netSalary:5650,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Paid",paidAmount:5650},{id:6,teacherName:"Lisa Anderson",employeeId:"T006",department:"Chemistry",baseSalary:4950,allowances:500,deductions:190,netSalary:5260,paymentDate:"2024-03-01",paymentMethod:"Bank Transfer",status:"Pending",paidAmount:0}]),g=[{month:"Jan",total:32e3},{month:"Feb",total:32500},{month:"Mar",total:33e3},{month:"Apr",total:32800},{month:"May",total:33200},{month:"Jun",total:33e3}],b=[{department:"Mathematics",amount:15e3,percentage:25},{department:"Science",amount:18e3,percentage:30},{department:"English",amount:12e3,percentage:20},{department:"History",amount:8e3,percentage:13},{department:"Other",amount:7e3,percentage:12}],y=D=>{const k=D.paidAmount||0;return k===0?"Pending":k>=D.netSalary?"Paid":"Partial Paid"},S=v.useMemo(()=>h.map(D=>({...D,status:y(D)})),[h]),E=S.reduce((D,k)=>D+k.netSalary,0),C=S.filter(D=>D.status==="Paid").length,A=S.filter(D=>D.status==="Pending"||D.status==="Partial Paid").length,O=["#667eea","#f093fb","#4facfe","#00f2fe","#43e97b"],w=D=>{switch(D.toLowerCase()){case"paid":return"approved";case"partial paid":return"pending";case"pending":return"pending";case"failed":return"rejected";default:return"pending"}},[z,T]=v.useState({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),[M,N]=v.useState({}),I=()=>{if(!d)return;const D={};if((!z.amount||parseFloat(z.amount)<=0)&&(D.amount="Please enter a valid payment amount"),z.paymentMethod||(D.paymentMethod="Please select a payment method"),z.paymentDate||(D.paymentDate="Please select a payment date"),Object.keys(D).length>0){N(D);return}const k=parseFloat(z.amount),F=(d.paidAmount||0)+k,Y=F>=d.netSalary?"Paid":"Partial Paid",L=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});Ds({type:"Expense",category:"Salaries",description:`Teacher Payroll - ${d.teacherName} (${d.department}) - Payment ${k>0?`(${m(k)})`:""}`,amount:-k,date:z.paymentDate,time:L,status:"Completed",paymentMethod:z.paymentMethod,payrollId:d.id,referenceId:`payroll-${d.id}`}),p(V=>V.map(X=>X.id===d.id?{...X,paidAmount:F,paymentMethod:z.paymentMethod,paymentDate:z.paymentDate,status:Y}:X));const te=F>=d.netSalary?`Full payment of ${m(k)} processed for ${d.teacherName}. Status: Paid`:`Partial payment of ${m(k)} processed for ${d.teacherName}. Total paid: ${m(F)} / ${m(d.netSalary)}. Status: Partial Paid`;alert(te),T({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({}),t(!1),u(null)},$=D=>{u(D);const k=D.netSalary-(D.paidAmount||0);T({amount:k>0?k.toString():"",paymentMethod:D.paymentMethod,paymentDate:D.paymentDate}),N({}),t(!0)},B=D=>{u(D),r(!0)},R=D=>{u(D),o(!0)},q=D=>{const k=window.open("","_blank");if(k){const _=D.paidAmount||0,F=D.netSalary-_;k.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Payroll Slip - ${D.teacherName}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                padding: 2rem;
                max-width: 800px;
                margin: 0 auto;
              }
              .header {
                text-align: center;
                border-bottom: 2px solid #333;
                padding-bottom: 1rem;
                margin-bottom: 2rem;
              }
              .header h1 {
                margin: 0;
                color: #333;
              }
              .header p {
                margin: 0.5rem 0;
                color: #666;
              }
              .section {
                margin-bottom: 2rem;
              }
              .section h2 {
                color: #667eea;
                border-bottom: 1px solid #e0e0e0;
                padding-bottom: 0.5rem;
                margin-bottom: 1rem;
              }
              .info-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                margin-bottom: 1rem;
              }
              .info-item {
                display: flex;
                justify-content: space-between;
                padding: 0.5rem 0;
                border-bottom: 1px solid #f0f0f0;
              }
              .info-label {
                font-weight: 600;
                color: #666;
              }
              .info-value {
                color: #333;
              }
              .salary-breakdown {
                background: #f8f9fa;
                padding: 1rem;
                border-radius: 0.5rem;
                margin-top: 1rem;
              }
              .total {
                font-size: 1.2rem;
                font-weight: 700;
                color: #667eea;
                margin-top: 1rem;
                padding-top: 1rem;
                border-top: 2px solid #667eea;
              }
              .footer {
                margin-top: 3rem;
                text-align: center;
                color: #666;
                font-size: 0.875rem;
              }
              @media print {
                body {
                  padding: 1rem;
                }
                .no-print {
                  display: none;
                }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>SCHOLYMAN SCHOOL</h1>
              <p>Payroll Slip</p>
              <p>${new Date().toLocaleDateString()}</p>
            </div>
            
            <div class="section">
              <h2>Employee Information</h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Employee Name:</span>
                  <span class="info-value">${D.teacherName}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Employee ID:</span>
                  <span class="info-value">${D.employeeId}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Department:</span>
                  <span class="info-value">${D.department}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Payment Date:</span>
                  <span class="info-value">${D.paymentDate}</span>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Salary Breakdown</h2>
              <div class="salary-breakdown">
                <div class="info-item">
                  <span class="info-label">Base Salary:</span>
                  <span class="info-value">${m(D.baseSalary)}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Allowances:</span>
                  <span class="info-value" style="color: #10b981;">+${m(D.allowances)}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Deductions:</span>
                  <span class="info-value" style="color: #ef4444;">-${m(D.deductions)}</span>
                </div>
                <div class="total">
                  <div class="info-item">
                    <span class="info-label">Net Salary:</span>
                    <span class="info-value">${m(D.netSalary)}</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Payment Information</h2>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Payment Method:</span>
                  <span class="info-value">${D.paymentMethod}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Status:</span>
                  <span class="info-value">${D.status}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Amount Paid:</span>
                  <span class="info-value">${m(_)}</span>
                </div>
                ${F>0?`
                <div class="info-item">
                  <span class="info-label">Remaining:</span>
                  <span class="info-value" style="color: #ef4444;">${m(F)}</span>
                </div>
                `:""}
              </div>
            </div>

            <div class="footer">
              <p>This is a computer-generated document. No signature required.</p>
              <p>Generated on ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),k.document.close(),k.focus(),setTimeout(()=>{k.print()},250)}},W=[{name:"baseSalary",label:"Base Salary",type:"number",required:!0,placeholder:"Enter base salary",min:0},{name:"allowances",label:"Allowances",type:"number",required:!0,placeholder:"Enter allowances",min:0},{name:"deductions",label:"Deductions",type:"number",required:!0,placeholder:"Enter deductions",min:0},{name:"paymentMethod",label:"Payment Method",type:"select",required:!0,options:[{value:"Bank Transfer",label:"Bank Transfer"},{value:"Cash",label:"Cash"},{value:"Cheque",label:"Cheque"},{value:"Online Payment",label:"Online Payment"}],placeholder:"Select Payment Method"}],K=()=>d?{baseSalary:d.baseSalary.toString(),allowances:d.allowances.toString(),deductions:d.deductions.toString(),paymentMethod:d.paymentMethod}:{},H=D=>{if(d){const k=parseFloat(D.baseSalary),_=parseFloat(D.allowances),F=parseFloat(D.deductions),Y=k+_-F;p(U=>U.map(L=>L.id===d.id?{...L,baseSalary:k,allowances:_,deductions:F,netSalary:Y,paymentMethod:D.paymentMethod}:L)),alert(`Payroll record updated successfully for ${d.teacherName}`),o(!1),u(null)}};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Teacher Payroll"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(qt,{size:18}),"Process Payroll"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:24}),value:m(E),label:"Total Payroll",color:"#667eea"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Vt,{size:24}),value:h.length.toString(),label:"Total Teachers",color:"#10b981"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Rn,{size:24}),value:C.toString(),label:"Paid",color:"#22c55e"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:24}),value:A.toString(),label:"Pending",color:"#f59e0b"})]}),a.jsx("div",{className:"section-title",children:"Payroll Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Payroll Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:g,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{formatter:D=>m(Number(D))}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"total",fill:"#667eea",name:"Total Payroll"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Payroll by Department"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(ed,{children:[a.jsx(oo,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({department:D,percentage:k})=>`${D}: ${k}%`,outerRadius:100,fill:"#8884d8",dataKey:"amount",children:b.map((D,k)=>a.jsx(gi,{fill:O[k%O.length]},`cell-${k}`))}),a.jsx(zt,{formatter:D=>m(Number(D))})]})})]})]}),a.jsx("div",{className:"section-title",children:"Payroll Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Teacher Name"}),a.jsx("th",{children:"Employee ID"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Base Salary"}),a.jsx("th",{children:"Allowances"}),a.jsx("th",{children:"Deductions"}),a.jsx("th",{children:"Net Salary"}),a.jsx("th",{children:"Payment Date"}),a.jsx("th",{children:"Payment Method"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:S.slice(0,10).map(D=>{const k=D.paidAmount||0,_=D.netSalary-k,F=D.status==="Paid";return a.jsxs("tr",{children:[a.jsx("td",{children:D.id}),a.jsx("td",{children:a.jsx("strong",{children:D.teacherName})}),a.jsx("td",{children:D.employeeId}),a.jsx("td",{children:D.department}),a.jsx("td",{children:m(D.baseSalary)}),a.jsxs("td",{style:{color:"#10b981"},children:["+",m(D.allowances)]}),a.jsxs("td",{style:{color:"#ef4444"},children:["-",m(D.deductions)]}),a.jsxs("td",{children:[a.jsx("strong",{children:m(D.netSalary)}),k>0&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:["Paid: ",m(k),_>0&&a.jsxs("span",{style:{color:"#ef4444"},children:[" | Remaining: ",m(_)]})]})]}),a.jsx("td",{children:D.paymentDate}),a.jsx("td",{children:D.paymentMethod}),a.jsx("td",{children:a.jsx(Se,{variant:w(D.status),size:"sm",children:D.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>B(D)}),a.jsx(Ot,{size:"sm",onClick:()=>R(D)}),a.jsx(Hr,{size:"sm",onClick:()=>q(D)}),!F&&a.jsxs(we,{variant:"primary",size:"sm",onClick:()=>$(D),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(qt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]})]})})]},D.id)})})]})}),a.jsx(et,{isOpen:e,onClose:()=>{t(!1),u(null),T({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({})},title:d?`Pay Salary - ${d.teacherName}`:"Process Payment",size:"lg",children:d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(102, 126, 234, 0.2)"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Salary Information:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:["Net Salary: ",a.jsx("strong",{children:m(d.netSalary)})]}),a.jsxs("div",{children:["Already Paid: ",a.jsx("strong",{children:m(d.paidAmount||0)})]}),a.jsxs("div",{style:{color:d.netSalary-(d.paidAmount||0)>0?"#ef4444":"#10b981",marginTop:"0.25rem"},children:["Remaining: ",a.jsx("strong",{children:m(d.netSalary-(d.paidAmount||0))})]})]})]}),a.jsxs("form",{onSubmit:D=>{D.preventDefault(),I()},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Amount *"}),a.jsx("input",{type:"number",value:z.amount,onChange:D=>{T({...z,amount:D.target.value}),M.amount&&N({...M,amount:""})},placeholder:"Enter payment amount",min:"0",step:"0.01",required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.amount?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"}}),M.amount&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.amount})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Method *"}),a.jsxs("select",{value:z.paymentMethod,onChange:D=>{T({...z,paymentMethod:D.target.value}),M.paymentMethod&&N({...M,paymentMethod:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.paymentMethod?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"Select Payment Method"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Cheque",children:"Cheque"}),a.jsx("option",{value:"Online Payment",children:"Online Payment"})]}),M.paymentMethod&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.paymentMethod})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Date *"}),a.jsx("input",{type:"date",value:z.paymentDate,onChange:D=>{T({...z,paymentDate:D.target.value}),M.paymentDate&&N({...M,paymentDate:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${M.paymentDate?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),M.paymentDate&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:M.paymentDate})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(we,{type:"button",variant:"outline",size:"md",onClick:()=>{t(!1),u(null),T({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),N({})},children:"Cancel"}),a.jsxs(we,{type:"submit",variant:"primary",size:"md",children:[a.jsx(Za,{size:16,style:{marginRight:"0.5rem"}}),"Process Payment"]})]})]})]})}),a.jsx(et,{isOpen:n,onClose:()=>{r(!1),u(null)},title:"Payroll Details",size:"lg",children:d&&a.jsx(Qt,{sections:[{title:"Employee Information",icon:ca,fields:[{label:"Teacher Name",value:d.teacherName,icon:ca},{label:"Employee ID",value:d.employeeId},{label:"Department",value:d.department,icon:Wi}]},{title:"Salary Breakdown",icon:qt,fields:[{label:"Base Salary",value:m(d.baseSalary),icon:qt},{label:"Allowances",value:m(d.allowances),badge:{variant:"success",text:`+${m(d.allowances)}`}},{label:"Deductions",value:m(d.deductions),badge:{variant:"rejected",text:`-${m(d.deductions)}`}},{label:"Net Salary",value:m(d.netSalary),badge:{variant:"info",text:m(d.netSalary)}}]},{title:"Payment Information",icon:Za,fields:[{label:"Payment Date",value:d.paymentDate,icon:We},{label:"Payment Method",value:d.paymentMethod,icon:Za},{label:"Amount Paid",value:m(d.paidAmount||0),icon:qt},{label:"Remaining Amount",value:m(d.netSalary-(d.paidAmount||0)),badge:{variant:d.netSalary-(d.paidAmount||0)>0?"rejected":"success",text:m(d.netSalary-(d.paidAmount||0))}},{label:"Status",value:d.status,badge:{variant:w(d.status),text:d.status}}]}]})}),a.jsx(or,{isOpen:l,onClose:()=>{o(!1),u(null)},title:d?`Edit Payroll - ${d.teacherName}`:"Edit Payroll",fields:W,onSubmit:H,submitButtonText:"Update Payroll",submitButtonIcon:a.jsx(lt,{size:16}),initialData:K(),size:"lg"})]})},hE=()=>{const{role:e}=qn(),[t,n]=v.useState([]),[r,l]=v.useState(!1),[o,d]=v.useState(!1),[u,m]=v.useState(!1),[h,p]=v.useState(!1),[g,b]=v.useState(!1),[y,S]=v.useState(null),[E,C]=v.useState({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),[A,O]=v.useState({});v.useEffect(()=>{const V=async()=>{try{const Q=await le.expenses.getAll();Array.isArray(Q)?n(Q):(console.error("api.expenses.getAll did not return an array:",Q),n([]))}catch(Q){console.error("Error loading expenses:",Q),n([])}};V();const X=setInterval(()=>{V()},3e4);return()=>{clearInterval(X)}},[]);const w=V=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(V)}`,z=V=>{const X=V.paidAmount||0;return X===0?"Pending":X>=V.amount?"Paid":"Partial Paid"},T=v.useMemo(()=>t.map(V=>({...V,status:z(V)})),[t]),M=v.useMemo(()=>{const V=new Map,X={Salaries:"#e74c3c",Utilities:"#3498db",Supplies:"#f39c12",Maintenance:"#27ae60",Equipment:"#9b59b6",Transportation:"#1abc9c",Other:"#95a5a6"};return T.forEach(Q=>{const ae=V.get(Q.category)||0;V.set(Q.category,ae+Q.amount)}),Array.from(V.entries()).map(([Q,ae])=>({category:Q,amount:ae,color:X[Q]||"#95a5a6"}))},[T]),N=v.useMemo(()=>{const V=new Map,X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];T.forEach(pe=>{const ee=new Date(pe.date),xe=`${X[ee.getMonth()]} ${ee.getFullYear()}`,ge=V.get(xe)||0;V.set(xe,ge+pe.amount)});const Q=new Date,ae=[];for(let pe=5;pe>=0;pe--){const ee=new Date(Q.getFullYear(),Q.getMonth()-pe,1),xe=`${X[ee.getMonth()]} ${ee.getFullYear()}`;ae.push({month:X[ee.getMonth()],expenses:V.get(xe)||0})}return ae},[T]),I=T.reduce((V,X)=>V+X.amount,0),$=T.filter(V=>V.status==="Paid").reduce((V,X)=>V+X.amount,0),B=T.filter(V=>V.status==="Pending"||V.status==="Partial Paid").reduce((V,X)=>V+X.amount,0),R=v.useMemo(()=>{const V=new Date,X=V.getMonth(),Q=V.getFullYear();return T.filter(ae=>{const pe=new Date(ae.date);return pe.getMonth()===X&&pe.getFullYear()===Q}).reduce((ae,pe)=>ae+pe.amount,0)},[T]),q=V=>{switch(V.toLowerCase()){case"paid":return"approved";case"partial paid":return"pending";case"pending":return"pending";case"rejected":return"rejected";default:return"pending"}},W=[{name:"category",label:"Category",type:"select",required:!0,options:[{value:"Salaries",label:"Salaries"},{value:"Utilities",label:"Utilities"},{value:"Supplies",label:"Supplies"},{value:"Maintenance",label:"Maintenance"},{value:"Equipment",label:"Equipment"},{value:"Transportation",label:"Transportation"},{value:"Other",label:"Other"}],placeholder:"Select Category"},{name:"description",label:"Description",type:"text",required:!0,placeholder:"Enter expense description"},{name:"amount",label:"Amount",type:"number",required:!0,placeholder:"Enter amount",min:0},{name:"vendor",label:"Vendor",type:"text",required:!0,placeholder:"Enter vendor name"},{name:"date",label:"Date",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"Paid",label:"Paid"},{value:"Pending",label:"Pending"},{value:"Rejected",label:"Rejected"}],placeholder:"Select Status",defaultValue:"Pending"}],K=W,H=()=>y?{category:y.category,description:y.description,amount:y.amount.toString(),vendor:y.vendor,date:y.date,status:y.status}:{},D=async V=>{try{const X={category:V.category,description:V.description,amount:parseFloat(V.amount),vendor:V.vendor,date:V.date,status:V.status||"pending",paidAmount:V.status==="Paid"?parseFloat(V.amount):0},Q=await le.expenses.create(X),ae=Q?.data?.expense||Q?.data||Q;if(V.status==="Paid"){const xe=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Ds({type:"Expense",category:V.category,description:V.description,amount:-parseFloat(V.amount),date:V.date,time:xe,status:"Completed",expenseId:ae?.id||ae?._id,referenceId:`expense-${ae?.id||ae?._id}`},e||"admin")}catch(ge){console.error("Error creating transaction for expense:",ge)}}const pe=await le.expenses.getAll();Array.isArray(pe)?n(pe):pe?.data&&Array.isArray(pe.data)&&n(pe.data),alert(`Expense of ${w(ae?.amount||parseFloat(V.amount))} added successfully`),l(!1)}catch(X){console.error("Error adding expense:",X),alert("Failed to add expense. Please try again.")}},k=async V=>{if(y)try{const X=y.status==="Paid",Q=V.status==="Paid",ae=parseFloat(V.amount),pe={category:V.category,description:V.description,amount:ae,vendor:V.vendor,date:V.date,status:V.status||y.status,paidAmount:Q?ae:y.paidAmount||0};if(await le.expenses.update(y.id,pe),!X&&Q){const ge=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Ds({type:"Expense",category:V.category,description:V.description,amount:-ae,date:V.date,time:ge,status:"Completed",expenseId:y.id,referenceId:`expense-${y.id}`},e||"admin")}catch(de){console.error("Error creating transaction for expense:",de)}}const ee=await le.expenses.getAll();Array.isArray(ee)?n(ee):ee?.data&&Array.isArray(ee.data)&&n(ee.data),alert("Expense updated successfully"),m(!1),S(null)}catch(X){console.error("Error updating expense:",X),alert("Failed to update expense. Please try again.")}},_=async()=>{if(y)try{await le.expenses.delete(y.id);const V=await le.expenses.getAll();Array.isArray(V)?n(V):V?.data&&Array.isArray(V.data)&&n(V.data),alert("Expense deleted successfully"),p(!1),S(null)}catch(V){console.error("Error deleting expense:",V),alert("Failed to delete expense. Please try again.")}},F=V=>{S(V),d(!0)},Y=V=>{S(V),m(!0)},U=V=>{S(V),p(!0)},L=V=>{S(V);const X=V.amount-(V.paidAmount||0);C({amount:X>0?X.toString():"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),O({}),b(!0)},te=async()=>{if(!y)return;const V={};if(!E.amount||parseFloat(E.amount)<=0)V.amount="Please enter a valid payment amount";else{const X=parseFloat(E.amount),Q=y.paidAmount||0;Q+X>y.amount&&(V.amount=`Payment amount cannot exceed remaining amount of ${w(y.amount-Q)}`)}if(E.paymentMethod||(V.paymentMethod="Please select a payment method"),E.paymentDate||(V.paymentDate="Please select a payment date"),Object.keys(V).length>0){O(V);return}try{const X=parseFloat(E.amount),ae=(y.paidAmount||0)+X,pe=ae>=y.amount?"Paid":"Partial Paid",xe=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{await Ds({type:"Expense",category:y.category,description:`${y.description} - Payment ${X>0?`(${w(X)})`:""}`,amount:-X,date:E.paymentDate,time:xe,status:"Completed",paymentMethod:E.paymentMethod,expenseId:y.id,referenceId:`expense-${y.id}`},e||"admin")}catch(Ee){console.error("Error creating transaction for payment:",Ee)}await le.expenses.update(y.id,{paidAmount:ae,status:pe,date:E.paymentDate});const ge=await le.expenses.getAll();Array.isArray(ge)?n(ge):ge?.data&&Array.isArray(ge.data)&&n(ge.data);const de=ae>=y.amount?`Full payment of ${w(X)} processed successfully for ${y.description}. Status: Paid`:`Partial payment of ${w(X)} processed successfully for ${y.description}. Total paid: ${w(ae)} / ${w(y.amount)}. Status: Partial Paid`;alert(de),C({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),O({}),b(!1),S(null)}catch(X){console.error("Error processing payment:",X),alert("Failed to process payment. Please try again.")}};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Expenses"}),a.jsxs("button",{className:"btn-primary",onClick:()=>l(!0),children:[a.jsx(lt,{size:18}),"Add Expense"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(ke,{variant:"stat",icon:a.jsx(_v,{size:24}),value:w(I),label:"Total Expenses",color:"#e74c3c"}),a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:24}),value:w($),label:"Paid",color:"#27ae60"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:24}),value:w(B),label:"Pending",color:"#f39c12"}),a.jsx(ke,{variant:"stat",icon:a.jsx(We,{size:24}),value:w(R),label:"This Month",color:"#3498db"})]}),a.jsx("div",{className:"section-title",children:"Expense Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Expenses by Category"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:M,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"category"}),a.jsx(sn,{}),a.jsx(zt,{formatter:V=>w(Number(V))}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"amount",fill:"#667eea",name:"Amount"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Expenses Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Jc,{data:N,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{formatter:V=>w(Number(V))}),a.jsx(Wt,{}),a.jsx(Xi,{type:"monotone",dataKey:"expenses",stroke:"#e74c3c",name:"Expenses",strokeWidth:2})]})})]})]}),a.jsx("div",{className:"section-title",children:"Expense Records"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Vendor"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:T.slice(0,10).map(V=>{const X=V.paidAmount||0,Q=V.amount-X,ae=V.status==="Paid";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(Se,{variant:"info",size:"sm",children:V.category})}),a.jsx("td",{children:V.description}),a.jsxs("td",{children:[a.jsx("strong",{children:w(V.amount)}),X>0&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:["Paid: ",w(X),Q>0&&a.jsxs("span",{style:{color:"#ef4444"},children:[" | Remaining: ",w(Q)]})]})]}),a.jsx("td",{children:V.vendor}),a.jsx("td",{children:V.date}),a.jsx("td",{children:a.jsx(Se,{variant:q(V.status),size:"sm",children:V.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>F(V)}),a.jsx(Ot,{size:"sm",onClick:()=>Y(V)}),!ae&&a.jsxs(we,{variant:"primary",size:"sm",onClick:()=>L(V),style:{padding:"0.375rem 0.75rem",fontSize:"0.875rem",minWidth:"auto"},children:[a.jsx(qt,{size:14,style:{marginRight:"0.25rem"}}),"Pay"]}),a.jsx(Ft,{size:"sm",onClick:()=>U(V)})]})})]},V.id)})})]})}),a.jsx(or,{isOpen:r,onClose:()=>l(!1),title:"Add New Expense",fields:W,onSubmit:D,submitButtonText:"Add Expense",submitButtonIcon:a.jsx(lt,{size:16}),size:"lg"}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),S(null)},title:"Expense Details",size:"lg",children:y&&a.jsx(Qt,{sections:[{title:"Expense Information",icon:qt,fields:[{label:"Category",value:y.category,badge:{variant:"info",text:y.category}},{label:"Description",value:y.description,icon:lt,spanFull:!0},{label:"Amount",value:w(y.amount),icon:qt},{label:"Vendor",value:y.vendor,icon:Wi},{label:"Date",value:y.date,icon:We},{label:"Amount Paid",value:w(y.paidAmount||0),icon:qt},{label:"Remaining Amount",value:w(y.amount-(y.paidAmount||0)),badge:{variant:y.amount-(y.paidAmount||0)>0?"rejected":"success",text:w(y.amount-(y.paidAmount||0))}},{label:"Status",value:y.status,badge:{variant:q(y.status),text:y.status}}]}]})}),a.jsx(or,{isOpen:u,onClose:()=>{m(!1),S(null)},title:y?`Edit Expense - ${y.description}`:"Edit Expense",fields:K,onSubmit:k,submitButtonText:"Update Expense",submitButtonIcon:a.jsx(lt,{size:16}),initialData:H(),size:"lg"}),a.jsx(et,{isOpen:h,onClose:()=>{p(!1),S(null)},title:"Delete Expense",size:"md",children:y&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to delete this expense?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Expense Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",y.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Description:"})," ",y.description]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Amount:"})," ",w(y.amount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Vendor:"})," ",y.vendor]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{p(!1),S(null)},style:{padding:"0.75rem 1.5rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",background:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:_,style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"0.5rem",background:"#ef4444",color:"white",cursor:"pointer",fontSize:"0.9rem",fontWeight:500},children:"Delete Expense"})]})]})}),a.jsx(et,{isOpen:g,onClose:()=>{b(!1),S(null),C({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),O({})},title:y?`Pay Expense - ${y.description}`:"Process Payment",size:"lg",children:y&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"rgba(102, 126, 234, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(102, 126, 234, 0.2)"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Expense Information:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Category:"})," ",y.category]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Description:"})," ",y.description]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Total Amount:"})," ",w(y.amount)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Already Paid:"})," ",w(y.paidAmount||0)]}),a.jsxs("div",{style:{color:y.amount-(y.paidAmount||0)>0?"#ef4444":"#10b981",marginTop:"0.25rem"},children:[a.jsx("strong",{children:"Remaining:"})," ",w(y.amount-(y.paidAmount||0))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Vendor:"})," ",y.vendor]})]})]}),a.jsxs("form",{onSubmit:V=>{V.preventDefault(),te()},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Amount *"}),a.jsx("input",{type:"number",value:E.amount,onChange:V=>{C({...E,amount:V.target.value}),A.amount&&O({...A,amount:""})},placeholder:"Enter payment amount",min:"0",step:"0.01",required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${A.amount?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit"}}),A.amount&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:A.amount})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Method *"}),a.jsxs("select",{value:E.paymentMethod,onChange:V=>{C({...E,paymentMethod:V.target.value}),A.paymentMethod&&O({...A,paymentMethod:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${A.paymentMethod?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"Select Payment Method"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Cheque",children:"Cheque"}),a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Online Payment",children:"Online Payment"})]}),A.paymentMethod&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:A.paymentMethod})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:500},children:"Payment Date *"}),a.jsx("input",{type:"date",value:E.paymentDate,onChange:V=>{C({...E,paymentDate:V.target.value}),A.paymentDate&&O({...A,paymentDate:""})},required:!0,style:{width:"100%",padding:"0.75rem",border:`2px solid ${A.paymentDate?"#ef4444":"#e0e0e0"}`,borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",cursor:"pointer"}}),A.paymentDate&&a.jsx("div",{style:{color:"#ef4444",fontSize:"0.75rem",marginTop:"0.25rem"},children:A.paymentDate})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(we,{type:"button",variant:"outline",size:"md",onClick:()=>{b(!1),S(null),C({amount:"",paymentMethod:"",paymentDate:new Date().toISOString().split("T")[0]}),O({})},children:"Cancel"}),a.jsxs(we,{type:"submit",variant:"primary",size:"md",children:[a.jsx(Za,{size:16,style:{marginRight:"0.5rem"}}),"Process Payment"]})]})]})]})})]})},pE=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[l,o]=v.useState([]);v.useEffect(()=>{const g=async()=>{try{const E=await le.fees.collections.getAll();Array.isArray(E)?t(E):E?.data&&Array.isArray(E.data)?t(E.data):E?.feeCollections&&Array.isArray(E.feeCollections)?t(E.feeCollections):t([])}catch(E){console.error("Error loading fee collections:",E),t([])}},b=async()=>{try{const E=await le.expenses.getAll();Array.isArray(E)?r(E):E?.data&&Array.isArray(E.data)?r(E.data):r([])}catch(E){console.error("Error loading expenses:",E),r([])}},y=async()=>{try{const E=await le.transactions.getAll();Array.isArray(E)?o(E):E?.data&&Array.isArray(E.data)?o(E.data):E?.transactions&&Array.isArray(E.transactions)?o(E.transactions):o([])}catch(E){console.error("Error loading transactions:",E),o([])}};g(),b(),y();const S=setInterval(()=>{g(),b(),y()},3e4);return()=>{clearInterval(S)}},[]);const d=g=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(g)}`,u=v.useMemo(()=>{const g=e.filter(A=>A.status?.toLowerCase()==="paid"||A.paymentStatus?.toLowerCase()==="paid").reduce((A,O)=>A+(O.amount||0),0),b=l.filter(A=>A.type==="Income"&&A.amount>0).reduce((A,O)=>A+Math.abs(O.amount||0),0),y=g+b,S=n.reduce((A,O)=>A+(O.amount||0),0),E=y-S,C=y>0?(E/y*100).toFixed(1):"0.0";return{totalRevenue:y,totalExpenses:S,netProfit:E,profitMargin:`${C}%`}},[e,n,l]),m=[{month:"January",revenue:45e3,expenses:35e3,profit:1e4},{month:"February",revenue:48e3,expenses:38e3,profit:1e4},{month:"March",revenue:5e4,expenses:42e3,profit:8e3},{month:"April",revenue:52e3,expenses:4e4,profit:12e3},{month:"May",revenue:51e3,expenses:41e3,profit:1e4},{month:"June",revenue:53e3,expenses:43e3,profit:1e4}],h=[{category:"Fees Collection",amount:25e4,percentage:85},{category:"Other Income",amount:45e3,percentage:15}],p=[{category:"Salaries",amount:15e4,percentage:60},{category:"Utilities",amount:3e4,percentage:12},{category:"Supplies",amount:25e3,percentage:10},{category:"Maintenance",amount:2e4,percentage:8},{category:"Other",amount:25e3,percentage:10}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Account Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[a.jsx(ke,{variant:"stat",icon:a.jsx(qt,{size:24}),value:d(u.totalRevenue),label:"Total Revenue",color:"#27ae60"}),a.jsx(ke,{variant:"stat",icon:a.jsx(_v,{size:24}),value:d(u.totalExpenses),label:"Total Expenses",color:"#e74c3c"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:24}),value:d(u.netProfit),label:"Net Profit",color:u.netProfit>=0?"#667eea":"#e74c3c"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Bl,{size:24}),value:u.profitMargin,label:"Profit Margin",color:parseFloat(u.profitMargin)>=0?"#9b59b6":"#e74c3c"})]}),a.jsx("div",{className:"section-title",children:"Financial Reports"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Revenue vs Expenses (6 Months)"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs($V,{data:m,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{formatter:g=>d(Number(g))}),a.jsx(Wt,{}),a.jsx(bv,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#27ae60",fill:"#27ae60",fillOpacity:.6,name:"Revenue"}),a.jsx(bv,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#e74c3c",fill:"#e74c3c",fillOpacity:.6,name:"Expenses"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Profit Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Jc,{data:m,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{formatter:g=>d(Number(g))}),a.jsx(Wt,{}),a.jsx(Xi,{type:"monotone",dataKey:"profit",stroke:"#667eea",name:"Profit",strokeWidth:2})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Revenue Breakdown"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:h,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"category"}),a.jsx(sn,{}),a.jsx(zt,{formatter:g=>d(Number(g))}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"amount",fill:"#27ae60",name:"Amount"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Expense Breakdown"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:p,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"category"}),a.jsx(sn,{}),a.jsx(zt,{formatter:g=>d(Number(g))}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"amount",fill:"#e74c3c",name:"Amount"})]})})]})]}),a.jsxs("div",{className:"reports-tables",children:[a.jsxs("div",{className:"table-container",children:[a.jsx("h3",{children:"Revenue Summary"}),a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:h.map((g,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:g.category}),a.jsx("td",{children:d(g.amount)}),a.jsxs("td",{children:[g.percentage,"%"]})]},b))})]})]}),a.jsxs("div",{className:"table-container",children:[a.jsx("h3",{children:"Expense Summary"}),a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:p.map((g,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:g.category}),a.jsx("td",{children:d(g.amount)}),a.jsxs("td",{children:[g.percentage,"%"]})]},b))})]})]})]})]})},jY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState(!1),[h,p]=v.useState(!1),[g,b]=v.useState(!1),[y,S]=v.useState({section:""}),[E,C]=v.useState([]),[A,O]=v.useState("all");v.useEffect(()=>{const D=async()=>{try{const F=await le.admissions.getAll();if(F.data?.admissions){const Y=F.data.admissions.map(U=>({...U,displayId:U.admissionId||U._id||U.id}));n(Y)}else n([])}catch(F){console.error("Error loading admissions:",F),n([])}},k=async()=>{try{const F=await le.classes.getAll();F.data?.classes?C(F.data.classes):C([])}catch(F){console.error("Error loading classes:",F),C([])}};D(),k();const _=setInterval(()=>{D(),k()},3e4);return()=>{clearInterval(_)}},[]);const w=D=>{switch(D){case"Approved":return a.jsx(Rn,{size:16});case"Rejected":return a.jsx(Hi,{size:16});default:return a.jsx(Qe,{size:16})}},z=D=>{const k=D.match(/Grade\s+(\d+)/i);return k?`Grade ${k[1]}`:D},T=D=>{if(!D)return"";const _=D.trim().match(/Grade\s+(\d+)/i);return _?`Grade ${_[1]}`:""},M=D=>{if(!Array.isArray(E)||!D)return[];const k=D.startsWith("Grade")?D:`Grade ${D}`;return E.filter(F=>F.status!=="Active"?!1:T(F.name||"")===k).map(F=>({value:F.section||"",label:`Section ${F.section||""} (${F.name||""}) - ${F.currentStudents||0}/${F.capacity||0} available`}))},N=D=>{l(D),d(!0)},I=D=>{l(D);const k=D.section?.replace("Sec ","").trim()||"";S({section:k}),p(!0)},$=async D=>{if(r)try{const k=D.section?.replace("Sec ","").trim()||D.section,_=r._id||r.id;await le.admissions.update(_,{section:k}),alert(`Section ${k} assigned successfully! You can now approve this admission.`),p(!1),l(null),S({section:""});const F=await le.admissions.getAll();F.data?.admissions&&n(F.data.admissions)}catch(k){console.error("Error saving section:",k),alert("Failed to assign section. Please try again.")}},B=D=>{if(!D.section){alert("Please assign a section to this student before approving. Use the Edit button to assign a section.");return}l(D),b(!0)},R=async()=>{if(r){if(!r.section){alert("Please assign a section to this student before approving. Use the Edit button to assign a section.");return}try{const D=z(r.class),k=D.startsWith("Grade")?D:`Grade ${D}`,_=r.section.replace("Sec ","").trim(),F=E.find(ne=>ne.status!=="Active"?!1:T(ne.name||"")===k&&ne.section===_);if(!F){alert(`No active class found for ${k} Section ${_}. Please check the classes list.`);return}if(F.currentStudents>=F.capacity){alert(`Class ${F.name} is at full capacity (${F.capacity}/${F.capacity}). Cannot admit more students.`);return}const Y=`${k}${_}`,U=r._id||r.id;try{await le.admissions.update(U,{status:"Approved"})}catch(ne){throw new Error(`Failed to update admission status: ${ne?.message||ne?.error||"Unknown error"}`)}let L=r.email.split("@")[0]||"";L=L.replace(/[^a-zA-Z0-9_]/g,"_");const te=Date.now();let V=L.length>=3?L:`student_${te}`;L.length>=3&&(V=`${L}_${te.toString().slice(-6)}`),V.length<3&&(V=`student_${te}`),V.length>30&&(V=V.substring(0,24)+"_"+te.toString().slice(-5));const X="Student@123",Q=r.name||(r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.firstName||r.lastName||"Student");let ae;try{ae=await le.users.create({username:V,email:r.email,password:X,name:Q,role:"student"})}catch(ne){let be="User may already exist or validation failed";throw ne?.message?be=ne.message:ne?.errorData?.message?be=ne.errorData.message:ne?.errorData?.error?be=ne.errorData.error:ne?.errorData?.errors&&Array.isArray(ne.errorData.errors)?be=ne.errorData.errors.map(Ne=>Ne.msg||Ne.message||Ne).join(", "):ne?.error&&(be=typeof ne.error=="string"?ne.error:JSON.stringify(ne.error)),console.error("User creation error details:",{username:V,email:r.email,error:be,status:ne?.status,errorData:ne?.errorData,fullError:ne}),new Error(`Failed to create user account: ${be}`)}const pe=ae,ee=pe?.data?.user?._id||pe?.data?.user?.id||pe?.data?._id||pe?._id;if(!ee)throw console.error("User response:",ae),new Error("Failed to get user ID from created user account");const xe=r.name||(r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.firstName||r.lastName||"Unknown"),ge=r.dateOfBirth?r.dateOfBirth instanceof Date?r.dateOfBirth.toISOString():typeof r.dateOfBirth=="string"?r.dateOfBirth:new Date(r.dateOfBirth).toISOString():void 0,de=r.admissionDate?r.admissionDate instanceof Date?r.admissionDate.toISOString():typeof r.admissionDate=="string"?r.admissionDate:new Date(r.admissionDate).toISOString():new Date().toISOString(),Ee={userId:ee,name:xe,email:r.email,class:Y,section:_,phone:r.phone,parent:r.parentName,status:"Active",dateOfBirth:ge,admissionDate:de,address:r.address||void 0,parentPhone:r.parentPhone,parentEmail:r.parentEmail||void 0,gender:r.gender,previousSchool:r.previousSchool||void 0};let Z;try{console.log("Creating student with data:",Ee),Z=await le.students.create(Ee),console.log("Student created successfully:",Z)}catch(ne){let be="Student may already exist or missing required fields";ne?.errorData?.error?be=ne.errorData.error:ne?.errorData?.message?be=ne.errorData.message:ne?.message?be=ne.message:ne?.errorData?.errors&&Array.isArray(ne.errorData.errors)?be=ne.errorData.errors.map(Le=>Le.msg||Le.message||Le).join(", "):ne?.error&&(be=typeof ne.error=="string"?ne.error:JSON.stringify(ne.error)),console.error("Student creation error details:",{errorMessage:be,status:ne?.status,errorData:ne?.errorData,errorDataString:JSON.stringify(ne?.errorData,null,2),errorResponse:ne?.response,fullError:ne,studentData:Ee});let Ne=be;if(ne?.errorData){const Le=ne.errorData.error||ne.errorData.message;if(Le&&Le!=="Error creating student"&&(Ne=Le),ne.errorData.errors&&Array.isArray(ne.errorData.errors)){const qe=ne.errorData.errors.map(It=>It.msg||It.message||It).join(", ");qe&&(Ne=qe)}}throw alert(`Failed to create student: ${Ne}

Please check the console for more details.`),new Error(`Failed to create student: ${Ne}`)}try{await le.classes.update(F.id,{currentStudents:F.currentStudents+1})}catch(ne){console.warn("Failed to update class capacity:",ne)}const ye=Z,De=ye?.data?.student||ye?.data||ye,ze=De?.studentId,He=De?._id;if(!He)throw console.error("Student response:",Z),new Error("Failed to get student MongoDB ID from created student. Student may not have been created properly.");ze||console.warn("Student custom ID (studentId) not found, but MongoDB ID exists:",He);try{await le.admissions.update(U,{studentId:He})}catch(ne){console.warn("Failed to link student to admission:",ne)}let Dt=0,_t=0;try{const be=(await le.fees.gradeFees.getByGrade(D))?.data?.fee||null;Dt=be?.admissionFee||5e3,_t=be?.tuitionFee||3e3,console.log(`Fee amounts for ${D}: Admission=${Dt}, Tuition=${_t}`)}catch(ne){console.warn("Failed to get fee amounts for grade:",D,ne),Dt=5e3,_t=3e3,console.log(`Using default fee amounts: Admission=${Dt}, Tuition=${_t}`)}const xt=new Date,ht=xt.toISOString(),cr=xt.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});try{const ne={studentId:He,feeType:"Admission",amount:Dt,paymentDate:ht,paymentMethod:"Cash",status:"Unpaid",paidAmount:0,remarks:`Admission fee for ${r.name} - ${Y}`};console.log("Creating admission fee collection with data:",ne);const be=await le.fees.collections.create(ne);console.log("Admission fee collection created successfully:",be)}catch(ne){let be="Unknown error";ne?.message?be=ne.message:ne?.errorData?.error?be=ne.errorData.error:ne?.errorData?.message&&(be=ne.errorData.message),console.error("Failed to create admission fee collection:",{error:be,errorData:ne?.errorData,fullError:ne}),alert(`Warning: Admission fee entry could not be created automatically. Error: ${be}. Please create it manually.`)}try{const ne={studentId:He,feeType:"Tuition",amount:_t,paymentDate:ht,paymentMethod:"Cash",status:"Unpaid",paidAmount:0,remarks:`Monthly tuition fee for ${r.name} - ${Y}`};console.log("Creating tuition fee collection with data:",ne);const be=await le.fees.collections.create(ne);console.log("Tuition fee collection created successfully:",be)}catch(ne){let be="Unknown error";ne?.message?be=ne.message:ne?.errorData?.error?be=ne.errorData.error:ne?.errorData?.message&&(be=ne.errorData.message),console.error("Failed to create tuition fee collection:",{error:be,errorData:ne?.errorData,fullError:ne}),alert(`Warning: Tuition fee entry could not be created automatically. Error: ${be}. Please create it manually.`)}if(Dt>0)try{await Ds({type:"Income",category:"Fee Collection",description:`Admission Fee - ${r.name} (${Y})`,amount:Dt,date:xt.toISOString().split("T")[0],time:cr,status:"Pending",paymentMethod:"Pending",referenceId:`admission-${r._id||r.id}`},"admin")}catch(ne){console.warn("Failed to create transaction for admission fee:",ne)}if(_t>0)try{await Ds({type:"Income",category:"Fee Collection",description:`Tuition Fee - ${r.name} (${Y})`,amount:_t,date:xt.toISOString().split("T")[0],time:cr,status:"Pending",paymentMethod:"Pending",referenceId:`tuition-${r._id||r.id}`},"admin")}catch(ne){console.warn("Failed to create transaction for tuition fee:",ne)}let Je=`Admission approved successfully!

Student Details:
- Name: ${r.name}
- Student ID: ${ze||"N/A"}
- Class: ${Y}
- Email: ${r.email}
- Default Password: Student@123

`;Dt>0||_t>0?(Je+=`Fee Entries Created:
`,Dt>0&&(Je+=`- Admission Fee: Rs ${Dt.toLocaleString()}
`),_t>0&&(Je+=`- Tuition Fee: Rs ${_t.toLocaleString()}
`),Je+=`
Fee entries are available in the Fee Collection list.
`):Je+=`
Note: No fee structure found for ${D}. Please configure fees in Fee Management.
`,Je+=`
The student has been added to the Students List.`,alert(Je);const se=await le.admissions.getAll();se.data?.admissions&&n(se.data.admissions);const me=await le.classes.getAll();me.data?.classes&&C(me.data.classes),b(!1),l(null)}catch(D){console.error("Error approving admission:",D),console.error("Error details:",{message:D?.message,error:D?.error,status:D?.status,stack:D?.stack});let k="Unknown error occurred";D?.message?k=D.message:D?.error?k=typeof D.error=="string"?D.error:JSON.stringify(D.error):D?.response?.data?.error?k=D.response.data.error:D?.response?.data?.message&&(k=D.response.data.message),alert(`Failed to approve admission:

${k}

Please check the browser console for more details.`)}}},q=D=>{l(D),m(!0)},W=async()=>{if(r)try{const D=r._id||r.id;await le.admissions.update(D,{status:"Rejected"}),alert(`Admission application for ${r.name} has been rejected.`),m(!1),l(null);const k=await le.admissions.getAll();k.data?.admissions&&n(k.data.admissions)}catch(D){console.error("Error rejecting admission:",D),alert("Failed to reject admission. Please try again.")}},K=v.useMemo(()=>A==="all"?t:t.filter(D=>(D.status?.toLowerCase()||"")===A),[t,A]),H=v.useMemo(()=>({all:t.length,pending:t.filter(D=>D.status?.toLowerCase()==="pending").length,approved:t.filter(D=>D.status?.toLowerCase()==="approved").length,rejected:t.filter(D=>D.status?.toLowerCase()==="rejected").length}),[t]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Admission Applications"}),a.jsxs(we,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/admissions/new"),children:[a.jsx(If,{size:18,style:{marginRight:"0.5rem"}}),"New Admission"]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #e5e7eb",paddingBottom:0},children:[a.jsxs("button",{onClick:()=>O("all"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:A==="all"?"3px solid #667eea":"3px solid transparent",color:A==="all"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:A==="all"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:D=>{A!=="all"&&(D.currentTarget.style.color="#667eea",D.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:D=>{A!=="all"&&(D.currentTarget.style.color="#6b7280",D.currentTarget.style.background="transparent")},children:["All (",H.all,")"]}),a.jsxs("button",{onClick:()=>O("pending"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:A==="pending"?"3px solid #667eea":"3px solid transparent",color:A==="pending"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:A==="pending"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:D=>{A!=="pending"&&(D.currentTarget.style.color="#667eea",D.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:D=>{A!=="pending"&&(D.currentTarget.style.color="#6b7280",D.currentTarget.style.background="transparent")},children:[a.jsx(Qe,{size:16}),"Pending (",H.pending,")"]}),a.jsxs("button",{onClick:()=>O("approved"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:A==="approved"?"3px solid #667eea":"3px solid transparent",color:A==="approved"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:A==="approved"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:D=>{A!=="approved"&&(D.currentTarget.style.color="#667eea",D.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:D=>{A!=="approved"&&(D.currentTarget.style.color="#6b7280",D.currentTarget.style.background="transparent")},children:[a.jsx(Rn,{size:16}),"Approved (",H.approved,")"]}),a.jsxs("button",{onClick:()=>O("rejected"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"none",borderBottom:A==="rejected"?"3px solid #667eea":"3px solid transparent",color:A==="rejected"?"#667eea":"#6b7280",fontSize:"0.875rem",fontWeight:A==="rejected"?600:500,cursor:"pointer",marginBottom:"-2px"},onMouseEnter:D=>{A!=="rejected"&&(D.currentTarget.style.color="#667eea",D.currentTarget.style.background="rgba(102, 126, 234, 0.05)")},onMouseLeave:D=>{A!=="rejected"&&(D.currentTarget.style.color="#6b7280",D.currentTarget.style.background="transparent")},children:[a.jsx(Hi,{size:16}),"Rejected (",H.rejected,")"]})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Grade Level"}),a.jsx("th",{children:"Section"}),a.jsx("th",{children:"Applied Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:K.slice(0,10).map(D=>a.jsxs("tr",{children:[a.jsx("td",{children:D.admissionId||D.displayId||D._id||D.id||"N/A"}),a.jsx("td",{children:a.jsx("strong",{children:D.name})}),a.jsx("td",{children:D.email}),a.jsx("td",{children:z(D.class)}),a.jsx("td",{children:D.section?a.jsx(Se,{variant:"info",size:"sm",children:D.section.replace("Sec ","")}):a.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Not assigned"})}),a.jsx("td",{children:D.appliedDate}),a.jsx("td",{children:a.jsxs(Se,{variant:D.status.toLowerCase()==="approved"?"approved":D.status.toLowerCase()==="pending"?"pending":"rejected",size:"sm",children:[w(D.status),D.status]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>N(D)}),D.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx(we,{variant:"outline",size:"sm",onClick:()=>I(D),style:{padding:"0.375rem",minWidth:"auto"},children:a.jsx(Uu,{size:14})}),a.jsx(qr,{size:"sm",onClick:()=>B(D)}),a.jsx(Ft,{size:"sm",onClick:()=>q(D)})]})]})})]},D._id||D.id))})]})}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Admission Application Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Student Information",fields:[{label:"Name",value:r.name},{label:"Email",value:r.email},{label:"Phone",value:r.phone},{label:"Grade Level",value:z(r.class)},{label:"Section",value:r.section?r.section.replace("Sec ",""):"Not assigned"},{label:"Date of Birth",value:r.dateOfBirth},{label:"Gender",value:r.gender},{label:"Admission Date",value:r.admissionDate},...r.address?[{label:"Address",value:r.address,spanFull:!0}]:[],...r.previousSchool?[{label:"Previous School",value:r.previousSchool}]:[]]},{title:"Parent/Guardian Information",fields:[{label:"Parent/Guardian Name",value:r.parentName},{label:"Parent Phone",value:r.parentPhone},...r.parentEmail?[{label:"Parent Email",value:r.parentEmail}]:[]]},{title:"Application Information",fields:[{label:"Applied Date",value:r.appliedDate},{label:"Status",value:r.status,badge:{variant:r.status.toLowerCase()==="approved"?"approved":r.status.toLowerCase()==="pending"?"pending":"rejected",text:r.status}}]}]})}),a.jsx(et,{isOpen:u,onClose:()=>{m(!1),l(null)},title:"Reject Admission Application",size:"md",children:r&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to reject this admission application?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Application Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Class:"})," ",r.class]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Applied Date:"})," ",r.appliedDate]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"outline",size:"md",onClick:()=>{m(!1),l(null)},children:"Cancel"}),a.jsx(we,{variant:"danger",size:"md",onClick:W,children:"Reject Application"})]})]})}),a.jsx(or,{isOpen:h,onClose:()=>{p(!1),l(null),S({section:""})},title:r?`Assign Section: ${r.name}`:"Assign Section",fields:v.useMemo(()=>{if(!r)return[];const D=z(r.class);return[{name:"section",label:"Section",type:"select",required:!0,options:M(D),placeholder:"Select Section"}]},[r,E]),onSubmit:$,submitButtonText:"Assign Section",submitButtonIcon:a.jsx(Zt,{size:16}),initialData:y,size:"md"}),a.jsx(et,{isOpen:g,onClose:()=>{b(!1),l(null)},title:"Approve Admission Application",size:"md",children:r&&a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem",color:"#666"},children:"Are you sure you want to approve this admission application?"}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(39, 174, 96, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[a.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",fontWeight:600},children:"Application Details:"}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",r.name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",r.email]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Grade:"})," ",z(r.class)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Section:"})," ",r.section||"Not assigned"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Applied Date:"})," ",r.appliedDate]})]})]}),r.section&&a.jsxs("div",{style:{padding:"1rem",background:"rgba(52, 152, 219, 0.1)",borderRadius:"0.5rem",marginBottom:"1.5rem",fontSize:"0.85rem"},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem"},children:"What will happen:"}),a.jsxs("ul",{style:{margin:0,paddingLeft:"1.25rem",color:"#666"},children:[a.jsx("li",{children:"Student will be added to Students List"}),a.jsx("li",{children:"Admission Fee entry will be created in Fee Collection"}),a.jsx("li",{children:"Tuition Fee entry will be created in Fee Collection"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"outline",size:"md",onClick:()=>{b(!1),l(null)},children:"Cancel"}),a.jsxs(we,{variant:"primary",size:"md",onClick:R,disabled:!r.section,children:[a.jsx(Rn,{size:18,style:{marginRight:"0.5rem"}}),"Approve Application"]})]})]})})]})},SY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(!0),o=h=>{if(!h)return"";const g=h.trim().match(/Grade\s+(\d+)/i);return g?`Grade ${g[1]}`:""};v.useEffect(()=>{(async()=>{try{l(!0);const p=await le.classes.getAll();if(p.data?.classes){const g=p.data.classes,b=new Set;g.filter(S=>S.status==="Active").forEach(S=>{const E=o(S.name||"");E&&b.add(E)});const y=Array.from(b).map(S=>{const E=S.match(/\d+/),C=E?parseInt(E[0]):0;return{grade:S,num:C}}).sort((S,E)=>S.num-E.num).map(({grade:S})=>({value:S,label:S}));n(y)}else n([])}catch(p){console.error("Error loading grade levels:",p),n([])}finally{l(!1)}})()},[]);const d=[{name:"firstName",label:"First Name",type:"text",required:!0,placeholder:"Enter first name",halfWidth:!0},{name:"lastName",label:"Last Name",type:"text",required:!0,placeholder:"Enter last name",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",halfWidth:!0},{name:"class",label:"Grade Level",type:"select",required:!0,options:t,placeholder:r?"Loading grades...":"Select Grade (Section will be assigned during approval)",halfWidth:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0,halfWidth:!0},{name:"gender",label:"Gender",type:"select",required:!0,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],halfWidth:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0,halfWidth:!0},{name:"address",label:"Address",type:"textarea",placeholder:"Enter address",rows:3},{name:"previousSchool",label:"Previous School",type:"text",placeholder:"Enter previous school name"},{name:"parentName",label:"Parent/Guardian Name",type:"text",required:!0,placeholder:"Enter parent/guardian name"},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0,placeholder:"Enter parent phone number",halfWidth:!0},{name:"parentEmail",label:"Parent Email",type:"email",placeholder:"Enter parent email",halfWidth:!0}],u=[{title:"Student Information",fieldNames:["firstName","lastName","email","phone","class","dateOfBirth","gender","admissionDate","address","previousSchool"]},{title:"Parent/Guardian Information",fieldNames:["parentName","parentPhone","parentEmail"]}],m=async h=>{try{const p=await le.admissions.create({firstName:h.firstName,lastName:h.lastName,email:h.email,phone:h.phone,class:h.class,dateOfBirth:h.dateOfBirth,gender:h.gender,admissionDate:h.admissionDate,address:h.address||void 0,previousSchool:h.previousSchool||void 0,parentName:h.parentName,parentPhone:h.parentPhone,parentEmail:h.parentEmail||void 0}),g=`${h.firstName} ${h.lastName}`;alert(`Admission application submitted successfully! Application for ${g} is now pending approval.`),console.log("Admission data:",h),console.log("New admission created:",p),e("/dashboard/admin/admissions")}catch(p){console.error("Error submitting admission:",p),alert("Failed to submit admission application. Please try again.")}};return a.jsxs("div",{style:{padding:"1rem"},children:[a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/admissions"),title:"Back to Admissions"}),a.jsx(Ws,{title:"New Admission",fields:d,sections:u,onSubmit:m,submitButtonText:"Submit Application",submitButtonIcon:a.jsx(Zt,{size:18})})]})},AY=()=>{const e=[{id:1,reportName:"Monthly Admission Report",period:"March 2024",totalApplications:18,approved:15,rejected:3,generatedDate:"2024-03-31"},{id:2,reportName:"Quarterly Admission Summary",period:"Q1 2024",totalApplications:55,approved:47,rejected:8,generatedDate:"2024-03-31"},{id:3,reportName:"Class-wise Admission Report",period:"March 2024",totalApplications:18,approved:15,rejected:3,generatedDate:"2024-03-30"}],t=[{class:"Grade 9",applications:12,approved:10},{class:"Grade 10",applications:15,approved:13},{class:"Grade 11",applications:10,approved:9},{class:"Grade 12",applications:8,approved:7}],n=[{month:"Jan",applications:12,approved:10},{month:"Feb",applications:15,approved:12},{month:"Mar",applications:18,approved:15},{month:"Apr",applications:20,approved:17},{month:"May",applications:22,approved:19},{month:"Jun",applications:25,approved:22}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Admission Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate New Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(lt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Er,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Applications"}),a.jsx("p",{children:"112"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Rn,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Approval Rate"}),a.jsx("p",{children:"83.9%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Bl,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"18"})]})]})]}),a.jsx("div",{className:"section-title",children:"Admission Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Class-wise Applications"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"class"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"applications",fill:"#667eea",name:"Applications"}),a.jsx(Jt,{dataKey:"approved",fill:"#27ae60",name:"Approved"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Admission Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Jc,{data:n,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Xi,{type:"monotone",dataKey:"applications",stroke:"#667eea",name:"Applications",strokeWidth:2}),a.jsx(Xi,{type:"monotone",dataKey:"approved",stroke:"#27ae60",name:"Approved",strokeWidth:2})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Applications"}),a.jsx("th",{children:"Approved"}),a.jsx("th",{children:"Rejected"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalApplications}),a.jsx("td",{children:a.jsx(Se,{variant:"passed",size:"sm",children:r.approved})}),a.jsx("td",{children:a.jsx(Se,{variant:"failed",size:"sm",children:r.rejected})}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx(Hr,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},wY=()=>{const e=[{title:"Academic Reports",icon:a.jsx(lt,{size:24}),description:"View student academic performance and grades",count:12,color:"#667eea"},{title:"Attendance Reports",icon:a.jsx(Bl,{size:24}),description:"Track attendance statistics and trends",count:8,color:"#764ba2"},{title:"Financial Reports",icon:a.jsx(Er,{size:24}),description:"Financial summaries and transactions",count:15,color:"#f093fb"},{title:"Student Reports",icon:a.jsx(wr,{size:24}),description:"Individual student progress reports",count:150,color:"#4facfe"},{title:"Teacher Reports",icon:a.jsx(Vt,{size:24}),description:"Teacher performance and activity reports",count:25,color:"#27ae60"},{title:"Custom Reports",icon:a.jsx(LE,{size:24}),description:"Create and manage custom reports",count:5,color:"#e74c3c"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Reports"}),a.jsxs(we,{variant:"primary",size:"md",children:[a.jsx(S6,{size:18}),"Generate New Report"]})]}),a.jsx("div",{className:"reports-grid",children:e.map(t=>a.jsxs(ke,{variant:"custom",className:"report-card",children:[a.jsx("div",{className:"report-icon",style:{color:t.color},children:t.icon}),a.jsxs("div",{className:"report-content",children:[a.jsx("h3",{children:t.title}),a.jsx("p",{children:t.description}),a.jsx("div",{className:"report-count",children:a.jsxs("span",{children:[t.count," Reports"]})})]}),a.jsx(we,{variant:"outline",size:"sm",children:"View Reports"})]},t.title))})]})},EY=()=>{const e=[{id:1,reportName:"Semester 1 Academic Report",period:"2024 Q1",totalStudents:150,averageGrade:85.5,topPerformers:25,generatedDate:"2024-03-31"},{id:2,reportName:"Subject-wise Performance",period:"March 2024",totalStudents:150,averageGrade:83.2,topPerformers:30,generatedDate:"2024-03-30"},{id:3,reportName:"Class-wise Academic Summary",period:"2024 Q1",totalStudents:150,averageGrade:84.8,topPerformers:28,generatedDate:"2024-03-29"}],t=[{subject:"Mathematics",average:85,passRate:92},{subject:"English",average:82,passRate:88},{subject:"Science",average:87,passRate:95},{subject:"History",average:80,passRate:85}],n=[{grade:"A+",count:25},{grade:"A",count:40},{grade:"B",count:35},{grade:"C",count:30},{grade:"D",count:15},{grade:"F",count:5}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Academic Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Pt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Ar,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Grade"}),a.jsx("p",{children:"84.5%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Er,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Top Performers"}),a.jsx("p",{children:"83"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(lt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"12"})]})]})]}),a.jsx("div",{className:"section-title",children:"Academic Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Subject Performance"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"subject"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"average",fill:"#667eea",name:"Avg Grade %"}),a.jsx(Jt,{dataKey:"passRate",fill:"#27ae60",name:"Pass Rate %"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Grade Distribution"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:n,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"grade"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"count",fill:"#764ba2",name:"Students"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Academic Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Average Grade"}),a.jsx("th",{children:"Top Performers"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalStudents}),a.jsxs("td",{children:[r.averageGrade,"%"]}),a.jsx("td",{children:r.topPerformers}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx(Hr,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},CY=()=>{const e=[{id:1,reportName:"Monthly Attendance Report",period:"March 2024",totalDays:22,averageAttendance:93.5,totalStudents:150,generatedDate:"2024-03-31"},{id:2,reportName:"Class-wise Attendance",period:"March 2024",totalDays:22,averageAttendance:94.2,totalStudents:150,generatedDate:"2024-03-30"},{id:3,reportName:"Student Attendance Summary",period:"Q1 2024",totalDays:65,averageAttendance:92.8,totalStudents:150,generatedDate:"2024-03-29"}],t=[{month:"Jan",attendance:90},{month:"Feb",attendance:92},{month:"Mar",attendance:93.5},{month:"Apr",attendance:94},{month:"May",attendance:95},{month:"Jun",attendance:96}],n=[{class:"Grade 9A",attendance:94},{class:"Grade 9B",attendance:92},{class:"Grade 10A",attendance:95},{class:"Grade 10B",attendance:93},{class:"Grade 11A",attendance:96},{class:"Grade 12A",attendance:94}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Attendance Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Rn,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Reports"}),a.jsx("p",{children:"32"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Er,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Average Attendance"}),a.jsx("p",{children:"93.5%"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Qe,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Days"}),a.jsx("p",{children:"120"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(lt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"This Month"}),a.jsx("p",{children:"8"})]})]})]}),a.jsx("div",{className:"section-title",children:"Attendance Analytics"}),a.jsxs("div",{className:"charts-container",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Monthly Attendance Trend"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Jc,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"month"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Xi,{type:"monotone",dataKey:"attendance",stroke:"#667eea",name:"Attendance %",strokeWidth:2})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Class-wise Attendance"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:n,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"class"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"attendance",fill:"#27ae60",name:"Attendance %"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Generated Attendance Reports"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Report Name"}),a.jsx("th",{children:"Period"}),a.jsx("th",{children:"Total Days"}),a.jsx("th",{children:"Average Attendance"}),a.jsx("th",{children:"Total Students"}),a.jsx("th",{children:"Generated Date"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(r=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.reportName})}),a.jsx("td",{children:r.period}),a.jsx("td",{children:r.totalDays}),a.jsxs("td",{children:[r.averageAttendance,"%"]}),a.jsx("td",{children:r.totalStudents}),a.jsx("td",{children:r.generatedDate}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>console.log("View",r.id)}),a.jsx(Hr,{size:"sm",onClick:()=>console.log("Download",r.id)})]})})]},r.id))})]})})]})},TY=()=>{const e=vt(),[t,n]=v.useState(null),[r,l]=v.useState(!1),[o,d]=v.useState([]),u=10;v.useEffect(()=>{m();const A=setInterval(()=>{m()},3e4);return()=>{clearInterval(A)}},[]);const m=async()=>{try{const A=await le.users.getAll();A.data?.users&&d(A.data.users.map(O=>({id:O._id||O.id,name:O.name,email:O.email,role:O.role,status:O.isActive?"Active":"Inactive",lastLogin:O.lastLogin?new Date(O.lastLogin).toISOString().split("T")[0]:void 0,phone:O.phone||"",joinDate:O.createdAt?new Date(O.createdAt).toISOString().split("T")[0]:void 0})))}catch(A){console.error("Error loading users:",A),d([])}},h=[{category:"Dashboard",permissions:[{name:"View Dashboard",admin:!0,teacher:!0,accountant:!0,student:!0},{name:"View Statistics",admin:!0,teacher:!0,accountant:!0,student:!1}]},{category:"Students",permissions:[{name:"View Students",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Add Students",admin:!0,teacher:!1,accountant:!1,student:!1},{name:"Edit Students",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Delete Students",admin:!0,teacher:!1,accountant:!1,student:!1}]},{category:"Teachers",permissions:[{name:"View Teachers",admin:!0,teacher:!0,accountant:!1,student:!1},{name:"Add Teachers",admin:!0,teacher:!1,accountant:!1,student:!1},{name:"Edit Teachers",admin:!0,teacher:!1,accountant:!1,student:!1}]},{category:"Accounts",permissions:[{name:"View Accounts",admin:!0,teacher:!1,accountant:!0,student:!1},{name:"Manage Fees",admin:!0,teacher:!1,accountant:!0,student:!1},{name:"Manage Expenses",admin:!0,teacher:!1,accountant:!0,student:!1}]},{category:"Reports",permissions:[{name:"View Reports",admin:!0,teacher:!0,accountant:!0,student:!0},{name:"Generate Reports",admin:!0,teacher:!0,accountant:!0,student:!1},{name:"Export Reports",admin:!0,teacher:!0,accountant:!0,student:!1}]}],p=A=>{const O=A.toLowerCase();return h.map(w=>({category:w.category,permissions:w.permissions.filter(z=>z[O]).map(z=>z.name)})).filter(w=>w.permissions.length>0)},g=A=>{n(A),l(!0)},b=A=>{e(`/dashboard/admin/users/edit/${A}`)},y=async A=>{const O=o.find(w=>w.id===A);if(O&&confirm(`Are you sure you want to delete "${O.name}"? This action cannot be undone.`))try{await le.users.delete(A),alert("User deleted successfully!"),await m()}catch(w){console.error("Error deleting user:",w),alert("Failed to delete user. Please try again.")}},S=A=>{switch(A){case"Admin":return"#e74c3c";case"Teacher":return"#3498db";case"Accountant":return"#27ae60";case"Student":return"#f39c12";default:return"#95a5a6"}},E=A=>A==="Active"?a.jsx(vc,{size:16}):a.jsx(pP,{size:16}),C=[{key:"id",header:"ID"},{key:"name",header:"Name",render:A=>a.jsx("strong",{children:A})},{key:"email",header:"Email"},{key:"role",header:"Role",render:(A,O)=>a.jsx(Se,{variant:"info",size:"sm",style:{backgroundColor:S(O.role)+"20",color:S(O.role)},children:O.role})},{key:"status",header:"Status",render:(A,O)=>a.jsxs(Se,{variant:O.status.toLowerCase()==="active"?"active":"pending",size:"sm",children:[E(O.status),O.status]})},{key:"lastLogin",header:"Last Login"},{key:"actions",header:"Actions",render:(A,O)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>g(O)}),a.jsx(Ot,{size:"sm",onClick:()=>b(O.id)}),a.jsx(Ft,{size:"sm",onClick:()=>y(O.id)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"User Management"}),a.jsxs(we,{variant:"primary",size:"md",onClick:()=>e("/dashboard/admin/users/add"),children:[a.jsx(If,{size:18}),"Add New User"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(QS,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Users"}),a.jsx("p",{children:"125"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(vc,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Active Users"}),a.jsx("p",{children:"118"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Iu,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Online Now"}),a.jsx("p",{children:"45"})]})]})]}),a.jsx(ta,{columns:C,data:o.slice(0,u),emptyMessage:"No users found"}),a.jsx(et,{isOpen:r,onClose:()=>{l(!1),n(null)},title:"User Profile Details",size:"lg",children:t&&a.jsx(Qt,{sections:[{title:"Basic Information",fields:[{label:"Name",value:t.name},{label:"Email",value:t.email,icon:Vr},...t.phone?[{label:"Phone",value:t.phone,icon:oa}]:[],...t.joinDate?[{label:"Join Date",value:t.joinDate,icon:We}]:[],{label:"Role",value:t.role,renderAsBadge:{variant:t.role==="Admin"?"danger":t.role==="Teacher"?"info":t.role==="Accountant"?"success":"warning",size:"sm"}},{label:"Status",value:t.status,renderAsBadge:{variant:t.status==="Active"?"active":"rejected",size:"sm"}},{label:"Last Login",value:t.lastLogin}]},{title:"Role & Permissions",icon:QS,fields:[],customContent:a.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"0.5rem",padding:"1rem"},children:[a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("strong",{style:{color:"#333"},children:"Role:"})," ",a.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",backgroundColor:S(t.role)+"20",color:S(t.role)},children:t.role})]}),a.jsxs("div",{children:[a.jsx("strong",{style:{color:"#333",display:"block",marginBottom:"0.75rem"},children:"Permissions:"}),p(t.role).map(A=>a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:600,color:"#555",marginBottom:"0.5rem"},children:A.category}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:A.permissions.map((O,w)=>a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"white",borderRadius:"0.25rem",fontSize:"0.75rem",border:"1px solid #e5e7eb"},children:[a.jsx(Rn,{size:14,style:{color:"#10b981"}}),a.jsx("span",{children:O})]},w))})]},A.category))]})]})}]})})]})},OY=()=>{const e=vt(),{id:t}=qn(),n=!!t,[r,l]=v.useState({}),[o,d]=v.useState(!1);v.useEffect(()=>{n&&t&&(async()=>{try{d(!0);const p=await le.users.getById(t);if(p.data?.user){const g=p.data.user;l({firstName:g.name?.split(" ")[0]||"",lastName:g.name?.split(" ").slice(1).join(" ")||"",email:g.email||"",phone:g.phone||"",role:g.role||""})}}catch(p){console.error("Error loading user:",p),alert("Failed to load user data.")}finally{d(!1)}})()},[t,n]);const u=[{name:"firstName",label:"First Name",type:"text",required:!0,placeholder:"Enter first name",halfWidth:!0},{name:"lastName",label:"Last Name",type:"text",required:!0,placeholder:"Enter last name",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter phone number",halfWidth:!0},{name:"role",label:"Role",type:"select",required:!0,options:[{value:"Admin",label:"Admin"},{value:"Teacher",label:"Teacher"},{value:"Accountant",label:"Accountant"},{value:"Student",label:"Student"}]},{name:"password",label:"Password",type:"password",required:!0,placeholder:"Enter password",min:6,halfWidth:!0},{name:"confirmPassword",label:"Confirm Password",type:"password",required:!0,placeholder:"Confirm password",min:6,halfWidth:!0}],m=async h=>{try{if(n&&t){if(h.password&&h.password!==h.confirmPassword){alert("Passwords do not match!");return}const p={name:`${h.firstName} ${h.lastName}`.trim(),email:h.email,phone:h.phone||void 0,role:h.role};h.password&&(p.password=h.password),await le.users.update(t,p),alert("User updated successfully!"),e("/dashboard/admin/users")}else{if(h.password!==h.confirmPassword){alert("Passwords do not match!");return}const p={name:`${h.firstName} ${h.lastName}`.trim(),email:h.email,phone:h.phone||void 0,role:h.role,password:h.password};await le.users.create(p),alert("User added successfully!"),e("/dashboard/admin/users")}}catch(p){console.error("Error saving user:",p);const g=p?.message||"Failed to save user. Please try again.";alert(g)}};return o?a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:a.jsx("p",{children:"Loading user data..."})}):a.jsxs("div",{style:{padding:"2rem"},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx(Bn,{size:"md",onClick:()=>e("/dashboard/admin/users"),title:"Back to Users"})}),a.jsx(Ws,{title:n?"Edit User":"Add New User",fields:u.map(h=>n&&h.name==="password"?{...h,required:!1}:h),onSubmit:m,submitButtonText:n?"Update User":"Add User",submitButtonIcon:a.jsx(Zt,{size:18}),initialData:r},t||"new")]})},$D=v.memo(()=>{const[e,t]=v.useState(null),[n,r]=v.useState(!1),l=v.useMemo(()=>[{id:1,user:"John Admin",action:"Created new user",target:"Sarah Teacher",timestamp:"2024-03-15 10:30 AM",ip:"192.168.1.100"},{id:2,user:"Sarah Teacher",action:"Graded assignments",target:"Grade 10A",timestamp:"2024-03-15 09:15 AM",ip:"192.168.1.101"},{id:3,user:"Mike Accountant",action:"Processed fee payment",target:"Alice Johnson",timestamp:"2024-03-15 08:45 AM",ip:"192.168.1.102"},{id:4,user:"John Admin",action:"Updated student record",target:"Bob Williams",timestamp:"2024-03-14 04:20 PM",ip:"192.168.1.100"},{id:5,user:"Sarah Teacher",action:"Marked attendance",target:"Grade 10A",timestamp:"2024-03-14 02:30 PM",ip:"192.168.1.101"}],[]),o=v.useCallback(d=>{const u=l.find(m=>m.id===d);u&&(t(u),r(!0))},[l]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"User Activity"}),a.jsxs(we,{variant:"primary",size:"md",children:[a.jsx(lt,{size:18}),"Export Logs"]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx(Iu,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Total Activities"}),a.jsx("p",{children:"1,245"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(ca,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Active Users"}),a.jsx("p",{children:"45"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(Qe,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Today's Activities"}),a.jsx("p",{children:"125"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx(lt,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:"Log Entries"}),a.jsx("p",{children:"5,680"})]})]})]}),a.jsx("div",{className:"section-title",children:"Recent Activity Log"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"User"}),a.jsx("th",{children:"Action"}),a.jsx("th",{children:"Target"}),a.jsx("th",{children:"Timestamp"}),a.jsx("th",{children:"IP Address"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:l.map(d=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:d.user})}),a.jsx("td",{children:d.action}),a.jsx("td",{children:d.target}),a.jsx("td",{children:d.timestamp}),a.jsx("td",{children:d.ip}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>o(d.id)})})]},d.id))})]})}),a.jsx(et,{isOpen:n,onClose:()=>{r(!1),t(null)},title:"Activity Details",size:"md",children:e&&a.jsx(Qt,{sections:[{title:"Activity Information",icon:Iu,fields:[{label:"User",value:e.user,icon:ca},{label:"Action",value:e.action,icon:Iu},{label:"Target",value:e.target,icon:vc},{label:"Timestamp",value:e.timestamp,icon:We},{label:"IP Address",value:e.ip,icon:O6}]}]})})]})});$D.displayName="UserActivity";const kY=()=>{const e=[{id:1,name:"Main Campus",code:"MAIN-001",address:"123 Education Street, City Center",phone:"+1234567890",email:"main@school.com",students:450,teachers:35,status:"Active",established:"2020-01-15"},{id:2,name:"North Branch",code:"NORTH-002",address:"456 Learning Avenue, North District",phone:"+1234567891",email:"north@school.com",students:320,teachers:25,status:"Active",established:"2021-03-20"},{id:3,name:"South Branch",code:"SOUTH-003",address:"789 Knowledge Road, South Area",phone:"+1234567892",email:"south@school.com",students:280,teachers:22,status:"Active",established:"2022-06-10"},{id:4,name:"East Branch",code:"EAST-004",address:"321 Wisdom Lane, East Side",phone:"+1234567893",email:"east@school.com",students:195,teachers:18,status:"Active",established:"2023-01-05"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Multi Branch Management"}),a.jsxs(we,{variant:"primary",size:"md",children:[a.jsx(ia,{size:18}),"Add New Branch"]})]}),a.jsx("div",{className:"branches-grid",children:e.slice(0,10).map(t=>a.jsxs(ke,{variant:"custom",className:"branch-card",children:[a.jsxs("div",{className:"branch-header",children:[a.jsx("div",{className:"branch-icon",children:a.jsx(Wi,{size:24})}),a.jsxs("div",{className:"branch-title",children:[a.jsx("h3",{children:t.name}),a.jsx("span",{className:"branch-code",children:t.code})]}),a.jsx(Se,{variant:t.status.toLowerCase()==="active"?"success":"secondary",size:"sm",children:t.status})]}),a.jsxs("div",{className:"branch-details",children:[a.jsxs("div",{className:"detail-item",children:[a.jsx(Us,{size:16}),a.jsx("span",{children:t.address})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx(oa,{size:16}),a.jsx("span",{children:t.phone})]}),a.jsxs("div",{className:"detail-item",children:[a.jsx(Vr,{size:16}),a.jsx("span",{children:t.email})]})]}),a.jsxs("div",{className:"branch-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx(Vt,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.students}),a.jsx("span",{className:"stat-label",children:"Students"})]})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx(Vt,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.teachers}),a.jsx("span",{className:"stat-label",children:"Teachers"})]})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx(Er,{size:18}),a.jsxs("div",{children:[a.jsx("span",{className:"stat-value",children:t.established}),a.jsx("span",{className:"stat-label",children:"Established"})]})]})]}),a.jsxs("div",{className:"branch-actions",children:[a.jsx(Ot,{size:"sm",onClick:()=>console.log("Settings",t.id)}),a.jsx(Ye,{size:"sm",onClick:()=>console.log("View",t.id)})]})]},t.id))})]})},DY=()=>{const e=[{name:"name",label:"Branch Name",type:"text",required:!0,placeholder:"Enter branch name",halfWidth:!0},{name:"code",label:"Branch Code",type:"text",required:!0,placeholder:"e.g., MAIN-001",halfWidth:!0},{name:"address",label:"Address",type:"textarea",required:!0,placeholder:"Enter branch address",rows:3},{name:"phone",label:"Phone Number",type:"tel",required:!0,placeholder:"Enter phone number",halfWidth:!0},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"Enter email address",halfWidth:!0},{name:"establishedDate",label:"Established Date",type:"date",required:!0},{name:"principalName",label:"Principal Name",type:"text",required:!0,placeholder:"Enter principal name"},{name:"principalEmail",label:"Principal Email",type:"email",placeholder:"Enter principal email",halfWidth:!0},{name:"principalPhone",label:"Principal Phone",type:"tel",placeholder:"Enter principal phone",halfWidth:!0}],t=[{title:"Branch Information",fieldNames:["name","code","address","phone","email","establishedDate"]},{title:"Principal Information",fieldNames:["principalName","principalEmail","principalPhone"]}],n=r=>{alert("Branch added successfully!"),console.log("Branch data:",r)};return a.jsx(Ws,{title:"Add New Branch",fields:e,sections:t,onSubmit:n,submitButtonText:"Add Branch",submitButtonIcon:a.jsx(Zt,{size:18})})},MY=()=>{const e=[{id:1,name:"Main Campus",code:"MAIN-001",settings:{maxStudents:500,maxTeachers:40,workingHours:"8:00 AM - 4:00 PM",timezone:"UTC-5",language:"English"}},{id:2,name:"North Branch",code:"NORTH-002",settings:{maxStudents:350,maxTeachers:30,workingHours:"8:00 AM - 4:00 PM",timezone:"UTC-5",language:"English"}}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Branch Settings"})}),a.jsx("div",{className:"branches-settings",children:e.map(t=>a.jsxs("div",{className:"universal-card branch-settings-card",children:[a.jsxs("div",{className:"branch-settings-header",children:[a.jsxs("div",{className:"branch-info",children:[a.jsx(Wi,{size:24}),a.jsxs("div",{children:[a.jsx("h3",{children:t.name}),a.jsx("span",{className:"branch-code",children:t.code})]})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Zt,{size:18}),"Save Settings"]})]}),a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Max Students"}),a.jsx("input",{type:"number",defaultValue:t.settings.maxStudents,min:"0"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Max Teachers"}),a.jsx("input",{type:"number",defaultValue:t.settings.maxTeachers,min:"0"})]})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Working Hours"}),a.jsx("input",{type:"text",defaultValue:t.settings.workingHours,placeholder:"e.g., 8:00 AM - 4:00 PM"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Timezone"}),a.jsxs("select",{defaultValue:t.settings.timezone,children:[a.jsx("option",{value:"UTC-5",children:"UTC-5"}),a.jsx("option",{value:"UTC-6",children:"UTC-6"}),a.jsx("option",{value:"UTC-7",children:"UTC-7"}),a.jsx("option",{value:"UTC-8",children:"UTC-8"})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Language"}),a.jsxs("select",{defaultValue:t.settings.language,children:[a.jsx("option",{value:"English",children:"English"}),a.jsx("option",{value:"Spanish",children:"Spanish"}),a.jsx("option",{value:"French",children:"French"})]})]})]})]},t.id))})]})},NY=()=>{const e=[{id:1,studentName:"Alice Johnson",fromBranch:"Main Campus",toBranch:"North Branch",transferDate:"2024-03-15",reason:"Family relocation",status:"Pending"},{id:2,studentName:"Bob Williams",fromBranch:"North Branch",toBranch:"South Branch",transferDate:"2024-03-10",reason:"Academic preference",status:"Approved"},{id:3,studentName:"Charlie Brown",fromBranch:"South Branch",toBranch:"Main Campus",transferDate:"2024-03-05",reason:"Better facilities",status:"Completed"}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Branch Transfer"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(Yz,{size:18}),"New Transfer Request"]})]}),a.jsx("div",{className:"section-title",children:"Transfer Requests"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"From Branch"}),a.jsx("th",{children:"To Branch"}),a.jsx("th",{children:"Transfer Date"}),a.jsx("th",{children:"Reason"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map(t=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:t.studentName})}),a.jsx("td",{children:a.jsxs("div",{className:"branch-info-small",children:[a.jsx(Wi,{size:14}),t.fromBranch]})}),a.jsx("td",{children:a.jsxs("div",{className:"branch-info-small",children:[a.jsx(Wi,{size:14}),t.toBranch]})}),a.jsx("td",{children:t.transferDate}),a.jsx("td",{children:t.reason}),a.jsx("td",{children:a.jsx(Se,{variant:t.status.toLowerCase()==="approved"?"approved":t.status.toLowerCase()==="pending"?"pending":"rejected",size:"sm",children:t.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.status==="Pending"&&a.jsxs(a.Fragment,{children:[a.jsx(qr,{size:"sm",onClick:()=>console.log("Approve",t.id)}),a.jsx(Ft,{size:"sm",onClick:()=>console.log("Reject",t.id)})]}),a.jsx(Ye,{size:"sm",onClick:()=>console.log("View",t.id)})]})})]},t.id))})]})})]})},zY=()=>{const e=[{branch:"Main Campus",students:450,teachers:35,revenue:15e4},{branch:"North Branch",students:320,teachers:25,revenue:11e4},{branch:"South Branch",students:280,teachers:22,revenue:95e3},{branch:"East Branch",students:195,teachers:18,revenue:65e3}],t=[{name:"Main Campus",value:450,color:"#667eea"},{name:"North Branch",value:320,color:"#764ba2"},{name:"South Branch",value:280,color:"#f093fb"},{name:"East Branch",value:195,color:"#4facfe"}],n=r=>`Rs ${new Intl.NumberFormat("en-PK",{minimumFractionDigits:0,maximumFractionDigits:2}).format(r)}`;return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Branch Reports"}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(lt,{size:18}),"Generate Report"]})]}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Wi,{size:28}),value:"4",label:"Total Branches",color:"#667eea"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Vt,{size:28}),value:"1,245",label:"Total Students",color:"#48bb78"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Vt,{size:28}),value:"100",label:"Total Teachers",color:"#ed8936"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:28}),value:n(42e4),label:"Total Revenue",color:"#9f7aea"})]}),a.jsx("div",{className:"section-title",children:"Branch Analytics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[a.jsxs(ke,{variant:"custom",children:[a.jsx("h3",{style:{margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600},children:"Student Distribution by Branch"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(ed,{children:[a.jsx(oo,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:r=>`${r.name} ${(r.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((r,l)=>a.jsx(gi,{fill:r.color},`cell-${l}`))}),a.jsx(zt,{})]})})]}),a.jsxs(ke,{variant:"custom",children:[a.jsx("h3",{style:{margin:"0 0 1.5rem 0",color:"#333",fontSize:"1.1rem",fontWeight:600},children:"Branch Comparison"}),a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:e,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"branch"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"students",fill:"#667eea",name:"Students"}),a.jsx(Jt,{dataKey:"teachers",fill:"#27ae60",name:"Teachers"})]})})]})]}),a.jsx("div",{className:"section-title",children:"Branch Statistics"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Branch"}),a.jsx("th",{children:"Students"}),a.jsx("th",{children:"Teachers"}),a.jsx("th",{children:"Revenue"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.map((r,l)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:r.branch})}),a.jsx("td",{children:r.students}),a.jsx("td",{children:r.teachers}),a.jsx("td",{children:n(r.revenue)}),a.jsx("td",{children:a.jsx(Ye,{size:"sm",onClick:()=>console.log("View Report",r.id||l)})})]},l))})]})})]})},PY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(null),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(""),[p,g]=v.useState([]);v.useEffect(()=>{const O=async()=>{try{const z=await le.students.getAll();z.data?.students?t(z.data.students):t([])}catch(z){console.error("Error loading students:",z),t([])}};O();const w=setInterval(()=>{O()},3e4);return()=>{clearInterval(w)}},[]),v.useEffect(()=>{(async()=>{try{const w=await le.classes.getAll();if(w.data?.classes){const z=w.data.classes.filter(T=>T.status==="Active").map(T=>({value:T._id||T.code||T.id,label:`${T.name} (${T.code})`}));g(z)}}catch(w){console.error("Error loading classes:",w)}})()},[]);const b=e.filter(O=>O.name.toLowerCase().includes(m.toLowerCase())||O.email.toLowerCase().includes(m.toLowerCase())||O.class.toLowerCase().includes(m.toLowerCase())),y=O=>O.toLowerCase()==="active"?"active":"rejected",S=O=>{r(O),o(!0)},E=O=>{r(O),u(!0)},C=async O=>{if(n)try{if(await le.students.update(n.id,{name:O.name||n.name,email:O.email||n.email,phone:O.phone||n.phone,class:O.class||n.class,parent:O.parent||n.parent,parentPhone:O.parentPhone||n.parentPhone,parentEmail:O.parentEmail||n.parentEmail,address:O.address||n.address,dateOfBirth:O.dateOfBirth||n.dateOfBirth,admissionDate:O.admissionDate||n.admissionDate,status:O.status||n.status})){alert("Student updated successfully!"),u(!1),r(null);const z=await le.students.getAll(),T=z?.data?.students||z||[];Array.isArray(T)&&t(T)}}catch(w){console.error("Error updating student:",w),alert("Failed to update student. Please try again.")}},A=[{name:"name",label:"Full Name",type:"text",required:!0},{name:"email",label:"Email Address",type:"email",required:!0},{name:"phone",label:"Phone Number",type:"tel",required:!0},{name:"class",label:"Class",type:"select",options:p,required:!0},{name:"parent",label:"Parent/Guardian Name",type:"text",required:!0},{name:"parentPhone",label:"Parent Phone",type:"tel",required:!0},{name:"parentEmail",label:"Parent Email",type:"email"},{name:"address",label:"Address",type:"text",spanFull:!0},{name:"dateOfBirth",label:"Date of Birth",type:"date",required:!0},{name:"admissionDate",label:"Admission Date",type:"date",required:!0},{name:"status",label:"Status",type:"select",options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],required:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"My Students"}),a.jsx("div",{className:"header-actions",children:a.jsxs("div",{className:"search-box",children:[a.jsx(_f,{size:18}),a.jsx("input",{type:"text",placeholder:"Search students...",value:m,onChange:O=>h(O.target.value)})]})})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Phone"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem"},children:"No students found"})}):b.map(O=>a.jsxs("tr",{children:[a.jsx("td",{children:O.id}),a.jsx("td",{children:a.jsx("strong",{children:O.name})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Vr,{size:14,style:{color:"#666"}}),O.email]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(oa,{size:14,style:{color:"#666"}}),O.phone]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(wr,{size:14,style:{color:"#666"}}),O.class]})}),a.jsx("td",{children:a.jsx(Se,{variant:y(O.status),size:"sm",children:O.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>S(O)}),a.jsx(Ot,{size:"sm",onClick:()=>E(O)})]})})]},O.id))})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Student Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Student Information",icon:Vt,fields:[{label:"Name",value:n.name},{label:"Email",value:n.email,icon:Vr},{label:"Phone",value:n.phone,icon:oa},{label:"Class",value:n.class,icon:wr},{label:"Date of Birth",value:n.dateOfBirth,icon:We},{label:"Admission Date",value:n.admissionDate,icon:We},{label:"Address",value:n.address,icon:Us,spanFull:!0},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}}]},{title:"Parent/Guardian Information",icon:Vt,fields:[{label:"Parent Name",value:n.parent},{label:"Parent Phone",value:n.parentPhone,icon:oa},{label:"Parent Email",value:n.parentEmail,icon:Vr}]}]})}),a.jsx(or,{isOpen:d,onClose:()=>{u(!1),r(null)},title:"Update Student",fields:A,onSubmit:C,submitButtonText:"Update Student",initialData:n||{}})]})},_Y=()=>{const[e]=PE(),t=e.get("date"),n=e.get("class"),[r,l]=v.useState(n||""),[o,d]=v.useState(t||new Date().toISOString().split("T")[0]),[u,m]=v.useState([]),[h,p]=v.useState(!1),[g,b]=v.useState([]);v.useEffect(()=>{(async()=>{try{const O=await le.classes.getAll();if(O.data?.classes){const z=O.data.classes.filter(T=>T.status==="Active").map(T=>({value:T.id,label:`${T.name} (${T.code})`}));b(z)}}catch(O){console.error("Error loading classes:",O)}})()},[]),v.useEffect(()=>{t&&d(t),n&&l(decodeURIComponent(n))},[t,n]),v.useEffect(()=>{r&&(async()=>{try{const O=await le.students.getAll();if(O.data?.students){const w=O.data.students,T=(await le.classes.getById(r)).data?.class?.name||r,N=w.filter(I=>I.class===T||I.class===r).map(I=>({...I,status:"absent"}));m(N)}}catch(O){console.error("Error loading students:",O)}})()},[r]);const y=(A,O)=>{m(w=>w.map(z=>z.id===A?{...z,status:O}:z))},S=()=>{if(!r||!o){alert("Please select both class and date");return}p(!0),setTimeout(()=>{alert("Attendance saved successfully!"),p(!1)},1e3)},E={total:u.length,present:u.filter(A=>A.status==="present").length,absent:u.filter(A=>A.status==="absent").length,late:u.filter(A=>A.status==="late").length,leave:u.filter(A=>A.status==="leave").length},C=E.total>0?((E.present+E.late+E.leave)/E.total*100).toFixed(1):"0";return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Mark Attendance"})}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Select Class"}),a.jsxs("select",{value:r,onChange:A=>l(A.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"},children:[a.jsx("option",{value:"",children:"Select a class"}),g.map(A=>a.jsx("option",{value:A.value,children:A.label},A.value))]})]}),a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#333"},children:"Select Date"}),a.jsx("input",{type:"date",value:o,onChange:A=>d(A.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"1rem"}})]})]}),r&&u.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"dashboard-grid",style:{marginBottom:"2rem"},children:[a.jsx(ke,{variant:"stat",icon:a.jsx(vc,{size:28}),value:E.total.toString(),label:"Total Students",color:"#667eea"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Rn,{size:28}),value:E.present.toString(),label:"Present",color:"#48bb78"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Hi,{size:28}),value:E.absent.toString(),label:"Absent",color:"#e53e3e"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Qe,{size:28}),value:E.late.toString(),label:"Late",color:"#ed8936"}),a.jsx(ke,{variant:"stat",icon:a.jsx(We,{size:28}),value:`${C}%`,label:"Attendance %",color:"#9f7aea"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Student ID"}),a.jsx("th",{children:"Student Name"}),a.jsx("th",{children:"Present"}),a.jsx("th",{children:"Absent"}),a.jsx("th",{children:"Late"}),a.jsx("th",{children:"Leave"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:u.map(A=>a.jsxs("tr",{children:[a.jsx("td",{children:A.id}),a.jsx("td",{children:a.jsx("strong",{children:A.name})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${A.id}`,checked:A.status==="present",onChange:()=>y(Number(A.id)||0,"present")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${A.id}`,checked:A.status==="absent",onChange:()=>y(Number(A.id)||0,"absent")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${A.id}`,checked:A.status==="late",onChange:()=>y(Number(A.id)||0,"late")})}),a.jsx("td",{style:{textAlign:"center"},children:a.jsx("input",{type:"radio",name:`status-${A.id}`,checked:A.status==="leave",onChange:()=>y(Number(A.id)||0,"leave")})}),a.jsx("td",{children:a.jsx(Se,{variant:A.status==="present"?"approved":A.status==="absent"?"absent":A.status==="late"?"late":"onLeave",size:"sm",children:A.status.charAt(0).toUpperCase()+A.status.slice(1)})})]},A.id))})]})}),a.jsx("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"flex-end"},children:a.jsxs(we,{variant:"primary",onClick:S,disabled:h,children:[a.jsx(Zt,{size:18,style:{marginRight:"0.5rem"}}),h?"Saving...":"Save Attendance"]})})]}),r&&u.length===0&&a.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#666"},children:"No students found in this class"}),!r&&a.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#666"},children:"Please select a class to mark attendance"})]})},IY=()=>{const e=[{id:3,title:"Science Project - Solar System",subject:"Science",class:"Grade 8A",assignedDate:"2024-03-08",dueDate:"2024-03-25",status:"Active",submittedBy:18,totalStudents:25,description:"Create a model of the solar system with all planets"},{id:1,title:"Mathematics Homework - Chapter 5",subject:"Mathematics",class:"Grade 10A",assignedDate:"2024-03-10",dueDate:"2024-03-20",status:"Active",submittedBy:25,totalStudents:30,description:"Complete exercises 1-10 from Chapter 5"},{id:2,title:"English Essay - Descriptive Writing",subject:"English",class:"Grade 9B",assignedDate:"2024-03-12",dueDate:"2024-03-22",status:"Active",submittedBy:20,totalStudents:28,description:"Write a 500-word descriptive essay about your favorite place"}].sort((N,I)=>{const $=new Date(N.assignedDate).getTime(),B=new Date(I.assignedDate).getTime();return $-B}),[t,n]=v.useState(e),[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState(!1),[h,p]=v.useState(!1),[g,b]=v.useState(!1),[y,S]=v.useState([]);v.useEffect(()=>{(async()=>{try{const I=await le.classes.getAll();if(I.data?.classes){const $=I.data.classes.filter(B=>B.status==="Active").map(B=>({value:B.id,label:`${B.name} (${B.code})`}));S($)}}catch(I){console.error("Error loading classes:",I)}})()},[]);const E=N=>N.toLowerCase()==="active"?"active":"pending",C=N=>{l(N),d(!0)},A=N=>{l(N),p(!0)},O=N=>{l(N),b(!0)},w=()=>{r&&(n(t.filter(N=>N.id!==r.id)),b(!1),l(null),alert("Assignment deleted successfully!"))},z=N=>{const I={id:t.length>0?Math.max(...t.map(B=>B.id))+1:1,title:N.title,subject:N.subject,class:N.class,assignedDate:N.assignedDate,dueDate:N.dueDate,status:"Active",submittedBy:0,totalStudents:parseInt(N.totalStudents)||0,description:N.description||""},$=[...t,I].sort((B,R)=>{const q=new Date(B.assignedDate).getTime(),W=new Date(R.assignedDate).getTime();return q-W}).slice(0,3);n($),m(!1),alert("Assignment created successfully!")},T=N=>{r&&(n(t.map(I=>I.id===r.id?{...I,title:N.title||I.title,subject:N.subject||I.subject,class:N.class||I.class,assignedDate:N.assignedDate||I.assignedDate,dueDate:N.dueDate||I.dueDate,description:N.description||I.description}:I)),p(!1),l(null),alert("Assignment updated successfully!"))},M=[{name:"title",label:"Assignment Title",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"text",required:!0},{name:"class",label:"Class",type:"select",options:y,required:!0},{name:"assignedDate",label:"Assigned Date",type:"date",required:!0},{name:"dueDate",label:"Due Date",type:"date",required:!0},{name:"totalStudents",label:"Total Students",type:"number",required:!0},{name:"description",label:"Description",type:"textarea",spanFull:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"My Assignments"}),a.jsx(co,{size:"md",onClick:()=>m(!0),title:"Create New Assignment"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Submissions"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{textAlign:"center",padding:"2rem"},children:"No assignments found"})}):t.slice(0,3).map(N=>a.jsxs("tr",{children:[a.jsx("td",{children:N.id}),a.jsx("td",{children:a.jsx("strong",{children:N.title})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Pt,{size:14,style:{color:"#666"}}),N.subject]})}),a.jsx("td",{children:N.class}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),N.assignedDate]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14,style:{color:"#666"}}),N.dueDate]})}),a.jsxs("td",{children:[N.submittedBy," / ",N.totalStudents]}),a.jsx("td",{children:a.jsx(Se,{variant:E(N.status),size:"sm",children:N.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>C(N)}),a.jsx(Ot,{size:"sm",onClick:()=>A(N)}),a.jsx(Ft,{size:"sm",onClick:()=>O(N)})]})})]},N.id))})]})}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Assignment Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Assignment Information",icon:lt,fields:[{label:"Title",value:r.title},{label:"Subject",value:r.subject,icon:Pt},{label:"Class",value:r.class},{label:"Assigned Date",value:r.assignedDate,icon:We},{label:"Due Date",value:r.dueDate,icon:Qe},{label:"Submissions",value:`${r.submittedBy} / ${r.totalStudents}`},{label:"Status",value:r.status,renderAsBadge:{variant:E(r.status),size:"sm"}},{label:"Description",value:r.description,spanFull:!0}]}]})}),a.jsx(or,{isOpen:u,onClose:()=>m(!1),title:"Create New Assignment",fields:M,onSubmit:z,submitButtonText:"Create Assignment"}),a.jsx(or,{isOpen:h,onClose:()=>{p(!1),l(null)},title:"Edit Assignment",fields:M,onSubmit:T,submitButtonText:"Update Assignment",initialData:r||{}}),a.jsx(et,{isOpen:g,onClose:()=>{b(!1),l(null)},title:"Delete Assignment",size:"md",children:r&&a.jsxs("div",{children:[a.jsxs("p",{children:['Are you sure you want to delete "',r.title,'"?']}),a.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginTop:"0.5rem"},children:"This action cannot be undone."}),a.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{b(!1),l(null)},style:{padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:w,style:{padding:"0.5rem 1rem",border:"none",borderRadius:"0.5rem",background:"#e53e3e",color:"white",cursor:"pointer"},children:"Delete"})]})]})})]})},RY=()=>{const e=vt(),[t,n]=v.useState([]),[r,l]=v.useState(null),[o,d]=v.useState(!1),[u,m]=v.useState(!1),[h,p]=v.useState(!1);v.useEffect(()=>{const T=async()=>{try{const N=await le.exams.getAll();N.data?.exams?n(N.data.exams):n([])}catch(N){console.error("Error loading exams:",N),n([])}};T();const M=setInterval(()=>{T()},3e4);return()=>{clearInterval(M)}},[]);const g=T=>T.toLowerCase()==="completed"?"approved":T.toLowerCase()==="scheduled"?"pending":"active",b=T=>{l(T),d(!0)},y=T=>{e(`/dashboard/teacher/exams/grade/${T}`)},S=async T=>{const M={id:t.length>0?Math.max(...t.map(I=>typeof I.id=="number"?I.id:Number(I.id)||0))+1:1,name:T.name,subject:T.subject,grades:Array.isArray(T.grades)?T.grades:[T.grades],classes:Array.isArray(T.grades)?T.grades:[T.grades],date:T.date,time:T.time,duration:T.duration,totalMarks:parseInt(T.totalMarks),passingMarks:T.passingMarks?parseInt(T.passingMarks):void 0,description:T.description||"",sections:[],gradeAssignments:[],status:"Scheduled",createdAt:new Date().toISOString().split("T")[0]};await le.exams.create(M);const N=await le.exams.getAll();N.data?.exams&&n(N.data.exams),m(!1),alert("Exam created successfully!")},[E,C]=v.useState([]),[A,O]=v.useState([]);v.useEffect(()=>{(async()=>{try{const M=await le.subjects.getAll();M.data?.subjects&&C(M.data.subjects)}catch(M){console.error("Error loading subjects:",M)}})()},[]),v.useEffect(()=>{(async()=>{try{const M=await le.grades.getAll();if(M.data?.classes){const N=new Map;M.data.classes.forEach(B=>{const R=B.grade||"Unknown";if(!N.has(R)){const q=M.data.classes.filter(W=>(W.grade||"Unknown")===R);N.set(R,{id:R,name:R,status:q[0]?.status||"Active",section:"",capacity:0,currentStudents:0,description:""})}});const $=Array.from(N.values()).filter(B=>B.status==="Active"&&B.id&&B.name).map(B=>({value:String(B.id),label:String(B.name)}));O($)}}catch(M){console.error("Error loading grades:",M)}})()},[]);const w=E.map(T=>({value:T.name,label:T.name})),z=[{name:"name",label:"Exam Name",type:"text",required:!0,spanFull:!0},{name:"subject",label:"Subject",type:"select",options:w,required:!0},{name:"grades",label:"Grades",type:"select",multiple:!0,options:A,required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"time",label:"Time",type:"time",required:!0},{name:"duration",label:"Duration",type:"text",required:!0,placeholder:"e.g., 2 hours"},{name:"totalMarks",label:"Total Marks",type:"number",required:!0},{name:"passingMarks",label:"Passing Marks",type:"number"},{name:"description",label:"Description",type:"textarea",spanFull:!0}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Exams & Results"}),a.jsx(co,{size:"md",onClick:()=>m(!0),title:"Create New Exam"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Exam Name"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Grades"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Time"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem"},children:"No exams found"})}):t.map(T=>a.jsxs("tr",{children:[a.jsx("td",{children:T.id}),a.jsx("td",{children:a.jsx("strong",{children:T.name})}),a.jsx("td",{children:T.subject}),a.jsx("td",{children:a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:T.grades&&T.grades.length>0?T.grades.map((M,N)=>a.jsx(Se,{variant:"info",size:"sm",children:M},N)):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999"},children:"No grades"})})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),T.date]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14,style:{color:"#666"}}),T.time]})}),a.jsx("td",{children:T.duration}),a.jsx("td",{children:a.jsx("strong",{children:T.totalMarks})}),a.jsx("td",{children:a.jsx(Se,{variant:g(T.status),size:"sm",children:T.status})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[a.jsx(Ye,{size:"sm",onClick:()=>b(T)}),a.jsx(we,{variant:"primary",size:"sm",onClick:()=>y(typeof T.id=="number"?T.id:Number(T.id)||0),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Grade"})]})})]},T.id))})]})}),a.jsx(et,{isOpen:o,onClose:()=>{d(!1),l(null)},title:"Exam Details",size:"lg",children:r&&a.jsx(Qt,{sections:[{title:"Exam Information",icon:Pt,fields:[{label:"Exam Name",value:r.name},{label:"Subject",value:r.subject},{label:"Date",value:r.date,icon:We},{label:"Time",value:r.time,icon:Qe},{label:"Duration",value:r.duration},{label:"Total Marks",value:r.totalMarks.toString()},...r.passingMarks?[{label:"Passing Marks",value:r.passingMarks.toString()}]:[],{label:"Status",value:r.status,renderAsBadge:{variant:g(r.status),size:"sm"}},...r.description?[{label:"Description",value:r.description,spanFull:!0}]:[]]},{title:"Assigned Grades",fields:[{label:"Grades",value:r.grades&&r.grades.length>0?r.grades.map((T,M)=>a.jsx(Se,{variant:"info",size:"sm",style:{marginRight:"0.25rem"},children:T},M)):"No grades assigned",spanFull:!0}]}]})}),a.jsx(or,{isOpen:u,onClose:()=>m(!1),title:"Create New Exam",fields:z,onSubmit:S,submitButtonText:"Create Exam"})]})},BY=()=>{const e=[{id:1,day:"Monday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:2,day:"Monday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9B",room:"Room 102",students:28},{id:3,day:"Monday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11A",room:"Room 201",students:22},{id:4,day:"Tuesday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10B",room:"Room 103",students:24},{id:5,day:"Tuesday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9A",room:"Room 104",students:26},{id:6,day:"Wednesday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:7,day:"Wednesday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11B",room:"Room 202",students:23},{id:8,day:"Thursday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10B",room:"Room 103",students:24},{id:9,day:"Thursday",time:"10:45 AM - 12:15 PM",subject:"Mathematics",class:"Grade 9A",room:"Room 104",students:26},{id:10,day:"Friday",time:"09:00 AM - 10:30 AM",subject:"Mathematics",class:"Grade 10A",room:"Room 101",students:25},{id:11,day:"Friday",time:"01:00 PM - 02:30 PM",subject:"Mathematics",class:"Grade 11A",room:"Room 201",students:22}],n=["Monday","Tuesday","Wednesday","Thursday","Friday"].map(r=>({day:r,items:e.filter(l=>l.day===r)}));return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Timetable"})}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:n.map(({day:r,items:l})=>a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:600,color:"#333",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e0e0e0"},children:r}),l.length===0?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#999",background:"rgba(255, 255, 255, 0.7)",borderRadius:"0.5rem",border:"1px solid #e0e0e0"},children:"No classes scheduled"}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:l.map(o=>a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.15)"},onMouseEnter:d=>{d.currentTarget.style.boxShadow="0 12px 40px 0 rgba(31, 38, 135, 0.25)"},onMouseLeave:d=>{d.currentTarget.style.boxShadow="0 8px 32px 0 rgba(31, 38, 135, 0.15)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[a.jsx(Pt,{size:24,style:{color:"#667eea"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:600,color:"#333"},children:o.subject}),a.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.9rem",color:"#666"},children:o.class})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:16,style:{color:"#666"}}),a.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:o.time})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Us,{size:16,style:{color:"#666"}}),a.jsx("span",{style:{fontSize:"0.9rem",color:"#666"},children:o.room})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Vt,{size:16,style:{color:"#666"}}),a.jsxs("span",{style:{fontSize:"0.9rem",color:"#666"},children:[o.students," Students"]})]})]})]},o.id))})]},r))})]})},$Y=()=>{const e=[{id:1,name:"Mathematics 101",teacher:"Dr. Smith",schedule:"Mon, Wed, Fri - 9:00 AM",credits:3,grade:"A"},{id:2,name:"Physics 201",teacher:"Prof. Johnson",schedule:"Tue, Thu - 2:00 PM",credits:4,grade:"B+"}];return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Courses"})}),a.jsx("div",{className:"courses-grid",children:e.map(t=>a.jsxs(ke,{variant:"custom",className:"course-card",children:[a.jsxs("div",{className:"course-header",children:[a.jsx(Pt,{size:24,style:{color:"#667eea"}}),a.jsx("h3",{children:t.name})]}),a.jsxs("div",{className:"course-details",children:[a.jsxs("div",{className:"course-detail-item",children:[a.jsx(ca,{size:18}),a.jsx("span",{children:t.teacher})]}),a.jsxs("div",{className:"course-detail-item",children:[a.jsx(We,{size:18}),a.jsx("span",{children:t.schedule})]}),a.jsxs("div",{className:"course-detail-item",children:[a.jsx(Qe,{size:18}),a.jsxs("span",{children:[t.credits," Credits"]})]}),a.jsx("div",{className:"course-grade",children:a.jsxs(Se,{variant:"success",size:"sm",children:["Grade: ",t.grade]})})]})]},t.id))})]})},LY=()=>{const e=[{subject:"Mathematics",grade:92,letter:"A"},{subject:"Physics",grade:88,letter:"B+"},{subject:"Chemistry",grade:95,letter:"A"},{subject:"English",grade:85,letter:"B"}],t=e.map(n=>({subject:n.subject,grade:n.grade}));return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Grades"})}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsx(ke,{variant:"stat",icon:a.jsx(Ar,{size:28}),value:"90%",label:"Overall Average",color:"#667eea"}),a.jsx(ke,{variant:"stat",icon:a.jsx(Er,{size:28}),value:"A-",label:"Current GPA",color:"#48bb78"})]}),a.jsx("h3",{className:"section-title",children:"Subject Grades"}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Grade"}),a.jsx("th",{children:"Letter Grade"})]})}),a.jsx("tbody",{children:e.map((n,r)=>a.jsxs("tr",{children:[a.jsx("td",{children:n.subject}),a.jsxs("td",{children:[n.grade,"%"]}),a.jsx("td",{children:a.jsx(Se,{variant:"success",size:"sm",children:n.letter})})]},r))})]})}),a.jsx("h3",{className:"section-title",children:"Grade Distribution"}),a.jsx("div",{className:"charts-container",children:a.jsx("div",{className:"chart-card",children:a.jsx(Nt,{width:"100%",height:300,children:a.jsxs(Zn,{data:t,children:[a.jsx(rn,{strokeDasharray:"3 3"}),a.jsx(an,{dataKey:"subject"}),a.jsx(sn,{}),a.jsx(zt,{}),a.jsx(Wt,{}),a.jsx(Jt,{dataKey:"grade",fill:"#667eea"})]})})})})]})},gE=1,UY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(null),[l,o]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const S=await le.students.getAll();if(!S.data?.students){t([]);return}const C=S.data.students.find(I=>I.id===gE),O=(await le.exams.getAll()).data?.exams||[],w=[],z=C?.class||"",T=z.match(/Grade\s+(\d+)/)?.[1]?`Grade ${z.match(/Grade\s+(\d+)/)?.[1]}`:"",N=O.filter(I=>I.classes&&I.classes.length>0?I.classes.includes(z):I.grades&&I.grades.length>0?I.grades.some($=>{const B=$.match(/Grade\s+(\d+)/)?.[1],R=T.match(/Grade\s+(\d+)/)?.[1];return B===R}):!1).map(I=>{const $=w.find(q=>q.examId===I.id),B=$?.studentGrades.find(q=>q.studentId===gE);let R="Scheduled";return B?R="Graded":($&&$.studentGrades.length>0||I.status==="Completed")&&(R="Submitted"),{exam:I,status:R,studentGrade:B,examResult:$}});N.sort((I,$)=>{const B=new Date(I.exam.date).getTime();return new Date($.exam.date).getTime()-B}),t(N)}catch(S){console.error("Error loading papers:",S),t([])}})()},[]);const d=y=>{switch(y.toLowerCase()){case"scheduled":return"pending";case"submitted":return"info";case"graded":return"approved";default:return"pending"}},u=y=>{switch(y.toLowerCase()){case"scheduled":return a.jsx(Qe,{size:16});case"submitted":return a.jsx(Qe,{size:16});case"graded":return a.jsx(Rn,{size:16});default:return a.jsx(Qe,{size:16})}},[m,h]=v.useState([]);v.useEffect(()=>{(async()=>{try{const S=await le.teachers.getAll();S.data?.teachers&&Array.isArray(S.data.teachers)&&h(S.data.teachers)}catch(S){console.error("Error loading teachers:",S)}})()},[]);const p=y=>{if(y.gradeAssignments&&y.gradeAssignments.length>0){const S=y.gradeAssignments[0]?.teacherId;if(S){const E=m.find(C=>C.id===S);if(E)return E.name}return"Teacher"}return"Not Assigned"},g=y=>{r(y),o(!0)},b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Papers"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Class"}),a.jsx("th",{children:"Exam Date"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Conducted By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Marks Obtained"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No papers found. Papers will appear here when exams are assigned to your class."})}):e.map(y=>{const{exam:S,status:E,studentGrade:C}=y;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:S.name}),S.description&&a.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:S.description})]})}),a.jsx("td",{children:S.subject}),a.jsx("td",{children:S.grades.join(", ")}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),b(S.date)]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14,style:{color:"#666"}}),S.duration]})}),a.jsx("td",{children:a.jsx("strong",{children:S.totalMarks})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(ca,{size:14,style:{color:"#666"}}),p(S)]})}),a.jsx("td",{children:a.jsxs(Se,{variant:d(E),size:"sm",children:[u(E),E]})}),a.jsx("td",{children:C?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ar,{size:14,style:{color:"#22c55e"}}),a.jsxs("strong",{style:{color:"#22c55e"},children:[C.totalMarks," / ",S.totalMarks]}),a.jsx(Se,{variant:"success",size:"sm",children:C.grade})]}):a.jsx("span",{style:{color:"#999"},children:"-"})}),a.jsx("td",{children:a.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:a.jsx(Ye,{size:"sm",onClick:()=>g(y)})})})]},S.id)})})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Paper Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Exam Information",icon:lt,fields:[{label:"Title",value:n.exam.name},{label:"Subject",value:n.exam.subject},{label:"Date",value:b(n.exam.date),icon:We},{label:"Time",value:n.exam.time,icon:Qe},{label:"Duration",value:n.exam.duration},{label:"Total Marks",value:n.exam.totalMarks.toString()},...n.exam.passingMarks?[{label:"Passing Marks",value:n.exam.passingMarks.toString()}]:[],{label:"Status",value:n.status,renderAsBadge:{variant:d(n.status),size:"sm"}},...n.exam.description?[{label:"Description",value:n.exam.description,spanFull:!0}]:[]]},...n.studentGrade?[{title:"Your Results",icon:Ar,fields:[{label:"Total Marks",value:`${n.studentGrade.totalMarks} / ${n.exam.totalMarks}`},{label:"Percentage",value:`${n.studentGrade.percentage}%`},{label:"Grade",value:n.studentGrade.grade,renderAsBadge:{variant:"success",size:"sm"}},{label:"Status",value:n.studentGrade.status,renderAsBadge:{variant:n.studentGrade.status==="Passed"?"success":"danger",size:"sm"}},...n.studentGrade.remarks?[{label:"Remarks",value:n.studentGrade.remarks,spanFull:!0}]:[],...n.studentGrade.gradedAt?[{label:"Graded On",value:b(n.studentGrade.gradedAt),icon:We}]:[]]},...n.studentGrade.sectionGrades&&n.studentGrade.sectionGrades.length>0?[{title:"Section-wise Marks",icon:lt,fields:n.studentGrade.sectionGrades.map(y=>({label:y.sectionName,value:`${y.marksObtained} / ${y.maxMarks}`,spanFull:!0}))}]:[]]:[],...n.exam.sections&&n.exam.sections.length>0?[{title:"Exam Sections",icon:lt,fields:n.exam.sections.map(y=>({label:y.name,value:`${y.marks} marks${y.description?` - ${y.description}`:""}`,spanFull:!0}))}]:[]]})})]})},FY=1,GY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(null),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(""),[p,g]=v.useState(null),b=async()=>{try{const T=await le.students.getAll();if(T.data?.students){const N=T.data.students.find(q=>q.id===FY);if(g(N||null),!N)return;const $=[].filter(q=>q.class===N.class),B=[],R=$.map(q=>{const W=B.find(H=>H.assignmentId===q.id);let K="Pending";if(W)W.status==="Graded"?K="Graded":K=W.status==="Late"?"Overdue":"Submitted";else{const H=new Date(q.dueDate),D=new Date;D.setHours(0,0,0,0),H<D&&q.status==="Active"&&(K="Overdue")}return{assignment:q,status:K,submission:W}});R.sort((q,W)=>{const K=new Date(q.assignment.dueDate).getTime(),H=new Date(W.assignment.dueDate).getTime();return K-H}),t(R)}else t([])}catch(T){console.error("Error loading assignments:",T),t([])}};v.useEffect(()=>{b()},[]);const y=T=>{switch(T.toLowerCase()){case"pending":return"pending";case"submitted":return"info";case"graded":return"approved";case"overdue":return"rejected";default:return"pending"}},S=T=>{switch(T.toLowerCase()){case"pending":return a.jsx(Qe,{size:16});case"submitted":return a.jsx(Gu,{size:16});case"graded":return a.jsx(Rn,{size:16});case"overdue":return a.jsx(Qe,{size:16});default:return a.jsx(Qe,{size:16})}},E=async T=>{try{const M=await le.teachers.getAll();if(M.data?.teachers){const I=M.data.teachers.find($=>$.id===T.assignedBy);return I?I.name:"Teacher"}}catch(M){console.error("Error loading teachers:",M)}return"Teacher"},C=T=>{r(T),o(!0)},A=T=>{r(T),h(T.submission?.submissionText||""),u(!0)},O=()=>{if(!(!n||!p)){if(!m.trim()){alert("Please enter your answer before submitting.");return}alert("Assignment submitted successfully!"),u(!1),h(""),r(null),b()}},w=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=T=>{const M=new Date(T),N=new Date;N.setHours(0,0,0,0);const I=M.getTime()-N.getTime();return Math.ceil(I/(1e3*60*60*24))};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"My Assignments"})}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Title"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Assigned Date"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Days Remaining"}),a.jsx("th",{children:"Total Marks"}),a.jsx("th",{children:"Assigned By"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Marks Obtained"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No assignments found. Assignments will appear here when teachers assign work to your class."})}):e.map(T=>{const{assignment:M,status:N,submission:I}=T,$=z(M.dueDate),B=$<0&&N!=="Graded";return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:M.title}),M.description&&a.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:[M.description.substring(0,60),"..."]})]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Pt,{size:14,style:{color:"#666"}}),M.subject]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(We,{size:14,style:{color:"#666"}}),w(M.assignedDate)]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Qe,{size:14,style:{color:"#666"}}),w(M.dueDate)]})}),a.jsx("td",{children:B?a.jsxs(Se,{variant:"rejected",size:"sm",children:[Math.abs($)," days overdue"]}):$===0?a.jsx(Se,{variant:"pending",size:"sm",children:"Due today"}):a.jsxs("span",{style:{color:$<=3?"#f59e0b":"#666"},children:[$," days"]})}),a.jsx("td",{children:a.jsx("strong",{children:M.totalMarks||"N/A"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(ca,{size:14,style:{color:"#666"}}),E(M)]})}),a.jsx("td",{children:a.jsxs(Se,{variant:y(N),size:"sm",children:[S(N),N]})}),a.jsx("td",{children:I&&I.marksObtained!==void 0?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx(Ar,{size:14,style:{color:"#22c55e"}}),a.jsxs("strong",{style:{color:"#22c55e"},children:[I.marksObtained," / ",I.totalMarks||M.totalMarks||"N/A"]}),I.grade&&a.jsx(Se,{variant:"success",size:"sm",children:I.grade})]}):a.jsx("span",{style:{color:"#999"},children:"-"})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ye,{size:"sm",onClick:()=>C(T)}),(N==="Pending"||N==="Overdue"||N==="Submitted")&&a.jsxs(we,{variant:"primary",size:"sm",onClick:()=>A(T),style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem"},children:[a.jsx(XS,{size:12,style:{marginRight:"0.25rem"}}),N==="Submitted"?"Edit":"Submit"]})]})})]},M.id)})})]})}),a.jsx(et,{isOpen:l,onClose:()=>{o(!1),r(null)},title:"Assignment Details",size:"lg",children:n&&a.jsx(Qt,{sections:[{title:"Assignment Information",icon:lt,fields:[{label:"Title",value:n.assignment.title},{label:"Subject",value:n.assignment.subject,icon:Pt},{label:"Class",value:n.assignment.class},{label:"Assigned Date",value:w(n.assignment.assignedDate),icon:We},{label:"Due Date",value:w(n.assignment.dueDate),icon:Qe},{label:"Total Marks",value:(n.assignment.totalMarks||"N/A").toString()},{label:"Assigned By",value:E(n.assignment),icon:ca},{label:"Status",value:n.status,renderAsBadge:{variant:y(n.status),size:"sm"}},{label:"Description",value:n.assignment.description,spanFull:!0}]},...n.submission?[{title:"Your Submission",icon:Gu,fields:[{label:"Submitted On",value:w(n.submission.submittedAt),icon:We},{label:"Status",value:n.submission.status,renderAsBadge:{variant:y(n.submission.status),size:"sm"}},...n.submission.submissionText?[{label:"Submission Text",value:n.submission.submissionText,spanFull:!0}]:[],...n.submission.submittedFile?[{label:"Submitted File",value:n.submission.submittedFile,spanFull:!0}]:[]]},...n.submission.status==="Graded"?[{title:"Grading Results",icon:Ar,fields:[{label:"Marks Obtained",value:`${n.submission.marksObtained} / ${n.submission.totalMarks||n.assignment.totalMarks||"N/A"}`},...n.submission.grade?[{label:"Grade",value:n.submission.grade,renderAsBadge:{variant:"success",size:"sm"}}]:[],...n.submission.feedback?[{label:"Feedback",value:n.submission.feedback,spanFull:!0}]:[],...n.submission.gradedAt?[{label:"Graded On",value:w(n.submission.gradedAt),icon:We}]:[]]}]:[]]:[]]})}),a.jsx(et,{isOpen:d,onClose:()=>{u(!1),h(""),r(null)},title:n?`Submit Assignment: ${n.assignment.title}`:"Submit Assignment",size:"lg",children:n&&a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"0.5rem"},children:[a.jsx("h3",{style:{marginBottom:"0.5rem",fontSize:"1rem",fontWeight:600},children:"Assignment Details"}),a.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Subject:"})," ",n.assignment.subject]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Due Date:"})," ",w(n.assignment.dueDate)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Total Marks:"})," ",n.assignment.totalMarks||"N/A"]})]})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem"},children:"Assignment Question/Description:"}),a.jsx("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"0.5rem",border:"1px solid #e0e0e0",fontSize:"0.9rem",color:"#333",whiteSpace:"pre-wrap",minHeight:"60px"},children:n.assignment.description})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,fontSize:"0.9rem"},children:["Your Answer: ",a.jsx("span",{style:{color:"#e53e3e"},children:"*"})]}),a.jsx("textarea",{value:m,onChange:T=>h(T.target.value),placeholder:"Write your answer here...",style:{width:"100%",minHeight:"200px",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"0.5rem",fontSize:"0.9rem",fontFamily:"inherit",resize:"vertical"}}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:"0.25rem"},children:[m.length," characters"]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[a.jsx(we,{variant:"outline",size:"md",onClick:()=>{u(!1),h(""),r(null)},children:"Cancel"}),a.jsxs(we,{variant:"primary",size:"md",onClick:O,disabled:!m.trim(),children:[a.jsx(XS,{size:18,style:{marginRight:"0.5rem"}}),"Submit Assignment"]})]})]})})]})};v.createContext(void 0);const qY=()=>{const{colors:e,updateColor:t,resetTheme:n}=Aa(),[r,l]=v.useState(e),[o,d]=v.useState(!1);v.useEffect(()=>{l(e)},[e]);const u=($,B)=>{l(R=>({...R,[$]:B})),t($,B)},m=()=>{d(!0),setTimeout(()=>d(!1),2e3)},h=()=>{n(),l({primary:"#667eea",secondary:"#764ba2",accent:"#667eea",background:"#f5f5f5",surface:"#ffffff",text:"#333333",textSecondary:"#666666",border:"#e0e0e0",hover:"#5568d3",active:"#667eea",navbar:"#ffffff",sidebar:"#ffffff",button:"#667eea",buttonHover:"#5568d3",buttonActive:"#4a5bc4"})},p=[{title:"Primary Colors",colors:[{key:"primary",label:"Primary",description:"Main brand color"},{key:"secondary",label:"Secondary",description:"Secondary brand color"},{key:"accent",label:"Accent",description:"Accent color"}]},{title:"Background Colors",colors:[{key:"background",label:"Background",description:"Main background"},{key:"surface",label:"Surface",description:"Card/surface background"},{key:"navbar",label:"Navbar",description:"Top navbar background"},{key:"sidebar",label:"Sidebar",description:"Sidebar background"}]},{title:"Text Colors",colors:[{key:"text",label:"Text",description:"Primary text color"},{key:"textSecondary",label:"Text Secondary",description:"Secondary text color"}]},{title:"Button Colors",colors:[{key:"button",label:"Button",description:"Button background"},{key:"buttonHover",label:"Button Hover",description:"Button hover state"},{key:"buttonActive",label:"Button Active",description:"Button active state"}]},{title:"Interactive Colors",colors:[{key:"hover",label:"Hover",description:"Hover state color"},{key:"active",label:"Active",description:"Active state color"},{key:"border",label:"Border",description:"Border color"}]}],g={padding:"2rem",maxWidth:"1200px",margin:"0 auto"},b={display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem"},y={fontSize:"2rem",fontWeight:600,color:"#333",margin:0},S={display:"flex",gap:"1rem",marginBottom:"2rem"},E={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},C={fontSize:"1.25rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},A={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"},O={display:"flex",flexDirection:"column",gap:"0.5rem"},w={fontSize:"0.875rem",fontWeight:600,color:"#333"},z={fontSize:"0.75rem",color:"#666"},T={display:"flex",alignItems:"center",gap:"0.75rem"},M={width:"50px",height:"50px",borderRadius:"0.5rem",border:"2px solid #e0e0e0",cursor:"pointer"},N={flex:1,padding:"0.5rem",border:"2px solid #e0e0e0",borderRadius:"0.5rem",fontSize:"0.875rem"},I={padding:"0.75rem 1rem",background:"#48bb78",color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:600};return a.jsxs("div",{style:g,children:[a.jsxs("div",{style:b,children:[a.jsx($6,{size:32,style:{color:e.primary}}),a.jsx("h1",{style:y,children:"Theme Settings"})]}),o&&a.jsx("div",{style:I,children:"Theme saved successfully!"}),a.jsxs("div",{style:S,children:[a.jsxs(we,{variant:"primary",onClick:m,children:[a.jsx(Zt,{size:18,style:{marginRight:"0.5rem"}}),"Save Theme"]}),a.jsxs(we,{variant:"secondary",onClick:h,children:[a.jsx(q6,{size:18,style:{marginRight:"0.5rem"}}),"Reset to Default"]})]}),p.map($=>a.jsxs("div",{style:E,children:[a.jsx("h2",{style:C,children:$.title}),a.jsx("div",{style:A,children:$.colors.map(B=>a.jsxs("div",{style:O,children:[a.jsx("label",{style:w,children:B.label}),a.jsx("p",{style:z,children:B.description}),a.jsxs("div",{style:T,children:[a.jsx("div",{style:{...M,background:r[B.key]},onClick:()=>{document.getElementById(`color-${B.key}`)?.click()}}),a.jsx("input",{id:`color-${B.key}`,type:"color",value:r[B.key],onChange:R=>u(B.key,R.target.value),style:N}),a.jsx("input",{type:"text",value:r[B.key],onChange:R=>u(B.key,R.target.value),style:N,placeholder:"#667eea"})]})]},B.key))})]},$.title))]})},WY=()=>{const[e,t]=v.useState(!1),n=()=>{t(!0),setTimeout(()=>t(!1),2e3)},r={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},l={marginBottom:"2rem"},o={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},d={fontSize:"1rem",color:"#666",margin:0},u={marginBottom:"3rem"},m={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},h={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},p={marginBottom:"2rem"},g={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},b={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},y={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"};return a.jsxs("div",{style:r,children:[a.jsxs("div",{style:l,children:[a.jsx("h1",{style:o,children:"Button Component Examples"}),a.jsxs("p",{style:d,children:["Reusable Button component from ",a.jsx("code",{children:"components/Button"})," folder"]})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Button Variants"}),a.jsxs(ke,{variant:"custom",style:h,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Primary Button"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",children:[a.jsx(Zt,{size:18}),"Primary Button"]}),a.jsx(we,{variant:"primary",disabled:!0,children:"Primary Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="primary">
  <Save size={18} />
  Primary Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Secondary Button"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"secondary",children:[a.jsx(Uu,{size:18}),"Secondary Button"]}),a.jsx(we,{variant:"secondary",disabled:!0,children:"Secondary Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="secondary">
  <Edit size={18} />
  Secondary Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Danger Button"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"danger",children:[a.jsx(Fu,{size:18}),"Danger Button"]}),a.jsx(we,{variant:"danger",disabled:!0,children:"Danger Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="danger">
  <Trash2 size={18} />
  Danger Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Success Button"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"success",children:[a.jsx(Ka,{size:18}),"Success Button"]}),a.jsx(we,{variant:"success",disabled:!0,children:"Success Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="success">
  <Check size={18} />
  Success Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Outline Button"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"outline",children:[a.jsx(Oy,{size:18}),"Outline Button"]}),a.jsx(we,{variant:"outline",disabled:!0,children:"Outline Disabled"})]}),a.jsx("div",{style:y,children:`<Button variant="outline">
  <Download size={18} />
  Outline Button
</Button>`})]})]})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Button Sizes"}),a.jsxs(ke,{variant:"custom",style:h,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Small (sm)"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",size:"sm",children:[a.jsx(ia,{size:14}),"Small Button"]}),a.jsx(we,{variant:"secondary",size:"sm",children:"Small Secondary"}),a.jsx(we,{variant:"danger",size:"sm",children:"Small Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="sm">
  <Plus size={14} />
  Small Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Medium (md) - Default"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",size:"md",children:[a.jsx(Zt,{size:18}),"Medium Button"]}),a.jsx(we,{variant:"secondary",size:"md",children:"Medium Secondary"}),a.jsx(we,{variant:"danger",size:"md",children:"Medium Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="md">
  <Save size={18} />
  Medium Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Large (lg)"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",size:"lg",children:[a.jsx(Gu,{size:20}),"Large Button"]}),a.jsx(we,{variant:"secondary",size:"lg",children:"Large Secondary"}),a.jsx(we,{variant:"danger",size:"lg",children:"Large Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" size="lg">
  <Upload size={20} />
  Large Button
</Button>`})]})]})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Button States"}),a.jsxs(ke,{variant:"custom",style:h,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Loading State"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",isLoading:e,onClick:n,children:[a.jsx(Zt,{size:18}),e?"Loading...":"Click to Load"]}),a.jsx(we,{variant:"secondary",isLoading:e,children:"Secondary Loading"}),a.jsx(we,{variant:"danger",isLoading:e,children:"Danger Loading"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" isLoading={isLoading}>
  <Save size={18} />
  Loading Button
</Button>`})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Disabled State"}),a.jsxs("div",{style:b,children:[a.jsx(we,{variant:"primary",disabled:!0,children:"Disabled Primary"}),a.jsx(we,{variant:"secondary",disabled:!0,children:"Disabled Secondary"}),a.jsx(we,{variant:"danger",disabled:!0,children:"Disabled Danger"}),a.jsx(we,{variant:"success",disabled:!0,children:"Disabled Success"}),a.jsx(we,{variant:"outline",disabled:!0,children:"Disabled Outline"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" disabled>
  Disabled Button
</Button>`})]})]})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Full Width Buttons"}),a.jsx(ke,{variant:"custom",style:h,children:a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Full Width Button"}),a.jsxs("div",{style:{width:"100%",maxWidth:"600px"},children:[a.jsxs(we,{variant:"primary",fullWidth:!0,style:{marginBottom:"1rem"},children:[a.jsx(Zt,{size:18}),"Full Width Primary"]}),a.jsx(we,{variant:"secondary",fullWidth:!0,style:{marginBottom:"1rem"},children:"Full Width Secondary"}),a.jsx(we,{variant:"danger",fullWidth:!0,children:"Full Width Danger"})]}),a.jsx("div",{style:y,children:`<Button variant="primary" fullWidth>
  <Save size={18} />
  Full Width Button
</Button>`})]})})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Common Usage Examples"}),a.jsxs(ke,{variant:"custom",style:h,children:[a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Form Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",children:[a.jsx(Zt,{size:18}),"Save"]}),a.jsx(we,{variant:"secondary",children:"Cancel"}),a.jsx(we,{variant:"outline",children:"Reset"})]})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Table Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",size:"sm",children:[a.jsx(Uu,{size:14}),"Edit"]}),a.jsxs(we,{variant:"danger",size:"sm",children:[a.jsx(Fu,{size:14}),"Delete"]}),a.jsxs(we,{variant:"outline",size:"sm",children:[a.jsx(ya,{size:14}),"Cancel"]})]})]}),a.jsxs("div",{style:p,children:[a.jsx("div",{style:g,children:"Page Actions"}),a.jsxs("div",{style:b,children:[a.jsxs(we,{variant:"primary",size:"md",children:[a.jsx(ia,{size:18}),"Add New"]}),a.jsxs(we,{variant:"secondary",size:"md",children:[a.jsx(Oy,{size:18}),"Export"]}),a.jsxs(we,{variant:"outline",size:"md",children:[a.jsx(Gu,{size:18}),"Import"]})]})]})]})]}),a.jsxs("div",{style:u,children:[a.jsx("h2",{style:m,children:"Component Props"}),a.jsxs(ke,{variant:"custom",style:h,children:[a.jsx("div",{style:y,children:`interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  children: ReactNode;
  isLoading?: boolean;
  fullWidth?: boolean;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Button style variant (default: 'primary')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Button size (default: 'md')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"children:"})," Button content (text, icons, etc.)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"isLoading:"})," Shows loading spinner (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"fullWidth:"})," Makes button full width (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"disabled:"})," Disables the button (inherited from HTMLButtonElement)"]})]})]})]})]})]})},HY=()=>{const e={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},t={marginBottom:"2rem"},n={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},r={fontSize:"1rem",color:"#666",margin:0},l={marginBottom:"3rem"},o={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},d={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},u={marginBottom:"2rem"},m={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},h={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},p={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"};return a.jsxs("div",{style:e,children:[a.jsxs("div",{style:t,children:[a.jsx("h1",{style:n,children:"Badge Component Examples"}),a.jsxs("p",{style:r,children:["Reusable Badge component from ",a.jsx("code",{children:"components/Badge"})," folder"]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Status Badges"}),a.jsx(ke,{variant:"custom",style:d,children:a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Status Variants"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",children:"Pending"}),a.jsx(Se,{variant:"approved",children:"Approved"}),a.jsx(Se,{variant:"active",children:"Active"}),a.jsx(Se,{variant:"rejected",children:"Rejected"}),a.jsx(Se,{variant:"late",children:"Late"}),a.jsx(Se,{variant:"absent",children:"Absent"}),a.jsx(Se,{variant:"onLeave",children:"On Leave"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending">Pending</Badge>
<Badge variant="approved">Approved</Badge>
<Badge variant="active">Active</Badge>
<Badge variant="rejected">Rejected</Badge>
<Badge variant="late">Late</Badge>
<Badge variant="absent">Absent</Badge>
<Badge variant="onLeave">On Leave</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Standard Variants"}),a.jsx(ke,{variant:"custom",style:d,children:a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Basic Variants"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"primary",children:"Primary"}),a.jsx(Se,{variant:"secondary",children:"Secondary"}),a.jsx(Se,{variant:"success",children:"Success"}),a.jsx(Se,{variant:"danger",children:"Danger"}),a.jsx(Se,{variant:"warning",children:"Warning"}),a.jsx(Se,{variant:"info",children:"Info"})]}),a.jsx("div",{style:p,children:`<Badge variant="primary">Primary</Badge>
<Badge variant="secondary">Secondary</Badge>
<Badge variant="success">Success</Badge>
<Badge variant="danger">Danger</Badge>
<Badge variant="warning">Warning</Badge>
<Badge variant="info">Info</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Badge Sizes"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Small (sm)"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",size:"sm",children:"Pending"}),a.jsx(Se,{variant:"approved",size:"sm",children:"Approved"}),a.jsx(Se,{variant:"active",size:"sm",children:"Active"}),a.jsx(Se,{variant:"rejected",size:"sm",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="sm">Pending</Badge>
<Badge variant="approved" size="sm">Approved</Badge>
<Badge variant="active" size="sm">Active</Badge>
<Badge variant="rejected" size="sm">Rejected</Badge>`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Medium (md) - Default"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",size:"md",children:"Pending"}),a.jsx(Se,{variant:"approved",size:"md",children:"Approved"}),a.jsx(Se,{variant:"active",size:"md",children:"Active"}),a.jsx(Se,{variant:"rejected",size:"md",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="md">Pending</Badge>
<Badge variant="approved" size="md">Approved</Badge>
<Badge variant="active" size="md">Active</Badge>
<Badge variant="rejected" size="md">Rejected</Badge>`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Large (lg)"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",size:"lg",children:"Pending"}),a.jsx(Se,{variant:"approved",size:"lg",children:"Approved"}),a.jsx(Se,{variant:"active",size:"lg",children:"Active"}),a.jsx(Se,{variant:"rejected",size:"lg",children:"Rejected"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" size="lg">Pending</Badge>
<Badge variant="approved" size="lg">Approved</Badge>
<Badge variant="active" size="lg">Active</Badge>
<Badge variant="rejected" size="lg">Rejected</Badge>`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Rounded Badges"}),a.jsx(ke,{variant:"custom",style:d,children:a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Rounded Status Badges"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",rounded:!0,children:"Pending"}),a.jsx(Se,{variant:"approved",rounded:!0,children:"Approved"}),a.jsx(Se,{variant:"active",rounded:!0,children:"Active"}),a.jsx(Se,{variant:"rejected",rounded:!0,children:"Rejected"}),a.jsx(Se,{variant:"late",rounded:!0,children:"Late"}),a.jsx(Se,{variant:"absent",rounded:!0,children:"Absent"}),a.jsx(Se,{variant:"onLeave",rounded:!0,children:"On Leave"})]}),a.jsx("div",{style:p,children:`<Badge variant="pending" rounded>Pending</Badge>
<Badge variant="approved" rounded>Approved</Badge>
<Badge variant="active" rounded>Active</Badge>
<Badge variant="rejected" rounded>Rejected</Badge>
<Badge variant="late" rounded>Late</Badge>
<Badge variant="absent" rounded>Absent</Badge>
<Badge variant="onLeave" rounded>On Leave</Badge>`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Common Usage Examples"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Attendance Status"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"active",children:"Present"}),a.jsx(Se,{variant:"absent",children:"Absent"}),a.jsx(Se,{variant:"late",children:"Late"}),a.jsx(Se,{variant:"onLeave",children:"On Leave"})]})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Application Status"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"pending",children:"Pending"}),a.jsx(Se,{variant:"approved",children:"Approved"}),a.jsx(Se,{variant:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Record Status"}),a.jsxs("div",{style:h,children:[a.jsx(Se,{variant:"active",children:"Active"}),a.jsx(Se,{variant:"secondary",children:"Inactive"}),a.jsx(Se,{variant:"warning",children:"Pending Review"})]})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Component Props"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsx("div",{style:p,children:`interface BadgeProps {
  children: ReactNode;
  variant?: 'primary' | 'secondary' | 'success' | 'danger' | 'warning' | 'info' | 
           'pending' | 'approved' | 'active' | 'rejected' | 'late' | 'absent' | 'onLeave';
  size?: 'sm' | 'md' | 'lg';
  rounded?: boolean;
  className?: string;
  style?: CSSProperties;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Badge style variant (default: 'primary')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Badge size (default: 'md')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"rounded:"})," Makes badge fully rounded (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"children:"})," Badge content (text)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"className:"})," Additional CSS classes"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"style:"})," Inline styles"]})]})]})]})]})]})},KY=()=>{const e={padding:"2rem",maxWidth:"1400px",margin:"0 auto"},t={marginBottom:"2rem"},n={fontSize:"2rem",fontWeight:600,color:"#333",margin:0,marginBottom:"0.5rem"},r={fontSize:"1rem",color:"#666",margin:0},l={marginBottom:"3rem"},o={fontSize:"1.5rem",fontWeight:600,color:"#333",marginBottom:"1.5rem",paddingBottom:"0.75rem",borderBottom:"2px solid #e0e0e0"},d={background:"white",borderRadius:"1rem",padding:"1.5rem",marginBottom:"1.5rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},u={marginBottom:"2rem"},m={fontSize:"0.875rem",fontWeight:600,color:"#666",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.5px"},h={display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},p={background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",fontFamily:"monospace",fontSize:"0.875rem",color:"#333",marginTop:"1rem",overflowX:"auto"},g={display:"flex",flexWrap:"wrap",gap:"2rem",alignItems:"center",padding:"1rem",background:"#f9fafb",borderRadius:"0.5rem"},b={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"};return a.jsxs("div",{style:e,children:[a.jsxs("div",{style:t,children:[a.jsx("h1",{style:n,children:"Icon Button Component Examples"}),a.jsxs("p",{style:r,children:["Reusable Icon Button components from ",a.jsx("code",{children:"components/Button/iconbuttons"})," folder"]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Available Icons"}),a.jsx(ke,{variant:"custom",style:d,children:a.jsxs("div",{style:g,children:[a.jsxs("div",{style:b,children:[a.jsx(zD,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"ViewIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(PD,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"PrintIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(_D,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"EditIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(ID,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"DeleteIcon"})]}),a.jsxs("div",{style:b,children:[a.jsx(RD,{size:32}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#666"},children:"ApproveIcon"})]})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Buttons"}),a.jsx(ke,{variant:"custom",style:d,children:a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Basic Icon Buttons"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{onClick:()=>alert("View clicked")}),a.jsx(Hr,{onClick:()=>alert("Print clicked")}),a.jsx(Ot,{onClick:()=>alert("Edit clicked")}),a.jsx(Ft,{onClick:()=>alert("Delete clicked")}),a.jsx(qr,{onClick:()=>alert("Approve clicked")})]}),a.jsx("div",{style:p,children:`<ViewButton onClick={() => handleView()} />
<PrintButton onClick={() => handlePrint()} />
<EditButton onClick={() => handleEdit()} />
<DeleteButton onClick={() => handleDelete()} />
<ApproveButton onClick={() => handleApprove()} />`})]})})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button Sizes"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Small (sm)"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{size:"sm",onClick:()=>{}}),a.jsx(Hr,{size:"sm",onClick:()=>{}}),a.jsx(Ot,{size:"sm",onClick:()=>{}}),a.jsx(Ft,{size:"sm",onClick:()=>{}}),a.jsx(qr,{size:"sm",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="sm" onClick={handleClick} />
<EditButton size="sm" onClick={handleClick} />
<DeleteButton size="sm" onClick={handleClick} />`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Medium (md)"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{size:"md",onClick:()=>{}}),a.jsx(Hr,{size:"md",onClick:()=>{}}),a.jsx(Ot,{size:"md",onClick:()=>{}}),a.jsx(Ft,{size:"md",onClick:()=>{}}),a.jsx(qr,{size:"md",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="md" onClick={handleClick} />
<EditButton size="md" onClick={handleClick} />
<DeleteButton size="md" onClick={handleClick} />`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Large (lg)"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{size:"lg",onClick:()=>{}}),a.jsx(Hr,{size:"lg",onClick:()=>{}}),a.jsx(Ot,{size:"lg",onClick:()=>{}}),a.jsx(Ft,{size:"lg",onClick:()=>{}}),a.jsx(qr,{size:"lg",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton size="lg" onClick={handleClick} />
<EditButton size="lg" onClick={handleClick} />
<DeleteButton size="lg" onClick={handleClick} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button Variants"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"View Button Variants"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{variant:"primary",onClick:()=>{}}),a.jsx(Ye,{variant:"secondary",onClick:()=>{}}),a.jsx(Ye,{variant:"outline",onClick:()=>{}})]})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Edit Button Variants"}),a.jsxs("div",{style:h,children:[a.jsx(Ot,{variant:"primary",onClick:()=>{}}),a.jsx(Ot,{variant:"secondary",onClick:()=>{}}),a.jsx(Ot,{variant:"outline",onClick:()=>{}})]})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Delete Button Variants"}),a.jsxs("div",{style:h,children:[a.jsx(Ft,{variant:"danger",onClick:()=>{}}),a.jsx(Ft,{variant:"outline",onClick:()=>{}}),a.jsx(Ft,{variant:"secondary",onClick:()=>{}})]})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Approve Button Variants"}),a.jsxs("div",{style:h,children:[a.jsx(qr,{variant:"success",onClick:()=>{}}),a.jsx(qr,{variant:"primary",onClick:()=>{}}),a.jsx(qr,{variant:"outline",onClick:()=>{}})]})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Icon Button States"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Disabled State"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{disabled:!0,onClick:()=>{}}),a.jsx(Ot,{disabled:!0,onClick:()=>{}}),a.jsx(Ft,{disabled:!0,onClick:()=>{}}),a.jsx(qr,{disabled:!0,onClick:()=>{}}),a.jsx(Hr,{disabled:!0,onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton disabled onClick={handleClick} />
<EditButton disabled onClick={handleClick} />
<DeleteButton disabled onClick={handleClick} />`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Loading State"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{isLoading:!0,onClick:()=>{}}),a.jsx(Ot,{isLoading:!0,onClick:()=>{}}),a.jsx(Ft,{isLoading:!0,onClick:()=>{}}),a.jsx(qr,{isLoading:!0,onClick:()=>{}})]}),a.jsx("div",{style:p,children:`<ViewButton isLoading onClick={handleClick} />
<EditButton isLoading onClick={handleClick} />
<DeleteButton isLoading onClick={handleClick} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Common Usage Examples"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Table Row Actions"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{size:"sm",onClick:()=>{},title:"View Details"}),a.jsx(Ot,{size:"sm",onClick:()=>{},title:"Edit Record"}),a.jsx(Ft,{size:"sm",onClick:()=>{},title:"Delete Record"}),a.jsx(qr,{size:"sm",onClick:()=>{},title:"Approve"})]}),a.jsx("div",{style:p,children:`// In a table row
<ViewButton size="sm" onClick={() => viewRecord(id)} />
<EditButton size="sm" onClick={() => editRecord(id)} />
<DeleteButton size="sm" onClick={() => deleteRecord(id)} />
<ApproveButton size="sm" onClick={() => approveRecord(id)} />`})]}),a.jsxs("div",{style:u,children:[a.jsx("div",{style:m,children:"Card Actions"}),a.jsxs("div",{style:h,children:[a.jsx(Ye,{size:"md",onClick:()=>{}}),a.jsx(Hr,{size:"md",onClick:()=>{}}),a.jsx(Ot,{size:"md",onClick:()=>{}})]}),a.jsx("div",{style:p,children:`// In a card component
<ViewButton size="md" onClick={handleView} />
<PrintButton size="md" onClick={handlePrint} />
<EditButton size="md" onClick={handleEdit} />`})]})]})]}),a.jsxs("div",{style:l,children:[a.jsx("h2",{style:o,children:"Component Props"}),a.jsxs(ke,{variant:"custom",style:d,children:[a.jsx("div",{style:p,children:`interface IconButtonProps {
  onClick?: () => void;
  variant?: 'primary' | 'secondary' | 'danger' | 'success' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  isLoading?: boolean;
  title?: string;
}`}),a.jsxs("div",{style:{marginTop:"1.5rem"},children:[a.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:600,marginBottom:"1rem"},children:"Props Description:"}),a.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"onClick:"})," Click handler function"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"variant:"})," Button style variant (default varies by button type)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"size:"})," Button size (default: 'sm')"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"disabled:"})," Disables the button (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"isLoading:"})," Shows loading spinner (default: false)"]}),a.jsxs("li",{style:{marginBottom:"0.75rem",paddingLeft:"1.5rem",position:"relative"},children:[a.jsx("strong",{children:"title:"})," Tooltip text (default: button name)"]})]})]})]})]})]})},VY=()=>{const[e,t]=v.useState([]),[n,r]=v.useState([]),[l,o]=v.useState(!1),[d,u]=v.useState(!1),[m,h]=v.useState(!1),[p,g]=v.useState(null),[b,y]=v.useState(!1),[S,E]=v.useState([{name:"Slot 1",startTime:"",endTime:""}]);v.useEffect(()=>{C()},[]),v.useEffect(()=>{const k=e.filter(_=>_.type==="room");r(k)},[e]);const C=async()=>{y(!0);try{const k=await le.masterData.getAll({type:"room"});k.data?.masterData?t(k.data.masterData):t([])}catch(k){console.error("Error loading master data:",k),t([])}finally{y(!1)}},A=()=>{g({type:"room",code:"",name:"",data:{},status:"Active"}),E([{name:"Slot 1",startTime:"",endTime:""}]),o(!0)},O=k=>{if(g(k),k.data?.timeSlots&&Array.isArray(k.data.timeSlots)&&k.data.timeSlots.length>0){const _=k.data.timeSlots.map((F,Y)=>typeof F=="string"?{name:`Slot ${Y+1}`,startTime:"",endTime:""}:{name:F.name||`Slot ${Y+1}`,startTime:F.startTime||"",endTime:F.endTime||""});E(_.length>0?_:[{name:"Slot 1",startTime:"",endTime:""}])}else k.data?.startTime&&k.data?.endTime?E([{name:"Slot 1",startTime:k.data.startTime,endTime:k.data.endTime}]):E([{name:"Slot 1",startTime:"",endTime:""}]);u(!0)},w=k=>{g(k),h(!0)},z=async()=>{if(p)try{const k=p._id||p.id;if(!k){alert("Invalid entry ID");return}await le.masterData.delete(k),await C(),h(!1),g(null),alert("Entry deleted successfully!")}catch(k){console.error("Error deleting entry:",k),alert("Failed to delete entry. Please try again.")}},[T,M]=v.useState({});v.useEffect(()=>{d&&p?M(B()):l&&M({status:"Active"})},[d,l,p]);const N=(k,_)=>{M({...T,[k]:_})},I=async k=>{k&&k.preventDefault();try{const _=T;if(!_.code||!_.code.trim()){alert("Code is required");return}if(!_.name||!_.name.trim()){alert("Name is required");return}const F={};if(_.building&&_.building.trim()&&(F.building=_.building.trim()),_.floor&&_.floor.toString().trim()){const L=parseInt(_.floor);isNaN(L)||(F.floor=L)}if(_.capacity&&_.capacity.toString().trim()){const L=parseInt(_.capacity);isNaN(L)||(F.capacity=L)}const Y=S.map((L,te)=>({name:L.name||`Slot ${te+1}`,startTime:L.startTime,endTime:L.endTime})).filter(L=>L.startTime&&L.endTime);Y.length>0&&(F.timeSlots=Y,F.startTime=Y[0].startTime,F.endTime=Y[0].endTime);const U={type:"room",code:_.code.trim(),name:_.name.trim(),data:F,status:_.status||"Active"};if(d&&p){const L=p._id||p.id;if(!L){alert("Invalid entry ID");return}await le.masterData.update(L,U),alert("Entry updated successfully!")}else await le.masterData.create(U),alert("Entry created successfully!");await C(),o(!1),u(!1),g(null),E([{name:"Slot 1",startTime:"",endTime:""}])}catch(_){console.error("Error saving entry:",_);let F="Failed to save entry. Please try again.";_?.errorData?F=_.errorData.message||_.errorData.error||F:_?.message&&(F=_.message),alert(`Error: ${F}`)}},$=()=>[{name:"code",label:"Code *",type:"text",placeholder:"e.g., ROM01",required:!0},{name:"name",label:"Name *",type:"text",placeholder:"e.g., Room 101",required:!0},{name:"building",label:"Building",type:"text",placeholder:"e.g., Main Building"},{name:"floor",label:"Floor",type:"number",placeholder:"e.g., 1, 2, 3"},{name:"capacity",label:"Capacity",type:"number",placeholder:"e.g., 30"},{name:"status",label:"Status *",type:"select",options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}],defaultValue:"Active"}],B=()=>p?{code:p.code,name:p.name,status:p.status,building:p.data.building||"",floor:p.data.floor?.toString()||"",capacity:p.data.capacity?.toString()||""}:{},R=()=>{const k=S.length+1;E([...S,{name:`Slot ${k}`,startTime:"",endTime:""}])},q=k=>{if(S.length>1){const F=S.filter((Y,U)=>U!==k).map((Y,U)=>({...Y,name:`Slot ${U+1}`}));E(F)}},W=(k,_,F)=>{const Y=[...S];Y[k]={...Y[k],[_]:F},E(Y)},K=k=>{const _=S[k],F=_.endTime||"";let Y="";if(_.startTime&&_.endTime){const[X,Q]=_.startTime.split(":").map(Number),[ae,pe]=_.endTime.split(":").map(Number),ee=X*60+Q,ge=ae*60+pe-ee,[de,Ee]=F.split(":").map(Number),ye=de*60+Ee+ge,De=Math.floor(ye/60)%24,ze=ye%60;Y=`${String(De).padStart(2,"0")}:${String(ze).padStart(2,"0")}`}const L={name:`Slot ${k+2}`,startTime:F,endTime:Y},te=[...S];te.splice(k+1,0,L);const V=te.map((X,Q)=>({...X,name:`Slot ${Q+1}`}));E(V)},H=k=>{if(!k)return"";const[_,F]=k.split(":"),Y=parseInt(_),U=Y>=12?"pm":"am";return`${Y===0?12:Y>12?Y-12:Y}:${F||"00"}${U}`},D=()=>[{key:"code",header:"Code",render:k=>a.jsx("span",{style:{fontWeight:600,color:"#667eea"},children:k})},{key:"name",header:"Name"},{key:"building",header:"Building",render:(k,_)=>_.data?.building||"N/A"},{key:"floor",header:"Floor",render:(k,_)=>_.data?.floor||"N/A"},{key:"capacity",header:"Capacity",render:(k,_)=>_.data?.capacity||"N/A"},{key:"timeSlot",header:"Time Slot",render:(k,_)=>a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:(()=>{if(_.data?.timeSlots&&Array.isArray(_.data.timeSlots)&&_.data.timeSlots.length>0){const U=_.data.timeSlots.filter(L=>L.startTime&&L.endTime);if(U.length>0)return U.map((L,te)=>{const V=H(L.startTime),X=H(L.endTime);return a.jsxs("span",{style:{fontSize:"0.8rem",color:"#666",fontWeight:500},children:[V,"-",X]},te)})}const F=_.data?.startTime,Y=_.data?.endTime;return F&&Y?a.jsxs("span",{style:{fontSize:"0.8rem",color:"#666",fontWeight:500},children:[H(F),"-",H(Y)]}):a.jsx("span",{style:{fontSize:"0.8rem",color:"#999",fontStyle:"italic"},children:"N/A"})})()})},{key:"status",header:"Status",render:k=>a.jsx(Se,{variant:k==="Active"?"success":"secondary",size:"sm",children:k})},{key:"actions",header:"Actions",render:(k,_)=>a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsx(Ot,{size:"sm",onClick:()=>O(_)}),a.jsx(Ft,{size:"sm",onClick:()=>w(_)})]})}];return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Master Data Management"}),a.jsx(co,{size:"md",onClick:A,title:"Add New Room"})]}),b?a.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#666"},children:"Loading..."}):a.jsx(ta,{columns:D(),data:n.slice(0,10),emptyMessage:"No rooms found"}),a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:l||d?"flex":"none",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},onClick:()=>{o(!1),u(!1),g(null),E([{name:"Slot 1",startTime:"",endTime:""}])},children:a.jsxs("div",{style:{background:"white",borderRadius:"1rem",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)",maxHeight:"90vh",overflow:"auto",display:"flex",flexDirection:"column",width:"100%",maxWidth:"700px"},onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e0e0e0"},children:[a.jsxs("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:600,color:"#333"},children:[d?"Edit":"Add"," Room"]}),a.jsx("button",{type:"button",onClick:()=>{o(!1),u(!1),g(null),E([{name:"Slot 1",startTime:"",endTime:""}])},style:{background:"none",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(ya,{size:20})})]}),a.jsx("div",{style:{padding:"1.5rem"},children:a.jsx("form",{onSubmit:I,children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:(()=>{const k=$(),_=[];let F=[];return k.forEach(Y=>{F.push(Y),F.length===3&&(_.push([...F]),F=[])}),F.length>0&&_.push(F),_.map((Y,U)=>a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${Y.length}, 1fr)`,gap:"1rem"},children:Y.map(L=>a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[a.jsx("label",{style:{fontWeight:500,fontSize:"0.85rem"},children:L.label}),L.type==="select"?a.jsxs("select",{value:T[L.name]||L.defaultValue||"",onChange:te=>N(L.name,te.target.value),required:L.required,style:{padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"},children:[a.jsx("option",{value:"",children:L.placeholder||`Select ${L.label}`}),L.options?.map(te=>a.jsx("option",{value:te.value,children:te.label},te.value))]}):a.jsx("input",{type:L.type,value:T[L.name]||"",onChange:te=>N(L.name,te.target.value),placeholder:L.placeholder,required:L.required,min:L.min,style:{padding:"0.625rem 0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.9rem"}})]},L.name))},U))})()}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"1rem",fontWeight:600,marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e2e8f0"},children:"Time Slots"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(()=>{const k=[];for(let _=0;_<S.length;_+=2)k.push(S.slice(_,_+2));return k.map((_,F)=>a.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:_.map((Y,U)=>{const L=F*2+U;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"0.75rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",background:"#f7fafc"},children:[a.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#667eea",marginBottom:"0.25rem"},children:Y.name||`Slot ${L+1}`}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto auto",gap:"0.5rem",alignItems:"flex-end"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:500,fontSize:"0.75rem"},children:"Start Time"}),a.jsx("input",{type:"time",value:Y.startTime,onChange:te=>W(L,"startTime",te.target.value),style:{width:"100%",padding:"0.4rem 0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.8rem"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:500,fontSize:"0.75rem"},children:"End Time"}),a.jsx("input",{type:"time",value:Y.endTime,onChange:te=>W(L,"endTime",te.target.value),style:{width:"100%",padding:"0.4rem 0.5rem",border:"2px solid #e2e8f0",borderRadius:"0.5rem",fontSize:"0.8rem"}})]}),a.jsx("button",{type:"button",onClick:()=>K(L),style:{padding:"0.4rem",background:"#e0e7ff",color:"#667eea",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Copy this time slot",children:a.jsx($E,{size:14})}),a.jsx("button",{type:"button",onClick:()=>q(L),disabled:S.length===1,style:{padding:"0.4rem",background:S.length===1?"#e2e8f0":"#fed7d7",color:S.length===1?"#9ca3af":"#c53030",border:"none",borderRadius:"0.5rem",cursor:S.length===1?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:S.length===1?"At least one time slot is required":"Remove time slot",children:a.jsx(ya,{size:14})})]})]},L)})},F))})(),a.jsxs("button",{type:"button",onClick:R,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.75rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:[a.jsx(ia,{size:16}),"Add Slot"]})]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[a.jsx("button",{type:"button",onClick:()=>{o(!1),u(!1),g(null),E([{name:"Slot 1",startTime:"",endTime:""}])},style:{padding:"0.625rem 1.25rem",background:"#e2e8f0",color:"#374151",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{type:"submit",style:{padding:"0.625rem 1.25rem",background:"#667eea",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:d?"Update":"Create"})]})]})})})]})}),a.jsx(et,{isOpen:m,onClose:()=>{h(!1),g(null)},title:"Confirm Delete",size:"sm",children:a.jsxs("div",{style:{padding:"1rem 0"},children:[a.jsxs("p",{style:{marginBottom:"1.5rem",color:"#666"},children:["Are you sure you want to delete ",a.jsx("strong",{children:p?.name}),"? This action cannot be undone."]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[a.jsx("button",{onClick:()=>{h(!1),g(null)},style:{padding:"0.5rem 1rem",background:"#e5e7eb",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Cancel"}),a.jsx("button",{onClick:z,style:{padding:"0.5rem 1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:500},children:"Delete"})]})]})})]})};function YY(){return a.jsx(Mz,{children:a.jsxs(lz,{children:[a.jsx(Me,{path:"/",element:a.jsx(bP,{})}),a.jsx(Me,{path:"/register",element:a.jsx(jP,{})}),a.jsxs(Me,{path:"/dashboard/:role",element:a.jsx(HV,{}),children:[a.jsx(Me,{index:!0,element:a.jsx("div",{})}),a.jsx(Me,{path:"teachers",element:a.jsx(QV,{})}),a.jsx(Me,{path:"teachers/add",element:a.jsx(rE,{})}),a.jsx(Me,{path:"teachers/edit/:id",element:a.jsx(rE,{})}),a.jsx(Me,{path:"teachers/performance",element:a.jsx(JV,{})}),a.jsx(Me,{path:"teachers/:id",element:a.jsx(ZV,{})}),a.jsx(Me,{path:"students",element:a.jsx(eY,{})}),a.jsx(Me,{path:"students/add",element:a.jsx(aE,{})}),a.jsx(Me,{path:"students/edit/:id",element:a.jsx(aE,{})}),a.jsx(Me,{path:"students/records",element:a.jsx(nY,{})}),a.jsx(Me,{path:"students/assignments",element:a.jsx(rY,{})}),a.jsx(Me,{path:"students/tests",element:a.jsx(aY,{})}),a.jsx(Me,{path:"students/quizzes",element:a.jsx(iY,{})}),a.jsx(Me,{path:"students/:id",element:a.jsx(tY,{})}),a.jsx(Me,{path:"classes",element:a.jsx(sY,{})}),a.jsx(Me,{path:"classes/add",element:a.jsx(iE,{})}),a.jsx(Me,{path:"classes/edit/:id",element:a.jsx(iE,{})}),a.jsx(Me,{path:"subjects",element:a.jsx(oY,{})}),a.jsx(Me,{path:"subjects/add",element:a.jsx(sE,{})}),a.jsx(Me,{path:"subjects/edit/:id",element:a.jsx(sE,{})}),a.jsx(Me,{path:"subjects/:id",element:a.jsx(dY,{})}),a.jsx(Me,{path:"attendance/mark",element:a.jsx(uY,{})}),a.jsx(Me,{path:"attendance/view",element:a.jsx(fY,{})}),a.jsx(Me,{path:"attendance/reports",element:a.jsx(mY,{})}),a.jsx(Me,{path:"attendance/daily",element:a.jsx(hY,{})}),a.jsx(Me,{path:"exams",element:a.jsx(pY,{})}),a.jsx(Me,{path:"exams/create",element:a.jsx(lE,{})}),a.jsx(Me,{path:"exams/edit/:id",element:a.jsx(lE,{})}),a.jsx(Me,{path:"exams/grade/:id",element:a.jsx(oE,{})}),a.jsx(Me,{path:"exams/results",element:a.jsx(gY,{})}),a.jsx(Me,{path:"exams/results/:id",element:a.jsx(yY,{})}),a.jsx(Me,{path:"exams/admit-cards",element:a.jsx(vY,{})}),a.jsx(Me,{path:"accounts",element:a.jsx(dE,{})}),a.jsx(Me,{path:"accounts/fee-management",element:a.jsx(bY,{})}),a.jsx(Me,{path:"accounts/fees",element:a.jsx(fE,{})}),a.jsx(Me,{path:"accounts/payroll",element:a.jsx(mE,{})}),a.jsx(Me,{path:"accounts/expenses",element:a.jsx(hE,{})}),a.jsx(Me,{path:"accounts/reports",element:a.jsx(pE,{})}),a.jsx(Me,{path:"accounts/transactions",element:a.jsx(uE,{})}),a.jsx(Me,{path:"admissions",element:a.jsx(jY,{})}),a.jsx(Me,{path:"admissions/new",element:a.jsx(SY,{})}),a.jsx(Me,{path:"admissions/reports",element:a.jsx(AY,{})}),a.jsx(Me,{path:"reports",element:a.jsx(wY,{})}),a.jsx(Me,{path:"reports/academic",element:a.jsx(EY,{})}),a.jsx(Me,{path:"reports/attendance",element:a.jsx(CY,{})}),a.jsx(Me,{path:"users",element:a.jsx(TY,{})}),a.jsx(Me,{path:"users/add",element:a.jsx(OY,{})}),a.jsx(Me,{path:"users/activity",element:a.jsx($D,{})}),a.jsx(Me,{path:"branches",element:a.jsx(kY,{})}),a.jsx(Me,{path:"branches/add",element:a.jsx(DY,{})}),a.jsx(Me,{path:"branches/settings",element:a.jsx(MY,{})}),a.jsx(Me,{path:"branches/transfer",element:a.jsx(NY,{})}),a.jsx(Me,{path:"branches/reports",element:a.jsx(zY,{})}),a.jsx(Me,{path:"students",element:a.jsx(PY,{})}),a.jsx(Me,{path:"attendance",element:a.jsx(_Y,{})}),a.jsx(Me,{path:"assignments",element:a.jsx(IY,{})}),a.jsx(Me,{path:"exams",element:a.jsx(RY,{})}),a.jsx(Me,{path:"exams/grade/:id",element:a.jsx(oE,{})}),a.jsx(Me,{path:"timetable",element:a.jsx(BY,{})}),a.jsx(Me,{path:"my-courses",element:a.jsx($Y,{})}),a.jsx(Me,{path:"assignments",element:a.jsx(GY,{})}),a.jsx(Me,{path:"papers",element:a.jsx(UY,{})}),a.jsx(Me,{path:"my-grades",element:a.jsx(LY,{})}),a.jsx(Me,{path:"accounts",element:a.jsx(dE,{})}),a.jsx(Me,{path:"accounts/fees",element:a.jsx(fE,{})}),a.jsx(Me,{path:"accounts/payroll",element:a.jsx(mE,{})}),a.jsx(Me,{path:"accounts/expenses",element:a.jsx(hE,{})}),a.jsx(Me,{path:"accounts/reports",element:a.jsx(pE,{})}),a.jsx(Me,{path:"accounts/transactions",element:a.jsx(uE,{})}),a.jsx(Me,{path:"settings/theme",element:a.jsx(qY,{})}),a.jsx(Me,{path:"settings/master-data",element:a.jsx(VY,{})}),a.jsx(Me,{path:"settings/buttons",element:a.jsx(WY,{})}),a.jsx(Me,{path:"settings/badges",element:a.jsx(HY,{})}),a.jsx(Me,{path:"settings/icon-buttons",element:a.jsx(KY,{})})]}),a.jsx(Me,{path:"/teachers",element:a.jsx(xs,{to:"/dashboard/admin/teachers",replace:!0})}),a.jsx(Me,{path:"/students",element:a.jsx(xs,{to:"/dashboard/admin/students",replace:!0})}),a.jsx(Me,{path:"/attendance",element:a.jsx(xs,{to:"/dashboard/admin/attendance/mark",replace:!0})}),a.jsx(Me,{path:"/exams",element:a.jsx(xs,{to:"/dashboard/admin/exams",replace:!0})}),a.jsx(Me,{path:"/accounts",element:a.jsx(xs,{to:"/dashboard/admin/accounts",replace:!0})}),a.jsx(Me,{path:"/admissions",element:a.jsx(xs,{to:"/dashboard/admin/admissions",replace:!0})}),a.jsx(Me,{path:"*",element:a.jsx(xs,{to:"/",replace:!0})})]})})}cN.createRoot(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(dN,{children:a.jsx(hN,{children:a.jsx(YY,{})})})}));
